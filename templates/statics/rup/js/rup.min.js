function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tableToGrid(e,t){jQuery(e).each(function(){if(!this.grid){jQuery(this).width("99%");var e=jQuery(this).width(),i=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),r=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),n=i.length>0,a=!n&&r.length>0,s=n||a,o=[],l=[];jQuery("th",jQuery(this)).each(function(){0===o.length&&s?(o.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),l.push("__selection__")):(o.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),l.push(jQuery(this).html()))});var d=[],u=[],c=[];jQuery("tbody > tr",jQuery(this)).each(function(){var e={},t=0;jQuery("td",jQuery(this)).each(function(){if(0===t&&s){var i=jQuery("input",jQuery(this)),r=i.attr("value");u.push(r||d.length),i.is(":checked")&&c.push(r),e[o[t].name]=i.attr("value")}else e[o[t].name]=jQuery(this).html();t++}),t>0&&d.push(e)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:e,colNames:l,colModel:o,multiselect:n},t||{}));var h;for(h=0;h<d.length;h++){var p=null;u.length>0&&(p=u[h],p&&p.replace&&(p=encodeURIComponent(p).replace(/[.\-%]/g,"_"))),null===p&&(p=h+1),jQuery(this).jqGrid("addRowData",p,d[h])}for(h=0;h<c.length;h++)jQuery(this).jqGrid("setSelection",c[h])}})}function recogeObjetoArray(){var e=[],t=[];return $(".grid-stack-item").each(function(t,i){var r={};r.posicion=t,r.x=$(this).attr("data-gs-x"),r.y=$(this).attr("data-gs-y"),r.width=$(this).attr("data-gs-width"),r.height=0==$(this).attr("data-gs-height")?1:$(this).attr("data-gs-height"),e.push(r)}),t=e.sort(function(e,t){return Number(e.y)==Number(t.y)&&Number(e.x)>Number(t.x)||Number(e.y)>Number(t.y)?1:Number(e.y)==Number(t.y)&&Number(e.x)>Number(t.x)||Number(e.y)>Number(t.y)?0:-1})}function ocupaEspacio(e){if(null!==e&&e.length>2)for(var t=0;t<e.length;t++)e[t]=ocupaPrevios(e,t);return e}function ocupaPrevios(e,t){for(var i=e[t],r=0,n=!1,a=0;a<t;a++){var s=e[a],o=0==Number(s.height)?1:Number(s.height);Number(i.y)==Number(s.y)?(Number(i.x)==Number(s.x)||Number(i.x)>Number(s.x)&&Number(i.x)<=Number(s.x)+Number(s.width))&&(i.y=Number(s.y)+o+1,i.x=0):Number(i.y)==Number(s.y)+o+1?(Number(i.x)==s.x||i.x>s.x&&i.x<=Number(s.x)+Number(s.width))&&(n=!0,r<Number(s.y)+o?(i.y=Number(s.y)+o,r=Number(s.y)+o):i.y=r,i.x=0):Number(i.y)<Number(s.y)+o&&(n=!0,r<Number(s.y)+o?(i.y=Number(s.y)+o,r=Number(s.y)+o):i.y=r,i.x=0),(Number(i.x)==Number(s.x)||Number(i.x)>Number(s.x)&&Number(i.x)<=Number(s.x)+Number(s.width))&&r<Number(s.y)+o&&(r=Number(s.y)+o)}return(!n||r<i.y)&&(i.y=r),i}function ordenarPaneles(){var e=recogeObjetoArray();volcarObjetoArray(ocupaEspacio(e))}function tapaAlgunOtro(e,t,i){for(var r=0;r<e.length;r++){if(t!==r){var n=e[r];Number(i.y)<=Number(n.y)&&Number(i.y)+Number(i.height)>=Number(n.y)&&(n.y=Number(i.y)+Number(i.height)+1,e[r]=n)}if(r==e-1)return e}}function volcarObjetoArray(e){var t=Number(e[e.length-1].y)+Number(e[e.length-1].height),i=Number(95*t);$(".grid-stack-item").each(function(r,n){var a=$(this),s=e.filter(function(e){if(e.posicion==r)return e});a.removeAttr("style"),a.attr("data-gs-x",s[0].x),a.attr("data-gs-y",s[0].y),a.attr("data-gs-width",s[0].width),a.attr("data-gs-height",s[0].height),$($("#gridStack").data("gridstack").grid.nodes).each(function(e,n){$(".widget",$(this)[0].el).attr("id")===$(".widget",a).attr("id")&&($("#gridStack").data("gridstack").grid.nodes[e].x=s[0].x,$("#gridStack").data("gridstack").grid.nodes[e].y=s[0].y,$("#gridStack").data("gridstack").grid.nodes[e].width=s[0].width,$("#gridStack").data("gridstack").grid.nodes[e].height=s[0].height,$("#gridStack").data("gridstack").grid.nodes[e].el=a,$("#gridStack").data("gridstack").update(a,s[0].x,s[0].y,s[0].width,s[0].height)),$("#gridStack").data("gridstack").grid.nodes.length==e+1&&$(".grid-stack-item").length==r+1&&($("#gridStack").data("gridstack")._update_styles(t),setTimeout(function(){$("#gridStack").data("gridstack")._update_container_height();var e=$("#gridStack").data("gridstack").grid.get_dirty_nodes();$("#gridStack").data("gridstack").container.trigger("change",[e]),$("#gridStack").attr("style","height:"+i+"px")},100))})})}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=pe.type(e);return"function"!==i&&!pe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,i){if(pe.isFunction(t))return pe.grep(e,function(e,r){return!!t.call(e,r,e)!==i});if(t.nodeType)return pe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ke.test(t))return pe.filter(t,e,i);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==i})}function n(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t={};return pe.each(e.match(Ie)||[],function(e,i){t[i]=!0}),t}function s(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o)):(re.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(s(),pe.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var r="data-"+t.replace($e,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Ee.test(i)?pe.parseJSON(i):i)}catch(n){}pe.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,i,r){if(Me(e)){var n,a,s=pe.expando,o=e.nodeType,l=o?pe.cache:e,d=o?e[s]:e[s]&&s;if(d&&l[d]&&(r||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=o?e[s]=ie.pop()||pe.guid++:s),l[d]||(l[d]=o?{}:{toJSON:pe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?l[d]=pe.extend(l[d],t):l[d].data=pe.extend(l[d].data,t)),a=l[d],r||(a.data||(a.data={}),a=a.data),void 0!==i&&(a[pe.camelCase(t)]=i),"string"==typeof t?(n=a[t],null==n&&(n=a[pe.camelCase(t)])):n=a,n}}function c(e,t,i){if(Me(e)){var r,n,a=e.nodeType,s=a?pe.cache:e,o=a?e[pe.expando]:pe.expando;if(s[o]){if(t&&(r=i?s[o]:s[o].data)){pe.isArray(t)?t=t.concat(pe.map(t,pe.camelCase)):t in r?t=[t]:(t=pe.camelCase(t),t=t in r?[t]:t.split(" ")),n=t.length;for(;n--;)delete r[t[n]];if(i?!d(r):!pe.isEmptyObject(r))return}(i||(delete s[o].data,d(s[o])))&&(a?pe.cleanData([e],!0):ce.deleteExpando||s!=s.window?delete s[o]:s[o]=void 0)}}}function h(e,t,i,r){var n,a=1,s=20,o=r?function(){return r.cur()}:function(){return pe.css(e,t,"")},l=o(),d=i&&i[3]||(pe.cssNumber[t]?"":"px"),u=(pe.cssNumber[t]||"px"!==d&&+l)&&Oe.exec(pe.css(e,t));if(u&&u[3]!==d){d=d||u[3],i=i||[],u=+l||1;do a=a||".5",u/=a,pe.style(e,t,u+d);while(a!==(a=o()/l)&&1!==a&&--s)}return i&&(u=+u||+l||0,n=i[1]?u+(i[1]+1)*i[2]:+i[2],r&&(r.unit=d,r.start=u,r.end=n)),n}function p(e){var t=Be.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){var i,r,n=0,a="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[n]);n++)!t||pe.nodeName(r,t)?a.push(r):pe.merge(a,f(r,t));return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],a):a}function g(e,t){for(var i,r=0;null!=(i=e[r]);r++)pe._data(i,"globalEval",!t||pe._data(t[r],"globalEval"))}function m(e){Le.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,i,r,n){for(var a,s,o,l,d,u,c,h=e.length,v=p(t),b=[],_=0;_<h;_++)if(s=e[_],s||0===s)if("object"===pe.type(s))pe.merge(b,s.nodeType?[s]:s);else if(We.test(s)){for(l=l||v.appendChild(t.createElement("div")),d=(ze.exec(s)||["",""])[1].toLowerCase(),c=Qe[d]||Qe._default,l.innerHTML=c[1]+pe.htmlPrefilter(s)+c[2],a=c[0];a--;)l=l.lastChild;if(!ce.leadingWhitespace&&Ge.test(s)&&b.push(t.createTextNode(Ge.exec(s)[0])),!ce.tbody)for(s="table"!==d||Ue.test(s)?"<table>"!==c[1]||Ue.test(s)?0:l:l.firstChild,a=s&&s.childNodes.length;a--;)pe.nodeName(u=s.childNodes[a],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(pe.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(t.createTextNode(s));for(l&&v.removeChild(l),ce.appendChecked||pe.grep(f(b,"input"),m),_=0;s=b[_++];)if(r&&pe.inArray(s,r)>-1)n&&n.push(s);else if(o=pe.contains(s.ownerDocument,s),l=f(v.appendChild(s),"script"),o&&g(l),i)for(a=0;s=l[a++];)He.test(s.type||"")&&i.push(s);return l=null,v}function b(){return!0}function _(){return!1}function y(){try{return re.activeElement}catch(e){}}function x(e,t,i,r,n,a){var s,o;if("object"==typeof t){"string"!=typeof i&&(r=r||i,i=void 0);for(o in t)x(e,o,i,r,t[o],a);return e}if(null==r&&null==n?(n=i,r=i=void 0):null==n&&("string"==typeof i?(n=r,r=void 0):(n=r,r=i,i=void 0)),n===!1)n=_;else if(!n)return e;return 1===a&&(s=n,n=function(e){return pe().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,n,r,i)})}function w(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function k(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function j(e){var t=nt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&pe.hasData(e)){var i,r,n,a=pe._data(e),s=pe._data(t,a),o=a.events;if(o){delete s.handle,s.events={};for(i in o)for(r=0,n=o[i].length;r<n;r++)pe.event.add(t,i,o[i][r])}s.data&&(s.data=pe.extend({},s.data))}}function D(e,t){var i,r,n;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ce.noCloneEvent&&t[pe.expando]){n=pe._data(t);for(r in n.events)pe.removeEvent(t,r,n.handle);t.removeAttribute(pe.expando)}"script"===i&&t.text!==e.text?(k(t).text=e.text,j(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Le.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function S(e,t,i,r){t=ae.apply([],t);var n,a,s,o,l,d,u=0,c=e.length,h=c-1,p=t[0],g=pe.isFunction(p);if(g||c>1&&"string"==typeof p&&!ce.checkClone&&rt.test(p))return e.each(function(n){var a=e.eq(n);g&&(t[0]=p.call(this,n,a.html())),S(a,t,i,r)});if(c&&(d=v(t,e[0].ownerDocument,!1,e,r),n=d.firstChild,1===d.childNodes.length&&(d=n),n||r)){for(o=pe.map(f(d,"script"),k),s=o.length;u<c;u++)a=d,u!==h&&(a=pe.clone(a,!0,!0),s&&pe.merge(o,f(a,"script"))),i.call(e[u],a,u);if(s)for(l=o[o.length-1].ownerDocument,pe.map(o,j),u=0;u<s;u++)a=o[u],He.test(a.type||"")&&!pe._data(a,"globalEval")&&pe.contains(l,a)&&(a.src?pe._evalUrl&&pe._evalUrl(a.src):pe.globalEval((a.text||a.textContent||a.innerHTML||"").replace(at,"")));d=n=null}return e}function T(e,t,i){for(var r,n=t?pe.filter(t,e):e,a=0;null!=(r=n[a]);a++)i||1!==r.nodeType||pe.cleanData(f(r)),r.parentNode&&(i&&pe.contains(r.ownerDocument,r)&&g(f(r,"script")),r.parentNode.removeChild(r));return e}function I(e,t){var i=pe(t.createElement(e)).appendTo(t.body),r=pe.css(i[0],"display");return i.detach(),r}function P(e){var t=re,i=dt[e];return i||(i=I(e,t),"none"!==i&&i||(lt=(lt||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(lt[0].contentWindow||lt[0].contentDocument).document,t.write(),t.close(),i=I(e,t),lt.detach()),dt[e]=i),i}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in jt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=kt.length;i--;)if(e=kt[i]+t,e in jt)return e}function E(e,t){for(var i,r,n,a=[],s=0,o=e.length;s<o;s++)r=e[s],r.style&&(a[s]=pe._data(r,"olddisplay"),i=r.style.display,t?(a[s]||"none"!==i||(r.style.display=""),""===r.style.display&&Re(r)&&(a[s]=pe._data(r,"olddisplay",P(r.nodeName)))):(n=Re(r),(i&&"none"!==i||!n)&&pe._data(r,"olddisplay",n?i:pe.css(r,"display"))));for(s=0;s<o;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[s]||"":"none"));return e}function $(e,t,i){var r=yt.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function F(e,t,i,r,n){for(var a=i===(r?"border":"content")?4:"width"===t?1:0,s=0;a<4;a+=2)"margin"===i&&(s+=pe.css(e,i+qe[a],!0,n)),r?("content"===i&&(s-=pe.css(e,"padding"+qe[a],!0,n)),"margin"!==i&&(s-=pe.css(e,"border"+qe[a]+"Width",!0,n))):(s+=pe.css(e,"padding"+qe[a],!0,n),"padding"!==i&&(s+=pe.css(e,"border"+qe[a]+"Width",!0,n)));return s}function O(e,t,i){var r=!0,n="width"===t?e.offsetWidth:e.offsetHeight,a=ft(e),s=ce.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,a);if(n<=0||null==n){if(n=gt(e,t,a),(n<0||null==n)&&(n=e.style[t]),ct.test(n))return n;r=s&&(ce.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+F(e,t,i||(s?"border":"content"),r,a)+"px"}function q(e,t,i,r,n){return new q.prototype.init(e,t,i,r,n)}function R(){return e.setTimeout(function(){Ct=void 0}),Ct=pe.now()}function N(e,t){var i,r={height:e},n=0;for(t=t?1:0;n<4;n+=2-t)i=qe[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function L(e,t,i){for(var r,n=(G.tweeners[t]||[]).concat(G.tweeners["*"]),a=0,s=n.length;a<s;a++)if(r=n[a].call(i,t,e))return r}function z(e,t,i){var r,n,a,s,o,l,d,u,c=this,h={},p=e.style,f=e.nodeType&&Re(e),g=pe._data(e,"fxshow");i.queue||(o=pe._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,pe.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],d=pe.css(e,"display"),u="none"===d?pe._data(e,"olddisplay")||P(e.nodeName):d,"inline"===u&&"none"===pe.css(e,"float")&&(ce.inlineBlockNeedsLayout&&"inline"!==P(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ce.shrinkWrapBlocks()||c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(r in t)if(n=t[r],St.exec(n)){if(delete t[r],a=a||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!g||void 0===g[r])continue;f=!0}h[r]=g&&g[r]||pe.style(e,r)}else d=void 0;if(pe.isEmptyObject(h))"inline"===("none"===d?P(e.nodeName):d)&&(p.display=d);else{g?"hidden"in g&&(f=g.hidden):g=pe._data(e,"fxshow",{}),a&&(g.hidden=!f),f?pe(e).show():c.done(function(){pe(e).hide()}),c.done(function(){var t;pe._removeData(e,"fxshow");for(t in h)pe.style(e,t,h[t])});for(r in h)s=L(f?g[r]:0,r,c),r in g||(g[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var i,r,n,a,s;for(i in e)if(r=pe.camelCase(i),n=t[r],a=e[i],pe.isArray(a)&&(n=a[1],a=e[i]=a[0]),i!==r&&(e[r]=a,delete e[i]),s=pe.cssHooks[r],s&&"expand"in s){a=s.expand(a),delete e[r];for(i in a)i in e||(e[i]=a[i],t[i]=n)}else t[r]=n}function G(e,t,i){var r,n,a=0,s=G.prefilters.length,o=pe.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=Ct||R(),i=Math.max(0,d.startTime+d.duration-t),r=i/d.duration||0,a=1-r,s=0,l=d.tweens.length;s<l;s++)d.tweens[s].run(a);return o.notifyWith(e,[d,a,i]),a<1&&l?i:(o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},i),originalProperties:t,originalOptions:i,startTime:Ct||R(),duration:i.duration,tweens:[],createTween:function(t,i){var r=pe.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(r),r},stop:function(t){var i=0,r=t?d.tweens.length:0;if(n)return this;for(n=!0;i<r;i++)d.tweens[i].run(1);return t?(o.notifyWith(e,[d,1,0]),o.resolveWith(e,[d,t])):o.rejectWith(e,[d,t]),this}}),u=d.props;for(H(u,d.opts.specialEasing);a<s;a++)if(r=G.prefilters[a].call(d,e,u,d.opts))return pe.isFunction(r.stop)&&(pe._queueHooks(d.elem,d.opts.queue).stop=pe.proxy(r.stop,r)),r;return pe.map(u,L,d),pe.isFunction(d.opts.start)&&d.opts.start.call(e,d),pe.fx.timer(pe.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function B(e){return pe.attr(e,"class")||""}function Q(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,n=0,a=t.toLowerCase().match(Ie)||[];if(pe.isFunction(i))for(;r=a[n++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function W(e,t,i,r){function n(o){var l;return a[o]=!0,pe.each(e[o]||[],function(e,o){var d=o(t,i,r);return"string"!=typeof d||s||a[d]?s?!(l=d):void 0:(t.dataTypes.unshift(d),n(d),!1)}),l}var a={},s=e===Jt;return n(t.dataTypes[0])||!a["*"]&&n("*")}function U(e,t){var i,r,n=pe.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:i||(i={}))[r]=t[r]);return i&&pe.extend(!0,e,i),e}function V(e,t,i){for(var r,n,a,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in o)if(o[s]&&o[s].test(n)){l.unshift(s);break}if(l[0]in i)a=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}r||(r=s)}a=a||r}if(a)return a!==l[0]&&l.unshift(a),i[a]}function K(e,t,i,r){var n,a,s,o,l,d={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)d[s.toLowerCase()]=e.converters[s];for(a=u.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(s=d[l+" "+a]||d["* "+a],!s)for(n in d)if(o=n.split(" "),o[1]===a&&(s=d[l+" "+o[0]]||d["* "+o[0]])){s===!0?s=d[n]:d[n]!==!0&&(a=o[0],u.unshift(o[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(c){return{state:"parsererror",error:s?c:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function Y(e){return e.style&&e.style.display||pe.css(e,"display")}function X(e){if(!pe.contains(e.ownerDocument||re,e))return!0;for(;e&&1===e.nodeType;){if("none"===Y(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(e,t,i,r){var n;if(pe.isArray(t))pe.each(t,function(t,n){i||ri.test(e)?r(e,n):J(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,r)});else if(i||"object"!==pe.type(t))r(e,t);else for(n in t)J(e+"["+n+"]",t[n],i,r)}function Z(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ie=[],re=e.document,ne=ie.slice,ae=ie.concat,se=ie.push,oe=ie.indexOf,le={},de=le.toString,ue=le.hasOwnProperty,ce={},he="1.12.4",pe=function(e,t){return new pe.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:he,constructor:pe,selector:"",length:0,toArray:function(){return ne.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ne.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ie.sort,splice:ie.splice},pe.extend=pe.fn.extend=function(){var e,t,i,r,n,a,s=arguments[0]||{},o=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[o]||{},o++),"object"==typeof s||pe.isFunction(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(n=arguments[o]))for(r in n)e=s[r],i=n[r],s!==i&&(d&&i&&(pe.isPlainObject(i)||(t=pe.isArray(i)))?(t?(t=!1,a=e&&pe.isArray(e)?e:[]):a=e&&pe.isPlainObject(e)?e:{},s[r]=pe.extend(d,a,i)):void 0!==i&&(s[r]=i));return s},pe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!ce.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return void 0===t||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[de.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,n=0;if(i(e))for(r=e.length;n<r&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(t.call(e[n],n,e[n])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(i(Object(e))?pe.merge(r,"string"==typeof e?[e]:e):se.call(r,e)),r},inArray:function(e,t,i){var r;if(t){if(oe)return oe.call(t,e,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,r=0,n=e.length;r<i;)e[n++]=t[r++];if(i!==i)for(;void 0!==t[r];)e[n++]=t[r++];return e.length=n,e},grep:function(e,t,i){for(var r,n=[],a=0,s=e.length,o=!i;a<s;a++)r=!t(e[a],a),r!==o&&n.push(e[a]);return n},map:function(e,t,r){var n,a,s=0,o=[];if(i(e))for(n=e.length;s<n;s++)a=t(e[s],s,r),null!=a&&o.push(a);else for(s in e)a=t(e[s],s,r),null!=a&&o.push(a);return ae.apply([],o)},guid:1,proxy:function(e,t){var i,r,n;if("string"==typeof t&&(n=e[t],t=e,e=n),pe.isFunction(e))return i=ne.call(arguments,2),r=function(){return e.apply(t||this,i.concat(ne.call(arguments)))},r.guid=e.guid=e.guid||pe.guid++,r},now:function(){return+new Date},support:ce}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ie[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,i,r){var n,a,s,o,l,d,c,p,f=t&&t.ownerDocument,g=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return i;if(!r&&((t?t.ownerDocument||t:L)!==M&&A(t),t=t||M,$)){if(11!==g&&(d=ve.exec(e)))if(n=d[1]){if(9===g){if(!(s=t.getElementById(n)))return i;if(s.id===n)return i.push(s),i}else if(f&&(s=f.getElementById(n))&&R(t,s)&&s.id===n)return i.push(s),i}else{if(d[2])return J.apply(i,t.getElementsByTagName(e)),i;if((n=d[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(n)),i}if(x.qsa&&!Q[e+" "]&&(!F||!F.test(e))){if(1!==g)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((o=t.getAttribute("id"))?o=o.replace(_e,"\\$&"):t.setAttribute("id",o=N),c=C(e),a=c.length,l=he.test(o)?"#"+o:"[id='"+o+"']";a--;)c[a]=l+" "+h(c[a]);p=c.join(","),f=be.test(e)&&u(t.parentNode)||t}if(p)try{return J.apply(i,f.querySelectorAll(p)),i}catch(m){}finally{o===N&&t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,i,r)}function i(){function e(i,r){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=r}var t=[];return e}function r(e){return e[N]=!0,e}function n(e){var t=M.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var i=e.split("|"),r=i.length;r--;)w.attrHandle[i[r]]=t}function s(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return r(function(t){return t=+t,r(function(i,r){for(var n,a=e([],i.length,t),s=a.length;s--;)i[n=a[s]]&&(i[n]=!(r[n]=i[n]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function h(e){for(var t=0,i=e.length,r="";t<i;t++)r+=e[t].value;return r}function p(e,t,i){var r=t.dir,n=i&&"parentNode"===r,a=H++;return t.first?function(t,i,a){for(;t=t[r];)if(1===t.nodeType||n)return e(t,i,a)}:function(t,i,s){var o,l,d,u=[z,a];if(s){for(;t=t[r];)if((1===t.nodeType||n)&&e(t,i,s))return!0}else for(;t=t[r];)if(1===t.nodeType||n){if(d=t[N]||(t[N]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),(o=l[r])&&o[0]===z&&o[1]===a)return u[2]=o[2];if(l[r]=u,u[2]=e(t,i,s))return!0}}}function f(e){return e.length>1?function(t,i,r){for(var n=e.length;n--;)if(!e[n](t,i,r))return!1;return!0}:e[0]}function g(e,i,r){for(var n=0,a=i.length;n<a;n++)t(e,i[n],r);return r}function m(e,t,i,r,n){for(var a,s=[],o=0,l=e.length,d=null!=t;o<l;o++)(a=e[o])&&(i&&!i(a,r,n)||(s.push(a),d&&t.push(o)));return s}function v(e,t,i,n,a,s){return n&&!n[N]&&(n=v(n)),a&&!a[N]&&(a=v(a,s)),r(function(r,s,o,l){var d,u,c,h=[],p=[],f=s.length,v=r||g(t||"*",o.nodeType?[o]:o,[]),b=!e||!r&&t?v:m(v,h,e,o,l),_=i?a||(r?e:f||n)?[]:s:b;if(i&&i(b,_,o,l),n)for(d=m(_,p),n(d,[],o,l),u=d.length;u--;)(c=d[u])&&(_[p[u]]=!(b[p[u]]=c));if(r){if(a||e){if(a){for(d=[],u=_.length;u--;)(c=_[u])&&d.push(b[u]=c);a(null,_=[],d,l)}for(u=_.length;u--;)(c=_[u])&&(d=a?ee(r,c):h[u])>-1&&(r[d]=!(s[d]=c))}}else _=m(_===s?_.splice(f,_.length):_),a?a(null,s,_,l):J.apply(s,_)})}function b(e){for(var t,i,r,n=e.length,a=w.relative[e[0].type],s=a||w.relative[" "],o=a?1:0,l=p(function(e){return e===t},s,!0),d=p(function(e){return ee(t,e)>-1},s,!0),u=[function(e,i,r){var n=!a&&(r||i!==T)||((t=i).nodeType?l(e,i,r):d(e,i,r));return t=null,n}];o<n;o++)if(i=w.relative[e[o].type])u=[p(f(u),i)];else{if(i=w.filter[e[o].type].apply(null,e[o].matches),i[N]){for(r=++o;r<n&&!w.relative[e[r].type];r++);return v(o>1&&f(u),o>1&&h(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(oe,"$1"),i,o<r&&b(e.slice(o,r)),r<n&&b(e=e.slice(r)),r<n&&h(e))}u.push(i)}return f(u)}function _(e,i){var n=i.length>0,a=e.length>0,s=function(r,s,o,l,d){var u,c,h,p=0,f="0",g=r&&[],v=[],b=T,_=r||a&&w.find.TAG("*",d),y=z+=null==b?1:Math.random()||.1,x=_.length;for(d&&(T=s===M||s||d);f!==x&&null!=(u=_[f]);f++){if(a&&u){for(c=0,s||u.ownerDocument===M||(A(u),o=!$);h=e[c++];)if(h(u,s||M,o)){l.push(u);break}d&&(z=y)}n&&((u=!h&&u)&&p--,r&&g.push(u))}if(p+=f,n&&f!==p){for(c=0;h=i[c++];)h(g,v,s,o);if(r){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Y.call(l));v=m(v)}J.apply(l,v),d&&!r&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return d&&(z=y,T=b),g};return n?r(s):s}var y,x,w,k,j,C,D,S,T,I,P,A,M,E,$,F,O,q,R,N="sizzle"+1*new Date,L=e.document,z=0,H=0,G=i(),B=i(),Q=i(),W=function(e,t){return e===t&&(P=!0),0},U=1<<31,V={}.hasOwnProperty,K=[],Y=K.pop,X=K.push,J=K.push,Z=K.slice,ee=function(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ie+"*("+re+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),oe=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ce=new RegExp(ae),he=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(e,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){A()};try{J.apply(K=Z.call(L.childNodes),L.childNodes),K[L.childNodes.length].nodeType}catch(ke){J={apply:K.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}x=t.support={},j=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,i,r=e?e.ownerDocument||e:L;return r!==M&&9===r.nodeType&&r.documentElement?(M=r,E=M.documentElement,$=!j(M),(i=M.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",we,!1):i.attachEvent&&i.attachEvent("onunload",we)),x.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=n(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(M.getElementsByClassName),x.getById=n(function(e){return E.appendChild(e).id=N,!M.getElementsByName||!M.getElementsByName(N).length}),x.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&$){var i=t.getElementById(e);return i?[i]:[]}},w.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,r=[],n=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[n++];)1===i.nodeType&&r.push(i);return r}return a},w.find.CLASS=x.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&$)return t.getElementsByClassName(e)},O=[],F=[],(x.qsa=me.test(M.querySelectorAll))&&(n(function(e){E.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+N+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||F.push(".#.+[+~]")}),n(function(e){var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),
F.push(",.*:")})),(x.matchesSelector=me.test(q=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&n(function(e){x.disconnectedMatch=q.call(e,"div"),q.call(e,"[s!='']:x"),O.push("!=",ae)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),t=me.test(E.compareDocumentPosition),R=t||me.test(E.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return P=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===M||e.ownerDocument===L&&R(L,e)?-1:t===M||t.ownerDocument===L&&R(L,t)?1:I?ee(I,e)-ee(I,t):0:4&i?-1:1)}:function(e,t){if(e===t)return P=!0,0;var i,r=0,n=e.parentNode,a=t.parentNode,o=[e],l=[t];if(!n||!a)return e===M?-1:t===M?1:n?-1:a?1:I?ee(I,e)-ee(I,t):0;if(n===a)return s(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;o[r]===l[r];)r++;return r?s(o[r],l[r]):o[r]===L?-1:l[r]===L?1:0},M):M},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==M&&A(e),i=i.replace(ue,"='$1']"),x.matchesSelector&&$&&!Q[i+" "]&&(!O||!O.test(i))&&(!F||!F.test(i)))try{var r=q.call(e,i);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(n){}return t(i,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&A(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&A(e);var i=w.attrHandle[t.toLowerCase()],r=i&&V.call(w.attrHandle,t.toLowerCase())?i(e,t,!$):void 0;return void 0!==r?r:x.attributes||!$?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],r=0,n=0;if(P=!x.detectDuplicates,I=!x.sortStable&&e.slice(0),e.sort(W),P){for(;t=e[n++];)t===e[n]&&(r=i.push(n));for(;r--;)e.splice(i[r],1)}return I=null,e},k=t.getText=function(e){var t,i="",r=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[r++];)i+=k(t);return i},w=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=C(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,r){return function(n){var a=t.attr(n,e);return null==a?"!="===i:!i||(a+="","="===i?a===r:"!="===i?a!==r:"^="===i?r&&0===a.indexOf(r):"*="===i?r&&a.indexOf(r)>-1:"$="===i?r&&a.slice(-r.length)===r:"~="===i?(" "+a.replace(se," ")+" ").indexOf(r)>-1:"|="===i&&(a===r||a.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,i,r,n){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var d,u,c,h,p,f,g=a!==s?"nextSibling":"previousSibling",m=t.parentNode,v=o&&t.nodeName.toLowerCase(),b=!l&&!o,_=!1;if(m){if(a){for(;g;){for(h=t;h=h[g];)if(o?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(h=m,c=h[N]||(h[N]={}),u=c[h.uniqueID]||(c[h.uniqueID]={}),d=u[e]||[],p=d[0]===z&&d[1],_=p&&d[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===t){u[e]=[z,p,_];break}}else if(b&&(h=t,c=h[N]||(h[N]={}),u=c[h.uniqueID]||(c[h.uniqueID]={}),d=u[e]||[],p=d[0]===z&&d[1],_=p),_===!1)for(;(h=++p&&h&&h[g]||(_=p=0)||f.pop())&&((o?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(b&&(c=h[N]||(h[N]={}),u=c[h.uniqueID]||(c[h.uniqueID]={}),u[e]=[z,_]),h!==t)););return _-=n,_===r||_%r===0&&_/r>=0}}},PSEUDO:function(e,i){var n,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[N]?a(i):a.length>1?(n=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,n=a(e,i),s=n.length;s--;)r=ee(e,n[s]),e[r]=!(t[r]=n[s])}):function(e){return a(e,0,n)}):a}},pseudos:{not:r(function(e){var t=[],i=[],n=D(e.replace(oe,"$1"));return n[N]?r(function(e,t,i,r){for(var a,s=n(e,null,r,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,r,a){return t[0]=e,n(t,null,a,i),t[0]=null,!i.pop()}}),has:r(function(e){return function(i){return t(e,i).length>0}}),contains:r(function(e){return e=e.replace(ye,xe),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,xe).toLowerCase(),function(t){var i;do if(i=$?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===E},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[i<0?i+t:i]}),even:d(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var r=i<0?i+t:i;--r>=0;)e.push(r);return e}),gt:d(function(e,t,i){for(var r=i<0?i+t:i;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=o(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=l(y);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,C=t.tokenize=function(e,i){var r,n,a,s,o,l,d,u=B[e+" "];if(u)return i?0:u.slice(0);for(o=e,l=[],d=w.preFilter;o;){r&&!(n=le.exec(o))||(n&&(o=o.slice(n[0].length)||o),l.push(a=[])),r=!1,(n=de.exec(o))&&(r=n.shift(),a.push({value:r,type:n[0].replace(oe," ")}),o=o.slice(r.length));for(s in w.filter)!(n=pe[s].exec(o))||d[s]&&!(n=d[s](n))||(r=n.shift(),a.push({value:r,type:s,matches:n}),o=o.slice(r.length));if(!r)break}return i?o.length:o?t.error(e):B(e,l).slice(0)},D=t.compile=function(e,t){var i,r=[],n=[],a=Q[e+" "];if(!a){for(t||(t=C(e)),i=t.length;i--;)a=b(t[i]),a[N]?r.push(a):n.push(a);a=Q(e,_(n,r)),a.selector=e}return a},S=t.select=function(e,t,i,r){var n,a,s,o,l,d="function"==typeof e&&e,c=!r&&C(e=d.selector||e);if(i=i||[],1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(s=a[0]).type&&x.getById&&9===t.nodeType&&$&&w.relative[a[1].type]){if(t=(w.find.ID(s.matches[0].replace(ye,xe),t)||[])[0],!t)return i;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(n=pe.needsContext.test(e)?0:a.length;n--&&(s=a[n],!w.relative[o=s.type]);)if((l=w.find[o])&&(r=l(s.matches[0].replace(ye,xe),be.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(n,1),e=r.length&&h(a),!e)return J.apply(i,r),i;break}}return(d||D(e,c))(r,t,!$,i,!t||be.test(e)&&u(t.parentNode)||t),i},x.sortStable=N.split("").sort(W).join("")===N,x.detectDuplicates=!!P,A(),x.sortDetached=n(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,i){var r;if(!i)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);pe.find=be,pe.expr=be.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=be.uniqueSort,pe.text=be.getText,pe.isXMLDoc=be.isXML,pe.contains=be.contains;var _e=function(e,t,i){for(var r=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&pe(e).is(i))break;r.push(e)}return r},ye=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},xe=pe.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ke=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?pe.find.matchesSelector(r,e)?[r]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,i=[],r=this,n=r.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<n;t++)if(pe.contains(r[t],this))return!0}));for(t=0;t<n;t++)pe.find(e,r[t],i);return i=this.pushStack(n>1?pe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&xe.test(e)?pe(e):e||[],!1).length}});var je,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,De=pe.fn.init=function(e,t,i){var r,n;if(!e)return this;if(i=i||je,"string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ce.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),we.test(r[1])&&pe.isPlainObject(t))for(r in t)pe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(n=re.getElementById(r[2]),n&&n.parentNode){if(n.id!==r[2])return je.find(e);this.length=1,this[0]=n}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?"undefined"!=typeof i.ready?i.ready(e):e(pe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))};De.prototype=pe.fn,je=pe(re);var Se=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,i=pe(e,this),r=i.length;return this.filter(function(){for(t=0;t<r;t++)if(pe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,r=0,n=this.length,a=[],s=xe.test(e)||"string"!=typeof e?pe(e,t||this.context):0;r<n;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&pe.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?pe.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _e(e,"parentNode")},parentsUntil:function(e,t,i){return _e(e,"parentNode",i)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return _e(e,"nextSibling")},prevAll:function(e){return _e(e,"previousSibling")},nextUntil:function(e,t,i){return _e(e,"nextSibling",i)},prevUntil:function(e,t,i){return _e(e,"previousSibling",i)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(i,r){var n=pe.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=pe.filter(r,n)),this.length>1&&(Te[e]||(n=pe.uniqueSort(n)),Se.test(e)&&(n=n.reverse())),this.pushStack(n)}});var Ie=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?a(e):pe.extend({},e);var t,i,r,n,s=[],o=[],l=-1,d=function(){for(n=e.once,r=t=!0;o.length;l=-1)for(i=o.shift();++l<s.length;)s[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=s.length,i=!1);e.memory||(i=!1),t=!1,n&&(s=i?[]:"")},u={add:function(){return s&&(i&&!t&&(l=s.length-1,o.push(i)),function r(t){pe.each(t,function(t,i){pe.isFunction(i)?e.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==pe.type(i)&&r(i)})}(arguments),i&&!t&&d()),this},remove:function(){return pe.each(arguments,function(e,t){for(var i;(i=pe.inArray(t,s,i))>-1;)s.splice(i,1),i<=l&&l--}),this},has:function(e){return e?pe.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return n=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return n=!0,i||u.disable(),this},locked:function(){return!!n},fireWith:function(e,i){return n||(i=i||[],i=[e,i.slice?i.slice():i],o.push(i),t||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(i){pe.each(t,function(t,a){var s=pe.isFunction(e[t])&&e[t];n[a[1]](function(){var e=s&&s.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[a[0]+"With"](this===r?i.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,r):r}},n={};return r.pipe=r.then,pe.each(t,function(e,a){var s=a[2],o=a[3];r[a[1]]=s.add,o&&s.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),n[a[0]]=function(){return n[a[0]+"With"](this===n?r:this,arguments),this},n[a[0]+"With"]=s.fireWith}),r.promise(n),e&&e.call(n,n),n},when:function(e){var t,i,r,n=0,a=ne.call(arguments),s=a.length,o=1!==s||e&&pe.isFunction(e.promise)?s:0,l=1===o?e:pe.Deferred(),d=function(e,i,r){return function(n){i[e]=this,r[e]=arguments.length>1?ne.call(arguments):n,r===t?l.notifyWith(i,r):--o||l.resolveWith(i,r)}};if(s>1)for(t=new Array(s),i=new Array(s),r=new Array(s);n<s;n++)a[n]&&pe.isFunction(a[n].promise)?a[n].promise().progress(d(n,i,t)).done(d(n,r,a)).fail(l.reject):--o;return o||l.resolveWith(r,a),l.promise()}});var Pe;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(e===!0?--pe.readyWait:pe.isReady)||(pe.isReady=!0,e!==!0&&--pe.readyWait>0||(Pe.resolveWith(re,[pe]),pe.fn.triggerHandler&&(pe(re).triggerHandler("ready"),pe(re).off("ready"))))}}),pe.ready.promise=function(t){if(!Pe)if(Pe=pe.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(pe.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o);else{re.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var i=!1;try{i=null==e.frameElement&&re.documentElement}catch(r){}i&&i.doScroll&&!function n(){if(!pe.isReady){try{i.doScroll("left")}catch(t){return e.setTimeout(n,50)}s(),pe.ready()}}()}return Pe.promise(t)},pe.ready.promise();var Ae;for(Ae in pe(ce))break;ce.ownFirst="0"===Ae,ce.inlineBlockNeedsLayout=!1,pe(function(){var e,t,i,r;i=re.getElementsByTagName("body")[0],i&&i.style&&(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ce.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(r))}),function(){var e=re.createElement("div");ce.deleteExpando=!0;try{delete e.test}catch(t){ce.deleteExpando=!1}e=null}();var Me=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||t!==!0&&e.getAttribute("classid")===t)},Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$e=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando],!!e&&!d(e)},data:function(e,t,i){return u(e,t,i)},removeData:function(e,t){return c(e,t)},_data:function(e,t,i){return u(e,t,i,!0)},_removeData:function(e,t){return c(e,t,!0)}}),pe.fn.extend({data:function(e,t){var i,r,n,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(n=pe.data(a),1===a.nodeType&&!pe._data(a,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(r=s[i].name,0===r.indexOf("data-")&&(r=pe.camelCase(r.slice(5)),l(a,r,n[r])));pe._data(a,"parsedAttrs",!0)}return n}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):a?l(a,e,pe.data(a,e)):void 0},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,i){var r;if(e)return t=(t||"fx")+"queue",r=pe._data(e,t),i&&(!r||pe.isArray(i)?r=pe._data(e,t,pe.makeArray(i)):r.push(i)),r||[]},dequeue:function(e,t){t=t||"fx";var i=pe.queue(e,t),r=i.length,n=i.shift(),a=pe._queueHooks(e,t),s=function(){pe.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===t&&i.unshift("inprogress"),delete a.stop,n.call(e,s,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return pe._data(e,i)||pe._data(e,i,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,i)})})}}),pe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?pe.queue(this[0],e):void 0===t?this:this.each(function(){var i=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,n=pe.Deferred(),a=this,s=this.length,o=function(){--r||n.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)i=pe._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(o));return o(),n.promise(t)}}),function(){var e;ce.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,r;return i=re.getElementsByTagName("body")[0],i&&i.style?(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(re.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(r),e):void 0}}();var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},Ne=function(e,t,i,r,n,a,s){var o=0,l=e.length,d=null==i;if("object"===pe.type(i)){n=!0;for(o in i)Ne(e,t,o,i[o],!0,a,s)}else if(void 0!==r&&(n=!0,pe.isFunction(r)||(s=!0),d&&(s?(t.call(e,r),t=null):(d=t,t=function(e,t,i){return d.call(pe(e),i)})),t))for(;o<l;o++)t(e[o],i,s?r:r.call(e[o],o,t(e[o],i)));return n?e:d?t.call(e):l?t(e[0],i):a},Le=/^(?:checkbox|radio)$/i,ze=/<([\w:-]+)/,He=/^$|\/(?:java|ecma)script/i,Ge=/^\s+/,Be="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=re.createElement("div"),t=re.createDocumentFragment(),i=re.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ce.leadingWhitespace=3===e.firstChild.nodeType,ce.tbody=!e.getElementsByTagName("tbody").length,ce.htmlSerialize=!!e.getElementsByTagName("link").length,ce.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,t.appendChild(i),ce.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),i=re.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),ce.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.noCloneEvent=!!e.addEventListener,e[pe.expando]=1,ce.attributes=!e.getAttribute(pe.expando)}();var Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td;var We=/<|&#?\w+;/,Ue=/<tbody/i;!function(){var t,i,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ce[t]=i in e)||(r.setAttribute(i,"t"),ce[t]=r.attributes[i].expando===!1);r=null}();var Ve=/^(?:input|select|textarea)$/i,Ke=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^(?:focusinfocus|focusoutblur)$/,Je=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,i,r,n){var a,s,o,l,d,u,c,h,p,f,g,m=pe._data(e);if(m){for(i.handler&&(l=i,i=l.handler,n=l.selector),i.guid||(i.guid=pe.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(e){return"undefined"==typeof pe||e&&pe.event.triggered===e.type?void 0:pe.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(Ie)||[""],o=t.length;o--;)a=Je.exec(t[o])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(d=pe.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,d=pe.event.special[p]||{},c=pe.extend({type:p,origType:g,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&pe.expr.match.needsContext.test(n),namespace:f.join(".")},l),(h=s[p])||(h=s[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,r,f,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),n?h.splice(h.delegateCount++,0,c):h.push(c),pe.event.global[p]=!0);e=null}},remove:function(e,t,i,r,n){var a,s,o,l,d,u,c,h,p,f,g,m=pe.hasData(e)&&pe._data(e);if(m&&(u=m.events)){for(t=(t||"").match(Ie)||[""],d=t.length;d--;)if(o=Je.exec(t[d])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p){for(c=pe.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=u[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)s=h[a],!n&&g!==s.origType||i&&i.guid!==s.guid||o&&!o.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(h.splice(a,1),s.selector&&h.delegateCount--,c.remove&&c.remove.call(e,s));l&&!h.length&&(c.teardown&&c.teardown.call(e,f,m.handle)!==!1||pe.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)pe.event.remove(e,p+t[d],i,r,!0);pe.isEmptyObject(u)&&(delete m.handle,pe._removeData(e,"events"))}},trigger:function(t,i,r,n){var a,s,o,l,d,u,c,h=[r||re],p=ue.call(t,"type")?t.type:t,f=ue.call(t,"namespace")?t.namespace.split("."):[];if(o=u=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!Xe.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),i=null==i?[t]:pe.makeArray(i,[t]),d=pe.event.special[p]||{},n||!d.trigger||d.trigger.apply(r,i)!==!1)){if(!n&&!d.noBubble&&!pe.isWindow(r)){for(l=d.delegateType||p,Xe.test(l+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),u=o;u===(r.ownerDocument||re)&&h.push(u.defaultView||u.parentWindow||e)}for(c=0;(o=h[c++])&&!t.isPropagationStopped();)t.type=c>1?l:d.bindType||p,a=(pe._data(o,"events")||{})[t.type]&&pe._data(o,"handle"),a&&a.apply(o,i),a=s&&o[s],a&&a.apply&&Me(o)&&(t.result=a.apply(o,i),t.result===!1&&t.preventDefault());if(t.type=p,!n&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(h.pop(),i)===!1)&&Me(r)&&s&&r[p]&&!pe.isWindow(r)){u=r[s],u&&(r[s]=null),pe.event.triggered=p;try{r[p]()}catch(g){}pe.event.triggered=void 0,u&&(r[s]=u)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,i,r,n,a,s=[],o=ne.call(arguments),l=(pe._data(this,"events")||{})[e.type]||[],d=pe.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(s=pe.event.handlers.call(this,e,l),t=0;(n=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,i=0;(a=n.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,r=((pe.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,o),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,r,n,a,s=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],i=0;i<o;i++)a=t[i],n=a.selector+" ",void 0===r[n]&&(r[n]=a.needsContext?pe(n,this).index(l)>-1:pe.find(n,this,null,[l]).length),r[n]&&r.push(a);r.length&&s.push({elem:l,handlers:r})}return o<t.length&&s.push({elem:this,handlers:t.slice(o)}),s},fix:function(e){if(e[pe.expando])return e;var t,i,r,n=e.type,a=e,s=this.fixHooks[n];for(s||(this.fixHooks[n]=s=Ye.test(n)?this.mouseHooks:Ke.test(n)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new pe.Event(a),t=r.length;t--;)i=r[t],e[i]=a[i];return e.target||(e.target=a.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,r,n,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||re,n=r.documentElement,i=r.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var r=pe.extend(new pe.Event,i,{type:e,isSimulated:!0});pe.event.trigger(r,null,t),r.isDefaultPrevented()&&i.preventDefault()}},pe.removeEvent=re.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,i))},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?b:_):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,n=e.relatedTarget,a=e.handleObj;return n&&(n===r||pe.contains(r,n))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),ce.submit||(pe.event.special.submit={setup:function(){return!pe.nodeName(this,"form")&&void pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):void 0;i&&!pe._data(i,"submit")&&(pe.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),pe._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){return!pe.nodeName(this,"form")&&void pe.event.remove(this,"._submit")}}),ce.change||(pe.event.special.change={setup:function(){return Ve.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1):void pe.event.add(this,"beforeactivate._change",function(e){
var t=e.target;Ve.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return pe.event.remove(this,"._change"),!Ve.test(this.nodeName)}}),ce.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var r=this.ownerDocument||this,n=pe._data(r,t);n||r.addEventListener(e,i,!0),pe._data(r,t,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=pe._data(r,t)-1;n?pe._data(r,t,n):(r.removeEventListener(e,i,!0),pe._removeData(r,t))}}}),pe.fn.extend({on:function(e,t,i,r){return x(this,e,t,i,r)},one:function(e,t,i,r){return x(this,e,t,i,r,1)},off:function(e,t,i){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=_),this.each(function(){pe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return pe.event.trigger(e,t,i,!0)}});var Ze=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+Be+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it=/<script|<style|<link/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,st=p(re),ot=st.appendChild(re.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,i){var r,n,a,s,o,l=pe.contains(e.ownerDocument,e);if(ce.html5Clone||pe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(ot.innerHTML=e.outerHTML,ot.removeChild(a=ot.firstChild)),!(ce.noCloneEvent&&ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(r=f(a),o=f(e),s=0;null!=(n=o[s]);++s)r[s]&&D(n,r[s]);if(t)if(i)for(o=o||f(e),r=r||f(a),s=0;null!=(n=o[s]);s++)C(n,r[s]);else C(e,a);return r=f(a,"script"),r.length>0&&g(r,!l&&f(e,"script")),r=o=n=null,a},cleanData:function(e,t){for(var i,r,n,a,s=0,o=pe.expando,l=pe.cache,d=ce.attributes,u=pe.event.special;null!=(i=e[s]);s++)if((t||Me(i))&&(n=i[o],a=n&&l[n])){if(a.events)for(r in a.events)u[r]?pe.event.remove(i,r):pe.removeEvent(i,r,a.handle);l[n]&&(delete l[n],d||"undefined"==typeof i.removeAttribute?i[o]=void 0:i.removeAttribute(o),ie.push(n))}}}),pe.fn.extend({domManip:S,detach:function(e){return T(this,e,!0)},remove:function(e){return T(this,e)},text:function(e){return Ne(this,function(e){return void 0===e?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.appendChild(e)}})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Ne(this,function(e){var t=this[0]||{},i=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ze,""):void 0;if("string"==typeof e&&!it.test(e)&&(ce.htmlSerialize||!et.test(e))&&(ce.leadingWhitespace||!Ge.test(e))&&!Qe[(ze.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;i<r;i++)t=this[i]||{},1===t.nodeType&&(pe.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(n){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,function(t){var i=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(f(this)),i&&i.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var i,r=0,n=[],a=pe(e),s=a.length-1;r<=s;r++)i=r===s?this:this.clone(!0),pe(a[r])[t](i),se.apply(n,i.get());return this.pushStack(n)}});var lt,dt={HTML:"block",BODY:"block"},ut=/^margin/,ct=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),ht=function(e,t,i,r){var n,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];n=i.apply(e,r||[]);for(a in t)e.style[a]=s[a];return n},pt=re.documentElement;!function(){function t(){var t,u,c=re.documentElement;c.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=n=o=!1,r=s=!0,e.getComputedStyle&&(u=e.getComputedStyle(d),i="1%"!==(u||{}).top,o="2px"===(u||{}).marginLeft,n="4px"===(u||{width:"4px"}).width,d.style.marginRight="50%",r="4px"===(u||{marginRight:"4px"}).marginRight,t=d.appendChild(re.createElement("div")),t.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",d.style.width="1px",s=!parseFloat((e.getComputedStyle(t)||{}).marginRight),d.removeChild(t)),d.style.display="none",a=0===d.getClientRects().length,a&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",t=d.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===t[0].offsetHeight,a&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),c.removeChild(l)}var i,r,n,a,s,o,l=re.createElement("div"),d=re.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",ce.opacity="0.5"===d.style.opacity,ce.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===d.style.backgroundClip,l=re.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),ce.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,pe.extend(ce,{reliableHiddenOffsets:function(){return null==i&&t(),a},boxSizingReliable:function(){return null==i&&t(),n},pixelMarginRight:function(){return null==i&&t(),r},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),o}}))}();var ft,gt,mt=/^(top|right|bottom|left)$/;e.getComputedStyle?(ft=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},gt=function(e,t,i){var r,n,a,s,o=e.style;return i=i||ft(e),s=i?i.getPropertyValue(t)||i[t]:void 0,""!==s&&void 0!==s||pe.contains(e.ownerDocument,e)||(s=pe.style(e,t)),i&&!ce.pixelMarginRight()&&ct.test(s)&&ut.test(t)&&(r=o.width,n=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=i.width,o.width=r,o.minWidth=n,o.maxWidth=a),void 0===s?s:s+""}):pt.currentStyle&&(ft=function(e){return e.currentStyle},gt=function(e,t,i){var r,n,a,s,o=e.style;return i=i||ft(e),s=i?i[t]:void 0,null==s&&o&&o[t]&&(s=o[t]),ct.test(s)&&!mt.test(t)&&(r=o.left,n=e.runtimeStyle,a=n&&n.left,a&&(n.left=e.currentStyle.left),o.left="fontSize"===t?"1em":s,s=o.pixelLeft+"px",o.left=r,a&&(n.left=a)),void 0===s?s:s+""||"auto"});var vt=/alpha\([^)]*\)/i,bt=/opacity\s*=\s*([^)]*)/i,_t=/^(none|table(?!-c[ea]).+)/,yt=new RegExp("^("+Fe+")(.*)$","i"),xt={position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:"0",fontWeight:"400"},kt=["Webkit","O","Moz","ms"],jt=re.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=gt(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ce.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,a,s,o=pe.camelCase(t),l=e.style;if(t=pe.cssProps[o]||(pe.cssProps[o]=M(o)||o),s=pe.cssHooks[t]||pe.cssHooks[o],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(e,!1,r))?n:l[t];if(a=typeof i,"string"===a&&(n=Oe.exec(i))&&n[1]&&(i=h(e,t,n),a="number"),null!=i&&i===i&&("number"===a&&(i+=n&&n[3]||(pe.cssNumber[o]?"":"px")),ce.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(e,i,r)))))try{l[t]=i}catch(d){}}},css:function(e,t,i,r){var n,a,s,o=pe.camelCase(t);return t=pe.cssProps[o]||(pe.cssProps[o]=M(o)||o),s=pe.cssHooks[t]||pe.cssHooks[o],s&&"get"in s&&(a=s.get(e,!0,i)),void 0===a&&(a=gt(e,t,r)),"normal"===a&&t in wt&&(a=wt[t]),""===i||i?(n=parseFloat(a),i===!0||isFinite(n)?n||0:a):a}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,i,r){if(i)return _t.test(pe.css(e,"display"))&&0===e.offsetWidth?ht(e,xt,function(){return O(e,t,r)}):O(e,t,r)},set:function(e,i,r){var n=r&&ft(e);return $(e,i,r?F(e,t,r,ce.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,n),n):0)}}}),ce.opacity||(pe.cssHooks.opacity={get:function(e,t){return bt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,r=e.currentStyle,n=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===pe.trim(a.replace(vt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||r&&!r.filter)||(i.filter=vt.test(a)?a.replace(vt,n):a+" "+n)}}),pe.cssHooks.marginRight=A(ce.reliableMarginRight,function(e,t){if(t)return ht(e,{display:"inline-block"},gt,[e,"marginRight"])}),pe.cssHooks.marginLeft=A(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(gt(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(i){for(var r=0,n={},a="string"==typeof i?i.split(" "):[i];r<4;r++)n[e+qe[r]+t]=a[r]||a[r-2]||a[0];return n}},ut.test(e)||(pe.cssHooks[e+t].set=$)}),pe.fn.extend({css:function(e,t){return Ne(this,function(e,t,i){var r,n,a={},s=0;if(pe.isArray(t)){for(r=ft(e),n=t.length;s<n;s++)a[t[s]]=pe.css(e,t[s],!1,r);return a}return void 0!==i?pe.style(e,t,i):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=q,q.prototype={constructor:q,init:function(e,t,i,r,n,a){this.elem=e,this.prop=i,this.easing=n||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(pe.cssNumber[i]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,i=q.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=q.prototype.init,pe.fx.step={};var Ct,Dt,St=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;pe.Animation=pe.extend(G,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return h(i.elem,e,Oe.exec(t),i),i}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Ie);for(var i,r=0,n=e.length;r<n;r++)i=e[r],G.tweeners[i]=G.tweeners[i]||[],G.tweeners[i].unshift(t)},prefilters:[z],prefilter:function(e,t){t?G.prefilters.unshift(e):G.prefilters.push(e)}}),pe.speed=function(e,t,i){var r=e&&"object"==typeof e?pe.extend({},e):{complete:i||!i&&t||pe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!pe.isFunction(t)&&t};return r.duration=pe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in pe.fx.speeds?pe.fx.speeds[r.duration]:pe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){pe.isFunction(r.old)&&r.old.call(this),r.queue&&pe.dequeue(this,r.queue)},r},pe.fn.extend({fadeTo:function(e,t,i,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var n=pe.isEmptyObject(e),a=pe.speed(t,i,r),s=function(){var t=G(this,pe.extend({},e),a);(n||pe._data(this,"finish"))&&t.stop(!0)};return s.finish=s,n||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=pe.timers,s=pe._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Tt.test(n)&&r(s[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(i),t=!1,a.splice(n,1));!t&&i||pe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=pe._data(this),r=i[e+"queue"],n=i[e+"queueHooks"],a=pe.timers,s=r?r.length:0;for(i.finish=!0,pe.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var i=pe.fn[t];pe.fn[t]=function(e,r,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(N(t,!0),e,r,n)}}),pe.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,i=0;for(Ct=pe.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||pe.fx.stop(),Ct=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){Dt||(Dt=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval(Dt),Dt=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,i){return t=pe.fx?pe.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,r){var n=e.setTimeout(i,t);r.stop=function(){e.clearTimeout(n)}})},function(){var e,t=re.createElement("input"),i=re.createElement("div"),r=re.createElement("select"),n=r.appendChild(re.createElement("option"));i=re.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),i.appendChild(t),e=i.getElementsByTagName("a")[0],e.style.cssText="top:1px",ce.getSetAttribute="t"!==i.className,ce.style=/top/.test(e.getAttribute("style")),ce.hrefNormalized="/a"===e.getAttribute("href"),ce.checkOn=!!t.value,ce.optSelected=n.selected,ce.enctype=!!re.createElement("form").enctype,r.disabled=!0,ce.optDisabled=!n.disabled,t=re.createElement("input"),t.setAttribute("value",""),ce.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ce.radioValue="t"===t.value}();var It=/\r/g,Pt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,i,r,n=this[0];{if(arguments.length)return r=pe.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=r?e.call(this,i,pe(this).val()):e,null==n?n="":"number"==typeof n?n+="":pe.isArray(n)&&(n=pe.map(n,function(e){return null==e?"":e+""})),t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return t=pe.valHooks[n.type]||pe.valHooks[n.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(It,""):null==i?"":i)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(Pt," ")}},select:{get:function(e){for(var t,i,r=e.options,n=e.selectedIndex,a="select-one"===e.type||n<0,s=a?null:[],o=a?n+1:r.length,l=n<0?o:a?n:0;l<o;l++)if(i=r[l],(i.selected||l===n)&&(ce.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pe.nodeName(i.parentNode,"optgroup"))){if(t=pe(i).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var i,r,n=e.options,a=pe.makeArray(t),s=n.length;s--;)if(r=n[s],pe.inArray(pe.valHooks.option.get(r),a)>-1)try{r.selected=i=!0}catch(o){r.scrollHeight}else r.selected=!1;return i||(e.selectedIndex=-1),n}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},ce.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var At,Mt,Et=pe.expr.attrHandle,$t=/^(?:checked|selected)$/i,Ft=ce.getSetAttribute,Ot=ce.input;pe.fn.extend({attr:function(e,t){return Ne(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,i){var r,n,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?pe.prop(e,t,i):(1===a&&pe.isXMLDoc(e)||(t=t.toLowerCase(),n=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?Mt:At)),void 0!==i?null===i?void pe.removeAttr(e,t):n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=pe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,r,n=0,a=t&&t.match(Ie);if(a&&1===e.nodeType)for(;i=a[n++];)r=pe.propFix[i]||i,pe.expr.match.bool.test(i)?Ot&&Ft||!$t.test(i)?e[r]=!1:e[pe.camelCase("default-"+i)]=e[r]=!1:pe.attr(e,i,""),e.removeAttribute(Ft?i:r)}}),Mt={set:function(e,t,i){return t===!1?pe.removeAttr(e,i):Ot&&Ft||!$t.test(i)?e.setAttribute(!Ft&&pe.propFix[i]||i,i):e[pe.camelCase("default-"+i)]=e[i]=!0,i}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Et[t]||pe.find.attr;Ot&&Ft||!$t.test(t)?Et[t]=function(e,t,r){var n,a;return r||(a=Et[t],Et[t]=n,n=null!=i(e,t,r)?t.toLowerCase():null,Et[t]=a),n}:Et[t]=function(e,t,i){if(!i)return e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),Ot&&Ft||(pe.attrHooks.value={set:function(e,t,i){return pe.nodeName(e,"input")?void(e.defaultValue=t):At&&At.set(e,t,i)}}),Ft||(At={set:function(e,t,i){var r=e.getAttributeNode(i);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=t+="","value"===i||t===e.getAttribute(i))return t}},Et.id=Et.name=Et.coords=function(e,t,i){var r;if(!i)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},pe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:At.set},pe.attrHooks.contenteditable={set:function(e,t,i){At.set(e,""!==t&&t,i)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}}})),ce.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var qt=/^(?:input|select|textarea|button|object)$/i,Rt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Ne(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),pe.extend({prop:function(e,t,i){var r,n,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,n=pe.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:e[t]=i:n&&"get"in n&&null!==(r=n.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):qt.test(e.nodeName)||Rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ce.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),ce.enctype||(pe.propFix.enctype="encoding");var Nt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,i,r,n,a,s,o,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,B(this)))});if("string"==typeof e&&e)for(t=e.match(Ie)||[];i=this[l++];)if(n=B(i),r=1===i.nodeType&&(" "+n+" ").replace(Nt," ")){for(s=0;a=t[s++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");o=pe.trim(r),n!==o&&pe.attr(i,"class",o)}return this},removeClass:function(e){var t,i,r,n,a,s,o,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ie)||[];i=this[l++];)if(n=B(i),r=1===i.nodeType&&(" "+n+" ").replace(Nt," ")){for(s=0;a=t[s++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");o=pe.trim(r),n!==o&&pe.attr(i,"class",o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(i){pe(this).toggleClass(e.call(this,i,B(this),t),t)}):this.each(function(){var t,r,n,a;if("string"===i)for(r=0,n=pe(this),a=e.match(Ie)||[];t=a[r++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==e&&"boolean"!==i||(t=B(this),t&&pe._data(this,"__className__",t),pe.attr(this,"class",t||e===!1?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,i,r=0;for(t=" "+e+" ";i=this[r++];)if(1===i.nodeType&&(" "+B(i)+" ").replace(Nt," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Lt=e.location,zt=pe.now(),Ht=/\?/,Gt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,r=null,n=pe.trim(t+"");return n&&!pe.trim(n.replace(Gt,function(e,t,n,a){return i&&t&&(r=0),0===r?e:(i=n||t,r+=!a-!n,"")}))?Function("return "+n)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var i,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new e.DOMParser,i=r.parseFromString(t,"text/xml")):(i=new e.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(n){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),i};var Bt=/#.*$/,Qt=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xt={},Jt={},Zt="*/".concat("*"),ei=Lt.href,ti=Yt.exec(ei.toLowerCase())||[];pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ei,type:"GET",isLocal:Ut.test(ti[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,pe.ajaxSettings),t):U(pe.ajaxSettings,e)},ajaxPrefilter:Q(Xt),ajaxTransport:Q(Jt),ajax:function(t,i){function r(t,i,r,n){var a,c,b,_,x,k=i;2!==y&&(y=2,l&&e.clearTimeout(l),u=void 0,o=n||"",w.readyState=t>0?4:0,a=t>=200&&t<300||304===t,r&&(_=V(h,w,r)),_=K(h,_,w,a),a?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(pe.lastModified[s]=x),x=w.getResponseHeader("etag"),x&&(pe.etag[s]=x)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=_.state,c=_.data,b=_.error,a=!b)):(b=k,!t&&k||(k="error",t<0&&(t=0))),w.status=t,w.statusText=(i||k)+"",a?g.resolveWith(p,[c,k,w]):g.rejectWith(p,[w,k,b]),w.statusCode(v),v=void 0,d&&f.trigger(a?"ajaxSuccess":"ajaxError",[w,h,a?c:b]),m.fireWith(p,[w,k]),d&&(f.trigger("ajaxComplete",[w,h]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,a,s,o,l,d,u,c,h=pe.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?pe(p):pe.event,g=pe.Deferred(),m=pe.Callbacks("once memory"),v=h.statusCode||{},b={},_={},y=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Wt.exec(o);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=_[i]=_[i]||e,b[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),r(0,t),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||ei)+"").replace(Bt,"").replace(Kt,ti[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=pe.trim(h.dataType||"*").toLowerCase().match(Ie)||[""],null==h.crossDomain&&(n=Yt.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===ti[1]&&n[2]===ti[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(ti[3]||("http:"===ti[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pe.param(h.data,h.traditional)),W(Xt,h,i,w),2===y)return w;d=pe.event&&h.global,d&&0===pe.active++&&pe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Vt.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Ht.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Qt.test(s)?s.replace(Qt,"$1_="+zt++):s+(Ht.test(s)?"&":"?")+"_="+zt++)),h.ifModified&&(pe.lastModified[s]&&w.setRequestHeader("If-Modified-Since",pe.lastModified[s]),pe.etag[s]&&w.setRequestHeader("If-None-Match",pe.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Zt+"; q=0.01":""):h.accepts["*"]);for(a in h.headers)w.setRequestHeader(a,h.headers[a]);if(h.beforeSend&&(h.beforeSend.call(p,w,h)===!1||2===y))return w.abort();x="abort";for(a in{success:1,error:1,complete:1})w[a](h[a]);if(u=W(Jt,h,i,w)){if(w.readyState=1,d&&f.trigger("ajaxSend",[w,h]),2===y)return w;h.async&&h.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},h.timeout));try{y=1,u.send(b,r)}catch(k){if(!(y<2))throw k;r(-1,k)}}else r(-1,"No Transport");return w},getJSON:function(e,t,i){return pe.get(e,t,i,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,i,r,n){return pe.isFunction(i)&&(n=n||r,r=i,i=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:n,data:i,success:r},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(i){pe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return ce.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:X(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var ii=/%20/g,ri=/\[\]$/,ni=/\r?\n/g,ai=/^(?:submit|button|image|reset|file)$/i,si=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var i,r=[],n=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){n(this.name,this.value)});else for(i in e)J(i,e[i],t,n);return r.join("&").replace(ii,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&si.test(this.nodeName)&&!ai.test(e)&&(this.checked||!Le.test(e))}).map(function(e,t){var i=pe(this).val();return null==i?null:pe.isArray(i)?pe.map(i,function(e){return{name:t.name,value:e.replace(ni,"\r\n")}}):{name:t.name,value:i.replace(ni,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():re.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var oi=0,li={},di=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in li)li[e](void 0,!0)}),ce.cors=!!di&&"withCredentials"in di,di=ce.ajax=!!di,di&&pe.ajaxTransport(function(t){if(!t.crossDomain||ce.cors){var i;return{send:function(r,n){var a,s=t.xhr(),o=++oi;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)void 0!==r[a]&&s.setRequestHeader(a,r[a]+"");
s.send(t.hasContent&&t.data||null),i=function(e,r){var a,l,d;if(i&&(r||4===s.readyState))if(delete li[o],i=void 0,s.onreadystatechange=pe.noop,r)4!==s.readyState&&s.abort();else{d={},a=s.status,"string"==typeof s.responseText&&(d.text=s.responseText);try{l=s.statusText}catch(u){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=d.text?200:404}d&&n(a,l,d,s.getAllResponseHeaders())},t.async?4===s.readyState?e.setTimeout(i):s.onreadystatechange=li[o]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=re.head||pe("head")[0]||re.documentElement;return{send:function(r,n){t=re.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||n(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ui=[],ci=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ui.pop()||pe.expando+"_"+zt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,i,r){var n,a,s,o=t.jsonp!==!1&&(ci.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ci.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(ci,"$1"+n):t.jsonp!==!1&&(t.url+=(Ht.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||pe.error(n+" was not called"),s[0]},t.dataTypes[0]="json",a=e[n],e[n]=function(){s=arguments},r.always(function(){void 0===a?pe(e).removeProp(n):e[n]=a,t[n]&&(t.jsonpCallback=i.jsonpCallback,ui.push(n)),s&&pe.isFunction(a)&&a(s[0]),s=a=void 0}),"script"}),pe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||re;var r=we.exec(e),n=!i&&[];return r?[t.createElement(r[1])]:(r=v([e],t,n),n&&n.length&&pe(n).remove(),pe.merge([],r.childNodes))};var hi=pe.fn.load;pe.fn.load=function(e,t,i){if("string"!=typeof e&&hi)return hi.apply(this,arguments);var r,n,a,s=this,o=e.indexOf(" ");return o>-1&&(r=pe.trim(e.slice(o,e.length)),e=e.slice(0,o)),pe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),s.length>0&&pe.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){a=arguments,s.html(r?pe("<div>").append(pe.parseHTML(e)).find(r):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,a||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,i){var r,n,a,s,o,l,d,u=pe.css(e,"position"),c=pe(e),h={};"static"===u&&(e.style.position="relative"),o=c.offset(),a=pe.css(e,"top"),l=pe.css(e,"left"),d=("absolute"===u||"fixed"===u)&&pe.inArray("auto",[a,l])>-1,d?(r=c.position(),s=r.top,n=r.left):(s=parseFloat(a)||0,n=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,i,pe.extend({},o))),null!=t.top&&(h.top=t.top-o.top+s),null!=t.left&&(h.left=t.left-o.left+n),"using"in t?t.using.call(e,h):c.css(h)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,i,r={top:0,left:0},n=this[0],a=n&&n.ownerDocument;if(a)return t=a.documentElement,pe.contains(t,n)?("undefined"!=typeof n.getBoundingClientRect&&(r=n.getBoundingClientRect()),i=te(a),{top:r.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,i={top:0,left:0},r=this[0];return"fixed"===pe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(i=e.offset()),i.top+=pe.css(e[0],"borderTopWidth",!0),i.left+=pe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-pe.css(r,"marginTop",!0),left:t.left-i.left-pe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||pt})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);pe.fn[e]=function(r){return Ne(this,function(e,r,n){var a=te(e);return void 0===n?a?t in a?a[t]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(i?pe(a).scrollLeft():n,i?n:pe(a).scrollTop()):e[r]=n)},e,r,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=A(ce.pixelPosition,function(e,i){if(i)return i=gt(e,t),ct.test(i)?pe(e).position()[t]+"px":i})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,r){pe.fn[r]=function(r,n){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||n===!0?"margin":"border");return Ne(this,function(t,i,r){var n;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===r?pe.css(t,i,s):pe.style(t,i,r,s)},t,a?r:void 0,a,null)}})}),pe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var pi=e.jQuery,fi=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=fi),t&&e.jQuery===pe&&(e.jQuery=pi),pe},t||(e.jQuery=e.$=pe),pe}),function(e,t,i){function r(i){var r=t.console;a[i]||(a[i]=!0,e.migrateWarnings.push(i),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+i),e.migrateTrace&&r.trace&&r.trace()))}function n(t,i,n,a){if(Object.defineProperty)try{return void Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(a),n},set:function(e){r(a),n=e}})}catch(s){}e._definePropertyBroken=!0,t[i]=n}e.migrateVersion="1.4.1";var a={};e.migrateWarnings=[],t.console&&t.console.log&&t.console.log("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion),e.migrateTrace===i&&(e.migrateTrace=!0),e.migrateReset=function(){a={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var s=e("<input/>",{size:1}).attr("size")&&e.attrFn,o=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},d=e.attrHooks.value&&e.attrHooks.value.set||function(){return i},u=/^(?:input|button)$/i,c=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;n(e,"attrFn",s||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,a,l){var d=n.toLowerCase(),f=t&&t.nodeType;return l&&(o.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!c.test(f)&&(s?n in s:e.isFunction(e.fn[n])))?e(t)[n](a):("type"===n&&a!==i&&u.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[d]&&h.test(d)&&(e.attrHooks[d]={get:function(t,r){var n,a=e.prop(t,r);return a===!0||"boolean"!=typeof a&&(n=t.getAttributeNode(r))&&n.nodeValue!==!1?r.toLowerCase():i},set:function(t,i,r){var n;return i===!1?e.removeAttr(t,r):(n=e.propFix[r]||r,n in t&&(t[n]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(d)&&r("jQuery.fn.attr('"+d+"') might use property instead of attribute")),o.call(e,t,n,a))},e.attrHooks.value={get:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?d.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),void(e.value=t))}};var f,g,m=e.fn.init,v=e.find,b=e.parseJSON,_=/^\s*</,y=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,x=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var s,o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(s=w.exec(e.trim(t)))&&s[0]&&(_.test(t)||r("$(html) HTML strings must start with '<' character"),s[3]&&r("$(html) HTML text after last tag is ignored"),"#"===s[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&n.context.nodeType&&(n=n.context),e.parseHTML)?m.call(this,e.parseHTML(s[2],n&&n.ownerDocument||n||document,!0),n,a):(o=m.apply(this,arguments),t&&t.selector!==i?(o.selector=t.selector,o.context=t.context):(o.selector="string"==typeof t?t:"",t&&(o.context=t.nodeType?t:n||document)),o)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&y.test(e))try{document.querySelector(e)}catch(i){e=e.replace(x,function(e,t,i,r){return"["+t+i+'"'+r+'"]'});try{document.querySelector(e),r("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(n){r("Attribute selector with '#' was not fixed: "+t[0])}}return v.apply(this,t)};var k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&(e.find[k]=v[k]);e.parseJSON=function(e){return e?b.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f=e.uaMatch(navigator.userAgent),g={},f.browser&&(g[f.browser]=!0,g.version=f.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),e.browser=g),n(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,n(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),n(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,i){return new t.fn.init(e,i)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,n){var a=e.fn.init.call(this,r,n,i);return a instanceof t?a:t(a)},t.fn.init.prototype=t.fn;var i=t(document);return r("jQuery.sub() is deprecated"),t},e.fn.size=function(){return r("jQuery.fn.size() is deprecated; use the .length property"),this.length};var j=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,i){var r=e.cssHooks[i]&&e.cssHooks[i].get;r&&(e.cssHooks[i].get=function(){var e;return j=!0,e=r.apply(this,arguments),j=!1,e})}),e.swap=function(e,t,i,n){var a,s,o={};j||r("jQuery.swap() is undocumented and deprecated");for(s in t)o[s]=e.style[s],e.style[s]=t[s];a=i.apply(e,n||[]);for(s in t)e.style[s]=o[s];return a},e.ajaxSetup({converters:{"text json":e.parseJSON}});var C=e.fn.data;e.fn.data=function(t){var n,a,s=this[0];return!s||"events"!==t||1!==arguments.length||(n=e.data(s,t),a=e._data(s,t),n!==i&&n!==a||a===i)?C.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),a)};var D=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,i,n,a){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,r("jQuery.clean() is deprecated");var s,o,l,d,u=[];if(e.merge(u,e.buildFragment(t,i).childNodes),n)for(l=function(e){if(!e.type||D.test(e.type))return a?a.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)},s=0;null!=(o=u[s]);s++)e.nodeName(o,"script")&&l(o)||(n.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(d=e.grep(e.merge([],o.getElementsByTagName("script")),l),u.splice.apply(u,[s+1,0].concat(d)),s+=d.length));return u});var S=e.event.add,T=e.event.remove,I=e.event.trigger,P=e.fn.toggle,A=e.fn.live,M=e.fn.die,E=e.fn.load,$="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",F=new RegExp("\\b(?:"+$+")\\b"),O=/(?:^|\s)hover(\.\S+|)\b/,q=function(t){return"string"!=typeof t||e.event.special.hover?t:(O.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(O,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&n(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,i,n,a){e!==document&&F.test(t)&&r("AJAX events should be attached to document: "+t),S.call(this,e,q(t||""),i,n,a)},e.event.remove=function(e,t,i,r,n){T.call(this,e,q(t)||"",i,r,n)},e.each(["load","unload","error"],function(t,i){e.fn[i]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof e[0]?E.apply(this,e):(r("jQuery.fn."+i+"() is deprecated"),e.splice(0,0,i),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e.fn.toggle=function(t,i){if(!e.isFunction(t)||!e.isFunction(i))return P.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var n=arguments,a=t.guid||e.guid++,s=0,o=function(i){var r=(e._data(this,"lastToggle"+t.guid)||0)%s;return e._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),n[r].apply(this,arguments)||!1};for(o.guid=a;s<n.length;)n[s++].guid=a;return this.click(o)},e.fn.live=function(t,i,n){return r("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(e(this.context).on(t,this.selector,i,n),this)},e.fn.die=function(t,i){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",i),this)},e.event.trigger=function(e,t,i,n){return i||F.test(e)||r("Global events are undocumented and deprecated"),I.call(this,e,t,i||document,n)},e.each($.split("|"),function(t,i){e.event.special[i]={setup:function(){var t=this;return t!==document&&(e.event.add(document,i+"."+e.guid,function(){e.event.trigger(i,Array.prototype.slice.call(arguments,1),t,!0)}),e._data(this,i,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,i+"."+e._data(this,i)),!1}}}),e.event.special.ready={setup:function(){this===document&&r("'ready' event is deprecated")}};var R=e.fn.andSelf||e.fn.addBack,N=e.fn.find;if(e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),R.apply(this,arguments)},e.fn.find=function(e){var t=N.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var L=e.Deferred,z=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var i=L(),n=i.promise();return i.pipe=n.pipe=function(){var t=arguments;return r("deferred.pipe() is deprecated"),e.Deferred(function(r){e.each(z,function(a,s){var o=e.isFunction(t[a])&&t[a];i[s[1]](function(){var t=o&&o.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[s[0]+"With"](this===n?r.promise():this,o?[t]:arguments)})}),t=null}).promise()},i.isResolved=function(){return r("deferred.isResolved is deprecated"),"resolved"===i.state()},i.isRejected=function(){return r("deferred.isRejected is deprecated"),"rejected"===i.state()},t&&t.call(i,i),i}}}(jQuery,window),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=e.getBoundingClientRect(),i={};for(var r in t)i[r]=t[r];if(e.ownerDocument!==document){var a=e.ownerDocument.defaultView.frameElement;if(a){var s=n(a);i.top+=s.top,i.bottom+=s.top,i.left+=s.left,i.right+=s.left}}return i}function a(e){var t=getComputedStyle(e)||{},i=t.position,r=[];if("fixed"===i)return[e];for(var n=e;(n=n.parentNode)&&n&&1===n.nodeType;){var a=void 0;try{a=getComputedStyle(n)}catch(s){}if("undefined"==typeof a||null===a)return r.push(n),r;var o=a,l=o.overflow,d=o.overflowX,u=o.overflowY;/(auto|scroll)/.test(l+u+d)&&("absolute"!==i||["relative","absolute","fixed"].indexOf(a.position)>=0)&&r.push(n)}return r.push(e.ownerDocument.body),e.ownerDocument!==document&&r.push(e.ownerDocument.defaultView),r}function s(){C&&document.body.removeChild(C),C=null}function o(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var i=t.documentElement,r=n(e),a=T();return r.top-=a.top,r.left-=a.left,"undefined"==typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"==typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-i.clientTop,r.left=r.left-i.clientLeft,r.right=t.body.clientWidth-r.width-r.left,r.bottom=t.body.clientHeight-r.height-r.top,r}function l(e){return e.offsetParent||document.documentElement}function d(){if(I)return I;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");u(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;i===r&&(r=t.clientWidth),document.body.removeChild(t);var n=i-r;return I={width:n,height:n}}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}),e}function c(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var i=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=f(e).replace(i," ");g(e,r)}}function h(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{c(e,t);var i=f(e)+(" "+t);g(e,i)}}function p(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var i=f(e);return new RegExp("(^| )"+t+"( |$)","gi").test(i)}function f(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function g(e,t){e.setAttribute("class",t)}function m(e,t,i){i.forEach(function(i){t.indexOf(i)===-1&&p(e,i)&&c(e,i)}),t.forEach(function(t){p(e,t)||h(e,t)})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+i>=t&&t>=e-i}function _(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function y(){for(var e={top:0,left:0},t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.forEach(function(t){var i=t.top,r=t.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof r&&(r=parseFloat(r,10)),e.top+=i,e.left+=r}),e}function x(e,t){return"string"==typeof e.left&&e.left.indexOf("%")!==-1&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&e.top.indexOf("%")!==-1&&(e.top=parseFloat(e.top,10)/100*t.height),e}function w(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=t,i=o(t),r=i,n=getComputedStyle(t);if(t=[r.left,r.top,i.width+r.left,i.height+r.top],e.ownerDocument!==document){var a=e.ownerDocument.defaultView;t[0]+=a.pageXOffset,t[1]+=a.pageYOffset,t[2]+=a.pageXOffset,t[3]+=a.pageYOffset}K.forEach(function(e,i){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[i]+=parseFloat(n["border"+e+"Width"]):t[i]-=parseFloat(n["border"+e+"Width"])})}(),t}var k=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),j=void 0;"undefined"==typeof j&&(j={modules:[]});var C=null,D=function(){var e=0;return function(){return++e}}(),S={},T=function(){var e=C;e&&document.body.contains(e)||(e=document.createElement("div"),e.setAttribute("data-tether-id",D()),u(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),C=e);var t=e.getAttribute("data-tether-id");return"undefined"==typeof S[t]&&(S[t]=n(e),A(function(){delete S[t]})),S[t]},I=null,P=[],A=function(e){P.push(e)},M=function(){for(var e=void 0;e=P.pop();)e()},E=function(){function e(){r(this,e)}return k(e,[{key:"on",value:function(e,t,i){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:r})}},{key:"once",value:function(e,t,i){this.on(e,t,i,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var i=0;i<this.bindings[e].length;)this.bindings[e][i].handler===t?this.bindings[e].splice(i,1):++i}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];for(;t<this.bindings[e].length;){var a=this.bindings[e][t],s=a.handler,o=a.ctx,l=a.once,d=o;"undefined"==typeof d&&(d=this),s.apply(d,r),l?this.bindings[e].splice(t,1):++t}}}}]),e}();j.Utils={getActualBoundingClientRect:n,getScrollParents:a,getBounds:o,getOffsetParent:l,extend:u,addClass:h,removeClass:c,hasClass:p,updateClasses:m,defer:A,flush:M,uniqueId:D,Evented:E,getScrollBarSize:d,removeUtilElements:s};var $=function(){function e(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){n=!0,a=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(n)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),F=function(e,t,i){for(var r=!0;r;){var n=e,a=t,s=i;r=!1,null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var d=Object.getPrototypeOf(n);if(null===d)return;e=d,t=a,i=s,r=!0,o=d=void 0}};if("undefined"==typeof j)throw new Error("You must include the utils.js file before tether.js");var O=j.Utils,a=O.getScrollParents,o=O.getBounds,l=O.getOffsetParent,u=O.extend,h=O.addClass,c=O.removeClass,m=O.updateClasses,A=O.defer,M=O.flush,d=O.getScrollBarSize,s=O.removeUtilElements,q=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<t.length;++i){var r=t[i];if(void 0!==e.style[r])return r}}(),R=[],N=function(){R.forEach(function(e){e.position(!1)}),M()};!function(){var e=null,t=null,i=null,r=function n(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(i=setTimeout(n,250))):void("undefined"!=typeof e&&_()-e<10||(null!=i&&(clearTimeout(i),i=null),e=_(),N(),t=_()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,r)})}();var L={center:"center",left:"right",right:"left"},z={middle:"middle",top:"bottom",bottom:"top"},H={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},G=function(e,t){var i=e.left,r=e.top;return"auto"===i&&(i=L[t.left]),"auto"===r&&(r=z[t.top]),{left:i,top:r}},B=function(e){var t=e.left,i=e.top;return"undefined"!=typeof H[e.left]&&(t=H[e.left]),"undefined"!=typeof H[e.top]&&(i=H[e.top]),{left:t,top:i}},Q=function(e){var t=e.split(" "),i=$(t,2),r=i[0],n=i[1];return{top:r,left:n}},W=Q,U=function(e){function t(e){var i=this;r(this,t),F(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),R.push(this),this.history=[],this.setOptions(e,!1),j.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(i)}),this.position()}return v(t,e),k(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=u(r,e);var n=this.options,s=n.element,o=n.target,l=n.targetModifier;if(this.element=s,this.target=o,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),h(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=W(this.options.targetAttachment),this.attachment=W(this.options.attachment),this.offset=Q(this.options.offset),this.targetOffset=Q(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=a(this.target),this.options.enabled!==!1&&this.enable(i)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return o(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=o(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,i=this.target;i===document.body?(i=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=o(i);var r=getComputedStyle(i),n=i.scrollWidth>i.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,a=0;n&&(a=15);var s=e.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-a,t={width:15,height:.975*s*(s/i.scrollHeight),left:e.left+e.width-parseFloat(r.borderLeftWidth)-15},l=0;s<408&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var d=this.target.scrollTop/(i.scrollHeight-s);return t.top=d*(s-t.height-l)+e.top+parseFloat(r.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;c(this.target,this.getClass("enabled")),c(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),R.forEach(function(t,i){t===e&&R.splice(i,1)}),0===R.length&&s()}},{key:"updateAttachClasses",value:function(e,t){var i=this;e=e||this.attachment,t=t||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;e.top&&n.push(this.getClass("element-attached")+"-"+e.top),e.left&&n.push(this.getClass("element-attached")+"-"+e.left),t.top&&n.push(this.getClass("target-attached")+"-"+t.top),t.left&&n.push(this.getClass("target-attached")+"-"+t.left);var a=[];r.forEach(function(e){a.push(i.getClass("element-attached")+"-"+e),a.push(i.getClass("target-attached")+"-"+e)}),A(function(){"undefined"!=typeof i._addAttachClasses&&(m(i.element,i._addAttachClasses,a),i.options.addTargetClasses!==!1&&m(i.target,i._addAttachClasses,a),delete i._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=G(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var r=this.cache("element-bounds",function(){return o(e.element)}),n=r.width,a=r.height;if(0===n&&0===a&&"undefined"!=typeof this.lastSize){var s=this.lastSize;n=s.width,a=s.height}else this.lastSize={width:n,height:a};var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),c=u,h=x(B(this.attachment),{width:n,height:a}),p=x(B(i),c),f=x(this.offset,{width:n,height:a}),g=x(this.targetOffset,c);h=y(h,f),p=y(p,g);for(var m=u.left+p.left-h.left,v=u.top+p.top-h.top,b=0;b<j.modules.length;++b){var _=j.modules[b],w=_.position.call(this,{left:m,top:v,targetAttachment:i,targetPos:u,elementPos:r,offset:h,targetOffset:p,manualOffset:f,manualTargetOffset:g,scrollbarSize:S,attachment:this.attachment});if(w===!1)return!1;"undefined"!=typeof w&&"object"==typeof w&&(v=w.top,m=w.left)}var k={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-a+innerHeight,
left:m-pageXOffset,right:pageXOffset-m-n+innerWidth}},C=this.target.ownerDocument,D=C.defaultView,S=void 0;return D.innerHeight>C.documentElement.clientHeight&&(S=this.cache("scrollbar-size",d),k.viewport.bottom-=S.height),D.innerWidth>C.documentElement.clientWidth&&(S=this.cache("scrollbar-size",d),k.viewport.right-=S.width),["","static"].indexOf(C.body.style.position)!==-1&&["","static"].indexOf(C.body.parentElement.style.position)!==-1||(k.page.bottom=C.body.scrollHeight-v-a,k.page.right=C.body.scrollWidth-m-n),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return l(e.target)}),i=e.cache("target-offsetparent-bounds",function(){return o(t)}),r=getComputedStyle(t),n=i,a={};if(["Top","Left","Bottom","Right"].forEach(function(e){a[e.toLowerCase()]=parseFloat(r["border"+e+"Width"])}),i.right=C.body.scrollWidth-i.left-n.width+a.right,i.bottom=C.body.scrollHeight-i.top-n.height+a.bottom,k.page.top>=i.top+a.top&&k.page.bottom>=i.bottom&&k.page.left>=i.left+a.left&&k.page.right>=i.right){var s=t.scrollTop,d=t.scrollLeft;k.offset={top:k.page.top-i.top+s-a.top,left:k.page.left-i.left+d-a.left}}}(),this.move(k),this.history.unshift(k),this.history.length>3&&this.history.pop(),t&&M(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var i={};for(var r in e){i[r]={};for(var n in e[r]){for(var a=!1,s=0;s<this.history.length;++s){var o=this.history[s];if("undefined"!=typeof o[r]&&!b(o[r][n],e[r][n])){a=!0;break}}a||(i[r][n]=!0)}}var d={top:"",left:"",right:"",bottom:""},c=function(e,i){var r="undefined"!=typeof t.options.optimizations,n=r?t.options.optimizations.gpu:null;if(n!==!1){var a=void 0,s=void 0;if(e.top?(d.top=0,a=i.top):(d.bottom=0,a=-i.bottom),e.left?(d.left=0,s=i.left):(d.right=0,s=-i.right),window.matchMedia){var o=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;o||(s=Math.round(s),a=Math.round(a))}d[q]="translateX("+s+"px) translateY("+a+"px)","msTransform"!==q&&(d[q]+=" translateZ(0)")}else e.top?d.top=i.top+"px":d.bottom=i.bottom+"px",e.left?d.left=i.left+"px":d.right=i.right+"px"},h=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(d.position="absolute",c(i.page,e.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(d.position="fixed",c(i.viewport,e.viewport)):"undefined"!=typeof i.offset&&i.offset.top&&i.offset.left?!function(){d.position="absolute";var r=t.cache("target-offsetparent",function(){return l(t.target)});l(t.element)!==r&&A(function(){t.element.parentNode.removeChild(t.element),r.appendChild(t.element)}),c(i.offset,e.offset),h=!0}():(d.position="absolute",c({top:!0,left:!0},e.page)),!h)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var p=!0,f=this.element.parentNode;f&&1===f.nodeType&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){p=!1;break}f=f.parentNode}p||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var n in d){var v=d[n],_=this.element.style[n];_!==v&&(m=!0,g[n]=v)}m&&A(function(){u(t.element.style,g),t.trigger("repositioned")})}}}]),t}(E);U.modules=[],j.position=N;var V=u(U,j),$=function(){function e(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){n=!0,a=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(n)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=j.Utils,o=O.getBounds,u=O.extend,m=O.updateClasses,A=O.defer,K=["left","top","right","bottom"];j.modules.push({position:function(e){var t=this,i=e.top,r=e.left,n=e.targetAttachment;if(!this.options.constraints)return!0;var a=this.cache("element-bounds",function(){return o(t.element)}),s=a.height,l=a.width;if(0===l&&0===s&&"undefined"!=typeof this.lastSize){var d=this.lastSize;l=d.width,s=d.height}var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),h=c.height,p=c.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,i=e.pinnedClass;t&&f.push(t),i&&f.push(i)}),f.forEach(function(e){["left","top","right","bottom"].forEach(function(t){f.push(e+"-"+t)})});var g=[],v=u({},n),b=u({},this.attachment);return this.options.constraints.forEach(function(e){var a=e.to,o=e.attachment,d=e.pin;"undefined"==typeof o&&(o="");var u=void 0,c=void 0;if(o.indexOf(" ")>=0){var f=o.split(" "),m=$(f,2);c=m[0],u=m[1]}else u=c=o;var _=w(t,a);"target"!==c&&"both"!==c||(i<_[1]&&"top"===v.top&&(i+=h,v.top="bottom"),i+s>_[3]&&"bottom"===v.top&&(i-=h,v.top="top")),"together"===c&&("top"===v.top&&("bottom"===b.top&&i<_[1]?(i+=h,v.top="bottom",i+=s,b.top="top"):"top"===b.top&&i+s>_[3]&&i-(s-h)>=_[1]&&(i-=s-h,v.top="bottom",b.top="bottom")),"bottom"===v.top&&("top"===b.top&&i+s>_[3]?(i-=h,v.top="top",i-=s,b.top="bottom"):"bottom"===b.top&&i<_[1]&&i+(2*s-h)<=_[3]&&(i+=s-h,v.top="top",b.top="top")),"middle"===v.top&&(i+s>_[3]&&"top"===b.top?(i-=s,b.top="bottom"):i<_[1]&&"bottom"===b.top&&(i+=s,b.top="top"))),"target"!==u&&"both"!==u||(r<_[0]&&"left"===v.left&&(r+=p,v.left="right"),r+l>_[2]&&"right"===v.left&&(r-=p,v.left="left")),"together"===u&&(r<_[0]&&"left"===v.left?"right"===b.left?(r+=p,v.left="right",r+=l,b.left="left"):"left"===b.left&&(r+=p,v.left="right",r-=l,b.left="right"):r+l>_[2]&&"right"===v.left?"left"===b.left?(r-=p,v.left="left",r-=l,b.left="right"):"right"===b.left&&(r-=p,v.left="left",r+=l,b.left="left"):"center"===v.left&&(r+l>_[2]&&"left"===b.left?(r-=l,b.left="right"):r<_[0]&&"right"===b.left&&(r+=l,b.left="left"))),"element"!==c&&"both"!==c||(i<_[1]&&"bottom"===b.top&&(i+=s,b.top="top"),i+s>_[3]&&"top"===b.top&&(i-=s,b.top="bottom")),"element"!==u&&"both"!==u||(r<_[0]&&("right"===b.left?(r+=l,b.left="left"):"center"===b.left&&(r+=l/2,b.left="left")),r+l>_[2]&&("left"===b.left?(r-=l,b.left="right"):"center"===b.left&&(r-=l/2,b.left="right"))),"string"==typeof d?d=d.split(",").map(function(e){return e.trim()}):d===!0&&(d=["top","left","right","bottom"]),d=d||[];var y=[],x=[];i<_[1]&&(d.indexOf("top")>=0?(i=_[1],y.push("top")):x.push("top")),i+s>_[3]&&(d.indexOf("bottom")>=0?(i=_[3]-s,y.push("bottom")):x.push("bottom")),r<_[0]&&(d.indexOf("left")>=0?(r=_[0],y.push("left")):x.push("left")),r+l>_[2]&&(d.indexOf("right")>=0?(r=_[2]-l,y.push("right")):x.push("right")),y.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),g.push(e),y.forEach(function(t){g.push(e+"-"+t)})}(),x.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),g.push(e),x.forEach(function(t){g.push(e+"-"+t)})}(),(y.indexOf("left")>=0||y.indexOf("right")>=0)&&(b.left=v.left=!1),(y.indexOf("top")>=0||y.indexOf("bottom")>=0)&&(b.top=v.top=!1),v.top===n.top&&v.left===n.left&&b.top===t.attachment.top&&b.left===t.attachment.left||(t.updateAttachClasses(b,v),t.trigger("update",{attachment:b,targetAttachment:v}))}),A(function(){t.options.addTargetClasses!==!1&&m(t.target,g,f),m(t.element,g,f)}),{top:i,left:r}}});var O=j.Utils,o=O.getBounds,m=O.updateClasses,A=O.defer;j.modules.push({position:function(e){var t=this,i=e.top,r=e.left,n=this.cache("element-bounds",function(){return o(t.element)}),a=n.height,s=n.width,l=this.getTargetBounds(),d=i+a,u=r+s,c=[];i<=l.bottom&&d>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==r&&t!==u||c.push(e)}),r<=l.right&&u>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==i&&t!==d||c.push(e)});var h=[],p=[],f=["left","top","right","bottom"];return h.push(this.getClass("abutted")),f.forEach(function(e){h.push(t.getClass("abutted")+"-"+e)}),c.length&&p.push(this.getClass("abutted")),c.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),A(function(){t.options.addTargetClasses!==!1&&m(t.target,p,h),m(t.element,p,h)}),!0}});var $=function(){function e(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){n=!0,a=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(n)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return j.modules.push({position:function(e){var t=e.top,i=e.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:t,left:i}));var n=void 0,a=void 0;if("string"==typeof r){r=r.split(" "),r[1]=r[1]||r[0];var s=r,o=$(s,2);n=o[0],a=o[1],n=parseFloat(n,10),a=parseFloat(a,10)}else n=r.top,a=r.left;return t+=n,i+=a,{top:t,left:i}}}}),V}),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function i(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function r(e,t,i,r){for(var n=-1,a=e?e.length:0;++n<a;){var s=e[n];t(r,s,i(s),e)}return r}function n(e,t){for(var i=-1,r=e?e.length:0;++i<r&&t(e[i],i,e)!==!1;);return e}function a(e,t){for(var i=e?e.length:0;i--&&t(e[i],i,e)!==!1;);return e}function s(e,t){for(var i=-1,r=e?e.length:0;++i<r;)if(!t(e[i],i,e))return!1;return!0}function o(e,t){for(var i=-1,r=e?e.length:0,n=0,a=[];++i<r;){var s=e[i];t(s,i,e)&&(a[n++]=s)}return a}function l(e,t){var i=e?e.length:0;return!!i&&_(e,t,0)>-1}function d(e,t,i){for(var r=-1,n=e?e.length:0;++r<n;)if(i(t,e[r]))return!0;return!1}function u(e,t){for(var i=-1,r=e?e.length:0,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}function c(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}function h(e,t,i,r){var n=-1,a=e?e.length:0;for(r&&a&&(i=e[++n]);++n<a;)i=t(i,e[n],n,e);return i}function p(e,t,i,r){var n=e?e.length:0;for(r&&n&&(i=e[--n]);n--;)i=t(i,e[n],n,e);return i}function f(e,t){for(var i=-1,r=e?e.length:0;++i<r;)if(t(e[i],i,e))return!0;return!1}function g(e){return e.split("")}function m(e){return e.match(At)||[]}function v(e,t,i){var r;return i(e,function(e,i,n){if(t(e,i,n))return r=i,!1}),r}function b(e,t,i,r){for(var n=e.length,a=i+(r?1:-1);r?a--:++a<n;)if(t(e[a],a,e))return a;return-1}function _(e,t,i){return t===t?W(e,t,i):b(e,x,i)}function y(e,t,i,r){for(var n=i-1,a=e.length;++n<a;)if(r(e[n],t))return n;return-1}function x(e){return e!==e}function w(e,t){var i=e?e.length:0;return i?S(e,t)/i:Ie}function k(e){return function(t){return null==t?Z:t[e]}}function j(e){return function(t){return null==e?Z:e[t]}}function C(e,t,i,r,n){return n(e,function(e,n,a){i=r?(r=!1,e):t(i,e,n,a)}),i}function D(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function S(e,t){for(var i,r=-1,n=e.length;++r<n;){var a=t(e[r]);a!==Z&&(i=i===Z?a:i+a)}return i}function T(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}function I(e,t){return u(t,function(t){return[t,e[t]]})}function P(e){return function(t){return e(t)}}function A(e,t){return u(t,function(t){return e[t]})}function M(e,t){return e.has(t)}function E(e,t){for(var i=-1,r=e.length;++i<r&&_(t,e[i],0)>-1;);return i}function $(e,t){for(var i=e.length;i--&&_(t,e[i],0)>-1;);return i}function F(e,t){for(var i=e.length,r=0;i--;)e[i]===t&&++r;return r}function O(e){return"\\"+Ni[e]}function q(e,t){return null==e?Z:e[t]}function R(e){return Pi.test(e)}function N(e){return Ai.test(e)}function L(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}function z(e){var t=-1,i=Array(e.size);return e.forEach(function(e,r){i[++t]=[r,e]}),i}function H(e,t){return function(i){return e(t(i))}}function G(e,t){for(var i=-1,r=e.length,n=0,a=[];++i<r;){var s=e[i];s!==t&&s!==se||(e[i]=se,a[n++]=i)}return a}function B(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function Q(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=[e,e]}),i}function W(e,t,i){for(var r=i-1,n=e.length;++r<n;)if(e[r]===t)return r;return-1}function U(e,t,i){for(var r=i+1;r--;)if(e[r]===t)return r;return r}function V(e){return R(e)?Y(e):ir(e)}function K(e){return R(e)?X(e):g(e)}function Y(e){for(var t=Ti.lastIndex=0;Ti.test(e);)++t;return t}function X(e){return e.match(Ti)||[]}function J(e){return e.match(Ii)||[]}var Z,ee="4.16.4",te=200,ie="Unsupported core-js use. Try https://github.com/es-shims.",re="Expected a function",ne="__lodash_hash_undefined__",ae=500,se="__lodash_placeholder__",oe=1,le=2,de=4,ue=8,ce=16,he=32,pe=64,fe=128,ge=256,me=512,ve=1,be=2,_e=30,ye="...",xe=500,we=16,ke=1,je=2,Ce=3,De=1/0,Se=9007199254740991,Te=1.7976931348623157e308,Ie=NaN,Pe=4294967295,Ae=Pe-1,Me=Pe>>>1,Ee=[["ary",fe],["bind",oe],["bindKey",le],["curry",ue],["curryRight",ce],["flip",me],["partial",he],["partialRight",pe],["rearg",ge]],$e="[object Arguments]",Fe="[object Array]",Oe="[object Boolean]",qe="[object Date]",Re="[object Error]",Ne="[object Function]",Le="[object GeneratorFunction]",ze="[object Map]",He="[object Number]",Ge="[object Object]",Be="[object Promise]",Qe="[object Proxy]",We="[object RegExp]",Ue="[object Set]",Ve="[object String]",Ke="[object Symbol]",Ye="[object WeakMap]",Xe="[object WeakSet]",Je="[object ArrayBuffer]",Ze="[object DataView]",et="[object Float32Array]",tt="[object Float64Array]",it="[object Int8Array]",rt="[object Int16Array]",nt="[object Int32Array]",at="[object Uint8Array]",st="[object Uint8ClampedArray]",ot="[object Uint16Array]",lt="[object Uint32Array]",dt=/\b__p \+= '';/g,ut=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ht=/&(?:amp|lt|gt|quot|#39);/g,pt=/[&<>"']/g,ft=RegExp(ht.source),gt=RegExp(pt.source),mt=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,bt=/<%=([\s\S]+?)%>/g,_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yt=/^\w*$/,xt=/^\./,wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,jt=RegExp(kt.source),Ct=/^\s+|\s+$/g,Dt=/^\s+/,St=/\s+$/,Tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Pt=/,? & /,At=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,Ft=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Rt=/^0o[0-7]+$/i,Nt=/^(?:0|[1-9]\d*)$/,Lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zt=/($^)/,Ht=/['\n\r\u2028\u2029\\]/g,Gt="\\ud800-\\udfff",Bt="\\u0300-\\u036f\\ufe20-\\ufe23",Qt="\\u20d0-\\u20f0",Wt="\\u2700-\\u27bf",Ut="a-z\\xdf-\\xf6\\xf8-\\xff",Vt="\\xac\\xb1\\xd7\\xf7",Kt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yt="\\u2000-\\u206f",Xt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="A-Z\\xc0-\\xd6\\xd8-\\xde",Zt="\\ufe0e\\ufe0f",ei=Vt+Kt+Yt+Xt,ti="['’]",ii="["+Gt+"]",ri="["+ei+"]",ni="["+Bt+Qt+"]",ai="\\d+",si="["+Wt+"]",oi="["+Ut+"]",li="[^"+Gt+ei+ai+Wt+Ut+Jt+"]",di="\\ud83c[\\udffb-\\udfff]",ui="(?:"+ni+"|"+di+")",ci="[^"+Gt+"]",hi="(?:\\ud83c[\\udde6-\\uddff]){2}",pi="[\\ud800-\\udbff][\\udc00-\\udfff]",fi="["+Jt+"]",gi="\\u200d",mi="(?:"+oi+"|"+li+")",vi="(?:"+fi+"|"+li+")",bi="(?:"+ti+"(?:d|ll|m|re|s|t|ve))?",_i="(?:"+ti+"(?:D|LL|M|RE|S|T|VE))?",yi=ui+"?",xi="["+Zt+"]?",wi="(?:"+gi+"(?:"+[ci,hi,pi].join("|")+")"+xi+yi+")*",ki=xi+yi+wi,ji="(?:"+[si,hi,pi].join("|")+")"+ki,Ci="(?:"+[ci+ni+"?",ni,hi,pi,ii].join("|")+")",Di=RegExp(ti,"g"),Si=RegExp(ni,"g"),Ti=RegExp(di+"(?="+di+")|"+Ci+ki,"g"),Ii=RegExp([fi+"?"+oi+"+"+bi+"(?="+[ri,fi,"$"].join("|")+")",vi+"+"+_i+"(?="+[ri,fi+mi,"$"].join("|")+")",fi+"?"+mi+"+"+bi,fi+"+"+_i,ai,ji].join("|"),"g"),Pi=RegExp("["+gi+Gt+Bt+Qt+Zt+"]"),Ai=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ei=-1,$i={};$i[et]=$i[tt]=$i[it]=$i[rt]=$i[nt]=$i[at]=$i[st]=$i[ot]=$i[lt]=!0,$i[$e]=$i[Fe]=$i[Je]=$i[Oe]=$i[Ze]=$i[qe]=$i[Re]=$i[Ne]=$i[ze]=$i[He]=$i[Ge]=$i[We]=$i[Ue]=$i[Ve]=$i[Ye]=!1;var Fi={};Fi[$e]=Fi[Fe]=Fi[Je]=Fi[Ze]=Fi[Oe]=Fi[qe]=Fi[et]=Fi[tt]=Fi[it]=Fi[rt]=Fi[nt]=Fi[ze]=Fi[He]=Fi[Ge]=Fi[We]=Fi[Ue]=Fi[Ve]=Fi[Ke]=Fi[at]=Fi[st]=Fi[ot]=Fi[lt]=!0,Fi[Re]=Fi[Ne]=Fi[Ye]=!1;var Oi={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ri={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ni={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Li=parseFloat,zi=parseInt,Hi="object"==typeof global&&global&&global.Object===Object&&global,Gi="object"==typeof self&&self&&self.Object===Object&&self,Bi=Hi||Gi||Function("return this")(),Qi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wi=Qi&&"object"==typeof module&&module&&!module.nodeType&&module,Ui=Wi&&Wi.exports===Qi,Vi=Ui&&Hi.process,Ki=function(){try{return Vi&&Vi.binding("util")}catch(e){}}(),Yi=Ki&&Ki.isArrayBuffer,Xi=Ki&&Ki.isDate,Ji=Ki&&Ki.isMap,Zi=Ki&&Ki.isRegExp,er=Ki&&Ki.isSet,tr=Ki&&Ki.isTypedArray,ir=k("length"),rr=j(Oi),nr=j(qi),ar=j(Ri),sr=function lr(g){function j(e){if(Xo(e)&&!oh(e)&&!(e instanceof X)){if(e instanceof Y)return e;if(du.call(e,"__wrapped__"))return Ua(e)}return new Y(e)}function W(){}function Y(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Z}function X(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function At(){var e=new X(this.__wrapped__);return e.__actions__=En(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=En(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=En(this.__views__),e}function Gt(){if(this.__filtered__){var e=new X(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Bt(){var e=this.__wrapped__.value(),t=this.__dir__,i=oh(e),r=t<0,n=i?e.length:0,a=va(0,n,this.__views__),s=a.start,o=a.end,l=o-s,d=r?o:s-1,u=this.__iteratees__,c=u.length,h=0,p=qu(l,this.__takeCount__);if(!i||n<te||n==l&&p==l)return fn(e,this.__actions__);var f=[];e:for(;l--&&h<p;){d+=t;for(var g=-1,m=e[d];++g<c;){var v=u[g],b=v.iteratee,_=v.type,y=b(m);if(_==je)m=y;else if(!y){if(_==ke)continue e;break e}}f[h++]=m}return f}function Qt(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function Wt(){this.__data__=Uu?Uu(null):{},this.size=0}function Ut(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Vt(e){var t=this.__data__;if(Uu){var i=t[e];return i===ne?Z:i}return du.call(t,e)?t[e]:Z}function Kt(e){var t=this.__data__;return Uu?t[e]!==Z:du.call(t,e)}function Yt(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Uu&&t===Z?ne:t,this}function Xt(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function Jt(){this.__data__=[],this.size=0}function Zt(e){var t=this.__data__,i=Ci(t,e);if(i<0)return!1;var r=t.length-1;return i==r?t.pop():ku.call(t,i,1),--this.size,!0}function ei(e){var t=this.__data__,i=Ci(t,e);return i<0?Z:t[i][1]}function ti(e){return Ci(this.__data__,e)>-1}function ii(e,t){var i=this.__data__,r=Ci(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}function ri(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function ni(){this.size=0,this.__data__={hash:new Qt,map:new(Gu||Xt),string:new Qt}}function ai(e){var t=fa(this,e)["delete"](e);return this.size-=t?1:0,t}function si(e){return fa(this,e).get(e)}function oi(e){return fa(this,e).has(e)}function li(e,t){var i=fa(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}function di(e){var t=-1,i=e?e.length:0;for(this.__data__=new ri;++t<i;)this.add(e[t])}function ui(e){return this.__data__.set(e,ne),this}function ci(e){return this.__data__.has(e)}function hi(e){var t=this.__data__=new Xt(e);this.size=t.size}function pi(){this.__data__=new Xt,this.size=0}function fi(e){var t=this.__data__,i=t["delete"](e);return this.size=t.size,i}function gi(e){return this.__data__.get(e)}function mi(e){return this.__data__.has(e)}function vi(e,t){var i=this.__data__;if(i instanceof Xt){var r=i.__data__;if(!Gu||r.length<te-1)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new ri(r)}return i.set(e,t),this.size=i.size,this}function bi(e,t){var i=oh(e),r=!i&&sh(e),n=!i&&!r&&dh(e),a=!i&&!r&&!n&&fh(e),s=i||r||n||a,o=s?T(e.length,tu):[],l=o.length;for(var d in e)!t&&!du.call(e,d)||s&&("length"==d||n&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Ca(d,l))||o.push(d);return o}function _i(e){var t=e.length;return t?e[Vr(0,t-1)]:Z}function yi(e,t){return Ga(En(e),Oi(t,0,e.length))}function xi(e){return Ga(En(e))}function wi(e,t,i,r){return e===Z||qo(e,au[i])&&!du.call(r,i)?t:e}function ki(e,t,i){(i===Z||qo(e[t],i))&&(i!==Z||t in e)||Pi(e,t,i)}function ji(e,t,i){var r=e[t];du.call(e,t)&&qo(r,i)&&(i!==Z||t in e)||Pi(e,t,i)}function Ci(e,t){for(var i=e.length;i--;)if(qo(e[i][0],t))return i;return-1}function Ti(e,t,i,r){return ac(e,function(e,n,a){t(r,e,i(e),a)}),r}function Ii(e,t){return e&&$n(t,Ml(t),e)}function Pi(e,t,i){"__proto__"==t&&Cu?Cu(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Ai(e,t){for(var i=-1,r=null==e,n=t.length,a=Vd(n);++i<n;)a[i]=r?Z:Il(e,t[i]);return a}function Oi(e,t,i){return e===e&&(i!==Z&&(e=e<=i?e:i),t!==Z&&(e=e>=t?e:t)),e}function qi(e,t,i,r,a,s,o){var l;if(r&&(l=s?r(e,a,s,o):r(e)),l!==Z)return l;if(!Yo(e))return e;var d=oh(e);if(d){if(l=ya(e),!t)return En(e,l)}else{var u=vc(e),c=u==Ne||u==Le;if(dh(e))return xn(e,t);if(u==Ge||u==$e||c&&!s){if(l=xa(c?{}:e),!t)return Fn(e,Ii(l,e))}else{if(!Fi[u])return s?e:{};l=wa(e,u,qi,t)}}o||(o=new hi);var h=o.get(e);if(h)return h;o.set(e,l);var p=d?Z:(i?da:Ml)(e);return n(p||e,function(n,a){p&&(a=n,n=e[a]),ji(l,a,qi(n,t,i,r,a,e,o))}),l}function Ri(e){var t=Ml(e);return function(i){return Ni(i,e,t)}}function Ni(e,t,i){var r=i.length;if(null==e)return!r;for(e=Zd(e);r--;){var n=i[r],a=t[n],s=e[n];if(s===Z&&!(n in e)||!a(s))return!1}return!0}function Hi(e,t,i){if("function"!=typeof e)throw new iu(re);return yc(function(){e.apply(Z,i)},t)}function Gi(e,t,i,r){var n=-1,a=l,s=!0,o=e.length,c=[],h=t.length;if(!o)return c;i&&(t=u(t,P(i))),r?(a=d,s=!1):t.length>=te&&(a=M,s=!1,t=new di(t));e:for(;++n<o;){var p=e[n],f=i?i(p):p;if(p=r||0!==p?p:0,s&&f===f){for(var g=h;g--;)if(t[g]===f)continue e;c.push(p)}else a(t,f,r)||c.push(p)}return c}function Qi(e,t){var i=!0;return ac(e,function(e,r,n){return i=!!t(e,r,n)}),i}function Wi(e,t,i){for(var r=-1,n=e.length;++r<n;){var a=e[r],s=t(a);if(null!=s&&(o===Z?s===s&&!ll(s):i(s,o)))var o=s,l=a}return l}function Vi(e,t,i,r){var n=e.length;for(i=fl(i),i<0&&(i=-i>n?0:n+i),r=r===Z||r>n?n:fl(r),r<0&&(r+=n),r=i>r?0:gl(r);i<r;)e[i++]=t;return e}function Ki(e,t){var i=[];return ac(e,function(e,r,n){t(e,r,n)&&i.push(e)}),i}function ir(e,t,i,r,n){var a=-1,s=e.length;for(i||(i=ja),n||(n=[]);++a<s;){var o=e[a];t>0&&i(o)?t>1?ir(o,t-1,i,r,n):c(n,o):r||(n[n.length]=o)}return n}function sr(e,t){return e&&oc(e,t,Ml)}function dr(e,t){return e&&lc(e,t,Ml)}function ur(e,t){return o(t,function(t){return Uo(e[t])})}function cr(e,t){t=Sa(t,e)?[t]:_n(t);for(var i=0,r=t.length;null!=e&&i<r;)e=e[Ba(t[i++])];return i&&i==r?e:Z}function hr(e,t,i){var r=t(e);return oh(e)?r:c(r,i(e))}function pr(e){return hu.call(e)}function fr(e,t){return e>t}function gr(e,t){return null!=e&&du.call(e,t)}function mr(e,t){return null!=e&&t in Zd(e)}function vr(e,t,i){return e>=qu(t,i)&&e<Ou(t,i)}function br(e,t,i){for(var r=i?d:l,n=e[0].length,a=e.length,s=a,o=Vd(a),c=1/0,h=[];s--;){var p=e[s];s&&t&&(p=u(p,P(t))),c=qu(p.length,c),o[s]=!i&&(t||n>=120&&p.length>=120)?new di(s&&p):Z}p=e[0];var f=-1,g=o[0];e:for(;++f<n&&h.length<c;){var m=p[f],v=t?t(m):m;if(m=i||0!==m?m:0,!(g?M(g,v):r(h,v,i))){for(s=a;--s;){var b=o[s];if(!(b?M(b,v):r(e[s],v,i)))continue e}g&&g.push(v),h.push(m)}}return h}function _r(e,t,i,r){return sr(e,function(e,n,a){t(r,i(e),n,a)}),r}function yr(e,t,r){Sa(t,e)||(t=_n(t),e=Na(e,t),t=hs(t));var n=null==e?e:e[Ba(t)];return null==n?Z:i(n,e,r)}function xr(e){return Xo(e)&&hu.call(e)==$e}function wr(e){return Xo(e)&&hu.call(e)==Je}function kr(e){return Xo(e)&&hu.call(e)==qe}function jr(e,t,i,r,n){return e===t||(null==e||null==t||!Yo(e)&&!Xo(t)?e!==e&&t!==t:Cr(e,t,jr,i,r,n))}function Cr(e,t,i,r,n,a){var s=oh(e),o=oh(t),l=Fe,d=Fe;s||(l=vc(e),l=l==$e?Ge:l),o||(d=vc(t),d=d==$e?Ge:d);var u=l==Ge,c=d==Ge,h=l==d;if(h&&dh(e)){if(!dh(t))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new hi),s||fh(e)?aa(e,t,i,r,n,a):sa(e,t,l,i,r,n,a);if(!(n&be)){var p=u&&du.call(e,"__wrapped__"),f=c&&du.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,m=f?t.value():t;return a||(a=new hi),i(g,m,r,n,a)}}return!!h&&(a||(a=new hi),oa(e,t,i,r,n,a))}function Dr(e){return Xo(e)&&vc(e)==ze}function Sr(e,t,i,r){var n=i.length,a=n,s=!r;if(null==e)return!a;for(e=Zd(e);n--;){var o=i[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<a;){o=i[n];var l=o[0],d=e[l],u=o[1];if(s&&o[2]){if(d===Z&&!(l in e))return!1}else{var c=new hi;if(r)var h=r(d,u,l,e,t,c);if(!(h===Z?jr(u,d,r,ve|be,c):h))return!1}}return!0}function Tr(e){if(!Yo(e)||Pa(e))return!1;var t=Uo(e)?fu:qt;return t.test(Qa(e))}function Ir(e){return Yo(e)&&hu.call(e)==We}function Pr(e){return Xo(e)&&vc(e)==Ue}function Ar(e){return Xo(e)&&Ko(e.length)&&!!$i[hu.call(e)]}function Mr(e){return"function"==typeof e?e:null==e?wd:"object"==typeof e?oh(e)?Rr(e[0],e[1]):qr(e):Pd(e)}function Er(e){if(!Aa(e))return Fu(e);var t=[];for(var i in Zd(e))du.call(e,i)&&"constructor"!=i&&t.push(i);return t}function $r(e){if(!Yo(e))return qa(e);var t=Aa(e),i=[];for(var r in e)("constructor"!=r||!t&&du.call(e,r))&&i.push(r);return i}function Fr(e,t){return e<t}function Or(e,t){var i=-1,r=Ro(e)?Vd(e.length):[];return ac(e,function(e,n,a){r[++i]=t(e,n,a)}),r}function qr(e){var t=ga(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(i){return i===e||Sr(i,e,t)}}function Rr(e,t){return Sa(e)&&Ma(t)?Ea(Ba(e),t):function(i){var r=Il(i,e);return r===Z&&r===t?Al(i,e):jr(t,r,Z,ve|be)}}function Nr(e,t,i,r,n){e!==t&&oc(t,function(a,s){if(Yo(a))n||(n=new hi),Lr(e,t,s,i,Nr,r,n);else{var o=r?r(e[s],a,s+"",e,t,n):Z;o===Z&&(o=a),ki(e,s,o)}},El)}function Lr(e,t,i,r,n,a,s){var o=e[i],l=t[i],d=s.get(l);if(d)return void ki(e,i,d);var u=a?a(o,l,i+"",e,t,s):Z,c=u===Z;if(c){var h=oh(l),p=!h&&dh(l),f=!h&&!p&&fh(l);u=l,h||p||f?oh(o)?u=o:No(o)?u=En(o):p?(c=!1,u=xn(l,!0)):f?(c=!1,u=Tn(l,!0)):u=[]:al(l)||sh(l)?(u=o,sh(o)?u=vl(o):(!Yo(o)||r&&Uo(o))&&(u=xa(l))):c=!1}c&&(s.set(l,u),n(u,l,r,a,s),s["delete"](l)),ki(e,i,u)}function zr(e,t){var i=e.length;if(i)return t+=t<0?i:0,Ca(t,i)?e[t]:Z}function Hr(e,t,i){var r=-1;t=u(t.length?t:[wd],P(pa()));var n=Or(e,function(e,i,n){var a=u(t,function(t){return t(e)});return{criteria:a,index:++r,value:e}});return D(n,function(e,t){return Pn(e,t,i)})}function Gr(e,t){return e=Zd(e),Br(e,t,function(t,i){return i in e})}function Br(e,t,i){for(var r=-1,n=t.length,a={};++r<n;){var s=t[r],o=e[s];i(o,s)&&Pi(a,s,o)}return a}function Qr(e){return function(t){return cr(t,e)}}function Wr(e,t,i,r){var n=r?y:_,a=-1,s=t.length,o=e;for(e===t&&(t=En(t)),i&&(o=u(e,P(i)));++a<s;)for(var l=0,d=t[a],c=i?i(d):d;(l=n(o,c,l,r))>-1;)o!==e&&ku.call(o,l,1),ku.call(e,l,1);return e}function Ur(e,t){for(var i=e?t.length:0,r=i-1;i--;){var n=t[i];if(i==r||n!==a){var a=n;if(Ca(n))ku.call(e,n,1);else if(Sa(n,e))delete e[Ba(n)];else{var s=_n(n),o=Na(e,s);null!=o&&delete o[Ba(hs(s))]}}}return e}function Vr(e,t){return e+Pu(Lu()*(t-e+1))}function Kr(e,t,i,r){for(var n=-1,a=Ou(Iu((t-e)/(i||1)),0),s=Vd(a);a--;)s[r?a:++n]=e,e+=i;return s}function Yr(e,t){var i="";if(!e||t<1||t>Se)return i;do t%2&&(i+=e),t=Pu(t/2),t&&(e+=e);while(t);return i}function Xr(e,t){return xc(Ra(e,t,wd),e+"")}function Jr(e){return _i(Ql(e))}function Zr(e,t){var i=Ql(e);return Ga(i,Oi(t,0,i.length))}function en(e,t,i,r){if(!Yo(e))return e;t=Sa(t,e)?[t]:_n(t);for(var n=-1,a=t.length,s=a-1,o=e;null!=o&&++n<a;){var l=Ba(t[n]),d=i;if(n!=s){var u=o[l];d=r?r(u,l,o):Z,d===Z&&(d=Yo(u)?u:Ca(t[n+1])?[]:{})}ji(o,l,d),o=o[l]}return e}function tn(e){return Ga(Ql(e))}function rn(e,t,i){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),i=i>n?n:i,i<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var a=Vd(n);++r<n;)a[r]=e[r+t];return a}function nn(e,t){var i;return ac(e,function(e,r,n){return i=t(e,r,n),!i}),!!i}function an(e,t,i){var r=0,n=e?e.length:r;if("number"==typeof t&&t===t&&n<=Me){for(;r<n;){var a=r+n>>>1,s=e[a];null!==s&&!ll(s)&&(i?s<=t:s<t)?r=a+1:n=a}return n}return sn(e,t,wd,i)}function sn(e,t,i,r){t=i(t);for(var n=0,a=e?e.length:0,s=t!==t,o=null===t,l=ll(t),d=t===Z;n<a;){var u=Pu((n+a)/2),c=i(e[u]),h=c!==Z,p=null===c,f=c===c,g=ll(c);if(s)var m=r||f;else m=d?f&&(r||h):o?f&&h&&(r||!p):l?f&&h&&!p&&(r||!g):!p&&!g&&(r?c<=t:c<t);m?n=u+1:a=u}return qu(a,Ae)}function on(e,t){for(var i=-1,r=e.length,n=0,a=[];++i<r;){var s=e[i],o=t?t(s):s;if(!i||!qo(o,l)){var l=o;a[n++]=0===s?0:s}}return a}function ln(e){return"number"==typeof e?e:ll(e)?Ie:+e}function dn(e){if("string"==typeof e)return e;if(oh(e))return u(e,dn)+"";if(ll(e))return rc?rc.call(e):"";var t=e+"";return"0"==t&&1/e==-De?"-0":t}function un(e,t,i){var r=-1,n=l,a=e.length,s=!0,o=[],u=o;if(i)s=!1,n=d;else if(a>=te){var c=t?null:pc(e);if(c)return B(c);s=!1,n=M,u=new di}else u=t?[]:o;e:for(;++r<a;){var h=e[r],p=t?t(h):h;if(h=i||0!==h?h:0,s&&p===p){for(var f=u.length;f--;)if(u[f]===p)continue e;t&&u.push(p),o.push(h)}else n(u,p,i)||(u!==o&&u.push(p),o.push(h))}return o}function cn(e,t){t=Sa(t,e)?[t]:_n(t),e=Na(e,t);var i=Ba(hs(t));return!(null!=e&&du.call(e,i))||delete e[i]}function hn(e,t,i,r){return en(e,t,i(cr(e,t)),r)}function pn(e,t,i,r){for(var n=e.length,a=r?n:-1;(r?a--:++a<n)&&t(e[a],a,e););return i?rn(e,r?0:a,r?a+1:n):rn(e,r?a+1:0,r?n:a)}function fn(e,t){var i=e;return i instanceof X&&(i=i.value()),
h(t,function(e,t){return t.func.apply(t.thisArg,c([e],t.args))},i)}function gn(e,t,i){for(var r=-1,n=e.length;++r<n;)var a=a?c(Gi(a,e[r],t,i),Gi(e[r],a,t,i)):e[r];return a&&a.length?un(a,t,i):[]}function mn(e,t,i){for(var r=-1,n=e.length,a=t.length,s={};++r<n;){var o=r<a?t[r]:Z;i(s,e[r],o)}return s}function vn(e){return No(e)?e:[]}function bn(e){return"function"==typeof e?e:wd}function _n(e){return oh(e)?e:wc(e)}function yn(e,t,i){var r=e.length;return i=i===Z?r:i,!t&&i>=r?e:rn(e,t,i)}function xn(e,t){if(t)return e.slice();var i=e.length,r=bu?bu(i):new e.constructor(i);return e.copy(r),r}function wn(e){var t=new e.constructor(e.byteLength);return new vu(t).set(new vu(e)),t}function kn(e,t){var i=t?wn(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function jn(t,i,r){var n=i?r(z(t),!0):z(t);return h(n,e,new t.constructor)}function Cn(e){var t=new e.constructor(e.source,$t.exec(e));return t.lastIndex=e.lastIndex,t}function Dn(e,i,r){var n=i?r(B(e),!0):B(e);return h(n,t,new e.constructor)}function Sn(e){return ic?Zd(ic.call(e)):{}}function Tn(e,t){var i=t?wn(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function In(e,t){if(e!==t){var i=e!==Z,r=null===e,n=e===e,a=ll(e),s=t!==Z,o=null===t,l=t===t,d=ll(t);if(!o&&!d&&!a&&e>t||a&&s&&l&&!o&&!d||r&&s&&l||!i&&l||!n)return 1;if(!r&&!a&&!d&&e<t||d&&i&&n&&!r&&!a||o&&i&&n||!s&&n||!l)return-1}return 0}function Pn(e,t,i){for(var r=-1,n=e.criteria,a=t.criteria,s=n.length,o=i.length;++r<s;){var l=In(n[r],a[r]);if(l){if(r>=o)return l;var d=i[r];return l*("desc"==d?-1:1)}}return e.index-t.index}function An(e,t,i,r){for(var n=-1,a=e.length,s=i.length,o=-1,l=t.length,d=Ou(a-s,0),u=Vd(l+d),c=!r;++o<l;)u[o]=t[o];for(;++n<s;)(c||n<a)&&(u[i[n]]=e[n]);for(;d--;)u[o++]=e[n++];return u}function Mn(e,t,i,r){for(var n=-1,a=e.length,s=-1,o=i.length,l=-1,d=t.length,u=Ou(a-o,0),c=Vd(u+d),h=!r;++n<u;)c[n]=e[n];for(var p=n;++l<d;)c[p+l]=t[l];for(;++s<o;)(h||n<a)&&(c[p+i[s]]=e[n++]);return c}function En(e,t){var i=-1,r=e.length;for(t||(t=Vd(r));++i<r;)t[i]=e[i];return t}function $n(e,t,i,r){var n=!i;i||(i={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=r?r(i[o],e[o],o,i,e):Z;l===Z&&(l=e[o]),n?Pi(i,o,l):ji(i,o,l)}return i}function Fn(e,t){return $n(e,gc(e),t)}function On(e,t){return function(i,n){var a=oh(i)?r:Ti,s=t?t():{};return a(i,e,pa(n,2),s)}}function qn(e){return Xr(function(t,i){var r=-1,n=i.length,a=n>1?i[n-1]:Z,s=n>2?i[2]:Z;for(a=e.length>3&&"function"==typeof a?(n--,a):Z,s&&Da(i[0],i[1],s)&&(a=n<3?Z:a,n=1),t=Zd(t);++r<n;){var o=i[r];o&&e(t,o,r,a)}return t})}function Rn(e,t){return function(i,r){if(null==i)return i;if(!Ro(i))return e(i,r);for(var n=i.length,a=t?n:-1,s=Zd(i);(t?a--:++a<n)&&r(s[a],a,s)!==!1;);return i}}function Nn(e){return function(t,i,r){for(var n=-1,a=Zd(t),s=r(t),o=s.length;o--;){var l=s[e?o:++n];if(i(a[l],l,a)===!1)break}return t}}function Ln(e,t,i){function r(){var t=this&&this!==Bi&&this instanceof r?a:e;return t.apply(n?i:this,arguments)}var n=t&oe,a=Gn(e);return r}function zn(e){return function(t){t=_l(t);var i=R(t)?K(t):Z,r=i?i[0]:t.charAt(0),n=i?yn(i,1).join(""):t.slice(1);return r[e]()+n}}function Hn(e){return function(t){return h(vd(Xl(t).replace(Di,"")),e,"")}}function Gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=nc(e.prototype),r=e.apply(i,t);return Yo(r)?r:i}}function Bn(e,t,r){function n(){for(var s=arguments.length,o=Vd(s),l=s,d=ha(n);l--;)o[l]=arguments[l];var u=s<3&&o[0]!==d&&o[s-1]!==d?[]:G(o,d);if(s-=u.length,s<r)return ta(e,t,Un,n.placeholder,Z,o,u,Z,Z,r-s);var c=this&&this!==Bi&&this instanceof n?a:e;return i(c,this,o)}var a=Gn(e);return n}function Qn(e){return function(t,i,r){var n=Zd(t);if(!Ro(t)){var a=pa(i,3);t=Ml(t),i=function(e){return a(n[e],e,n)}}var s=e(t,i,r);return s>-1?n[a?t[s]:s]:Z}}function Wn(e){return la(function(t){var i=t.length,r=i,n=Y.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new iu(re);if(n&&!s&&"wrapper"==ca(a))var s=new Y([],(!0))}for(r=s?r:i;++r<i;){a=t[r];var o=ca(a),l="wrapper"==o?fc(a):Z;s=l&&Ia(l[0])&&l[1]==(fe|ue|he|ge)&&!l[4].length&&1==l[9]?s[ca(l[0])].apply(s,l[3]):1==a.length&&Ia(a)?s[o]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&oh(r)&&r.length>=te)return s.plant(r).value();for(var n=0,a=i?t[n].apply(this,e):r;++n<i;)a=t[n].call(this,a);return a}})}function Un(e,t,i,r,n,a,s,o,l,d){function u(){for(var v=arguments.length,b=Vd(v),_=v;_--;)b[_]=arguments[_];if(f)var y=ha(u),x=F(b,y);if(r&&(b=An(b,r,n,f)),a&&(b=Mn(b,a,s,f)),v-=x,f&&v<d){var w=G(b,y);return ta(e,t,Un,u.placeholder,i,b,w,o,l,d-v)}var k=h?i:this,j=p?k[e]:e;return v=b.length,o?b=La(b,o):g&&v>1&&b.reverse(),c&&l<v&&(b.length=l),this&&this!==Bi&&this instanceof u&&(j=m||Gn(j)),j.apply(k,b)}var c=t&fe,h=t&oe,p=t&le,f=t&(ue|ce),g=t&me,m=p?Z:Gn(e);return u}function Vn(e,t){return function(i,r){return _r(i,e,t(r),{})}}function Kn(e,t){return function(i,r){var n;if(i===Z&&r===Z)return t;if(i!==Z&&(n=i),r!==Z){if(n===Z)return r;"string"==typeof i||"string"==typeof r?(i=dn(i),r=dn(r)):(i=ln(i),r=ln(r)),n=e(i,r)}return n}}function Yn(e){return la(function(t){return t=u(t,P(pa())),Xr(function(r){var n=this;return e(t,function(e){return i(e,n,r)})})})}function Xn(e,t){t=t===Z?" ":dn(t);var i=t.length;if(i<2)return i?Yr(t,e):t;var r=Yr(t,Iu(e/V(t)));return R(t)?yn(K(r),0,e).join(""):r.slice(0,e)}function Jn(e,t,r,n){function a(){for(var t=-1,l=arguments.length,d=-1,u=n.length,c=Vd(u+l),h=this&&this!==Bi&&this instanceof a?o:e;++d<u;)c[d]=n[d];for(;l--;)c[d++]=arguments[++t];return i(h,s?r:this,c)}var s=t&oe,o=Gn(e);return a}function Zn(e){return function(t,i,r){return r&&"number"!=typeof r&&Da(t,i,r)&&(i=r=Z),t=pl(t),i===Z?(i=t,t=0):i=pl(i),r=r===Z?t<i?1:-1:pl(r),Kr(t,i,r,e)}}function ea(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=ml(t),i=ml(i)),e(t,i)}}function ta(e,t,i,r,n,a,s,o,l,d){var u=t&ue,c=u?s:Z,h=u?Z:s,p=u?a:Z,f=u?Z:a;t|=u?he:pe,t&=~(u?pe:he),t&de||(t&=~(oe|le));var g=[e,t,n,p,c,f,h,o,l,d],m=i.apply(Z,g);return Ia(e)&&_c(m,g),m.placeholder=r,za(m,e,t)}function ia(e){var t=Jd[e];return function(e,i){if(e=ml(e),i=qu(fl(i),292)){var r=(_l(e)+"e").split("e"),n=t(r[0]+"e"+(+r[1]+i));return r=(_l(n)+"e").split("e"),+(r[0]+"e"+(+r[1]-i))}return t(e)}}function ra(e){return function(t){var i=vc(t);return i==ze?z(t):i==Ue?Q(t):I(t,e(t))}}function na(e,t,i,r,n,a,s,o){var l=t&le;if(!l&&"function"!=typeof e)throw new iu(re);var d=r?r.length:0;if(d||(t&=~(he|pe),r=n=Z),s=s===Z?s:Ou(fl(s),0),o=o===Z?o:fl(o),d-=n?n.length:0,t&pe){var u=r,c=n;r=n=Z}var h=l?Z:fc(e),p=[e,t,i,r,n,u,c,a,s,o];if(h&&Fa(p,h),e=p[0],t=p[1],i=p[2],r=p[3],n=p[4],o=p[9]=null==p[9]?l?0:e.length:Ou(p[9]-d,0),!o&&t&(ue|ce)&&(t&=~(ue|ce)),t&&t!=oe)f=t==ue||t==ce?Bn(e,t,o):t!=he&&t!=(oe|he)||n.length?Un.apply(Z,p):Jn(e,t,i,r);else var f=Ln(e,t,i);var g=h?dc:_c;return za(g(f,p),e,t)}function aa(e,t,i,r,n,a){var s=n&be,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var d=a.get(e);if(d&&a.get(t))return d==t;var u=-1,c=!0,h=n&ve?new di:Z;for(a.set(e,t),a.set(t,e);++u<o;){var p=e[u],g=t[u];if(r)var m=s?r(g,p,u,t,e,a):r(p,g,u,e,t,a);if(m!==Z){if(m)continue;c=!1;break}if(h){if(!f(t,function(e,t){if(!M(h,t)&&(p===e||i(p,e,r,n,a)))return h.push(t)})){c=!1;break}}else if(p!==g&&!i(p,g,r,n,a)){c=!1;break}}return a["delete"](e),a["delete"](t),c}function sa(e,t,i,r,n,a,s){switch(i){case Ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Je:return!(e.byteLength!=t.byteLength||!r(new vu(e),new vu(t)));case Oe:case qe:case He:return qo(+e,+t);case Re:return e.name==t.name&&e.message==t.message;case We:case Ve:return e==t+"";case ze:var o=z;case Ue:var l=a&be;if(o||(o=B),e.size!=t.size&&!l)return!1;var d=s.get(e);if(d)return d==t;a|=ve,s.set(e,t);var u=aa(o(e),o(t),r,n,a,s);return s["delete"](e),u;case Ke:if(ic)return ic.call(e)==ic.call(t)}return!1}function oa(e,t,i,r,n,a){var s=n&be,o=Ml(e),l=o.length,d=Ml(t),u=d.length;if(l!=u&&!s)return!1;for(var c=l;c--;){var h=o[c];if(!(s?h in t:du.call(t,h)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var f=!0;a.set(e,t),a.set(t,e);for(var g=s;++c<l;){h=o[c];var m=e[h],v=t[h];if(r)var b=s?r(v,m,h,t,e,a):r(m,v,h,e,t,a);if(!(b===Z?m===v||i(m,v,r,n,a):b)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var _=e.constructor,y=t.constructor;_!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y)&&(f=!1)}return a["delete"](e),a["delete"](t),f}function la(e){return xc(Ra(e,Z,ns),e+"")}function da(e){return hr(e,Ml,gc)}function ua(e){return hr(e,El,mc)}function ca(e){for(var t=e.name+"",i=Ku[t],r=du.call(Ku,t)?i.length:0;r--;){var n=i[r],a=n.func;if(null==a||a==e)return n.name}return t}function ha(e){var t=du.call(j,"placeholder")?j:e;return t.placeholder}function pa(){var e=j.iteratee||kd;return e=e===kd?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function fa(e,t){var i=e.__data__;return Ta(t)?i["string"==typeof t?"string":"hash"]:i.map}function ga(e){for(var t=Ml(e),i=t.length;i--;){var r=t[i],n=e[r];t[i]=[r,n,Ma(n)]}return t}function ma(e,t){var i=q(e,t);return Tr(i)?i:Z}function va(e,t,i){for(var r=-1,n=i.length;++r<n;){var a=i[r],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=qu(t,e+s);break;case"takeRight":e=Ou(e,t-s)}}return{start:e,end:t}}function ba(e){var t=e.match(It);return t?t[1].split(Pt):[]}function _a(e,t,i){t=Sa(t,e)?[t]:_n(t);for(var r=-1,n=t.length,a=!1;++r<n;){var s=Ba(t[r]);if(!(a=null!=e&&i(e,s)))break;e=e[s]}return a||++r!=n?a:(n=e?e.length:0,!!n&&Ko(n)&&Ca(s,n)&&(oh(e)||sh(e)))}function ya(e){var t=e.length,i=e.constructor(t);return t&&"string"==typeof e[0]&&du.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function xa(e){return"function"!=typeof e.constructor||Aa(e)?{}:nc(_u(e))}function wa(e,t,i,r){var n=e.constructor;switch(t){case Je:return wn(e);case Oe:case qe:return new n((+e));case Ze:return kn(e,r);case et:case tt:case it:case rt:case nt:case at:case st:case ot:case lt:return Tn(e,r);case ze:return jn(e,r,i);case He:case Ve:return new n(e);case We:return Cn(e);case Ue:return Dn(e,r,i);case Ke:return Sn(e)}}function ka(e,t){var i=t.length;if(!i)return e;var r=i-1;return t[r]=(i>1?"& ":"")+t[r],t=t.join(i>2?", ":" "),e.replace(Tt,"{\n/* [wrapped with "+t+"] */\n")}function ja(e){return oh(e)||sh(e)||!!(ju&&e&&e[ju])}function Ca(e,t){return t=null==t?Se:t,!!t&&("number"==typeof e||Nt.test(e))&&e>-1&&e%1==0&&e<t}function Da(e,t,i){if(!Yo(i))return!1;var r=typeof t;return!!("number"==r?Ro(i)&&Ca(t,i.length):"string"==r&&t in i)&&qo(i[t],e)}function Sa(e,t){if(oh(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!ll(e))||(yt.test(e)||!_t.test(e)||null!=t&&e in Zd(t))}function Ta(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ia(e){var t=ca(e),i=j[t];if("function"!=typeof i||!(t in X.prototype))return!1;if(e===i)return!0;var r=fc(i);return!!r&&e===r[0]}function Pa(e){return!!ou&&ou in e}function Aa(e){var t=e&&e.constructor,i="function"==typeof t&&t.prototype||au;return e===i}function Ma(e){return e===e&&!Yo(e)}function Ea(e,t){return function(i){return null!=i&&(i[e]===t&&(t!==Z||e in Zd(i)))}}function $a(e){var t=ko(e,function(e){return i.size===ae&&i.clear(),e}),i=t.cache;return t}function Fa(e,t){var i=e[1],r=t[1],n=i|r,a=n<(oe|le|fe),s=r==fe&&i==ue||r==fe&&i==ge&&e[7].length<=t[8]||r==(fe|ge)&&t[7].length<=t[8]&&i==ue;if(!a&&!s)return e;r&oe&&(e[2]=t[2],n|=i&oe?0:de);var o=t[3];if(o){var l=e[3];e[3]=l?An(l,o,t[4]):o,e[4]=l?G(e[3],se):t[4]}return o=t[5],o&&(l=e[5],e[5]=l?Mn(l,o,t[6]):o,e[6]=l?G(e[5],se):t[6]),o=t[7],o&&(e[7]=o),r&fe&&(e[8]=null==e[8]?t[8]:qu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=n,e}function Oa(e,t,i,r,n,a){return Yo(e)&&Yo(t)&&(a.set(t,e),Nr(e,t,Z,Oa,a),a["delete"](t)),e}function qa(e){var t=[];if(null!=e)for(var i in Zd(e))t.push(i);return t}function Ra(e,t,r){return t=Ou(t===Z?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=Ou(n.length-t,0),o=Vd(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Vd(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),i(e,this,l)}}function Na(e,t){return 1==t.length?e:cr(e,rn(t,0,-1))}function La(e,t){for(var i=e.length,r=qu(t.length,i),n=En(e);r--;){var a=t[r];e[r]=Ca(a,i)?n[a]:Z}return e}function za(e,t,i){var r=t+"";return xc(e,ka(r,Wa(ba(r),i)))}function Ha(e){var t=0,i=0;return function(){var r=Ru(),n=we-(r-i);if(i=r,n>0){if(++t>=xe)return arguments[0]}else t=0;return e.apply(Z,arguments)}}function Ga(e,t){var i=-1,r=e.length,n=r-1;for(t=t===Z?r:t;++i<t;){var a=Vr(i,n),s=e[a];e[a]=e[i],e[i]=s}return e.length=t,e}function Ba(e){if("string"==typeof e||ll(e))return e;var t=e+"";return"0"==t&&1/e==-De?"-0":t}function Qa(e){if(null!=e){try{return lu.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Wa(e,t){return n(Ee,function(i){var r="_."+i[0];t&i[1]&&!l(e,r)&&e.push(r)}),e.sort()}function Ua(e){if(e instanceof X)return e.clone();var t=new Y(e.__wrapped__,e.__chain__);return t.__actions__=En(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Va(e,t,i){t=(i?Da(e,t,i):t===Z)?1:Ou(fl(t),0);var r=e?e.length:0;if(!r||t<1)return[];for(var n=0,a=0,s=Vd(Iu(r/t));n<r;)s[a++]=rn(e,n,n+=t);return s}function Ka(e){for(var t=-1,i=e?e.length:0,r=0,n=[];++t<i;){var a=e[t];a&&(n[r++]=a)}return n}function Ya(){var e=arguments.length;if(!e)return[];for(var t=Vd(e-1),i=arguments[0],r=e;r--;)t[r-1]=arguments[r];return c(oh(i)?En(i):[i],ir(t,1))}function Xa(e,t,i){var r=e?e.length:0;return r?(t=i||t===Z?1:fl(t),rn(e,t<0?0:t,r)):[]}function Ja(e,t,i){var r=e?e.length:0;return r?(t=i||t===Z?1:fl(t),t=r-t,rn(e,0,t<0?0:t)):[]}function Za(e,t){return e&&e.length?pn(e,pa(t,3),!0,!0):[]}function es(e,t){return e&&e.length?pn(e,pa(t,3),!0):[]}function ts(e,t,i,r){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&Da(e,t,i)&&(i=0,r=n),Vi(e,t,i,r)):[]}function is(e,t,i){var r=e?e.length:0;if(!r)return-1;var n=null==i?0:fl(i);return n<0&&(n=Ou(r+n,0)),b(e,pa(t,3),n)}function rs(e,t,i){var r=e?e.length:0;if(!r)return-1;var n=r-1;return i!==Z&&(n=fl(i),n=i<0?Ou(r+n,0):qu(n,r-1)),b(e,pa(t,3),n,!0)}function ns(e){var t=e?e.length:0;return t?ir(e,1):[]}function as(e){var t=e?e.length:0;return t?ir(e,De):[]}function ss(e,t){var i=e?e.length:0;return i?(t=t===Z?1:fl(t),ir(e,t)):[]}function os(e){for(var t=-1,i=e?e.length:0,r={};++t<i;){var n=e[t];r[n[0]]=n[1]}return r}function ls(e){return e&&e.length?e[0]:Z}function ds(e,t,i){var r=e?e.length:0;if(!r)return-1;var n=null==i?0:fl(i);return n<0&&(n=Ou(r+n,0)),_(e,t,n)}function us(e){var t=e?e.length:0;return t?rn(e,0,-1):[]}function cs(e,t){return e?$u.call(e,t):""}function hs(e){var t=e?e.length:0;return t?e[t-1]:Z}function ps(e,t,i){var r=e?e.length:0;if(!r)return-1;var n=r;return i!==Z&&(n=fl(i),n=n<0?Ou(r+n,0):qu(n,r-1)),t===t?U(e,t,n):b(e,x,n,!0)}function fs(e,t){return e&&e.length?zr(e,fl(t)):Z}function gs(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}function ms(e,t,i){return e&&e.length&&t&&t.length?Wr(e,t,pa(i,2)):e}function vs(e,t,i){return e&&e.length&&t&&t.length?Wr(e,t,Z,i):e}function bs(e,t){var i=[];if(!e||!e.length)return i;var r=-1,n=[],a=e.length;for(t=pa(t,3);++r<a;){var s=e[r];t(s,r,e)&&(i.push(s),n.push(r))}return Ur(e,n),i}function _s(e){return e?zu.call(e):e}function ys(e,t,i){var r=e?e.length:0;return r?(i&&"number"!=typeof i&&Da(e,t,i)?(t=0,i=r):(t=null==t?0:fl(t),i=i===Z?r:fl(i)),rn(e,t,i)):[]}function xs(e,t){return an(e,t)}function ws(e,t,i){return sn(e,t,pa(i,2))}function ks(e,t){var i=e?e.length:0;if(i){var r=an(e,t);if(r<i&&qo(e[r],t))return r}return-1}function js(e,t){return an(e,t,!0)}function Cs(e,t,i){return sn(e,t,pa(i,2),!0)}function Ds(e,t){var i=e?e.length:0;if(i){var r=an(e,t,!0)-1;if(qo(e[r],t))return r}return-1}function Ss(e){return e&&e.length?on(e):[]}function Ts(e,t){return e&&e.length?on(e,pa(t,2)):[]}function Is(e){var t=e?e.length:0;return t?rn(e,1,t):[]}function Ps(e,t,i){return e&&e.length?(t=i||t===Z?1:fl(t),rn(e,0,t<0?0:t)):[]}function As(e,t,i){var r=e?e.length:0;return r?(t=i||t===Z?1:fl(t),t=r-t,rn(e,t<0?0:t,r)):[]}function Ms(e,t){return e&&e.length?pn(e,pa(t,3),!1,!0):[]}function Es(e,t){return e&&e.length?pn(e,pa(t,3)):[]}function $s(e){return e&&e.length?un(e):[]}function Fs(e,t){return e&&e.length?un(e,pa(t,2)):[]}function Os(e,t){return e&&e.length?un(e,Z,t):[]}function qs(e){if(!e||!e.length)return[];var t=0;return e=o(e,function(e){if(No(e))return t=Ou(e.length,t),!0}),T(t,function(t){return u(e,k(t))})}function Rs(e,t){if(!e||!e.length)return[];var r=qs(e);return null==t?r:u(r,function(e){return i(t,Z,e)})}function Ns(e,t){return mn(e||[],t||[],ji)}function Ls(e,t){return mn(e||[],t||[],en)}function zs(e){var t=j(e);return t.__chain__=!0,t}function Hs(e,t){return t(e),e}function Gs(e,t){return t(e)}function Bs(){return zs(this)}function Qs(){return new Y(this.value(),this.__chain__)}function Ws(){this.__values__===Z&&(this.__values__=hl(this.value()));var e=this.__index__>=this.__values__.length,t=e?Z:this.__values__[this.__index__++];return{done:e,value:t}}function Us(){return this}function Vs(e){for(var t,i=this;i instanceof W;){var r=Ua(i);r.__index__=0,r.__values__=Z,t?n.__wrapped__=r:t=r;var n=r;i=i.__wrapped__}return n.__wrapped__=e,t}function Ks(){var e=this.__wrapped__;if(e instanceof X){var t=e;return this.__actions__.length&&(t=new X(this)),t=t.reverse(),t.__actions__.push({func:Gs,args:[_s],thisArg:Z}),new Y(t,this.__chain__)}return this.thru(_s)}function Ys(){return fn(this.__wrapped__,this.__actions__)}function Xs(e,t,i){var r=oh(e)?s:Qi;return i&&Da(e,t,i)&&(t=Z),r(e,pa(t,3))}function Js(e,t){var i=oh(e)?o:Ki;return i(e,pa(t,3))}function Zs(e,t){return ir(ao(e,t),1)}function eo(e,t){return ir(ao(e,t),De)}function to(e,t,i){return i=i===Z?1:fl(i),ir(ao(e,t),i)}function io(e,t){var i=oh(e)?n:ac;return i(e,pa(t,3))}function ro(e,t){var i=oh(e)?a:sc;return i(e,pa(t,3))}function no(e,t,i,r){e=Ro(e)?e:Ql(e),i=i&&!r?fl(i):0;var n=e.length;return i<0&&(i=Ou(n+i,0)),ol(e)?i<=n&&e.indexOf(t,i)>-1:!!n&&_(e,t,i)>-1}function ao(e,t){var i=oh(e)?u:Or;return i(e,pa(t,3))}function so(e,t,i,r){return null==e?[]:(oh(t)||(t=null==t?[]:[t]),i=r?Z:i,oh(i)||(i=null==i?[]:[i]),Hr(e,t,i))}function oo(e,t,i){var r=oh(e)?h:C,n=arguments.length<3;return r(e,pa(t,4),i,n,ac)}function lo(e,t,i){var r=oh(e)?p:C,n=arguments.length<3;return r(e,pa(t,4),i,n,sc)}function uo(e,t){var i=oh(e)?o:Ki;return i(e,jo(pa(t,3)))}function co(e){var t=oh(e)?_i:Jr;return t(e)}function ho(e,t,i){t=(i?Da(e,t,i):t===Z)?1:fl(t);var r=oh(e)?yi:Zr;return r(e,t)}function po(e){var t=oh(e)?xi:tn;return t(e)}function fo(e){if(null==e)return 0;if(Ro(e))return ol(e)?V(e):e.length;var t=vc(e);return t==ze||t==Ue?e.size:Er(e).length}function go(e,t,i){var r=oh(e)?f:nn;return i&&Da(e,t,i)&&(t=Z),r(e,pa(t,3))}function mo(e,t){if("function"!=typeof t)throw new iu(re);return e=fl(e),function(){if(--e<1)return t.apply(this,arguments)}}function vo(e,t,i){return t=i?Z:t,t=e&&null==t?e.length:t,na(e,fe,Z,Z,Z,Z,t)}function bo(e,t){var i;if("function"!=typeof t)throw new iu(re);return e=fl(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=Z),i}}function _o(e,t,i){t=i?Z:t;var r=na(e,ue,Z,Z,Z,Z,Z,t);return r.placeholder=_o.placeholder,r}function yo(e,t,i){t=i?Z:t;var r=na(e,ce,Z,Z,Z,Z,Z,t);return r.placeholder=yo.placeholder,r}function xo(e,t,i){function r(t){var i=h,r=p;return h=p=Z,b=t,g=e.apply(r,i)}function n(e){return b=e,m=yc(o,t),_?r(e):g}function a(e){var i=e-v,r=e-b,n=t-i;return y?qu(n,f-r):n}function s(e){var i=e-v,r=e-b;return v===Z||i>=t||i<0||y&&r>=f}function o(){var e=Kc();return s(e)?l(e):void(m=yc(o,a(e)))}function l(e){return m=Z,x&&h?r(e):(h=p=Z,g)}function d(){m!==Z&&hc(m),b=0,h=v=p=m=Z}function u(){return m===Z?g:l(Kc())}function c(){var e=Kc(),i=s(e);if(h=arguments,p=this,v=e,i){if(m===Z)return n(v);if(y)return m=yc(o,t),r(v)}return m===Z&&(m=yc(o,t)),g}var h,p,f,g,m,v,b=0,_=!1,y=!1,x=!0;if("function"!=typeof e)throw new iu(re);return t=ml(t)||0,Yo(i)&&(_=!!i.leading,y="maxWait"in i,f=y?Ou(ml(i.maxWait)||0,t):f,x="trailing"in i?!!i.trailing:x),c.cancel=d,c.flush=u,c}function wo(e){return na(e,me)}function ko(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new iu(re);var i=function(){var r=arguments,n=t?t.apply(this,r):r[0],a=i.cache;if(a.has(n))return a.get(n);var s=e.apply(this,r);return i.cache=a.set(n,s)||a,s};return i.cache=new(ko.Cache||ri),i}function jo(e){if("function"!=typeof e)throw new iu(re);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Co(e){return bo(2,e)}function Do(e,t){if("function"!=typeof e)throw new iu(re);return t=t===Z?t:fl(t),Xr(e,t)}function So(e,t){if("function"!=typeof e)throw new iu(re);return t=t===Z?0:Ou(fl(t),0),Xr(function(r){var n=r[t],a=yn(r,0,t);return n&&c(a,n),i(e,this,a)})}function To(e,t,i){var r=!0,n=!0;if("function"!=typeof e)throw new iu(re);return Yo(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),xo(e,t,{leading:r,maxWait:t,trailing:n})}function Io(e){return vo(e,1)}function Po(e,t){return t=null==t?wd:t,th(t,e)}function Ao(){if(!arguments.length)return[];var e=arguments[0];return oh(e)?e:[e]}function Mo(e){return qi(e,!1,!0)}function Eo(e,t){return qi(e,!1,!0,t)}function $o(e){return qi(e,!0,!0)}function Fo(e,t){return qi(e,!0,!0,t)}function Oo(e,t){return null==t||Ni(e,t,Ml(t))}function qo(e,t){return e===t||e!==e&&t!==t}function Ro(e){return null!=e&&Ko(e.length)&&!Uo(e)}function No(e){return Xo(e)&&Ro(e)}function Lo(e){return e===!0||e===!1||Xo(e)&&hu.call(e)==Oe}function zo(e){return null!=e&&1===e.nodeType&&Xo(e)&&!al(e)}function Ho(e){if(Ro(e)&&(oh(e)||"string"==typeof e||"function"==typeof e.splice||dh(e)||fh(e)||sh(e)))return!e.length;var t=vc(e);if(t==ze||t==Ue)return!e.size;if(Aa(e))return!Er(e).length;for(var i in e)if(du.call(e,i))return!1;return!0}function Go(e,t){return jr(e,t)}function Bo(e,t,i){i="function"==typeof i?i:Z;var r=i?i(e,t):Z;return r===Z?jr(e,t,i):!!r}function Qo(e){return!!Xo(e)&&(hu.call(e)==Re||"string"==typeof e.message&&"string"==typeof e.name)}function Wo(e){return"number"==typeof e&&Eu(e)}function Uo(e){var t=Yo(e)?hu.call(e):"";return t==Ne||t==Le||t==Qe}function Vo(e){return"number"==typeof e&&e==fl(e)}function Ko(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Se}function Yo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xo(e){return null!=e&&"object"==typeof e}function Jo(e,t){return e===t||Sr(e,t,ga(t))}function Zo(e,t,i){return i="function"==typeof i?i:Z,Sr(e,t,ga(t),i)}function el(e){return nl(e)&&e!=+e}function tl(e){if(bc(e))throw new Yd(ie);return Tr(e)}function il(e){return null===e}function rl(e){return null==e}function nl(e){return"number"==typeof e||Xo(e)&&hu.call(e)==He}function al(e){if(!Xo(e)||hu.call(e)!=Ge)return!1;var t=_u(e);if(null===t)return!0;var i=du.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&lu.call(i)==cu}function sl(e){return Vo(e)&&e>=-Se&&e<=Se}function ol(e){return"string"==typeof e||!oh(e)&&Xo(e)&&hu.call(e)==Ve}function ll(e){return"symbol"==typeof e||Xo(e)&&hu.call(e)==Ke}function dl(e){return e===Z}function ul(e){return Xo(e)&&vc(e)==Ye}function cl(e){return Xo(e)&&hu.call(e)==Xe}function hl(e){if(!e)return[];if(Ro(e))return ol(e)?K(e):En(e);if(yu&&e[yu])return L(e[yu]());var t=vc(e),i=t==ze?z:t==Ue?B:Ql;return i(e)}function pl(e){if(!e)return 0===e?e:0;if(e=ml(e),e===De||e===-De){var t=e<0?-1:1;return t*Te}return e===e?e:0}function fl(e){var t=pl(e),i=t%1;return t===t?i?t-i:t:0}function gl(e){return e?Oi(fl(e),0,Pe):0}function ml(e){if("number"==typeof e)return e;if(ll(e))return Ie;if(Yo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Yo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ct,"");var i=Ot.test(e);return i||Rt.test(e)?zi(e.slice(2),i?2:8):Ft.test(e)?Ie:+e}function vl(e){return $n(e,El(e))}function bl(e){return Oi(fl(e),-Se,Se)}function _l(e){return null==e?"":dn(e)}function yl(e,t){var i=nc(e);return t?Ii(i,t):i}function xl(e,t){return v(e,pa(t,3),sr)}function wl(e,t){return v(e,pa(t,3),dr)}function kl(e,t){return null==e?e:oc(e,pa(t,3),El)}function jl(e,t){return null==e?e:lc(e,pa(t,3),El)}function Cl(e,t){return e&&sr(e,pa(t,3))}function Dl(e,t){return e&&dr(e,pa(t,3))}function Sl(e){return null==e?[]:ur(e,Ml(e))}function Tl(e){return null==e?[]:ur(e,El(e))}function Il(e,t,i){var r=null==e?Z:cr(e,t);return r===Z?i:r}function Pl(e,t){return null!=e&&_a(e,t,gr)}function Al(e,t){return null!=e&&_a(e,t,mr)}function Ml(e){return Ro(e)?bi(e):Er(e)}function El(e){return Ro(e)?bi(e,!0):$r(e)}function $l(e,t){var i={};return t=pa(t,3),sr(e,function(e,r,n){Pi(i,t(e,r,n),e)}),i}function Fl(e,t){var i={};return t=pa(t,3),sr(e,function(e,r,n){Pi(i,r,t(e,r,n))}),i}function Ol(e,t){return ql(e,jo(pa(t)))}function ql(e,t){return null==e?{}:Br(e,ua(e),pa(t))}function Rl(e,t,i){t=Sa(t,e)?[t]:_n(t);var r=-1,n=t.length;for(n||(e=Z,n=1);++r<n;){var a=null==e?Z:e[Ba(t[r])];a===Z&&(r=n,a=i),e=Uo(a)?a.call(e):a}return e}function Nl(e,t,i){return null==e?e:en(e,t,i)}function Ll(e,t,i,r){return r="function"==typeof r?r:Z,null==e?e:en(e,t,i,r)}function zl(e,t,i){var r=oh(e),a=r||dh(e)||fh(e);if(t=pa(t,4),null==i){var s=e&&e.constructor;i=a?r?new s:[]:Yo(e)&&Uo(s)?nc(_u(e)):{}}return(a?n:sr)(e,function(e,r,n){return t(i,e,r,n)}),i}function Hl(e,t){return null==e||cn(e,t)}function Gl(e,t,i){return null==e?e:hn(e,t,bn(i))}function Bl(e,t,i,r){return r="function"==typeof r?r:Z,null==e?e:hn(e,t,bn(i),r)}function Ql(e){return e?A(e,Ml(e)):[]}function Wl(e){return null==e?[]:A(e,El(e))}function Ul(e,t,i){return i===Z&&(i=t,t=Z),i!==Z&&(i=ml(i),i=i===i?i:0),t!==Z&&(t=ml(t),t=t===t?t:0),Oi(ml(e),t,i)}function Vl(e,t,i){return t=pl(t),i===Z?(i=t,t=0):i=pl(i),e=ml(e),vr(e,t,i)}function Kl(e,t,i){if(i&&"boolean"!=typeof i&&Da(e,t,i)&&(t=i=Z),i===Z&&("boolean"==typeof t?(i=t,t=Z):"boolean"==typeof e&&(i=e,e=Z)),e===Z&&t===Z?(e=0,t=1):(e=pl(e),t===Z?(t=e,e=0):t=pl(t)),e>t){var r=e;e=t,t=r}if(i||e%1||t%1){var n=Lu();return qu(e+n*(t-e+Li("1e-"+((n+"").length-1))),t)}return Vr(e,t)}function Yl(e){return Lh(_l(e).toLowerCase())}function Xl(e){return e=_l(e),e&&e.replace(Lt,rr).replace(Si,"")}function Jl(e,t,i){e=_l(e),t=dn(t);var r=e.length;i=i===Z?r:Oi(fl(i),0,r);var n=i;return i-=t.length,i>=0&&e.slice(i,n)==t}function Zl(e){return e=_l(e),e&&gt.test(e)?e.replace(pt,nr):e}function ed(e){return e=_l(e),e&&jt.test(e)?e.replace(kt,"\\$&"):e}function td(e,t,i){e=_l(e),t=fl(t);var r=t?V(e):0;if(!t||r>=t)return e;var n=(t-r)/2;return Xn(Pu(n),i)+e+Xn(Iu(n),i)}function id(e,t,i){e=_l(e),t=fl(t);var r=t?V(e):0;return t&&r<t?e+Xn(t-r,i):e}function rd(e,t,i){e=_l(e),t=fl(t);var r=t?V(e):0;return t&&r<t?Xn(t-r,i)+e:e}function nd(e,t,i){return i||null==t?t=0:t&&(t=+t),Nu(_l(e).replace(Dt,""),t||0)}function ad(e,t,i){return t=(i?Da(e,t,i):t===Z)?1:fl(t),Yr(_l(e),t)}function sd(){var e=arguments,t=_l(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function od(e,t,i){return i&&"number"!=typeof i&&Da(e,t,i)&&(t=i=Z),(i=i===Z?Pe:i>>>0)?(e=_l(e),e&&("string"==typeof t||null!=t&&!hh(t))&&(t=dn(t),!t&&R(e))?yn(K(e),0,i):e.split(t,i)):[]}function ld(e,t,i){return e=_l(e),i=Oi(fl(i),0,e.length),t=dn(t),e.slice(i,i+t.length)==t}function dd(e,t,i){var r=j.templateSettings;i&&Da(e,t,i)&&(t=Z),e=_l(e),t=_h({},t,r,wi);var n,a,s=_h({},t.imports,r.imports,wi),o=Ml(s),l=A(s,o),d=0,u=t.interpolate||zt,c="__p += '",h=eu((t.escape||zt).source+"|"+u.source+"|"+(u===bt?Et:zt).source+"|"+(t.evaluate||zt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ei+"]")+"\n";e.replace(h,function(t,i,r,s,o,l){return r||(r=s),c+=e.slice(d,l).replace(Ht,O),i&&(n=!0,c+="' +\n__e("+i+") +\n'"),o&&(a=!0,c+="';\n"+o+";\n__p += '"),r&&(c+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),c+="';\n";var f=t.variable;f||(c="with (obj) {\n"+c+"\n}\n"),c=(a?c.replace(dt,""):c).replace(ut,"$1").replace(ct,"$1;"),c="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var g=zh(function(){return Xd(o,p+"return "+c).apply(Z,l)});if(g.source=c,Qo(g))throw g;return g}function ud(e){return _l(e).toLowerCase()}function cd(e){return _l(e).toUpperCase()}function hd(e,t,i){if(e=_l(e),e&&(i||t===Z))return e.replace(Ct,"");if(!e||!(t=dn(t)))return e;var r=K(e),n=K(t),a=E(r,n),s=$(r,n)+1;return yn(r,a,s).join("")}function pd(e,t,i){if(e=_l(e),e&&(i||t===Z))return e.replace(St,"");if(!e||!(t=dn(t)))return e;var r=K(e),n=$(r,K(t))+1;return yn(r,0,n).join("")}function fd(e,t,i){if(e=_l(e),e&&(i||t===Z))return e.replace(Dt,"");if(!e||!(t=dn(t)))return e;var r=K(e),n=E(r,K(t));return yn(r,n).join("")}function gd(e,t){var i=_e,r=ye;if(Yo(t)){var n="separator"in t?t.separator:n;i="length"in t?fl(t.length):i,r="omission"in t?dn(t.omission):r}e=_l(e);var a=e.length;if(R(e)){var s=K(e);a=s.length}if(i>=a)return e;var o=i-V(r);if(o<1)return r;var l=s?yn(s,0,o).join(""):e.slice(0,o);if(n===Z)return l+r;if(s&&(o+=l.length-o),hh(n)){if(e.slice(o).search(n)){var d,u=l;for(n.global||(n=eu(n.source,_l($t.exec(n))+"g")),n.lastIndex=0;d=n.exec(u);)var c=d.index;l=l.slice(0,c===Z?o:c)}}else if(e.indexOf(dn(n),o)!=o){var h=l.lastIndexOf(n);h>-1&&(l=l.slice(0,h))}return l+r}function md(e){return e=_l(e),e&&ft.test(e)?e.replace(ht,ar):e}function vd(e,t,i){return e=_l(e),t=i?Z:t,t===Z?N(e)?J(e):m(e):e.match(t)||[]}function bd(e){var t=e?e.length:0,r=pa();return e=t?u(e,function(e){if("function"!=typeof e[1])throw new iu(re);return[r(e[0]),e[1]]}):[],Xr(function(r){for(var n=-1;++n<t;){var a=e[n];if(i(a[0],this,r))return i(a[1],this,r)}})}function _d(e){return Ri(qi(e,!0))}function yd(e){return function(){return e}}function xd(e,t){return null==e||e!==e?t:e}function wd(e){return e}function kd(e){return Mr("function"==typeof e?e:qi(e,!0))}function jd(e){return qr(qi(e,!0))}function Cd(e,t){return Rr(e,qi(t,!0))}function Dd(e,t,i){var r=Ml(t),a=ur(t,r);null!=i||Yo(t)&&(a.length||!r.length)||(i=t,t=e,e=this,a=ur(t,Ml(t)));var s=!(Yo(i)&&"chain"in i&&!i.chain),o=Uo(e);return n(a,function(i){var r=t[i];e[i]=r,o&&(e.prototype[i]=function(){var t=this.__chain__;if(s||t){var i=e(this.__wrapped__),n=i.__actions__=En(this.__actions__);return n.push({func:r,args:arguments,thisArg:e}),i.__chain__=t,i}return r.apply(e,c([this.value()],arguments))})}),e}function Sd(){return Bi._===this&&(Bi._=pu),this}function Td(){}function Id(e){return e=fl(e),Xr(function(t){return zr(t,e)})}function Pd(e){return Sa(e)?k(Ba(e)):Qr(e)}function Ad(e){return function(t){return null==e?Z:cr(e,t)}}function Md(){return[]}function Ed(){return!1}function $d(){return{}}function Fd(){return""}function Od(){return!0}function qd(e,t){if(e=fl(e),e<1||e>Se)return[];var i=Pe,r=qu(e,Pe);t=pa(t),e-=Pe;for(var n=T(r,t);++i<e;)t(i);return n}function Rd(e){return oh(e)?u(e,Ba):ll(e)?[e]:En(wc(e))}function Nd(e){var t=++uu;return _l(e)+t}function Ld(e){return e&&e.length?Wi(e,wd,fr):Z}function zd(e,t){return e&&e.length?Wi(e,pa(t,2),fr):Z}function Hd(e){return w(e,wd)}function Gd(e,t){return w(e,pa(t,2))}function Bd(e){return e&&e.length?Wi(e,wd,Fr):Z}function Qd(e,t){return e&&e.length?Wi(e,pa(t,2),Fr):Z}function Wd(e){return e&&e.length?S(e,wd):0}function Ud(e,t){return e&&e.length?S(e,pa(t,2)):0}g=g?or.defaults(Bi.Object(),g,or.pick(Bi,Mi)):Bi;var Vd=g.Array,Kd=g.Date,Yd=g.Error,Xd=g.Function,Jd=g.Math,Zd=g.Object,eu=g.RegExp,tu=g.String,iu=g.TypeError,ru=Vd.prototype,nu=Xd.prototype,au=Zd.prototype,su=g["__core-js_shared__"],ou=function(){
var e=/[^.]+$/.exec(su&&su.keys&&su.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lu=nu.toString,du=au.hasOwnProperty,uu=0,cu=lu.call(Zd),hu=au.toString,pu=Bi._,fu=eu("^"+lu.call(du).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gu=Ui?g.Buffer:Z,mu=g.Symbol,vu=g.Uint8Array,bu=gu?gu.allocUnsafe:Z,_u=H(Zd.getPrototypeOf,Zd),yu=mu?mu.iterator:Z,xu=Zd.create,wu=au.propertyIsEnumerable,ku=ru.splice,ju=mu?mu.isConcatSpreadable:Z,Cu=function(){try{var e=ma(Zd,"defineProperty");return e({},"",{}),e}catch(t){}}(),Du=g.clearTimeout!==Bi.clearTimeout&&g.clearTimeout,Su=Kd&&Kd.now!==Bi.Date.now&&Kd.now,Tu=g.setTimeout!==Bi.setTimeout&&g.setTimeout,Iu=Jd.ceil,Pu=Jd.floor,Au=Zd.getOwnPropertySymbols,Mu=gu?gu.isBuffer:Z,Eu=g.isFinite,$u=ru.join,Fu=H(Zd.keys,Zd),Ou=Jd.max,qu=Jd.min,Ru=Kd.now,Nu=g.parseInt,Lu=Jd.random,zu=ru.reverse,Hu=ma(g,"DataView"),Gu=ma(g,"Map"),Bu=ma(g,"Promise"),Qu=ma(g,"Set"),Wu=ma(g,"WeakMap"),Uu=ma(Zd,"create"),Vu=Wu&&new Wu,Ku={},Yu=Qa(Hu),Xu=Qa(Gu),Ju=Qa(Bu),Zu=Qa(Qu),ec=Qa(Wu),tc=mu?mu.prototype:Z,ic=tc?tc.valueOf:Z,rc=tc?tc.toString:Z,nc=function(){function e(){}return function(t){if(!Yo(t))return{};if(xu)return xu(t);e.prototype=t;var i=new e;return e.prototype=Z,i}}();j.templateSettings={escape:mt,evaluate:vt,interpolate:bt,variable:"",imports:{_:j}},j.prototype=W.prototype,j.prototype.constructor=j,Y.prototype=nc(W.prototype),Y.prototype.constructor=Y,X.prototype=nc(W.prototype),X.prototype.constructor=X,Qt.prototype.clear=Wt,Qt.prototype["delete"]=Ut,Qt.prototype.get=Vt,Qt.prototype.has=Kt,Qt.prototype.set=Yt,Xt.prototype.clear=Jt,Xt.prototype["delete"]=Zt,Xt.prototype.get=ei,Xt.prototype.has=ti,Xt.prototype.set=ii,ri.prototype.clear=ni,ri.prototype["delete"]=ai,ri.prototype.get=si,ri.prototype.has=oi,ri.prototype.set=li,di.prototype.add=di.prototype.push=ui,di.prototype.has=ci,hi.prototype.clear=pi,hi.prototype["delete"]=fi,hi.prototype.get=gi,hi.prototype.has=mi,hi.prototype.set=vi;var ac=Rn(sr),sc=Rn(dr,!0),oc=Nn(),lc=Nn(!0),dc=Vu?function(e,t){return Vu.set(e,t),e}:wd,uc=Cu?function(e,t){return Cu(e,"toString",{configurable:!0,enumerable:!1,value:yd(t),writable:!0})}:wd,cc=Xr,hc=Du||function(e){return Bi.clearTimeout(e)},pc=Qu&&1/B(new Qu([,-0]))[1]==De?function(e){return new Qu(e)}:Td,fc=Vu?function(e){return Vu.get(e)}:Td,gc=Au?H(Au,Zd):Md,mc=Au?function(e){for(var t=[];e;)c(t,gc(e)),e=_u(e);return t}:Md,vc=pr;(Hu&&vc(new Hu(new ArrayBuffer(1)))!=Ze||Gu&&vc(new Gu)!=ze||Bu&&vc(Bu.resolve())!=Be||Qu&&vc(new Qu)!=Ue||Wu&&vc(new Wu)!=Ye)&&(vc=function(e){var t=hu.call(e),i=t==Ge?e.constructor:Z,r=i?Qa(i):Z;if(r)switch(r){case Yu:return Ze;case Xu:return ze;case Ju:return Be;case Zu:return Ue;case ec:return Ye}return t});var bc=su?Uo:Ed,_c=Ha(dc),yc=Tu||function(e,t){return Bi.setTimeout(e,t)},xc=Ha(uc),wc=$a(function(e){e=_l(e);var t=[];return xt.test(e)&&t.push(""),e.replace(wt,function(e,i,r,n){t.push(r?n.replace(Mt,"$1"):i||e)}),t}),kc=Xr(function(e,t){return No(e)?Gi(e,ir(t,1,No,!0)):[]}),jc=Xr(function(e,t){var i=hs(t);return No(i)&&(i=Z),No(e)?Gi(e,ir(t,1,No,!0),pa(i,2)):[]}),Cc=Xr(function(e,t){var i=hs(t);return No(i)&&(i=Z),No(e)?Gi(e,ir(t,1,No,!0),Z,i):[]}),Dc=Xr(function(e){var t=u(e,vn);return t.length&&t[0]===e[0]?br(t):[]}),Sc=Xr(function(e){var t=hs(e),i=u(e,vn);return t===hs(i)?t=Z:i.pop(),i.length&&i[0]===e[0]?br(i,pa(t,2)):[]}),Tc=Xr(function(e){var t=hs(e),i=u(e,vn);return t===hs(i)?t=Z:i.pop(),i.length&&i[0]===e[0]?br(i,Z,t):[]}),Ic=Xr(gs),Pc=la(function(e,t){var i=e?e.length:0,r=Ai(e,t);return Ur(e,u(t,function(e){return Ca(e,i)?+e:e}).sort(In)),r}),Ac=Xr(function(e){return un(ir(e,1,No,!0))}),Mc=Xr(function(e){var t=hs(e);return No(t)&&(t=Z),un(ir(e,1,No,!0),pa(t,2))}),Ec=Xr(function(e){var t=hs(e);return No(t)&&(t=Z),un(ir(e,1,No,!0),Z,t)}),$c=Xr(function(e,t){return No(e)?Gi(e,t):[]}),Fc=Xr(function(e){return gn(o(e,No))}),Oc=Xr(function(e){var t=hs(e);return No(t)&&(t=Z),gn(o(e,No),pa(t,2))}),qc=Xr(function(e){var t=hs(e);return No(t)&&(t=Z),gn(o(e,No),Z,t)}),Rc=Xr(qs),Nc=Xr(function(e){var t=e.length,i=t>1?e[t-1]:Z;return i="function"==typeof i?(e.pop(),i):Z,Rs(e,i)}),Lc=la(function(e){var t=e.length,i=t?e[0]:0,r=this.__wrapped__,n=function(t){return Ai(t,e)};return!(t>1||this.__actions__.length)&&r instanceof X&&Ca(i)?(r=r.slice(i,+i+(t?1:0)),r.__actions__.push({func:Gs,args:[n],thisArg:Z}),new Y(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(Z),e})):this.thru(n)}),zc=On(function(e,t,i){du.call(e,i)?++e[i]:Pi(e,i,1)}),Hc=Qn(is),Gc=Qn(rs),Bc=On(function(e,t,i){du.call(e,i)?e[i].push(t):Pi(e,i,[t])}),Qc=Xr(function(e,t,r){var n=-1,a="function"==typeof t,s=Sa(t),o=Ro(e)?Vd(e.length):[];return ac(e,function(e){var l=a?t:s&&null!=e?e[t]:Z;o[++n]=l?i(l,e,r):yr(e,t,r)}),o}),Wc=On(function(e,t,i){Pi(e,i,t)}),Uc=On(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),Vc=Xr(function(e,t){if(null==e)return[];var i=t.length;return i>1&&Da(e,t[0],t[1])?t=[]:i>2&&Da(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,ir(t,1),[])}),Kc=Su||function(){return Bi.Date.now()},Yc=Xr(function(e,t,i){var r=oe;if(i.length){var n=G(i,ha(Yc));r|=he}return na(e,r,t,i,n)}),Xc=Xr(function(e,t,i){var r=oe|le;if(i.length){var n=G(i,ha(Xc));r|=he}return na(t,r,e,i,n)}),Jc=Xr(function(e,t){return Hi(e,1,t)}),Zc=Xr(function(e,t,i){return Hi(e,ml(t)||0,i)});ko.Cache=ri;var eh=cc(function(e,t){t=1==t.length&&oh(t[0])?u(t[0],P(pa())):u(ir(t,1),P(pa()));var r=t.length;return Xr(function(n){for(var a=-1,s=qu(n.length,r);++a<s;)n[a]=t[a].call(this,n[a]);return i(e,this,n)})}),th=Xr(function(e,t){var i=G(t,ha(th));return na(e,he,Z,t,i)}),ih=Xr(function(e,t){var i=G(t,ha(ih));return na(e,pe,Z,t,i)}),rh=la(function(e,t){return na(e,ge,Z,Z,Z,t)}),nh=ea(fr),ah=ea(function(e,t){return e>=t}),sh=xr(function(){return arguments}())?xr:function(e){return Xo(e)&&du.call(e,"callee")&&!wu.call(e,"callee")},oh=Vd.isArray,lh=Yi?P(Yi):wr,dh=Mu||Ed,uh=Xi?P(Xi):kr,ch=Ji?P(Ji):Dr,hh=Zi?P(Zi):Ir,ph=er?P(er):Pr,fh=tr?P(tr):Ar,gh=ea(Fr),mh=ea(function(e,t){return e<=t}),vh=qn(function(e,t){if(Aa(t)||Ro(t))return void $n(t,Ml(t),e);for(var i in t)du.call(t,i)&&ji(e,i,t[i])}),bh=qn(function(e,t){$n(t,El(t),e)}),_h=qn(function(e,t,i,r){$n(t,El(t),e,r)}),yh=qn(function(e,t,i,r){$n(t,Ml(t),e,r)}),xh=la(Ai),wh=Xr(function(e){return e.push(Z,wi),i(_h,Z,e)}),kh=Xr(function(e){return e.push(Z,Oa),i(Th,Z,e)}),jh=Vn(function(e,t,i){e[t]=i},yd(wd)),Ch=Vn(function(e,t,i){du.call(e,t)?e[t].push(i):e[t]=[i]},pa),Dh=Xr(yr),Sh=qn(function(e,t,i){Nr(e,t,i)}),Th=qn(function(e,t,i,r){Nr(e,t,i,r)}),Ih=la(function(e,t){return null==e?{}:(t=u(t,Ba),Gr(e,Gi(ua(e),t)))}),Ph=la(function(e,t){return null==e?{}:Gr(e,u(t,Ba))}),Ah=ra(Ml),Mh=ra(El),Eh=Hn(function(e,t,i){return t=t.toLowerCase(),e+(i?Yl(t):t)}),$h=Hn(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Fh=Hn(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Oh=zn("toLowerCase"),qh=Hn(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),Rh=Hn(function(e,t,i){return e+(i?" ":"")+Lh(t)}),Nh=Hn(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Lh=zn("toUpperCase"),zh=Xr(function(e,t){try{return i(e,Z,t)}catch(r){return Qo(r)?r:new Yd(r)}}),Hh=la(function(e,t){return n(t,function(t){t=Ba(t),Pi(e,t,Yc(e[t],e))}),e}),Gh=Wn(),Bh=Wn(!0),Qh=Xr(function(e,t){return function(i){return yr(i,e,t)}}),Wh=Xr(function(e,t){return function(i){return yr(e,i,t)}}),Uh=Yn(u),Vh=Yn(s),Kh=Yn(f),Yh=Zn(),Xh=Zn(!0),Jh=Kn(function(e,t){return e+t},0),Zh=ia("ceil"),ep=Kn(function(e,t){return e/t},1),tp=ia("floor"),ip=Kn(function(e,t){return e*t},1),rp=ia("round"),np=Kn(function(e,t){return e-t},0);return j.after=mo,j.ary=vo,j.assign=vh,j.assignIn=bh,j.assignInWith=_h,j.assignWith=yh,j.at=xh,j.before=bo,j.bind=Yc,j.bindAll=Hh,j.bindKey=Xc,j.castArray=Ao,j.chain=zs,j.chunk=Va,j.compact=Ka,j.concat=Ya,j.cond=bd,j.conforms=_d,j.constant=yd,j.countBy=zc,j.create=yl,j.curry=_o,j.curryRight=yo,j.debounce=xo,j.defaults=wh,j.defaultsDeep=kh,j.defer=Jc,j.delay=Zc,j.difference=kc,j.differenceBy=jc,j.differenceWith=Cc,j.drop=Xa,j.dropRight=Ja,j.dropRightWhile=Za,j.dropWhile=es,j.fill=ts,j.filter=Js,j.flatMap=Zs,j.flatMapDeep=eo,j.flatMapDepth=to,j.flatten=ns,j.flattenDeep=as,j.flattenDepth=ss,j.flip=wo,j.flow=Gh,j.flowRight=Bh,j.fromPairs=os,j.functions=Sl,j.functionsIn=Tl,j.groupBy=Bc,j.initial=us,j.intersection=Dc,j.intersectionBy=Sc,j.intersectionWith=Tc,j.invert=jh,j.invertBy=Ch,j.invokeMap=Qc,j.iteratee=kd,j.keyBy=Wc,j.keys=Ml,j.keysIn=El,j.map=ao,j.mapKeys=$l,j.mapValues=Fl,j.matches=jd,j.matchesProperty=Cd,j.memoize=ko,j.merge=Sh,j.mergeWith=Th,j.method=Qh,j.methodOf=Wh,j.mixin=Dd,j.negate=jo,j.nthArg=Id,j.omit=Ih,j.omitBy=Ol,j.once=Co,j.orderBy=so,j.over=Uh,j.overArgs=eh,j.overEvery=Vh,j.overSome=Kh,j.partial=th,j.partialRight=ih,j.partition=Uc,j.pick=Ph,j.pickBy=ql,j.property=Pd,j.propertyOf=Ad,j.pull=Ic,j.pullAll=gs,j.pullAllBy=ms,j.pullAllWith=vs,j.pullAt=Pc,j.range=Yh,j.rangeRight=Xh,j.rearg=rh,j.reject=uo,j.remove=bs,j.rest=Do,j.reverse=_s,j.sampleSize=ho,j.set=Nl,j.setWith=Ll,j.shuffle=po,j.slice=ys,j.sortBy=Vc,j.sortedUniq=Ss,j.sortedUniqBy=Ts,j.split=od,j.spread=So,j.tail=Is,j.take=Ps,j.takeRight=As,j.takeRightWhile=Ms,j.takeWhile=Es,j.tap=Hs,j.throttle=To,j.thru=Gs,j.toArray=hl,j.toPairs=Ah,j.toPairsIn=Mh,j.toPath=Rd,j.toPlainObject=vl,j.transform=zl,j.unary=Io,j.union=Ac,j.unionBy=Mc,j.unionWith=Ec,j.uniq=$s,j.uniqBy=Fs,j.uniqWith=Os,j.unset=Hl,j.unzip=qs,j.unzipWith=Rs,j.update=Gl,j.updateWith=Bl,j.values=Ql,j.valuesIn=Wl,j.without=$c,j.words=vd,j.wrap=Po,j.xor=Fc,j.xorBy=Oc,j.xorWith=qc,j.zip=Rc,j.zipObject=Ns,j.zipObjectDeep=Ls,j.zipWith=Nc,j.entries=Ah,j.entriesIn=Mh,j.extend=bh,j.extendWith=_h,Dd(j,j),j.add=Jh,j.attempt=zh,j.camelCase=Eh,j.capitalize=Yl,j.ceil=Zh,j.clamp=Ul,j.clone=Mo,j.cloneDeep=$o,j.cloneDeepWith=Fo,j.cloneWith=Eo,j.conformsTo=Oo,j.deburr=Xl,j.defaultTo=xd,j.divide=ep,j.endsWith=Jl,j.eq=qo,j.escape=Zl,j.escapeRegExp=ed,j.every=Xs,j.find=Hc,j.findIndex=is,j.findKey=xl,j.findLast=Gc,j.findLastIndex=rs,j.findLastKey=wl,j.floor=tp,j.forEach=io,j.forEachRight=ro,j.forIn=kl,j.forInRight=jl,j.forOwn=Cl,j.forOwnRight=Dl,j.get=Il,j.gt=nh,j.gte=ah,j.has=Pl,j.hasIn=Al,j.head=ls,j.identity=wd,j.includes=no,j.indexOf=ds,j.inRange=Vl,j.invoke=Dh,j.isArguments=sh,j.isArray=oh,j.isArrayBuffer=lh,j.isArrayLike=Ro,j.isArrayLikeObject=No,j.isBoolean=Lo,j.isBuffer=dh,j.isDate=uh,j.isElement=zo,j.isEmpty=Ho,j.isEqual=Go,j.isEqualWith=Bo,j.isError=Qo,j.isFinite=Wo,j.isFunction=Uo,j.isInteger=Vo,j.isLength=Ko,j.isMap=ch,j.isMatch=Jo,j.isMatchWith=Zo,j.isNaN=el,j.isNative=tl,j.isNil=rl,j.isNull=il,j.isNumber=nl,j.isObject=Yo,j.isObjectLike=Xo,j.isPlainObject=al,j.isRegExp=hh,j.isSafeInteger=sl,j.isSet=ph,j.isString=ol,j.isSymbol=ll,j.isTypedArray=fh,j.isUndefined=dl,j.isWeakMap=ul,j.isWeakSet=cl,j.join=cs,j.kebabCase=$h,j.last=hs,j.lastIndexOf=ps,j.lowerCase=Fh,j.lowerFirst=Oh,j.lt=gh,j.lte=mh,j.max=Ld,j.maxBy=zd,j.mean=Hd,j.meanBy=Gd,j.min=Bd,j.minBy=Qd,j.stubArray=Md,j.stubFalse=Ed,j.stubObject=$d,j.stubString=Fd,j.stubTrue=Od,j.multiply=ip,j.nth=fs,j.noConflict=Sd,j.noop=Td,j.now=Kc,j.pad=td,j.padEnd=id,j.padStart=rd,j.parseInt=nd,j.random=Kl,j.reduce=oo,j.reduceRight=lo,j.repeat=ad,j.replace=sd,j.result=Rl,j.round=rp,j.runInContext=lr,j.sample=co,j.size=fo,j.snakeCase=qh,j.some=go,j.sortedIndex=xs,j.sortedIndexBy=ws,j.sortedIndexOf=ks,j.sortedLastIndex=js,j.sortedLastIndexBy=Cs,j.sortedLastIndexOf=Ds,j.startCase=Rh,j.startsWith=ld,j.subtract=np,j.sum=Wd,j.sumBy=Ud,j.template=dd,j.times=qd,j.toFinite=pl,j.toInteger=fl,j.toLength=gl,j.toLower=ud,j.toNumber=ml,j.toSafeInteger=bl,j.toString=_l,j.toUpper=cd,j.trim=hd,j.trimEnd=pd,j.trimStart=fd,j.truncate=gd,j.unescape=md,j.uniqueId=Nd,j.upperCase=Nh,j.upperFirst=Lh,j.each=io,j.eachRight=ro,j.first=ls,Dd(j,function(){var e={};return sr(j,function(t,i){du.call(j.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),j.VERSION=ee,n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){j[e].placeholder=j}),n(["drop","take"],function(e,t){X.prototype[e]=function(i){var r=this.__filtered__;if(r&&!t)return new X(this);i=i===Z?1:Ou(fl(i),0);var n=this.clone();return r?n.__takeCount__=qu(i,n.__takeCount__):n.__views__.push({size:qu(i,Pe),type:e+(n.__dir__<0?"Right":"")}),n},X.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),n(["filter","map","takeWhile"],function(e,t){var i=t+1,r=i==ke||i==Ce;X.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:pa(e,3),type:i}),t.__filtered__=t.__filtered__||r,t}}),n(["head","last"],function(e,t){var i="take"+(t?"Right":"");X.prototype[e]=function(){return this[i](1).value()[0]}}),n(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");X.prototype[e]=function(){return this.__filtered__?new X(this):this[i](1)}}),X.prototype.compact=function(){return this.filter(wd)},X.prototype.find=function(e){return this.filter(e).head()},X.prototype.findLast=function(e){return this.reverse().find(e)},X.prototype.invokeMap=Xr(function(e,t){return"function"==typeof e?new X(this):this.map(function(i){return yr(i,e,t)})}),X.prototype.reject=function(e){return this.filter(jo(pa(e)))},X.prototype.slice=function(e,t){e=fl(e);var i=this;return i.__filtered__&&(e>0||t<0)?new X(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==Z&&(t=fl(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},X.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},X.prototype.toArray=function(){return this.take(Pe)},sr(X.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),n=j[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);n&&(j.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,o=t instanceof X,l=s[0],d=o||oh(t),u=function(e){var t=n.apply(j,c([e],s));return r&&h?t[0]:t};d&&i&&"function"==typeof l&&1!=l.length&&(o=d=!1);var h=this.__chain__,p=!!this.__actions__.length,f=a&&!h,g=o&&!p;if(!a&&d){t=g?t:new X(this);var m=e.apply(t,s);return m.__actions__.push({func:Gs,args:[u],thisArg:Z}),new Y(m,h)}return f&&g?e.apply(this,s):(m=this.thru(u),f?r?m.value()[0]:m.value():m)})}),n(["pop","push","shift","sort","splice","unshift"],function(e){var t=ru[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);j.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var n=this.value();return t.apply(oh(n)?n:[],e)}return this[i](function(i){return t.apply(oh(i)?i:[],e)})}}),sr(X.prototype,function(e,t){var i=j[t];if(i){var r=i.name+"",n=Ku[r]||(Ku[r]=[]);n.push({name:t,func:i})}}),Ku[Un(Z,le).name]=[{name:"wrapper",func:Z}],X.prototype.clone=At,X.prototype.reverse=Gt,X.prototype.value=Bt,j.prototype.at=Lc,j.prototype.chain=Bs,j.prototype.commit=Qs,j.prototype.next=Ws,j.prototype.plant=Vs,j.prototype.reverse=Ks,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=Ys,j.prototype.first=j.prototype.head,yu&&(j.prototype[yu]=Us),j},or=sr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Bi._=or,define(function(){return or})):Wi?((Wi.exports=or)._=or,Qi._=or):Bi._=or}.call(this),function(e){if("function"==typeof define&&define.amd)define(["jquery","lodash","jquery-ui/data","jquery-ui/disable-selection","jquery-ui/focusable","jquery-ui/form","jquery-ui/ie","jquery-ui/keycode","jquery-ui/labels","jquery-ui/jquery-1-7","jquery-ui/plugin","jquery-ui/safe-active-element","jquery-ui/safe-blur","jquery-ui/scroll-parent","jquery-ui/tabbable","jquery-ui/unique-id","jquery-ui/version","jquery-ui/widget","jquery-ui/widgets/mouse","jquery-ui/widgets/draggable","jquery-ui/widgets/droppable","jquery-ui/widgets/resizable"],e);else if("undefined"!=typeof exports){try{jQuery=require("jquery")}catch(t){}try{_=require("lodash")}catch(t){}e(jQuery,_)}else e(jQuery,_)}(function(e,t){var i=window,r=function(e,t,i){var r=function(){return console.warn("gridstack.js: Function `"+t+"` is deprecated as of v0.2.5 and has been replaced with `"+i+"`. It will be **completely** removed in v1.0."),e.apply(this,arguments)};return r.prototype=e.prototype,r},n=function(e,t){console.warn("gridstack.js: Option `"+e+"` is deprecated as of v0.2.5 and has been replaced with `"+t+"`. It will be **completely** removed in v1.0.")},a={isIntercepted:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)},sort:function(e,i,r){return r=r||t.chain(e).map(function(e){return e.x+e.width}).max().value(),i=i!=-1?1:-1,t.sortBy(e,function(e){return i*(e.x+e.y*r)})},createStylesheet:function(e){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.setAttribute("data-gs-style-id",e),t.styleSheet?t.styleSheet.cssText="":t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet},removeStylesheet:function(t){e("STYLE[data-gs-style-id="+t+"]").remove()},insertCSSRule:function(e,t,i,r){"function"==typeof e.insertRule?e.insertRule(t+"{"+i+"}",r):"function"==typeof e.addRule&&e.addRule(t,i,r)},toBool:function(e){return"boolean"==typeof e?e:"string"==typeof e?(e=e.toLowerCase(),!(""===e||"no"==e||"false"==e||"0"==e)):Boolean(e)},_collisionNodeCheck:function(e){return e!=this.node&&a.isIntercepted(e,this.nn)},_didCollide:function(e){return a.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},e)},_isAddNodeIntercepted:function(e){return a.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},e)},parseHeight:function(e){var i=e,r="px";if(i&&t.isString(i)){var n=i.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw)?$/);if(!n)throw new Error("Invalid height");r=n[2]||"px",i=parseFloat(n[1])}return{height:i,unit:r}}};a.is_intercepted=r(a.isIntercepted,"is_intercepted","isIntercepted"),a.create_stylesheet=r(a.createStylesheet,"create_stylesheet","createStylesheet"),a.remove_stylesheet=r(a.removeStylesheet,"remove_stylesheet","removeStylesheet"),a.insert_css_rule=r(a.insertCSSRule,"insert_css_rule","insertCSSRule");var s=0,o=function(e,t,i,r,n){this.width=e,this["float"]=i||!1,this.height=r||0,this.nodes=n||[],this.onchange=t||function(){},this._updateCounter=0,this._float=this["float"],this._addedNodes=[],this._removedNodes=[]};o.prototype.batchUpdate=function(){this._updateCounter=1,this["float"]=!0},o.prototype.commit=function(){0!==this._updateCounter&&(this._updateCounter=0,this["float"]=this._float,this._packNodes(),this._notify())},o.prototype.getNodeDataByDOMEl=function(e){return t.find(this.nodes,function(t){return e.get(0)===t.el.get(0)})},o.prototype._fixCollisions=function(e){this._sortNodes(-1);var i=e,r=Boolean(t.find(this.nodes,function(e){return e.locked}));for(this["float"]||r||(i={x:0,y:e.y,width:this.width,height:e.height});;){var n=t.find(this.nodes,t.bind(a._collisionNodeCheck,{node:e,nn:i}));if("undefined"==typeof n)return;this.moveNode(n,n.x,e.y+e.height,n.width,n.height,!0)}},o.prototype.isAreaEmpty=function(e,i,r,n){var s={x:e||0,y:i||0,width:r||1,height:n||1},o=t.find(this.nodes,t.bind(function(e){return a.isIntercepted(e,s)},this));return null===o||"undefined"==typeof o},o.prototype._sortNodes=function(e){this.nodes=a.sort(this.nodes,e,this.width)},o.prototype._packNodes=function(){this._sortNodes(),this["float"]?t.each(this.nodes,t.bind(function(e,i){if(!e._updating&&"undefined"!=typeof e._origY&&e.y!=e._origY)for(var r=e.y;r>=e._origY;){var n=t.chain(this.nodes).find(t.bind(a._didCollide,{n:e,newY:r})).value();n||(e._dirty=!0,e.y=r),--r}},this)):t.each(this.nodes,t.bind(function(e,i){if(!e.locked)for(;e.y>0;){var r=e.y-1,n=0===i;if(i>0){var s=t.chain(this.nodes).take(i).find(t.bind(a._didCollide,{n:e,newY:r})).value();n="undefined"==typeof s}if(!n)break;e._dirty=e.y!=r,e.y=r}},this))},o.prototype._prepareNode=function(e,i){return e=t.defaults(e||{},{width:1,height:1,x:0,y:0}),e.x=parseInt(""+e.x),e.y=parseInt(""+e.y),e.width=parseInt(""+e.width),e.height=parseInt(""+e.height),e.autoPosition=e.autoPosition||!1,e.noResize=e.noResize||!1,e.noMove=e.noMove||!1,e.width>this.width?e.width=this.width:e.width<1&&(e.width=1),e.height<1&&(e.height=1),e.x<0&&(e.x=0),e.x+e.width>this.width&&(i?e.width=this.width-e.x:e.x=this.width-e.width),e.y<0&&(e.y=0),e},o.prototype._notify=function(){var e=Array.prototype.slice.call(arguments,0);if(e[0]="undefined"==typeof e[0]?[]:[e[0]],e[1]="undefined"==typeof e[1]||e[1],!this._updateCounter){var t=e[0].concat(this.getDirtyNodes());this.onchange(t,e[1])}},o.prototype.cleanNodes=function(){this._updateCounter||t.each(this.nodes,function(e){e._dirty=!1})},o.prototype.getDirtyNodes=function(){return t.filter(this.nodes,function(e){return e._dirty})},o.prototype.addNode=function(e,i){if(e=this._prepareNode(e),"undefined"!=typeof e.maxWidth&&(e.width=Math.min(e.width,e.maxWidth)),"undefined"!=typeof e.maxHeight&&(e.height=Math.min(e.height,e.maxHeight)),"undefined"!=typeof e.minWidth&&(e.width=Math.max(e.width,e.minWidth)),"undefined"!=typeof e.minHeight&&(e.height=Math.max(e.height,e.minHeight)),e._id=++s,e._dirty=!0,e.autoPosition){this._sortNodes();for(var r=0;;++r){var n=r%this.width,o=Math.floor(r/this.width);if(!(n+e.width>this.width||t.find(this.nodes,t.bind(a._isAddNodeIntercepted,{x:n,y:o,node:e})))){e.x=n,e.y=o;break}}}return this.nodes.push(e),"undefined"!=typeof i&&i&&this._addedNodes.push(t.clone(e)),this._fixCollisions(e),this._packNodes(),this._notify(),e},o.prototype.removeNode=function(e,i){i="undefined"==typeof i||i,this._removedNodes.push(t.clone(e)),e._id=null,this.nodes=t.without(this.nodes,e),this._packNodes(),this._notify(e,i)},o.prototype.canMoveNode=function(i,r,n,a,s){var l=Boolean(t.find(this.nodes,function(e){return e.locked}));if(!this.height&&!l)return!0;var d,u=new o(this.width,null,this["float"],0,t.map(this.nodes,function(t){return t==i?d=e.extend({},t):e.extend({},t)}));if("undefined"==typeof d)return!0;u.moveNode(d,r,n,a,s);var c=!0;return l&&(c&=!Boolean(t.find(u.nodes,function(e){return e!=d&&Boolean(e.locked)&&Boolean(e._dirty)}))),this.height&&(c&=u.getGridHeight()<=this.height),c},o.prototype.canBePlacedWithRespectToHeight=function(i){if(!this.height)return!0;var r=new o(this.width,null,this["float"],0,t.map(this.nodes,function(t){return e.extend({},t)}));return r.addNode(i),r.getGridHeight()<=this.height},o.prototype.moveNode=function(e,t,i,r,n,a){if("number"!=typeof t&&(t=e.x),"number"!=typeof i&&(i=e.y),"number"!=typeof r&&(r=e.width),"number"!=typeof n&&(n=e.height),"undefined"!=typeof e.maxWidth&&(r=Math.min(r,e.maxWidth)),"undefined"!=typeof e.maxHeight&&(n=Math.min(n,e.maxHeight)),"undefined"!=typeof e.minWidth&&(r=Math.max(r,e.minWidth)),"undefined"!=typeof e.minHeight&&(n=Math.max(n,e.minHeight)),e.x==t&&e.y==i&&e.width==r&&e.height==n)return e;var s=e.width!=r;return e._dirty=!0,e.x=t,e.y=i,e.width=r,e.height=n,e=this._prepareNode(e,s),this._fixCollisions(e),a||(this._packNodes(),this._notify()),e},o.prototype.getGridHeight=function(){return t.reduce(this.nodes,function(e,t){return Math.max(e,t.y+t.height)},0)},o.prototype.beginUpdate=function(e){t.each(this.nodes,function(e){e._origY=e.y}),e._updating=!0},o.prototype.endUpdate=function(){t.each(this.nodes,function(e){e._origY=e.y});var e=t.find(this.nodes,function(e){return e._updating});e&&(e._updating=!1)};var l=function(i,r){var a,s,l=this;r=r||{},this.container=e(i),"undefined"!=typeof r.handle_class&&(r.handleClass=r.handle_class,n("handle_class","handleClass")),"undefined"!=typeof r.item_class&&(r.itemClass=r.item_class,n("item_class","itemClass")),"undefined"!=typeof r.placeholder_class&&(r.placeholderClass=r.placeholder_class,n("placeholder_class","placeholderClass")),"undefined"!=typeof r.placeholder_text&&(r.placeholderText=r.placeholder_text,n("placeholder_text","placeholderText")),"undefined"!=typeof r.cell_height&&(r.cellHeight=r.cell_height,n("cell_height","cellHeight")),"undefined"!=typeof r.vertical_margin&&(r.verticalMargin=r.vertical_margin,n("vertical_margin","verticalMargin")),"undefined"!=typeof r.min_width&&(r.minWidth=r.min_width,n("min_width","minWidth")),"undefined"!=typeof r.static_grid&&(r.staticGrid=r.static_grid,n("static_grid","staticGrid")),"undefined"!=typeof r.is_nested&&(r.isNested=r.is_nested,n("is_nested","isNested")),"undefined"!=typeof r.always_show_resize_handle&&(r.alwaysShowResizeHandle=r.always_show_resize_handle,n("always_show_resize_handle","alwaysShowResizeHandle")),r.itemClass=r.itemClass||"grid-stack-item";var d=this.container.closest("."+r.itemClass).length>0;if(this.opts=t.defaults(r||{},{width:parseInt(this.container.attr("data-gs-width"))||12,height:parseInt(this.container.attr("data-gs-height"))||0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,cellHeight:60,verticalMargin:20,auto:!0,minWidth:768,"float":!1,staticGrid:!1,_class:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),animate:Boolean(this.container.attr("data-gs-animate"))||!1,alwaysShowResizeHandle:r.alwaysShowResizeHandle||!1,resizable:t.defaults(r.resizable||{},{autoHide:!r.alwaysShowResizeHandle,handles:"se"}),draggable:t.defaults(r.draggable||{},{handle:(r.handleClass?"."+r.handleClass:r.handle?r.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"}),disableDrag:r.disableDrag||!1,disableResize:r.disableResize||!1,rtl:"auto",removable:!1,removeTimeout:2e3,verticalMarginUnit:"px",cellHeightUnit:"px"}),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===this.container.css("direction")),this.opts.rtl&&this.container.addClass("grid-stack-rtl"),this.opts.isNested=d,s="auto"===this.opts.cellHeight,s?l.cellHeight(l.cellWidth(),!0):this.cellHeight(this.opts.cellHeight,!0),this.verticalMargin(this.opts.verticalMargin,!0),this.container.addClass(this.opts._class),this._setStaticClass(),d&&this.container.addClass("grid-stack-nested"),this._initStyles(),this.grid=new o(this.opts.width,function(e,i){i="undefined"==typeof i||i;var r=0;t.each(e,function(e){i&&null===e._id?e.el&&e.el.remove():(e.el.attr("data-gs-x",e.x).attr("data-gs-y",e.y).attr("data-gs-width",e.width).attr("data-gs-height",e.height),r=Math.max(r,e.y+e.height))}),l._updateStyles(r+10)},this.opts["float"],this.opts.height),this.opts.auto){var u=[],c=this;this.container.children("."+this.opts.itemClass+":not(."+this.opts.placeholderClass+")").each(function(t,i){i=e(i),u.push({el:i,i:parseInt(i.attr("data-gs-x"))+parseInt(i.attr("data-gs-y"))*c.opts.width})}),t.chain(u).sortBy(function(e){return e.i}).each(function(e){l._prepareElement(e.el)}).value()}if(this.setAnimation(this.opts.animate),this.placeholder=e('<div class="'+this.opts.placeholderClass+" "+this.opts.itemClass+'"><div class="placeholder-content">'+this.opts.placeholderText+"</div></div>").hide(),this._updateContainerHeight(),this._updateHeightsOnResize=t.throttle(function(){l.cellHeight(l.cellWidth(),!1)},100),this.onResizeHandler=function(){if(s&&l._updateHeightsOnResize(),l._isOneColumnMode()){if(a)return;a=!0,l.grid._sortNodes(),t.each(l.grid.nodes,function(e){l.container.append(e.el),l.opts.staticGrid||((e.noMove||l.opts.disableDrag)&&e.el.draggable("disable"),(e.noResize||l.opts.disableResize)&&e.el.resizable("disable"),e.el.trigger("resize"))})}else{if(!a)return;if(a=!1,l.opts.staticGrid)return;t.each(l.grid.nodes,function(e){e.noMove||l.opts.disableDrag||e.el.draggable("enable"),e.noResize||l.opts.disableResize||e.el.resizable("enable"),e.el.trigger("resize")})}},e(window).resize(this.onResizeHandler),this.onResizeHandler(),!l.opts.staticGrid&&"string"==typeof l.opts.removable){var h=e(l.opts.removable);h.data("droppable")||h.droppable({accept:"."+l.opts.itemClass}),h.on("dropover",function(t,i){var r=e(i.draggable),n=r.data("_gridstack_node");n._grid===l&&l._setupRemovingTimeout(r)}).on("dropout",function(t,i){var r=e(i.draggable),n=r.data("_gridstack_node");n._grid===l&&l._clearRemovingTimeout(r)})}if(!l.opts.staticGrid&&l.opts.acceptWidgets){var p=null,f=function(e,t){var i=p,r=i.data("_gridstack_node"),n=l.getCellFromPixel(t.offset,!0),a=Math.max(0,n.x),s=Math.max(0,n.y);if(r._added){if(!l.grid.canMoveNode(r,a,s))return;l.grid.moveNode(r,a,s),l._updateContainerHeight()}else r._added=!0,r.el=i,r.x=a,r.y=s,l.grid.cleanNodes(),l.grid.beginUpdate(r),l.grid.addNode(r),l.container.append(l.placeholder),l.placeholder.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height).show(),r.el=l.placeholder,r._beforeDragX=r.x,r._beforeDragY=r.y,l._updateContainerHeight()};e(l.container).droppable({accept:function(t){t=e(t);var i=t.data("_gridstack_node");return(!i||i._grid!==l)&&t.is(l.opts.acceptWidgets===!0?".grid-stack-item":l.opts.acceptWidgets)},over:function(t,i){var r=(l.container.offset(),e(i.draggable)),n=l.cellWidth(),a=l.cellHeight(),s=r.data("_gridstack_node"),o=s?s.width:Math.ceil(r.outerWidth()/n),d=s?s.height:Math.ceil(r.outerHeight()/a);p=r;var u=l.grid._prepareNode({width:o,height:d,_added:!1,_temporary:!0});r.data("_gridstack_node",u),r.data("_gridstack_node_orig",s),r.on("drag",f)},out:function(t,i){var r=e(i.draggable);r.unbind("drag",f);var n=r.data("_gridstack_node");n.el=null,l.grid.removeNode(n),l.placeholder.detach(),l._updateContainerHeight(),r.data("_gridstack_node",r.data("_gridstack_node_orig"))},drop:function(t,i){l.placeholder.detach();var r=e(i.draggable).data("_gridstack_node");r._grid=l;var n=e(i.draggable).clone(!1);n.data("_gridstack_node",r),e(i.draggable).remove(),r.el=n,l.placeholder.hide(),n.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height).addClass(l.opts.itemClass).removeAttr("style").enableSelection().removeData("draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled").unbind("drag",f),l.container.append(n),l._prepareElementsByNode(n,r),l._updateContainerHeight(),l._triggerChangeEvent(),l.grid.endUpdate()}})}};return l.prototype._triggerChangeEvent=function(e){var t=this.grid.getDirtyNodes(),i=!1,r=[];t&&t.length&&(r.push(t),i=!0),(i||e===!0)&&this.container.trigger("change",r)},l.prototype._triggerAddEvent=function(){this.grid._addedNodes&&this.grid._addedNodes.length>0&&(this.container.trigger("added",[t.map(this.grid._addedNodes,t.clone)]),this.grid._addedNodes=[])},l.prototype._triggerRemoveEvent=function(){this.grid._removedNodes&&this.grid._removedNodes.length>0&&(this.container.trigger("removed",[t.map(this.grid._removedNodes,t.clone)]),this.grid._removedNodes=[])},l.prototype._initStyles=function(){this._stylesId&&a.removeStylesheet(this._stylesId),this._stylesId="gridstack-style-"+(1e5*Math.random()).toFixed(),this._styles=a.createStylesheet(this._stylesId),null!==this._styles&&(this._styles._max=0)},l.prototype._updateStyles=function(e){if(null!==this._styles&&"undefined"!=typeof this._styles){var t,i="."+this.opts._class+" ."+this.opts.itemClass,r=this;if("undefined"==typeof e&&(e=this._styles._max,this._initStyles(),this._updateContainerHeight()),this.opts.cellHeight&&!(0!==this._styles._max&&e<=this._styles._max)&&(t=this.opts.verticalMargin&&this.opts.cellHeightUnit!==this.opts.verticalMarginUnit?function(e,t){return e&&t?"calc("+(r.opts.cellHeight*e+r.opts.cellHeightUnit)+" + "+(r.opts.verticalMargin*t+r.opts.verticalMarginUnit)+")":r.opts.cellHeight*e+r.opts.verticalMargin*t+r.opts.cellHeightUnit}:function(e,t){return r.opts.cellHeight*e+r.opts.verticalMargin*t+r.opts.cellHeightUnit},0===this._styles._max&&a.insertCSSRule(this._styles,i,"min-height: "+t(1,0)+";",0),e>this._styles._max)){for(var n=this._styles._max;n<e;++n)a.insertCSSRule(this._styles,i+'[data-gs-height="'+(n+1)+'"]',"height: "+t(n+1,n)+";",n),a.insertCSSRule(this._styles,i+'[data-gs-min-height="'+(n+1)+'"]',"min-height: "+t(n+1,n)+";",n),a.insertCSSRule(this._styles,i+'[data-gs-max-height="'+(n+1)+'"]',"max-height: "+t(n+1,n)+";",n),a.insertCSSRule(this._styles,i+'[data-gs-y="'+n+'"]',"top: "+t(n,n)+";",n);this._styles._max=e}}},l.prototype._updateContainerHeight=function(){if(!this.grid._updateCounter){var e=this.grid.getGridHeight();this.container.attr("data-gs-current-height",e),
this.opts.cellHeight&&(this.opts.verticalMargin?this.opts.cellHeightUnit===this.opts.verticalMarginUnit?this.container.css("height",e*(this.opts.cellHeight+this.opts.verticalMargin)-this.opts.verticalMargin+this.opts.cellHeightUnit):this.container.css("height","calc("+(e*this.opts.cellHeight+this.opts.cellHeightUnit)+" + "+(e*(this.opts.verticalMargin-1)+this.opts.verticalMarginUnit)+")"):this.container.css("height",e*this.opts.cellHeight+this.opts.cellHeightUnit))}},l.prototype._isOneColumnMode=function(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=this.opts.minWidth},l.prototype._setupRemovingTimeout=function(t){var i=this,r=e(t).data("_gridstack_node");!r._removeTimeout&&i.opts.removable&&(r._removeTimeout=setTimeout(function(){t.addClass("grid-stack-item-removing"),r._isAboutToRemove=!0},i.opts.removeTimeout))},l.prototype._clearRemovingTimeout=function(t){var i=e(t).data("_gridstack_node");i._removeTimeout&&(clearTimeout(i._removeTimeout),i._removeTimeout=null,t.removeClass("grid-stack-item-removing"),i._isAboutToRemove=!1)},l.prototype._prepareElementsByNode=function(i,r){if("undefined"!=typeof e.ui){var n,a,s=this,o=function(e,t){var o,l,d=Math.round(t.position.left/n),u=Math.floor((t.position.top+a/2)/a);if("drag"!=e.type&&(o=Math.round(t.size.width/n),l=Math.round(t.size.height/a)),"drag"==e.type)d<0||d>=s.grid.width||u<0?(s.opts.removable===!0&&s._setupRemovingTimeout(i),d=r._beforeDragX,u=r._beforeDragY,s.placeholder.detach(),s.placeholder.hide(),s.grid.removeNode(r),s._updateContainerHeight(),r._temporaryRemoved=!0):(s._clearRemovingTimeout(i),r._temporaryRemoved&&(s.grid.addNode(r),s.placeholder.attr("data-gs-x",d).attr("data-gs-y",u).attr("data-gs-width",o).attr("data-gs-height",l).show(),s.container.append(s.placeholder),r.el=s.placeholder,r._temporaryRemoved=!1));else if("resize"==e.type&&d<0)return;s.grid.canMoveNode(r,d,u,o,l)&&(s.grid.moveNode(r,d,u,o,l),s._updateContainerHeight())},l=function(t,o){s.container.append(s.placeholder);var l=e(this);s.grid.cleanNodes(),s.grid.beginUpdate(r),n=s.cellWidth();var d=Math.ceil(l.outerHeight()/l.attr("data-gs-height"));a=s.container.height()/parseInt(s.container.attr("data-gs-current-height")),s.placeholder.attr("data-gs-x",l.attr("data-gs-x")).attr("data-gs-y",l.attr("data-gs-y")).attr("data-gs-width",l.attr("data-gs-width")).attr("data-gs-height",l.attr("data-gs-height")).show(),r.el=s.placeholder,r._beforeDragX=r.x,r._beforeDragY=r.y,i.resizable("option","minWidth",n*(r.minWidth||1)),i.resizable("option","minHeight",d*(r.minHeight||1)),"resizestart"==t.type&&l.find(".grid-stack-item").trigger("resizestart")},d=function(t,n){var a=e(this);if(a.data("_gridstack_node")){var o=!1;s.placeholder.detach(),r.el=a,s.placeholder.hide(),r._isAboutToRemove?(o=!0,i.removeData("_gridstack_node"),i.remove()):(s._clearRemovingTimeout(i),r._temporaryRemoved?(a.attr("data-gs-x",r._beforeDragX).attr("data-gs-y",r._beforeDragY).attr("data-gs-width",r.width).attr("data-gs-height",r.height).removeAttr("style"),r.x=r._beforeDragX,r.y=r._beforeDragY,s.grid.addNode(r)):a.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height).removeAttr("style")),s._updateContainerHeight(),s._triggerChangeEvent(o),s.grid.endUpdate();var l=a.find(".grid-stack");l.length&&"resizestop"==t.type&&(l.each(function(t,i){e(i).data("gridstack").onResizeHandler()}),a.find(".grid-stack-item").trigger("resizestop"))}};i.draggable(t.extend({},this.opts.draggable,{containment:this.opts.isNested?this.container.parent():null,start:l,stop:d,drag:o})).resizable(t.extend({},this.opts.resizable,{start:l,stop:d,resize:o})),(r.noMove||this._isOneColumnMode()||this.opts.disableDrag)&&i.draggable("disable"),(r.noResize||this._isOneColumnMode()||this.opts.disableResize)&&i.resizable("disable"),i.attr("data-gs-locked",r.locked?"yes":null)}},l.prototype._prepareElement=function(t,i){i="undefined"!=typeof i&&i;var r=this;t=e(t),t.addClass(this.opts.itemClass);var n=r.grid.addNode({x:t.attr("data-gs-x"),y:t.attr("data-gs-y"),width:t.attr("data-gs-width"),height:t.attr("data-gs-height"),maxWidth:t.attr("data-gs-max-width"),minWidth:t.attr("data-gs-min-width"),maxHeight:t.attr("data-gs-max-height"),minHeight:t.attr("data-gs-min-height"),autoPosition:a.toBool(t.attr("data-gs-auto-position")),noResize:a.toBool(t.attr("data-gs-no-resize")),noMove:a.toBool(t.attr("data-gs-no-move")),locked:a.toBool(t.attr("data-gs-locked")),el:t,id:t.attr("data-gs-id"),_grid:r},i);t.data("_gridstack_node",n),this._prepareElementsByNode(t,n)},l.prototype.setAnimation=function(e){e?this.container.addClass("grid-stack-animate"):this.container.removeClass("grid-stack-animate")},l.prototype.addWidget=function(t,i,r,n,a,s,o,l,d,u,c){return t=e(t),"undefined"!=typeof i&&t.attr("data-gs-x",i),"undefined"!=typeof r&&t.attr("data-gs-y",r),"undefined"!=typeof n&&t.attr("data-gs-width",n),"undefined"!=typeof a&&t.attr("data-gs-height",a),"undefined"!=typeof s&&t.attr("data-gs-auto-position",s?"yes":null),"undefined"!=typeof o&&t.attr("data-gs-min-width",o),"undefined"!=typeof l&&t.attr("data-gs-max-width",l),"undefined"!=typeof d&&t.attr("data-gs-min-height",d),"undefined"!=typeof u&&t.attr("data-gs-max-height",u),"undefined"!=typeof c&&t.attr("data-gs-id",c),this.container.append(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},l.prototype.makeWidget=function(t){return t=e(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},l.prototype.willItFit=function(e,t,i,r,n){var a={x:e,y:t,width:i,height:r,autoPosition:n};return this.grid.canBePlacedWithRespectToHeight(a)},l.prototype.removeWidget=function(t,i){i="undefined"==typeof i||i,t=e(t);var r=t.data("_gridstack_node");r||(r=this.grid.getNodeDataByDOMEl(t)),this.grid.removeNode(r,i),t.removeData("_gridstack_node"),this._updateContainerHeight(),i&&t.remove(),this._triggerChangeEvent(!0),this._triggerRemoveEvent()},l.prototype.removeAll=function(e){t.each(this.grid.nodes,t.bind(function(t){this.removeWidget(t.el,e)},this)),this.grid.nodes=[],this._updateContainerHeight()},l.prototype.destroy=function(t){e(window).off("resize",this.onResizeHandler),this.disable(),"undefined"==typeof t||t?this.container.remove():(this.removeAll(!1),this.container.removeData("gridstack")),a.removeStylesheet(this._stylesId),this.grid&&(this.grid=null)},l.prototype.resizable=function(t,i){var r=this;return t=e(t),t.each(function(t,n){n=e(n);var a=n.data("_gridstack_node");"undefined"!=typeof a&&null!==a&&"undefined"!=typeof e.ui&&(a.noResize=!i,a.noResize||r._isOneColumnMode()?n.resizable("disable"):n.resizable("enable"))}),this},l.prototype.movable=function(t,i){var r=this;return t=e(t),t.each(function(t,n){n=e(n);var a=n.data("_gridstack_node");"undefined"!=typeof a&&null!==a&&"undefined"!=typeof e.ui&&(a.noMove=!i,a.noMove||r._isOneColumnMode()?(n.draggable("disable"),n.removeClass("ui-draggable-handle")):(n.draggable("enable"),n.addClass("ui-draggable-handle")))}),this},l.prototype.enableMove=function(e,t){this.movable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableDrag=!e)},l.prototype.enableResize=function(e,t){this.resizable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableResize=!e)},l.prototype.disable=function(){this.movable(this.container.children("."+this.opts.itemClass),!1),this.resizable(this.container.children("."+this.opts.itemClass),!1),this.container.trigger("disable")},l.prototype.enable=function(){this.movable(this.container.children("."+this.opts.itemClass),!0),this.resizable(this.container.children("."+this.opts.itemClass),!0),this.container.trigger("enable")},l.prototype.locked=function(t,i){return t=e(t),t.each(function(t,r){r=e(r);var n=r.data("_gridstack_node");"undefined"!=typeof n&&null!==n&&(n.locked=i||!1,r.attr("data-gs-locked",n.locked?"yes":null))}),this},l.prototype.maxHeight=function(t,i){return t=e(t),t.each(function(t,r){r=e(r);var n=r.data("_gridstack_node");"undefined"!=typeof n&&null!==n&&(isNaN(i)||(n.maxHeight=i||!1,r.attr("data-gs-max-height",i)))}),this},l.prototype.minHeight=function(t,i){return t=e(t),t.each(function(t,r){r=e(r);var n=r.data("_gridstack_node");"undefined"!=typeof n&&null!==n&&(isNaN(i)||(n.minHeight=i||!1,r.attr("data-gs-min-height",i)))}),this},l.prototype.maxWidth=function(t,i){return t=e(t),t.each(function(t,r){r=e(r);var n=r.data("_gridstack_node");"undefined"!=typeof n&&null!==n&&(isNaN(i)||(n.maxWidth=i||!1,r.attr("data-gs-max-width",i)))}),this},l.prototype.minWidth=function(t,i){return t=e(t),t.each(function(t,r){r=e(r);var n=r.data("_gridstack_node");"undefined"!=typeof n&&null!==n&&(isNaN(i)||(n.minWidth=i||!1,r.attr("data-gs-min-width",i)))}),this},l.prototype._updateElement=function(t,i){t=e(t).first();var r=t.data("_gridstack_node");if("undefined"!=typeof r&&null!==r){var n=this;n.grid.cleanNodes(),n.grid.beginUpdate(r),i.call(this,t,r),n._updateContainerHeight(),n._triggerChangeEvent(),n.grid.endUpdate()}},l.prototype.resize=function(e,t,i){this._updateElement(e,function(e,r){t=null!==t&&"undefined"!=typeof t?t:r.width,i=null!==i&&"undefined"!=typeof i?i:r.height,this.grid.moveNode(r,r.x,r.y,t,i)})},l.prototype.move=function(e,t,i){this._updateElement(e,function(e,r){t=null!==t&&"undefined"!=typeof t?t:r.x,i=null!==i&&"undefined"!=typeof i?i:r.y,this.grid.moveNode(r,t,i,r.width,r.height)})},l.prototype.update=function(e,t,i,r,n){this._updateElement(e,function(e,a){t=null!==t&&"undefined"!=typeof t?t:a.x,i=null!==i&&"undefined"!=typeof i?i:a.y,r=null!==r&&"undefined"!=typeof r?r:a.width,n=null!==n&&"undefined"!=typeof n?n:a.height,this.grid.moveNode(a,t,i,r,n)})},l.prototype.verticalMargin=function(e,t){if("undefined"==typeof e)return this.opts.verticalMargin;var i=a.parseHeight(e);this.opts.verticalMarginUnit===i.unit&&this.opts.height===i.height||(this.opts.verticalMarginUnit=i.unit,this.opts.verticalMargin=i.height,t||this._updateStyles())},l.prototype.cellHeight=function(e,t){if("undefined"==typeof e){if(this.opts.cellHeight)return this.opts.cellHeight;var i=this.container.children("."+this.opts.itemClass).first();return Math.ceil(i.outerHeight()/i.attr("data-gs-height"))}var r=a.parseHeight(e);this.opts.cellHeightUnit===r.heightUnit&&this.opts.height===r.height||(this.opts.cellHeightUnit=r.unit,this.opts.cellHeight=r.height,t||this._updateStyles())},l.prototype.cellWidth=function(){return Math.round(this.container.outerWidth()/this.opts.width)},l.prototype.getCellFromPixel=function(e,t){var i="undefined"!=typeof t&&t?this.container.offset():this.container.position(),r=e.left-i.left,n=e.top-i.top,a=Math.floor(this.container.width()/this.opts.width),s=Math.floor(this.container.height()/parseInt(this.container.attr("data-gs-current-height")));return{x:Math.floor(r/a),y:Math.floor(n/s)}},l.prototype.batchUpdate=function(){this.grid.batchUpdate()},l.prototype.commit=function(){this.grid.commit(),this._updateContainerHeight()},l.prototype.isAreaEmpty=function(e,t,i,r){return this.grid.isAreaEmpty(e,t,i,r)},l.prototype.setStatic=function(e){this.opts.staticGrid=e===!0,this.enableMove(!e),this.enableResize(!e),this._setStaticClass()},l.prototype._setStaticClass=function(){var e="grid-stack-static";this.opts.staticGrid===!0?this.container.addClass(e):this.container.removeClass(e)},l.prototype._updateNodeWidths=function(e,t){this.grid._sortNodes(),this.grid.batchUpdate();for(var i={},r=0;r<this.grid.nodes.length;r++)i=this.grid.nodes[r],this.update(i.el,Math.round(i.x*t/e),void 0,Math.round(i.width*t/e),void 0);this.grid.commit()},l.prototype.setGridWidth=function(e,t){this.container.removeClass("grid-stack-"+this.opts.width),t!==!0&&this._updateNodeWidths(this.opts.width,e),this.opts.width=e,this.grid.width=e,this.container.addClass("grid-stack-"+e)},o.prototype.batch_update=r(o.prototype.batchUpdate),o.prototype._fix_collisions=r(o.prototype._fixCollisions,"_fix_collisions","_fixCollisions"),o.prototype.is_area_empty=r(o.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),o.prototype._sort_nodes=r(o.prototype._sortNodes,"_sort_nodes","_sortNodes"),o.prototype._pack_nodes=r(o.prototype._packNodes,"_pack_nodes","_packNodes"),o.prototype._prepare_node=r(o.prototype._prepareNode,"_prepare_node","_prepareNode"),o.prototype.clean_nodes=r(o.prototype.cleanNodes,"clean_nodes","cleanNodes"),o.prototype.get_dirty_nodes=r(o.prototype.getDirtyNodes,"get_dirty_nodes","getDirtyNodes"),o.prototype.add_node=r(o.prototype.addNode,"add_node","addNode, "),o.prototype.remove_node=r(o.prototype.removeNode,"remove_node","removeNode"),o.prototype.can_move_node=r(o.prototype.canMoveNode,"can_move_node","canMoveNode"),o.prototype.move_node=r(o.prototype.moveNode,"move_node","moveNode"),o.prototype.get_grid_height=r(o.prototype.getGridHeight,"get_grid_height","getGridHeight"),o.prototype.begin_update=r(o.prototype.beginUpdate,"begin_update","beginUpdate"),o.prototype.end_update=r(o.prototype.endUpdate,"end_update","endUpdate"),o.prototype.can_be_placed_with_respect_to_height=r(o.prototype.canBePlacedWithRespectToHeight,"can_be_placed_with_respect_to_height","canBePlacedWithRespectToHeight"),l.prototype._trigger_change_event=r(l.prototype._triggerChangeEvent,"_trigger_change_event","_triggerChangeEvent"),l.prototype._init_styles=r(l.prototype._initStyles,"_init_styles","_initStyles"),l.prototype._update_styles=r(l.prototype._updateStyles,"_update_styles","_updateStyles"),l.prototype._update_container_height=r(l.prototype._updateContainerHeight,"_update_container_height","_updateContainerHeight"),l.prototype._is_one_column_mode=r(l.prototype._isOneColumnMode,"_is_one_column_mode","_isOneColumnMode"),l.prototype._prepare_element=r(l.prototype._prepareElement,"_prepare_element","_prepareElement"),l.prototype.set_animation=r(l.prototype.setAnimation,"set_animation","setAnimation"),l.prototype.add_widget=r(l.prototype.addWidget,"add_widget","addWidget"),l.prototype.make_widget=r(l.prototype.makeWidget,"make_widget","makeWidget"),l.prototype.will_it_fit=r(l.prototype.willItFit,"will_it_fit","willItFit"),l.prototype.remove_widget=r(l.prototype.removeWidget,"remove_widget","removeWidget"),l.prototype.remove_all=r(l.prototype.removeAll,"remove_all","removeAll"),l.prototype.min_height=r(l.prototype.minHeight,"min_height","minHeight"),l.prototype.min_width=r(l.prototype.minWidth,"min_width","minWidth"),l.prototype._update_element=r(l.prototype._updateElement,"_update_element","_updateElement"),l.prototype.cell_height=r(l.prototype.cellHeight,"cell_height","cellHeight"),l.prototype.cell_width=r(l.prototype.cellWidth,"cell_width","cellWidth"),l.prototype.get_cell_from_pixel=r(l.prototype.getCellFromPixel,"get_cell_from_pixel","getCellFromPixel"),l.prototype.batch_update=r(l.prototype.batchUpdate,"batch_update","batchUpdate"),l.prototype.is_area_empty=r(l.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),l.prototype.set_static=r(l.prototype.setStatic,"set_static","setStatic"),l.prototype._set_static_class=r(l.prototype._setStaticClass,"_set_static_class","_setStaticClass"),i.GridStackUI=l,i.GridStackUI.Utils=a,i.GridStackUI.Engine=o,e.fn.gridstack=function(t){return this.each(function(){var i=e(this);i.data("gridstack")||i.data("gridstack",new l(this,t))})},i.GridStackUI}),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-ui","jquery-json"],e):e(jQuery)}(function(e){e.rup_utils={},e.rup_utils.arr=[],e.rup_utils.autoGenerateIdNum=0,e.rup_utils.swinging=!1,e.extend(e.rup_utils,{capitalizedLang:function(){return null==e.rup.lang?"":e.rup.lang.charAt(0).toUpperCase()+e.rup.lang.slice(1)},getJson:function(t,i){var r=e.extend({},t),n=i.split(".");if(1===n.length)return t[n[0]];for(var a=0;a<n.length;a++)r=r[n[a]];return r},setJson:function(e,t,i){var r=e,n=t.split(".");if(1===n.length)e[n[0]]=i;else{for(var a=0;a<n.length-1;a++)r=r[n[a]];r[n[n.length-1]]=i}},jsontoarray:function(e){function t(e,r){if(r=r||"",void 0===e||null===e)t("",r);else if(e.constructor==Object)for(var n in e){var a=r+(""==r?n:"."+n);t(e[n],a)}else if(e.constructor==Array)if(0==e.length)t("[]",r);else for(var s=0;s<e.length;s++){var o="["+s+"]",a=r+o;t(e[s],a)}else void 0==i[r]?i[r]=e:i[r].constructor!=Array?i[r]=[i[r],e]:i[r].push(e)}var i=[];return t(e),i},unnestjson:function(t){var i=e.rup_utils.jsontoarray(t),r={};for(key in i)e.isFunction(i[key])||(r[key]=i[key]);return r},elementFromPoint:function(t,i,r){var n=!0,a=r||!0;if(!document.elementFromPoint)return null;if(!a){var s;(s=e(document).scrollTop())>0?n=null==document.elementFromPoint(0,s+e(window).height()-1):(s=e(document).scrollLeft())>0&&(n=null==document.elementFromPoint(s+e(window).width()-1,0)),a=s>0}return n||(t+=e(document).scrollLeft(),i+=e(document).scrollTop()),document.elementFromPoint(t,i)},firstCharToLowerCase:function(e){return e.substring(0,1).toLowerCase()+e.substring(1)},getJQueryId:function(e,t){var i;return"string"==typeof e?(i=e,t===!0&&(i=String(i).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")),"#"===i[0]?i:"#"+i):null},queryStringToJson:function(e){function t(e,t,i){if(t.length>1){var r=t.shift();"undefined"==typeof e[r]&&(e[r]=""==t[0]?[]:{}),arguments.callee(e[r],t,i)}else e instanceof Array?e.push(i):e[t]=i}for(var i,r,n,a,s,o=e.split("&"),l={},d=0;d<o.length;d++)i=o[d].split("="),r=decodeURIComponent(i[0]),n=decodeURIComponent(i[1]),a=r.match(/(^[^\[]+)(\[.*\]$)?/),s=a[1],a=a[2]?a[2].match(/(?=\[(.*)\]$)/)[1].split("]["):[],a.unshift(s),t(l,a,n);return l},populateForm:function(t,i){var r,n,a;if(t)for(var s in t)if(n=new Array,r=e("[name='"+s+"']",i),0==r.length&&(a=s.substr(0,s.indexOf("[")),r=e("[name='"+a+"']",i)),r.is("[ruptype]"))if(r.hasClass("jstree")){for(var o in t)o.substr(0,o.indexOf("["))==a&&n.push(t[o]);r["rup_"+r.attr("ruptype")]("setRupValue",n);var l=[];l[a]=n,r.on("loaded.jstree",function(t,i){var r=this.id;e(this).trigger("rup_filter_treeLoaded",l[r])})}else r["rup_"+r.attr("ruptype")]("setRupValue",t[s]);else r.is("input:radio")||r.is("input:checkbox")?r.each(function(){e(this).val()==t[s]?e(this).attr("checked","checked"):e(this).removeAttr("checked")}):r.is("select")?r.val(t[s]).click():r.is(":not(img)")&&r.val(t[s])},createDate:function(t,i,r){return e.datepicker.formatDate(e.rup.i18n.base.rup_date.dateFormat,new Date(r,i-1,t))},createTime:function(e,t,i){return new Date(null,null,null,e,t,i)},setCookie:function(t,i,r){if("undefined"==typeof t||"undefined"==typeof i||null===t||null===i)return e.rup.errorGestor("["+e.rup.i18nParse(e.rup.i18n.base,"rup_global.metodError")+"setCookie] - "+e.rup.i18nParse(e.rup.i18n.base,"rup_utils.paramsError")),!1;var n=t+"="+encodeURIComponent(i);if("undefined"!=typeof r&&null!==r){if(r.domain&&(n+="; domain="+r.domain),r.path&&(n+="; path="+r.path),r.duration){var a=new Date;a.setTime(a.getTime()+24*r.duration*60*60*1e3),n+="; expires="+a.toGMTString()}r.secure&&(n+="; secure")}return document.cookie=n},delCookie:function(t){return"undefined"==typeof t||null===t?(e.rup.errorGestor("["+e.rup.i18nParse(e.rup.i18n.base,"rup_global.metodError")+"delCookie] - "+e.rup.i18nParse(e.rup.i18n.base,"rup_utils.paramsError")),!1):e.rup_utils.setCookie(t,"",{duration:-1})},readCookie:function(t){if("undefined"==typeof t||null===t)return e.rup.errorGestor("["+e.rup.i18nParse(e.rup.i18n.base,"rup_global.metodError")+"readCookie] - "+e.rup.i18nParse(e.rup.i18n.base,"rup_utils.paramsError")),!1;var i=document.cookie.match("(?:^|;)\\s*"+t.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+"=([^;]*)");return i?decodeURIComponent(i[1]):null},get:function(t,i){var r=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var s=e.trim(n[a]);if(s.substring(0,t.length+1)==t+"="){r=i?e.JSON.decode(decodeURIComponent(s.substring(t.length+1))):decodeURIComponent(s.substring(t.length+1));break}}return r},set:function(t,i,r){r=e.extend({},r),null===i&&(i="",r.expires=-1);var n="";if(r.expires&&("number"==typeof r.expires||r.expires.toUTCString)){var a;"number"==typeof r.expires?(a=new Date,a.setTime(a.getTime()+24*r.expires*60*60*1e3)):a=r.expires,n="; expires="+a.toUTCString()}i=r.json?encodeURIComponent(e.JSON.encode(i)):encodeURIComponent(i);var s=r.path?"; path="+r.path:"",o=r.domain?"; domain="+r.domain:"",l=r.secure?"; secure":"";document.cookie=[t,"=",i,n,s,o,l].join("")},compareObjects:function(e,t){var i=!0;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if("object"==typeof e[r]&&"object"==typeof t[r]){if(i=compareObjects(e[r],t[r]),!i)break}else if(e[r]!==t[r]){i=!1;break}return i},escapeId:function(e){return e?e.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"):""},selectorId:function(e){return"string"==typeof e&&"#"!==e.substring(0,1)?"#"+e:e},randomIdGenerator:function(t){var i="rupRandomLayerId-"+e.rup_utils.autoGenerateIdNum;return t.attr("id",i).addClass("rupRandomLayerId"),e.rup_utils.autoGenerateIdNum=e.rup_utils.autoGenerateIdNum+1,i},setNoPortalParam:function(t){return void 0!==t&&null!==t&&(null!==e.rup_utils.readCookie("r01PortalInfo")&&null===t.match("R01HNoPortal")&&e("div.r01gContainer").length>0||e("div.r01gApplication").length>0)?t+(null===t.match("\\?")?"?":"&")+"R01HNoPortal=true":t},aplicatioInPortal:function(){return null!==e.rup_utils.readCookie("r01PortalInfo")&&e("div.r01gContainer").length>0},relToAbsUrl:function(t){var i=e(location);if("string"==typeof t){var r=t.substring(0,1),n=t.substring(1,2);if(void 0===e.url(t).attr("protocol")||""===e.url(t).attr("protocol")){if("/"===r)return void 0===n||"/"!==n?i.attr("protocol")+"//"+i.attr("host")+t:i.attr("protocol")+t;if("."===r){if(void 0===n)return void e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_utils.relToAbsUrlParamError")+t+e.rup.i18nParse(e.rup.i18n.base,"rup_utils.relToAbsUrlParamErrorEnd"));if("/"===n){var a=e.url(i.attr("href"),!0);return a.attr("base")+a.attr("directory")+t.substring(2,t.length)}if("."===n){var s=i.attr("pathname").split("/"),o=s.length-2;if(void 0!==t.substring(2,3)&&"/"===t.substring(2,3)){var l=t.split("../"),d=l.length-1;if(d>=o)return i.attr("protocol")+"//"+i.attr("host")+"/"+l[l.length-1];for(var u="",c=o-d;c>0;c--)u=s[c]+"/"+u;return i.attr("protocol")+"//"+i.attr("host")+"/"+u+l[l.length-1]}var l=t.split(".."),d=l.length-1;if(d>=o)return i.attr("protocol")+"//"+i.attr("host")+l[l.length-1];for(var u="",c=o-d;c>0;c--)u=s[c]+"/"+u;return i.attr("protocol")+"//"+i.attr("host")+"/"+u+l[l.length-1]}return void e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_utils.relToAbsUrlParamError")+t+e.rup.i18nParse(e.rup.i18n.base,"rup_utils.relToAbsUrlParamErrorEnd"))}var a=e.url(i.attr("href"),!0);return a.attr("base")+a.attr("directory")+t}return t}return void e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_utils.relToAbsUrlParamFormatError"))},printMsg:function(t){var i="";if("string"==typeof t)return t+"<br/>";if("object"==typeof t){if(jQuery.isArray(t)){for(var r=0;r<t.length;r++)i+=e.rup_utils.printMsgAux(t[r],1);return i}i+=e.rup_utils.printMsgAux(t,1)}return i},printMsgAux:function(t,i){var r="";if("string"==typeof t)return e("<span>").append(t)[0].outerHTML+"<br/>";if("object"==typeof t){if(jQuery.isArray(t)){for(var n=e("<ul>").addClass("rup-maint_feedbackUL"),a=0;a<t.length;a++)1===i?n.append(e("<li>").append(e.rup_utils.printMsgAux(t[a],i+1))):n.append(e.rup_utils.printMsgAux(t[a],i+1));return r+=n[0].outerHTML}var s=e("<span>");return void 0!==t.style&&s.addClass(t.style),void 0!==t.label&&s.append(t.label),s[0].outerHTML+"<br/>"}},getUrlVars:function(){if(void 0===e.rup.getParams){for(var t,i={},r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<r.length;n++)t=decodeURIComponent(r[n]).split("="),i[t[0]]=t[1];e.rup.getParams=i}return e.rup.getParams},getUrlVar:function(t){return e.rup_utils.getUrlVars()[t]},sortArray:function(t,i){function r(e,t){return e-t}function n(e,t){var i;do{i=!1;for(var r=0;r<e.length-1;r++)if(t(e[r],e[r+1])<0){var n=e[r];e[r]=e[r+1],e[r+1]=n,i=!0}}while(i)}e.isArray(t)&&(e.isFunction(i)?n(t,i):n(t,r))},insertSorted:function(t,i,r){function n(e,t){return t-e}if(e.isArray(t))return t.push(i),e.isFunction(r)?e.rup_utils.sortArray(t,r):e.rup_utils.sortArray(t,n),e.inArray(i,t)},getRupValueAsJson:function(e,t){var i,r,n,a,s=!1,r=[];if(e){if(i=e.split("."),i.length>1?(s=!0,n=i[i.length-1]):n=i[0],!jQuery.isArray(t))return a={},a[n]=t,a;if(0!==t.length){for(var o=0;o<t.length;o++)a={},s?(a[n]=t[o],r.push(a)):(a[n]=t[o],r.push(a));return r}}return null},getRupValueWrapped:function(e,t){var i,r,n=!1,a={};return e?(i=e.split("."),i.length>1?(n=!0,r=i[i.length-1],a[r]=t,a):t):null},swing2Top:function(){e.rup_utils.swinging||(e.rup_utils.swinging=!0,e("html, body").animate({scrollTop:0},"1000","swing",function(){e.rup_utils.swinging=!1}))}}),e.fn.serializeToObject=function(){var t={},i=this.serializeArrayWithoutNulls();return e.each(i,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value}),t},e.fn.serializeArrayWithoutNulls=function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i.test(this.type))}).map(function(e,t){var i=jQuery(this).val();return jQuery(this).hasClass("numeric")||jQuery(this).hasClass("datepicker")?{name:t.name,value:null}:null===i||""===i?null:jQuery.isArray(i)?jQuery.map(i,function(e,i){return{name:t.name,value:e}}):{name:t.name,value:i}}).get()},e.fn.serializeObject=function(){var t={},i=this.serializeArrayNull();return e.each(i,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value}),t},e.fn.serializeArrayNull=function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i.test(this.type))}).map(function(e,t){var i=jQuery(this).val();return(jQuery(this).hasClass("numeric")||jQuery(this).hasClass("datepicker"))&&""===i?{name:t.name,value:null}:null===i?null:jQuery.isArray(i)?jQuery.map(i,function(e,i){return{name:t.name,value:e}}):{name:t.name,value:i}}).get()},jQuery.rup_utils.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,r,n,a,s,o,l="",d=0;for(e=jQuery.rup_utils.base64._utf8_encode(e);d<e.length;)t=e.charCodeAt(d++),i=e.charCodeAt(d++),r=e.charCodeAt(d++),n=t>>2,a=(3&t)<<4|i>>4,s=(15&i)<<2|r>>6,o=63&r,isNaN(i)?s=o=64:isNaN(r)&&(o=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(o);return l},decode:function(e){var t,i,r,n,a,s,o,l="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)n=this._keyStr.indexOf(e.charAt(d++)),a=this._keyStr.indexOf(e.charAt(d++)),s=this._keyStr.indexOf(e.charAt(d++)),o=this._keyStr.indexOf(e.charAt(d++)),t=n<<2|a>>4,i=(15&a)<<4|s>>2,r=(3&s)<<6|o,l+=String.fromCharCode(t),64!=s&&(l+=String.fromCharCode(i)),64!=o&&(l+=String.fromCharCode(r));return l=jQuery.rup_utils.base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",i=0,r=c1=c2=0;i<e.length;)r=e.charCodeAt(i),r<128?(t+=String.fromCharCode(r),i++):r>191&&r<224?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&r)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),i+=3);return t}}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.ButtonBootstrapAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.createDropdownButton=function(t){var i=this;t.dropdown;return e(Rup.Templates.rup.button.dropdownButton({id:i.prop("id")+"_dropdown"}))},t.prototype.createMButton=function(t,i){var r=this;t.dropdown;return e(Rup.Templates.rup.button.mbutton({id:r.prop("id"),classes:"rup-toolbar_menuButton ui-button ui-corner-all ui-widget rup-toolbar_menuButtonSlided",label:i,iconClasses:"ui-button-icon ui-icon rup-toolbar_menuButtonIcon"}))},t.prototype.createMButtonContainer=function(t,i){var r=this;t.dropdown;return e(Rup.Templates.rup.button.mbutton-container({id:r.prop("id")+"-container",classes:"ui-widget ui-widget-content rup-toolbar_menuButtonContainer",label:i,iconClasses:"ui-button-icon ui-icon rup-toolbar_menuButtonIcon"}))},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base"],t):e.ButtonJQueryUIAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.createDropdownButton=function(e){var t=this,i=e.dropdown;return jQuery("<button>").attr({type:"button",id:t.prop("id")+"_dropdown"}).text("Administración de filtros").button({icons:{primary:i.dropdownIcon},text:!1}).addClass("rup-dropdown-button")},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.DateBootstrapAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.initIconTrigger=function(e){e.buttonText='<i class="fa fa-calendar" aria-hidden="true"></i>',e.buttonImageOnly=!1,e.constrainInput=!0,e.showOn="both"},t.prototype.postConfigure=function(t){var i,r=this,n=r.data("datepicker"),a=n.input,s=n.trigger;i=e("<div>").addClass("rup-date-input-group"),a.add(s).wrapAll(i)},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.DateJQueryUIAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.initIconTrigger=function(t){t.buttonImage=e.rup.STATICS+(t.buttonImage?t.buttonImage:"/rup/basic-theme/images/calendario.png"),t.buttonImageOnly=!0,t.constrainInput=!0,t.showOn="both"},t.prototype.postConfigure=function(e){},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.TableBootstrapAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.CONST={core:{operations:{defaultOperations:{add:{icon:"fa fa-file-o"},save:{icon:"fa fa fa-floppy-o"},edit:{icon:"fa fa-pencil-square-o"},clone:{icon:"fa fa-clone"},"delete":{icon:"fa fa-trash-o"},cancel:{icon:"fa fa-times-circle"}}}}},t.prototype.configurePager=function(t){var i,r,n=this;if(void 0!==t.pager&&null!==t.pager){t.$pager=e(0===t.pager.indexOf("#")?t.pager:"#"+t.pager),i=t.$pager.attr("id"),t.$pager.css("height","auto"),$pagerLeft=e("#"+i+"_left"),r=e("#"+i+"_center"),$pagerRight=e("#"+i+"_right"),$pagerLeft.addClass("pager_left"),r.addClass("pager_center"),$pagerRight.addClass("pager_right"),$pagerLeft.html(""),t.multiselect===!0&&$pagerLeft.append(e("<div/>").addClass("ui-paging-selected").html("0 "+jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.selected"))),r.css("white-space","inherit"),jQuery(".pager_center table td",t.$pager).addClass("pagControls"),jQuery(".pagControls input.ui-pg-input",r).on("change",function(){var t=parseInt(e(this).val()),i=parseInt(n.rup_table("getGridParam","lastpage"));isNaN(t)===!1&&t>i&&e(this).val(i)}),jQuery(".pagControls select.ui-pg-selbox",r).attr("title",jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.select")).rup_tooltip(),jQuery(".pagControls input.ui-pg-input",r).attr("title",jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.input")).rup_tooltip();var a=Rup.Templates.rup.table.pager.link.bootstrap;jQuery("#first_"+i,r).html(a({label:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.primPag"),
icon:"fa fa-angle-double-left"})).removeClass("ui-pg-button"),jQuery("#prev_"+i,r).html(a({label:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.anterior"),icon:"fa fa-angle-left"})).removeClass("ui-pg-button"),jQuery("#next_"+i,r).html(a({label:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.siguiente"),icon:"fa fa-angle-right"})).removeClass("ui-pg-button"),jQuery("#last_"+i,r).html(a({label:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.ultiPag"),icon:"fa fa-angle-double-right"})).removeClass("ui-pg-button")}},t.prototype.createDetailNavigation=function(){function t(t,n){var a=e.proxy(r.fncGetNavigationParams,i)(t);n.hasClass("ui-state-disabled")||e.proxy(e.jgrid.checkUpdates,i[0])(u,function(){e.proxy(r.doNavigation,i)(a)})&&e.proxy(r.doNavigation,i)(a)}var i=e(this),r=i.data("settings"),n=i.attr("id"),a=e(Rup.Templates.rup.table.detail.navigation.bootstrap({tableId:i.prop("id"),resultNumText:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.numResult"),labelFirst:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.first"),labelPrev:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.previous"),labelNext:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.next"),labelLast:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.last")})),s=e("#first_"+n,a),o=e("#back_"+n,a),l=e("#forward_"+n,a),d=e("#last_"+n,a),u=void 0;return s.on("click",function(){t("first",e(this))}),o.on("click",function(){t("prev",e(this))}),l.on("click",function(){t("next",e(this))}),d.on("click",function(){t("last",e(this))}),a},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.TableJQueryUIAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.CONST={core:{operations:{defaultOperations:{add:{icon:"ui-icon rup-icon rup-icon-new"},save:{icon:"ui-icon rup-icon rup-icon-save"},edit:{icon:"ui-icon rup-icon rup-icon-edit"},clone:{icon:"ui-icon rup-icon rup-icon-clone"},"delete":{icon:"ui-icon rup-icon rup-icon-delete"},cancel:{icon:"ui-icon rup-icon rup-icon-cancel"}}}}},t.prototype.configurePager=function(t){var i,r,n=this;void 0!==t.pager&&null!==t.pager&&(t.$pager=e(0===t.pager.indexOf("#")?t.pager:"#"+t.pager),i=t.$pager.attr("id"),t.$pager.css("height","auto"),$pagerLeft=e("#"+i+"_left"),r=e("#"+i+"_center"),$pagerRight=e("#"+i+"_right"),$pagerLeft.addClass("pager_left"),r.addClass("pager_center"),$pagerRight.addClass("pager_right"),$pagerLeft.html(""),t.multiselect===!0&&$pagerLeft.append(e("<div/>").addClass("ui-paging-selected").html("0 "+jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.selected"))),jQuery(".pager_center table td",t.$pager).addClass("pagControls"),jQuery(".pagControls input.ui-pg-input",r).on("change",function(){var t=parseInt(e(this).val()),i=parseInt(n.rup_table("getGridParam","lastpage"));isNaN(t)===!1&&t>i&&e(this).val(i)}),jQuery(".pagControls select.ui-pg-selbox",r).attr("title",jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.select")).rup_tooltip(),jQuery(".pagControls input.ui-pg-input",r).attr("title",jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.input")).rup_tooltip(),jQuery("#first_"+i,r).html(e("<a/>").attr("href","javascript:void(0)").html(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.primPag")).addClass("linkPaginacion")).removeClass("ui-pg-button"),jQuery("#prev_"+i,r).html(e("<a/>").attr("href","javascript:void(0)").html(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.anterior")).addClass("linkPaginacion")).removeClass("ui-pg-button"),jQuery("#next_"+i,r).html(e("<a/>").attr("href","javascript:void(0)").html(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.siguiente")).addClass("linkPaginacion")).removeClass("ui-pg-button"),jQuery("#last_"+i,r).html(e("<a/>").attr("href","javascript:void(0)").html(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.ultiPag")).addClass("linkPaginacion")).removeClass("ui-pg-button"))},t.prototype.createDetailNavigation=function(){function t(t,n){var a=e.proxy(r.fncGetNavigationParams,i)(t);n.hasClass("ui-state-disabled")||e.proxy(e.jgrid.checkUpdates,i[0])(g,function(){e.proxy(r.doNavigation,i)(a)})&&e.proxy(r.doNavigation,i)(a)}var i=e(this),r=i.data("settings"),n=i.attr("id"),a=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.detailForm.paginationBar"),s=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.detailForm.paginationLink"),o=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.detailForm.elementCounter"),l=e(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.detailForm.separator")),d=e(jQuery.jgrid.format(o,n,jQuery.rup.STATICS,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.numResult"))),u=e(jQuery.jgrid.format(a,n)),c=e(jQuery.jgrid.format(s,"first_"+n,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.first"))),h=e(jQuery.jgrid.format(s,"back_"+n,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.previous"))),p=e(jQuery.jgrid.format(s,"forward_"+n,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.next"))),f=e(jQuery.jgrid.format(s,"last_"+n,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.last"))),g=void 0;return u.append(c).append(h).append(p).append(f),c.on("click",function(){t("first",e(this))}),h.on("click",function(){t("prev",e(this))}),p.on("click",function(){t("next",e(this))}),f.on("click",function(){t("last",e(this))}),e("<div>").append(d).append(u).append(l)},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.TimeBootstrapAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.initIconTrigger=function(t){var i,r,n,a=this;a.is("div")||(i=e("<div>").addClass("rup-time-input-group"),r=e("<button>").attr("type","button").addClass("ui-timepicker-trigger"),n=e("<i>").attr("aria-hidden","true").addClass("fa fa-clock-o"),r.append(n),a.wrap(i),r.insertAfter(a),r.on("click",function(){"none"===e("#ui-datepicker-div").css("display")?a.timepicker("show"):a.timepicker("hide")}))},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.TimeJQueryUIAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.initIconTrigger=function(t){var i=this;i.is("div")||e("<img>").addClass("ui-timepicker-trigger").attr({src:t.buttonImage,alt:e.rup.i18nParse(e.rup.i18n.base,"rup_time.buttonText"),title:e.rup.i18nParse(e.rup.i18n.base,"rup_time.buttonText")}).click(function(){"none"===e("#ui-datepicker-div").css("display")?i.timepicker("show"):i.timepicker("hide")}).insertAfter(i)},t.prototype.postConfigure=function(e){},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.ToolbarBootstrapAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.addButton=function(t,i){var r;r=t.id?t.id:t.i18nCaption,0!==r.indexOf(e(this).attr("id"))&&(r=e(this).attr("id")+"##"+r);var n=e(Rup.Templates.rup.toolbar.button.bootstrap({id:r,css:t.css,label:t.text?t.text:e.rup.i18nParse(i,t.i18nCaption)}));if(n.rup_button(t),void 0!==t.right&&t.right===!0){var a=this.children("div:not(.rup-dropdown-btn-group):not(.rup-mbutton )");0===a.length&&(a=e("<div />").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(a)),n.prependTo(a)}else n.parent().is(".rup-dropdown-btn-group")?e(this).append(n.parent()):e(this).append(n);return this._setKeyDown(n),t.click&&n.click({i18nCaption:t.i18nCaption},t.click),n.bind("focusout",function(){e(this).removeClass("ui-state-focus")}),n},t.prototype.addMButton=function(t,i){var r,n,a="";if(void 0===t.id?(alert("El atributo ID es obligatorio en los MButtons."),a=null):(n=t.id,0!==n.indexOf(e(this).attr("id"))&&(n=e(this).attr("id")+"##"+t.id),r=e(Rup.Templates.rup.toolbar.mbutton.bootstrap({id:n,css:t.css,groupClasses:t.groupClasses,label:t.text?t.text:e.rup.i18nParse(i,t.i18nCaption)})),a=r.find("[id='"+n+"']"),void 0===t.css&&(t.css="rup-toolbar_menuButtonIcon"),a.rup_button()),void 0!==t.right&&t.right===!0){var s=this.children("div:not(.rup-dropdown-btn-group):not(.rup-mbutton )");0===s.length&&(s=e("<div />").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(s)),r.prependTo(s)}else e(this).append(r);return this._setKeyDown(a),t.click&&a.click({i18nCaption:t.i18nCaption},t.click),r},t.prototype.addButtonsToMButton=function(t,i,r){var n,a,s,o,l=t.length;a=i.find("ul");for(var d=l;d--;)s=t[d],o=s.id?i.attr("id")+"##"+s.id:i.attr("id")+"##"+s.i18nCaption,t[d].id=o,a.prepend(e("<li>").append(this.addButton(t[d],r)));delete a,delete n},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.ToolbarJQueryUIAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.addButton=function(t,i){var r;r=t.id?t.id:t.i18nCaption,0!==r.indexOf(e(this).attr("id"))&&(r=e(this).attr("id")+"##"+r);var n=e("<button type='button'/>").text(e.rup.i18nParse(i,t.i18nCaption)).addClass("rup-toolbar_button").attr({id:r});if(n.rup_button(t),n.button("option","icons",{primary:t.css,secondary:null}),void 0!==t.right&&t.right===!0){var a=this.children("div:not(.rup-dropdown-btn-group)");0===a.length&&(a=e("<div />").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(a)),n.prependTo(a)}else n.parent().is(".rup-dropdown-btn-group")?e(this).append(n.parent()):e(this).append(n);return this._setKeyDown(n),t.click&&n.click({i18nCaption:t.i18nCaption},t.click),n.bind("focusout",function(){e(this).removeClass("ui-state-focus")}),n},t.prototype.addMButton=function(t,i){var r,n="";if(void 0===t.id?(alert("El atributo ID es obligatorio en los MButtons."),n=null):(r=t.id,0!==r.indexOf(e(this).attr("id"))&&(r=e(this).attr("id")+"##"+t.id),n=e("<a/>").attr("id",r).text(e.rup.i18nParse(i,t.i18nCaption)).addClass("rup-toolbar_menuButton"),void 0===t.css&&(t.css="rup-toolbar_menuButtonIcon"),n.button().button("option","icons",{primary:null,secondary:t.css})),void 0!==t.right&&t.right===!0){var a=this.children("div:not(.rup-dropdown-btn-group)");0===a.length&&(a=e("<div />").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(a)),n.prependTo(a)}else e(this).append(n);return this._setKeyDown(n),t.click&&n.click({i18nCaption:t.i18nCaption},t.click),n},t.prototype.addButtonsToMButton=function(t,i,r){var n,a,s,o,l=t.length;0===e("[id='mbutton_"+i.attr("id")+"']").length?(n=e("<div>").addClass("ui-widget ui-widget-content rup-toolbar_menuButtonContainer").attr("id","mbutton_"+i[0].id).css("display","none"),a=e("<ul>").attr("role","menu").attr("aria-activedescendant","active-menuitem").attr("aria-labelledby","active-menuitem")):(n=e("[id='mbutton_"+i.attr("id")+"']"),a=n.children("ul")),i.attr("href","#");for(var d=l;d--;)s=t[d],o=s.id?i.attr("id")+"##"+s.id:i.attr("id")+"##"+s.i18nCaption,t[d].id=o,a.prepend(e("<li>").css("display","block").append(this.addButton(t[d],r).addClass("rup-toolbar_menuButtonElement")));e.rup_utils.aplicatioInPortal()?(n.append(a),e(".r01gContainer").append(n)):(n.appendTo("body"),n.append(a)),delete a,delete n},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.UploadBootstrapAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.processdone=function(t,i){e(t.target).find(".start").removeAttr("disabled")},t.prototype.downloadTemplate=function(t){var i=e(),r=t.files;t.options;return i=e("<ul>").addClass("list-group"),Rup.Templates.rup.upload.downloadTemplate({files:r})},t.prototype.uploadTemplate=function(t){var i=(e(),t.files),r=t.options;return Rup.Templates.rup.upload.uploadTemplate({files:i,submitInForm:r.submitInForm===!0||void 0,notSubmitInForm:!(r.submitInForm===!0||void 0)})},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base"],t):e.UploadJQueryUIAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.processdone=function(t,i){e(t.target).find(".start").button("enable")},t.prototype.downloadTemplate=function(t){var i=e(),r=t.files,n=t.options;return e.each(r,function(t,r){var a=e('<tr class="template-download"><td>'+(r.error?'<td class="file_icon"></td><td class="name"></td><td class="size"></td><td class="error" colspan="2"></td>':'<div class="formulario_columna_cnt"><span class="izq_float file_icon">&nbsp;</span><div class="izq_float name"><a></a></div></div><div class="formulario_columna_cnt"><div class="izq_float type"></div><div class="izq_float size"></div></div><div class="formulario_columna_cnt"><a><div class="izq_float"><div class="file_download" ><span class="file_download_icon">&nbsp;</span><span class="file_download_text">'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.openUploaded")+'</span></div></div></a><div class="izq_float delete"><button>'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.deleteUploaded")+"</button></div></div>")+"</td></tr>");a.find(".size").text(r.sizef),a.find(".type").text(r.type),r.error?(a.find(".name").text(r.name),a.addClass("ui-state-error"),a.find(".error").text(n.errorMessages[r.error]||r.error)):(a.find(".name a").text(r.name),r.thumbnail_url&&(a.find(".preview").append("<a><img></a>").find("img").prop("src",r.thumbnail_url),a.find("a").prop("target","_blank")),a.find("a").prop("href",e.rup_utils.setNoPortalParam(r.url)),a.find(".delete button").attr("data-type",r.delete_type).attr("data-url",e.rup_utils.setNoPortalParam(r.delete_url))),i=i.add(a)}),i},t.prototype.uploadTemplate=function(t){var i=e(),r=t.files,n=t.options;return e.each(r,function(t,r){var a=e('<tr class="template-upload"><td><div class="formulario_columna_cnt"><span class="izq_float file_icon">&nbsp;</span><div class="izq_float name"><b></b></div><div class="formulario_columna_cnt"><div class="izq_float type"></div><div class="izq_float size"></div>'+(n.submitInForm?'<div class="izq_float cancel" style><button>'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.cancelUpload")+"</button></div>":"")+"</div>"+(n.submitInForm?'<div class="izq_float start fileupload-buttonbar ui-button" style="display:none"><button>'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.startUpload")+"</button></div>":'<div class="formulario_columna_cnt">'+(r.error?'<div class="izq_float error" ></div>':'<div class="izq_float progress"><div></div></div><div class="izq_float fileupload-buttonbar"><button class="start">'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.startUpload")+"</button>")+'<button class="cancel">'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.cancelUpload")+"</button></div>")+"</td></tr>");a.find(".name b").text(r.name),a.find(".size").text(r.sizef),a.find(".type").text(r.type),r.error&&(a.addClass("ui-state-error"),a.find(".error").text(n.errorMessages[r.error]||r.error)),i=i.add(a)}),i},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.ValidateBootstrapAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.errorElement="div",t.prototype.errorPlacement=function(t,i){var r=i.prop("name"),n=this.labels?this.labels[r]:void 0,a=e(n),s=this.icons?this.icons[r]:void 0,o=e(s),l=e("<i>").addClass("rup-validate-error-icon error fa fa-times").attr("aria-hidden","true");a.length>0?a.append(t):t.insertAfter(i),o.length>0?o.append(l):(i.wrap(e("<div>").addClass("rup-validate-field-error")),l.insertAfter(i))},t.prototype.showLabel=function(t,i){var r=this.errorsFor(t),n=e(this.currentForm).data("settings");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=this.settings.showFieldErrorAsDefault?e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""):e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!i&&n.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},t}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],t):e.ValidateJQueryUIAdapter=t(jQuery)}(this,function(e){function t(){}return t.prototype.errorElement="img",t.prototype.errorPlacement=function(t,i){var r=t.attr("src",this.errorImage).addClass("rup-maint_validateIcon").html("").rup_tooltip({applyToPortal:!0});if("combo"===i.attr("ruptype")){var n=e("#"+i.attr("id")+"-button");n&&r.insertAfter(n)}else r.insertAfter(i)},t.prototype.showLabel=function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=settings.showFieldErrorAsDefault?e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).attr("title",i||""):e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},t}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.utils"],e):e(jQuery)}(function(e){function t(t){var i=this;e(this);clearTimeout(i.timeout)}function i(t){var i=this;e(this);clearTimeout(i.timeout)}function r(t){var i=this,r=e(this);clearTimeout(i.timeout),i.timeout=setTimeout(function(){r.trigger("mousestop",t)},r.data("mousestop").delay)}var n=n||{date_jqueryui:"DateJQueryUIAdapter",date_bootstrap:"DateBootstrapAdapter",time_jqueryui:"TimeJQueryUIAdapter",time_bootstrap:"TimeBootstrapAdapter",upload_jqueryui:"UploadJQueryUIAdapter",upload_bootstrap:"UploadBootstrapAdapter",button_jqueryui:"ButtonJQueryUIAdapter",button_bootstrap:"ButtonBootstrapAdapter",toolbar_jqueryui:"ToolbarJQueryUIAdapter",toolbar_bootstrap:"ToolbarBootstrapAdapter",table_jqueryui:"TableJQueryUIAdapter",table_bootstrap:"TableBootstrapAdapter",validate_jqueryui:"ValidateJQueryUIAdapter",validate_bootstrap:"ValidateBootstrapAdapter"};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},e.extend({set_uda_ajax_mode_on:function(){e.ajax!==e.rup_ajax&&(e.ajaxUDA=e.ajax,e.ajax=e.rup_ajax)},rup_ajax:function(t){var i,r,n,a,s={cache:!1,error:null},o=e.extend({},s,t);r=o.error,i=function(t,i,n){var a=e.rup.rupAjaxDefaultError(t,i,n);null!=r?e(r(t,i,n)):a&&e.rup.showErrorToUser(a)},n=o.complete,a=function(t,i){e.ajax===e.rup_ajax&&e.ajaxUDA!==e.rup_ajax&&(e.ajax=e.ajaxUDA),null!=n&&n(t,i)},o.complete=a,o.error=i,o.url=e.rup_utils.setNoPortalParam(o.url),"function"==typeof e.ajaxUDA?e.ajaxUDA(o):e.ajax(o)}}),e.rup=e.rup||{},e.extend(e.rup,{_uaMatch:function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}});var a=jQuery.uaMatch(navigator.userAgent),s={};a.browser&&(s[a.browser]=!0,s.version=a.version),s.chrome?s.webkit=!0:s.webkit&&(s.safari=!0),e.rup._browser=s,e.extend(e.rup,{i18n:{},appResources:{},lang:null,getBrowserLenguage:function(){return(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase()},browser:{version:e.rup._browser.version,versionNumber:e.isNumeric(e.rup._browser.version)?parseInt(e.rup._browser.version):void 0,isIE:/Trident\//.test(navigator.userAgent),isSafari:!(!e.rup._browser.safari||!e.rup._browser.webkit),isChrome:!(!e.rup._browser.safari||!e.rup._browser.webkit),isFF:!!e.rup._browser.mozilla,isOpera:!!e.rup._browser.opera,xhrFileUploadSupport:void 0!==(new XMLHttpRequest).upload},setLiterals:function(t){void 0!==t&&null!==t&&""!==t&&(e.rup.lang=t),e.rup_ajax({url:e.rup.RUP+"/resources/rup.i18n_"+e.rup.lang+".json",dataType:"json",type:"GET",async:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(t){e.rup.i18n.base=t,e.jgrid={},e.extend(e.jgrid,t.rup_grid),e.jgrid.formatter.date.S=new Function("j",t.rup_grid.formatter.date.S)},error:function(e,t,i){alert("Se ha producido un error en el parseo del fichero JSON de literales => "+t+".\n\nError devuelto:\n"+t+": "+e.status+" - "+e.statusText)}})},getFile_i18n:function(){e.rup_ajax({url:e.rup.APP_STATICS+"/resources/"+e.rup.WAR_NAME+".i18n_"+e.rup.lang+".json",dataType:"json",type:"GET",async:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(t){e.rup.i18n.app=t},error:function(e,t,i){alert("Se ha producido un error en el parseo del fichero JSON de literales de la aplicación => "+t+".\n\nError devuelto:\n"+t+": "+e.status+" - "+e.statusText)}})},getFile:function(t){void 0===t&&null===t&&""===t?e.rup.errorGestor("No se ha definido el fichero a cargar"):e.rup.i18n[t]||e.rup_ajax({url:e.rup.APP_STATICS+"/resources/"+t+".json",dataType:"json",type:"GET",async:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(i,r,n){e.rup.i18n[t]=i},error:function(t,i,r){e.rup.errorGestor("Se ha producido un error en el parseo del fichero JSON de la aplicación => "+i+".<br>Error devuelto:<br>"+r)}})},i18nParse:function(t,i,r){if(void 0!==i&&null!==i&&""!==i){for(var n=i.split("."),a=t,s=0;s<n.length;s++){if(e.isEmptyObject(a)){a=void 0===r||null===r||""===r?i:r;break}a=a[n[s]]}return void 0==a?i:a}return"null_i18nCaption"},i18nTemplate:function(t,i){var r=jQuery.rup.i18nParse(t,i),n=e.makeArray(arguments).slice(2);return void 0===r&&(r=""),r.replace(/\{(\d+)\}/g,function(e,t){return n[t]})},errorGestor:function(t){throw e.rup_messages("msgError",{title:e.rup.i18nParse(e.rup.i18n.base,"rup_global.developerError"),message:"<p>"+t+"</p>"}),t},iniRup:function(){e.rup.adapter={},e.each(n,function(t,i){"function"==typeof define&&define.amd?require(["rup/adapter/"+i],function(i){e.rup.adapter[t]=new i}):e.rup.adapter[t]=new window[i]}),e.rup.i18n.app={},e.rup.i18n.base={},window.LOCALE_COOKIE_NAME||(LOCALE_COOKIE_NAME="language"),window.LOCALE_PARAM_NAME||(LOCALE_PARAM_NAME="locale"),e.rup.APP_RESOURCES=APP_RESOURCES,e.rup.APP_STATICS=STATICS+"/"+APP_RESOURCES,e.rup.CTX_PATH=CTX_PATH,e.rup.RUP=RUP,e.rup.STATICS=STATICS,e.rup.WAR_NAME=WAR_NAME,e.rup.AVAILABLE_LANGS=AVAILABLE_LANGS,e.rup.AVAILABLE_LANGS_ARRAY=e.map(e.rup.AVAILABLE_LANGS.split(","),function(e){return e.replace(/^\s*|\s*$/g,"")}),e.rup.LAYOUT=LAYOUT,e.rup.LOCALE_COOKIE_NAME=LOCALE_COOKIE_NAME,e.rup.LOCALE_PARAM_NAME=LOCALE_PARAM_NAME,e.rup.IFRAME_ONLY_SUPPORTED_METHODS=["GET","POST"],delete APP_RESOURCES,delete CTX_PATH,delete RUP,delete STATICS,delete WAR_NAME,delete AVAILABLE_LANGS,delete LAYOUT,delete LOCALE_COOKIE_NAME,delete LOCALE_PARAM_NAME;var t=e.rup_utils.get(e.rup.LOCALE_COOKIE_NAME);return null===t||""===t?(alert("No se ha encontrado la 'cookie' de idioma ("+e.rup.LOCALE_COOKIE_NAME+") requerida por UDA.\nRevise la configuración del navegador.\n\nLa página no se mostrará correctamente."),e.rup._avoidRUPFails(),!1):e.inArray(t,e.rup.AVAILABLE_LANGS_ARRAY)===-1?(alert("La 'cookie' de idioma ("+e.rup.LOCALE_COOKIE_NAME+") no se corresponde con los idiomas soportados.\n\nLa página no se mostrará correctamente."),e.rup._avoidRUPFails(),!1):(this.lang=t,e.rup.setLiterals(),void e.rup.getFile_i18n())},_avoidRUPFails:function(){var t=e.rup.i18nParse(e.rup.i18n.base,"rup_date.dateFormat");"rup_date.dateFormat"===t&&(e.rup.i18n.base.rup_date={dateFormat:"dd/mm/yy"}),e.jgrid={formatter:{integer:{}}}},getAccessor:function(t,i,r){if("string"==typeof r){if(fn=t[r],void 0!==fn)return fn;e.rup.errorGestor(i+' - No Existe el método "'+r+'"  en el patrón.')}else"function"==typeof r&&e.rup.errorGestor(i+" - No es posible pasar funciones al patrón.")},rupAjaxDefaultError:function(t,i,r){var n=null;if(0==t.status)n=e.rup.i18nParse(e.rup.i18n.base,"rup_ajax.httpStatus0");else if(401==t.status)n=e.rup.i18nParse(e.rup.i18n.base,"rup_ajax.httpStatus401");else if(404==t.status)n=e.rup.i18nParse(e.rup.i18n.base,"rup_ajax.httpStatus404");else if(500==t.status)n=e.rup.i18nParse(e.rup.i18n.base,"rup_ajax.httpStatus500");else if(503==t.status)n=e.rup.i18nParse(e.rup.i18n.base,"rup_ajax.httpStatus503");else if(406==t.status){var a="";try{a=JSON.parse(t.responseText)}catch(s){n=t.responseText}}else if(413==t.status){var a="";try{a=JSON.parse(t.responseText),n=a.rupFeedback.message.label}catch(s){n=t.responseText}}return n},rupObjectConstructor:function(t,i){void 0===e[t]&&(e[t]=function(t){var t=t,r="string"==typeof t,n=e.makeArray(arguments).slice(1),a=this;if(r&&"_"===t.charAt(0))return a;if(r)if("extend"!==t){var s=e.isEmptyObject(e.data(i))?e.data(i,i):e.data(i),o=s&&e.isFunction(s[t])?s[t].apply(s,n):"no-function";if("no-function"===o)return!1;a=o}else i=e.extend.apply(null,[!0,i].concat(n[0]));else{var s=e.isEmptyObject(e.data(i))?e.data(i,i):e.data(i);s&&void 0!==i._init&&null!==i._init&&s._init(e.makeArray(arguments))}return a})},rupSelectorObjectConstructor:function(t,i){void 0===e.fn[t]&&(e.fn[t]=function(t){var t=t,r="string"==typeof t,n=e.makeArray(arguments).slice(1),a=this;if(r&&"_"===t.charAt(0))return a;if(r)if("extend"!==t){var s=e.extend(this,i),o=s&&e.isFunction(s[t])?s[t].apply(s,n):"no-function";if("no-function"===o)return!1;a=o}else i=e.fn.extend.apply(null,[!0,i].concat(n[0]));else{var s=e.extend(this,i);s&&void 0!==i._init&&null!==i._init&&s._init(e.makeArray(arguments))}return a})},showErrorToUser:function(t){if(null!=t&&""!==t){var i=e(".ui-dialog:visible .rup-feedback"),r=0!==i.length?i:e(".rup-feedback");if(0!=r.length){var n={delay:null},a=e("#"+r[0].id);a.rup_feedback("option",n),a.rup_feedback("set",t,"error"),a.rup_feedback("show")}else e.rup_messages("msgError",{title:e.rup.i18nParse(e.rup.i18n.base,"rup_ajax.errorTitle"),message:t})}}}),e.fn.extend({storeEvents:function(){return this.each(function(){e(this).data("storedEvents",e.extend(!0,{},e._data(e(this)[0],"events")))}),e(this).unbind(),this},restoreEvents:function(){return this.each(function(){var t=e.data(this,"storedEvents");if(t){e(this).unbind();for(var i in t)for(var r in t[i])e.event.add(this,i,t[i][r],t[i][r].data)}}),this}}),e.fn.mousestop={},e.fn.mousestop.defaults={delay:300},e.event.special.mousestop={setup:function(n){var a=e(this);a.data("mousestop",e.extend(!0,{},e.fn.mousestop.defaults,n)),a.on({"mouseenter.rup_mousestop":t,"mouseleave.rup_mousestop":i,"mousemove.rup_mousestop":r})},teardown:function(){e(this).removeData("mousestop").off(".rup_mousestop")}},jQuery("body").on({"keydown.rup":function(e){var t,i=jQuery("body");switch(e.which){case 16:if(i.data("tmp.multiselect.shiftPressed")!==!0&&(i.data("tmp.multiselect.shiftPressed",!0),t=i.triggerHandler("rup_shiftKeyDown"),t===!1))return e.preventDefault(),!1;break;case 17:if(i.data("tmp.multiselect.ctrlPressed")!==!0&&(i.data("tmp.multiselect.ctrlPressed",!0),t=i.triggerHandler("rup_ctrlKeyDown"),t===!1))return e.preventDefault(),!1}},"keyup.rup":function(e){var t,i=jQuery("body");switch(e.which){case 16:if(i.data("tmp.multiselect.shiftPressed")!==!1&&(i.data("tmp.multiselect.shiftPressed",!1),t=i.triggerHandler("rup_shiftKeyUp"),t===!1))return!1;break;case 17:if(i.data("tmp.multiselect.ctrlPressed")!==!1&&(i.data("tmp.multiselect.ctrlPressed",!1),t=i.triggerHandler("rup_ctrlKeyUp"),t===!1))return!1}}}),jQuery.extend(e.rup,{isCtrlPressed:function(){return jQuery("body").data("tmp.multiselect.ctrlPressed")===!0},isShiftPressed:function(){return jQuery("body").data("tmp.multiselect.shiftPressed")===!0}}),e.rup.iniRup()}),function(e){"function"==typeof define&&define.amd?define(["jquery","private-jqueryui-menu"],e):e(jQuery)}(function(e,t){e.rup.compatibility=e.rup.compatibility||{},e.extend(e.rup.compatibility,{menu:{delay:7,outDelay:7,focus:function(t,i){var r,n,a,s,o,l,d;this.blur(t),this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=i.offset().top-this.activeMenu.offset().top-n-a,o=this.activeMenu.scrollTop(),l=this.activeMenu.height(),d=i.height(),s<0?this.activeMenu.scrollTop(o+s):s+d>l&&this.activeMenu.scrollTop(o+s-l+d));var u=this.activeMenu;this.active=i.first(),this.active.hasClass("rup_menu_horizontal_children")?(this.element.attr("aria-activedescendant",this.active.children("a").attr("id")),this.active.addClass("ui-state-focus")):this.element.attr("aria-activedescendant",this.active.children("a").addClass("ui-state-focus").attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),this.active.children("a").hasClass("ui-state-active")?(this.active.children("a").removeClass("ui-state-active"),this.active.find("[aria-expanded = 'true']").size()>1&&this._close(u)):(this._close(),r=e("> .ui-menu",i),(r.length&&/^focus/.test(t.type)&&"true"!==i.attr("rupMenu_firsLevel")||r.length&&/^click/.test(t.type)&&"true"===i.attr("rupMenu_firsLevel"))&&this._startOpening(r)),this.activeMenu=i.parent()},_getWidgetMenu:function(){return void 0!==window.widgetMenu?window.widgetMenu:t},_create:function(){this.activeMenu=this.element,this.menuId=this.element.attr("id")||"ui-menu-"+idIncrement++,this.element.find(".ui-icon").length&&this.element.addClass("ui-menu-icons"),this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({id:this.menuId,role:"menu",tabIndex:0}).bind("click.menu",e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled"),this._bind({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){t.stopImmediatePropagation();var i=e(t.currentTarget);"true"===i.attr("rupMenu_firsLevel")&&(i.children("[aria-expanded = 'true']").size()>0?this._close(i):this.focus(t,i))},"focus .ui-menu-item a":function(t){var i=e(t.currentTarget).parent();this.focus(t,i)},focus:function(t){void 0===e(t.currentTarget).attr("rup_shift_nofocus")?void 0===e("#"+this.menuId).attr("rup_menu_nofocus")&&e(t.currentTarget).find(".ui-menu-item a").first().focus():e(t.currentTarget).removeAttr("rup_shift_nofocus")},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.restoreScrollEvents(),this._bind(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t)}})},_open:function(t){clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents()).hide().attr("aria-hidden","true");var i=e.extend({},{of:this.active},"function"===e.type(this.options.position)?this.options.position(this.active):this.options.position);"true"===t.parent().attr("rupMenu_firsLevel")&&(i.my="left top",i.at="left bottom");var r=this._getWidgetMenu()(t);r.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").not(".ui-state-disabled").first();if(t&&t.length)return this._open(t.parent()),this._delay(function(){t.children("a").focus()},this.delay),!0},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var r;r=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu")),r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.outDelay)},blur:function(e){clearTimeout(this.timer),this.active&&(this.active.hasClass("ui-state-focus")?this.active.removeClass("ui-state-focus"):this.active.find(".ui-state-focus").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",e,{item:this.active}))},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}e(t.currentTarget).attr("rup_menu_click","true"),t.stopPropagation();var r=e(t.currentTarget).hasClass("rup_menu_horizontal")&&0===e(t.currentTarget).find(".ui-state-focus").size()||e(t.currentTarget).find(".ui-state-focus").children().hasClass("rup_menu_horizontal_children_entry");switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t),t.preventDefault(),t.stopImmediatePropagation(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t),t.preventDefault(),t.stopImmediatePropagation(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.HOME:this._move("first","first",t),t.preventDefault(),t.stopImmediatePropagation(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.END:this._move("last","last",t),t.preventDefault(),t.stopImmediatePropagation(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.UP:if(t.preventDefault(),t.stopImmediatePropagation(),r){this.collapse(t),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break}this.previous(t),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.DOWN:if(t.preventDefault(),t.stopImmediatePropagation(),r){this.expand(t),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break}this.next(t),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.LEFT:if(r){this.previous(t),t.stopImmediatePropagation(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break}e(t.target).parent().parent().parent().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.RIGHT:if(r){this.next(t),t.stopImmediatePropagation(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break}this.expand(t)&&t.stopImmediatePropagation(),t.preventDefault(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.ENTER:t.stopImmediatePropagation(),t.preventDefault(),null===this.active&&(this.active=e(t.currentTarget).find(".ui-state-focus")),this.active.children("a[aria-haspopup='true']").length?this.expand(t)&&t.stopImmediatePropagation():(this.select(t),t.stopImmediatePropagation()),t.preventDefault();break;case e.ui.keyCode.ESCAPE:this.collapse(t)&&t.stopImmediatePropagation(),t.preventDefault(),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus();break;case e.ui.keyCode.TAB:if(this.collapseAll(t,!0),!t.shiftKey){var n=e(t.target).parent().parent();if(n.children().find("a").last().html()!==e(t.target).html())t.stopImmediatePropagation(),t.preventDefault(),null===this.active&&(this.active=e(t.currentTarget).find(".ui-state-focus")),this.active.children("a[aria-haspopup='true']").length?this.expand(t):(this.next(t),e.merge(e(t.currentTarget).find(".ui-state-focus").children("a"),e(t.currentTarget).find(".ui-state-focus").not("li")).focus());else if(n.children().find("a").last().html()!==e(t.currentTarget).find("a").last().html()){t.stopImmediatePropagation(),t.preventDefault();for(var a=n.parent(),s=a.nextAll("[role='presentation']:not(.ui-state-disabled):first");0===s.length;)a=a.parent(),s=a.parent().nextAll("[role='presentation']:not(.ui-state-disabled):first");s.children("a").focus()}break}e(t.currentTarget).attr("rup_shift_nofocus","true"),e(t.currentTarget).focus();default:clearTimeout(this.filterTimer);var o,l=this.previousFilter||"",d=String.fromCharCode(t.keyCode),u=!1;d===l?u=!0:d=l+d,o=this.activeMenu.children(".ui-menu-item").filter(function(){return new RegExp("^"+i(d),"i").test(e(this).children("a").text())}),o=u&&o.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):o,o.length||(d=String.fromCharCode(t.keyCode),o=this.activeMenu.children(".ui-menu-item").filter(function(){return new RegExp("^"+i(d),"i").test(e(this).children("a").text())})),o.length?(this.focus(t,o),o.length>1?(this.previousFilter=d,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}},_move:function(e,t,i){var r,n=this;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").not(".ui-state-disabled").eq(-1):this.active[e+"All"](".ui-menu-item").not(".ui-state-disabled").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]()),this.element.off("mouseleave"),this.element.off("mouseover"),this.element.one("mousemove",function(e){var t=n._getWidgetMenu();t(e.currentTarget).rupMenu("restoreScrollEvents"),t(e.currentTarget).off("mousemove")}),this.focus(i,r),r.is(".ui-state-disabled")&&this._move(e,t,i)},restoreScrollEvents:function(){this._bind({mouseover:function(t){e("#"+this.menuId).attr("rup_menu_nofocus","true")},"mouseover .rup_menu_horizontal_children":function(t){var i=e(t.currentTarget);e(".ui-state-focus").removeClass("ui-state-focus"),i.addClass("ui-state-focus"),e(i).focus()},"mouseover .ui-menu-item":function(t){e("#"+this.menuId).attr("rup_menu_nofocus","true"),t.stopImmediatePropagation();var i=e(t.currentTarget);if(i.siblings().children(".ui-state-active").removeClass("ui-state-active"),i.offset().left+i.width()>t.pageX&&(i.offset().top+e("#"+this.menuId).height()>t.pageY||i.offset().top+i.height()>t.pageY))if(e("#"+i.children("a").attr("id")+":focus").size()>0)i.hasClass("rup_menu_horizontal_children")||e("#"+i.children("a").attr("id")).hasClass("ui-state-focus")||(e("#"+i.children("a").attr("id")).addClass("ui-state-focus"),"menuitem"===e("#"+i.children("a").attr("id")).attr("role")&&this._startOpening(e(i).children("[role = 'menu']")));else{t.target,e("#"+i.children("a").attr("id"));e("#"+i.children("a").attr("id")).focus(),e("#"+i.children("a").attr("id")).focus()}},mouseleave:function(t){this.collapseAll(t,!0),e(".ui-state-focus").removeClass("ui-state-focus"),e("#"+this.menuId).removeAttr("rup_menu_nofocus")},"mouseleave .ui-menu-item":function(t){var i=e(t.currentTarget);(void 0===i.attr("rupmenu_firslevel")||i.offset().top-1<t.pageY&&i.offset().top+e("#"+this.menuId).height()+1<t.pageY)&&(this._close(),e(".ui-state-focus").removeClass("ui-state-focus"))},"mouseleave .rup_menu_horizontal_children_last":function(t){this.collapseAll(t,!0),e(".ui-state-focus").removeClass("ui-state-focus")}}),this.refresh()}},jstree:{hotkeys:{"ctrl+space":function(e){return delete e.target,e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},"shift+space":function(e){return delete e.target,e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1}},rup_extend:{_fn:{cleanCut:function(){this.data.crrm.ct_nodes=!1},set_contextmenu_items:function(e){var t=this.get_settings();t.contextmenu.items=e,this._set_settings(t)},set_theme_data:function(e){this.data.themes.theme=e},types_portal_css:function(){var t=this._get_settings().types,i=t.types,r=t.type_attr,n="",a=this;e.each(i,function(t,i){return e.each(i,function(e,t){/^(max_depth|max_children|icon|valid_children)$/.test(e)||a.data.types.attach_to.push(e)}),!i.icon||void((i.icon.image||i.icon.position)&&(n+="div.r01gContainer ",n+="default"==t?".jstree-"+a.get_index()+" a > .jstree-icon { ":".jstree-"+a.get_index()+" li["+r+'="'+t+'"] > a > .jstree-icon { ',i.icon.image&&(n+=" background-image:url("+i.icon.image+"); "),n+=i.icon.position?" background-position:"+i.icon.position+"; ":" background-position:0 0; ",n+="} "))});var s=e("#jstree-types-stylesheet");void 0!==s&&s.remove(),""!==n&&e.vakata.css.add_sheet({str:n,title:"jstree-porta-types"})}}}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}function i(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,a)}function a(){e.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,i){e.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}function o(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{};var l=(e.ui.version="1.12.0",0),d=Array.prototype.slice;e.cleanData=function(t){return function(i){var r,n,a;for(a=0;null!=(n=i[a]);a++)try{r=e._data(n,"events"),r&&r.remove&&e(n).triggerHandler("remove")}catch(s){}t(i)}}(e.cleanData),e.widget=function(t,i,r){var n,a,s,o={},l=t.split(".")[0];t=t.split(".")[1];var d=l+"-"+t;return r||(r=i,i=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][d.toLowerCase()]=function(t){return!!e.data(t,d)},e[l]=e[l]||{},n=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,n,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(r,function(t,r){return e.isFunction(r)?void(o[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=r.apply(this,arguments),this._super=i,this._superApply=a,t}}()):void(o[t]=r)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:n?s.widgetEventPrefix||t:t},o,{constructor:a,namespace:l,widgetName:t,widgetFullName:d}),n?(e.each(n._childConstructors,function(t,i){var r=i.prototype;e.widget(r.namespace+"."+r.widgetName,a,i._proto)}),delete n._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,r,n=d.call(arguments,1),a=0,s=n.length;a<s;a++)for(i in n[a])r=n[a][i],n[a].hasOwnProperty(i)&&void 0!==r&&(e.isPlainObject(r)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):t[i]=r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,s=d.call(arguments,1),o=this;return a?this.each(function(){var i,a=e.data(this,r);return"instance"===n?(o=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,s),i!==a&&void 0!==i?(o=i&&i.jquery?o.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")}):(s.length&&(n=e.widget.extend.apply(null,[n].concat(s))),this.each(function(){var t=e.data(this,r);t?(t.option(n||{}),t._init&&t._init()):e.data(this,r,new i(n,this))})),o}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var r,n,a,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},r=t.split("."),t=r.shift(),r.length){for(n=s[t]=e.widget.extend({},this.options[t]),a=0;a<r.length-1;a++)n[r[a]]=n[r[a]]||{},n=n[r[a]];if(t=r.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,r,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(r=e(n.get()),this._removeClass(n,i),r.addClass(this._classes({element:r,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,a){var s,o;for(o=0;o<i.length;o++)s=n.classesElementLookup[i[o]]||e(),s=e(t.add?e.unique(s.get().concat(t.element.get())):s.not(t.element).get()),n.classesElementLookup[i[o]]=s,r.push(i[o]),a&&t.classes[i[o]]&&r.push(t.classes[i[o]])}var r=[],n=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),r.join(" ")},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,r){r="boolean"==typeof r?r:i;var n="string"==typeof e||null===e,a={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:r};return a.element.toggleClass(this._classes(a),r),this},_on:function(t,i,r){var n,a=this;"boolean"!=typeof t&&(r=i,i=t,t=!1),r?(i=n=e(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,n=this.widget()),e.each(r,function(r,s){function o(){if(t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?a[s]:s).apply(a,arguments)}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),d=l[1]+a.eventNamespace,u=l[2];u?n.on(d,u,o):i.on(d,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var n,a,s=this.options[t];if(r=r||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,r),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(r,n,a){"string"==typeof n&&(n={effect:n});var s,o=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),s=!e.isEmptyObject(n),n.complete=a,n.delay&&r.delay(n.delay),s&&e.effects&&e.effects.effect[o]?r[t](n):o!==t&&r[o]?r[o](n.duration,n.easing,a):r.queue(function(i){e(this)[t](),a&&a.call(r[0]),i()})}});e.widget;!function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function r(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var n,a,s=Math.max,o=Math.abs,l=Math.round,d=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;a=function(){var t=e("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),i=1.5===t.offset().top;return t.remove(),a=function(){return i},i},e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return e("body").append(r),t=a.offsetWidth,r.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=r[0].clientWidth),r.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),r=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,a=!r&&!n;return{element:i,isWindow:r,isDocument:n,offset:a?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,g,m,v,b,_,y=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),j={};return _=r(y),y[0].preventDefault&&(n.at="left top"),g=_.width,m=_.height,v=_.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=d.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=d.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=c.exec(i[0]),t=c.exec(i[1]),j[this]=[e?e[0]:0,t?t[0]:0],n[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?b.left+=g:"center"===n.at[0]&&(b.left+=g/2),"bottom"===n.at[1]?b.top+=m:"center"===n.at[1]&&(b.top+=m/2),p=t(j.at,g,m),b.left+=p[0],b.top+=p[1],this.each(function(){var r,d,u=e(this),c=u.outerWidth(),h=u.outerHeight(),f=i(this,"marginLeft"),_=i(this,"marginTop"),C=c+f+i(this,"marginRight")+w.width,D=h+_+i(this,"marginBottom")+w.height,S=e.extend({},b),T=t(j.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?S.left-=c:"center"===n.my[0]&&(S.left-=c/2),"bottom"===n.my[1]?S.top-=h:"center"===n.my[1]&&(S.top-=h/2),S.left+=T[0],S.top+=T[1],a()||(S.left=l(S.left),S.top=l(S.top)),r={marginLeft:f,marginTop:_},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](S,{targetWidth:g,targetHeight:m,elemWidth:c,elemHeight:h,collisionPosition:r,collisionWidth:C,collisionHeight:D,offset:[p[0]+T[0],p[1]+T[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(d=function(e){var t=v.left-S.left,i=t+g-c,r=v.top-S.top,a=r+m-h,l={target:{element:y,left:v.left,top:v.top,width:g,height:m},element:{element:u,left:S.left,top:S.top,width:c,height:h},horizontal:i<0?"left":t>0?"right":"center",vertical:a<0?"top":r>0?"bottom":"middle"};g<c&&o(t+i)<g&&(l.horizontal="center"),m<h&&o(r+a)<m&&(l.vertical="middle"),s(o(t),o(i))>s(o(r),o(a))?l.important="horizontal":l.important="vertical",n.using.call(this,e,l)}),u.offset(e.extend(S,{using:d}))})},e.ui.position={fit:{left:function(e,t){var i,r=t.within,n=r.isWindow?r.scrollLeft:r.offset.left,a=r.width,o=e.left-t.collisionPosition.marginLeft,l=n-o,d=o+t.collisionWidth-a-n;t.collisionWidth>a?l>0&&d<=0?(i=e.left+l+t.collisionWidth-a-n,e.left+=l-i):d>0&&l<=0?e.left=n:l>d?e.left=n+a-t.collisionWidth:e.left=n:l>0?e.left+=l:d>0?e.left-=d:e.left=s(e.left-o,e.left)},top:function(e,t){var i,r=t.within,n=r.isWindow?r.scrollTop:r.offset.top,a=t.within.height,o=e.top-t.collisionPosition.marginTop,l=n-o,d=o+t.collisionHeight-a-n;t.collisionHeight>a?l>0&&d<=0?(i=e.top+l+t.collisionHeight-a-n,e.top+=l-i):d>0&&l<=0?e.top=n:l>d?e.top=n+a-t.collisionHeight:e.top=n:l>0?e.top+=l:d>0?e.top-=d:e.top=s(e.top-o,e.top)}},flip:{left:function(e,t){var i,r,n=t.within,a=n.offset.left+n.scrollLeft,s=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,d=e.left-t.collisionPosition.marginLeft,u=d-l,c=d+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?(i=e.left+h+p+f+t.collisionWidth-s-a,(i<0||i<o(u))&&(e.left+=h+p+f)):c>0&&(r=e.left-t.collisionPosition.marginLeft+h+p+f-l,(r>0||o(r)<c)&&(e.left+=h+p+f))},top:function(e,t){var i,r,n=t.within,a=n.offset.top+n.scrollTop,s=n.height,l=n.isWindow?n.scrollTop:n.offset.top,d=e.top-t.collisionPosition.marginTop,u=d-l,c=d+t.collisionHeight-s-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];u<0?(r=e.top+p+f+g+t.collisionHeight-s-a,(r<0||r<o(u))&&(e.top+=p+f+g)):c>0&&(i=e.top-t.collisionPosition.marginTop+p+f+g-l,(i>0||o(i)<c)&&(e.top+=p+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();var u=(e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,r){return!!e.data(t,r[3])}}),e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-"),c="ui-effects-style",h="ui-effects-animated",p=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var r=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function r(t){var i=d(),r=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,n){var a,s=n.re.exec(t),o=s&&n.parse(s),l=n.space||"rgba";if(o)return a=i[l](o),i[u[l].cache]=a[u[l].cache],r=i._rgba=a._rgba,!1}),r.length?("0,0,0,0"===r.join()&&e.extend(r,a.transparent),i):a[t]}function n(e,t,i){return i=(i+1)%1,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var a,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=e.Color=function(t,i,r,n){return new e.Color.fn.parse(t,i,r,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=d.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),d.fn=e.extend(d.prototype,{parse:function(n,s,o,l){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(s),s=t);var c=this,h=e.type(n),p=this._rgba=[];return s!==t&&(n=[n,s,o,l],h="array"),"string"===h?this.parse(r(n)||a._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===h?(n instanceof d?f(u,function(e,t){n[t.cache]&&(c[t.cache]=n[t.cache].slice())}):f(u,function(t,r){var a=r.cache;f(r.props,function(e,t){if(!c[a]&&r.to){if("alpha"===e||null==n[e])return;c[a]=r.to(c._rgba)}c[a][t.idx]=i(n[e],t,!0)}),c[a]&&e.inArray(null,c[a].slice(0,3))<0&&(c[a][3]=1,r.from&&(c._rgba=r.from(c[a])))}),this):void 0},is:function(e){var t=d(e),i=!0,r=this;return f(u,function(e,n){var a,s=t[n.cache];return s&&(a=r[n.cache]||n.to&&n.to(r._rgba)||[],f(n.props,function(e,t){if(null!=s[t.idx])return i=s[t.idx]===a[t.idx]})),i}),i},_space:function(){var e=[],t=this;return f(u,function(i,r){t[r.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var r=d(e),n=r._space(),a=u[n],s=0===this.alpha()?d("transparent"):this,o=s[a.cache]||a.to(s._rgba),l=o.slice();return r=r[a.cache],f(a.props,function(e,n){var a=n.idx,s=o[a],d=r[a],u=c[n.type]||{};null!==d&&(null===s?l[a]=d:(u.mod&&(d-s>u.mod/2?s+=u.mod:s-d>u.mod/2&&(s-=u.mod)),l[a]=i((d-s)*t+s,n)))}),this[n](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),r=i.pop(),n=d(t)._rgba;return d(e.map(i,function(e,t){return(1-r)*n[t]+r*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,r=e[0]/255,n=e[1]/255,a=e[2]/255,s=e[3],o=Math.max(r,n,a),l=Math.min(r,n,a),d=o-l,u=o+l,c=.5*u;return t=l===o?0:r===o?60*(n-a)/d+360:n===o?60*(a-r)/d+120:60*(r-n)/d+240,i=0===d?0:c<=.5?d/u:d/(2-u),[Math.round(t)%360,i,c,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],r=e[2],a=e[3],s=r<=.5?r*(1+i):r+i-r*i,o=2*r-s;return[Math.round(255*n(o,s,t+1/3)),Math.round(255*n(o,s,t)),Math.round(255*n(o,s,t-1/3)),a]},f(u,function(r,n){var a=n.props,s=n.cache,l=n.to,u=n.from;d.fn[r]=function(r){if(l&&!this[s]&&(this[s]=l(this._rgba)),r===t)return this[s].slice();var n,o=e.type(r),c="array"===o||"object"===o?r:arguments,h=this[s].slice();return f(a,function(e,t){var r=c["object"===o?e:t.idx];null==r&&(r=h[t.idx]),h[t.idx]=i(r,t)}),u?(n=d(u(h)),n[s]=h,n):d(h)},f(a,function(t,i){d.fn[t]||(d.fn[t]=function(n){var a,s=e.type(n),l="alpha"===t?this._hsla?"hsla":"rgba":r,d=this[l](),u=d[i.idx];return"undefined"===s?u:("function"===s&&(n=n.call(this,u),s=e.type(n)),null==n&&i.empty?this:("string"===s&&(a=o.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),d[i.idx]=n,this[l](d)))})})}),d.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,s,o="";if("transparent"!==n&&("string"!==e.type(n)||(a=r(n)))){if(n=d(a||n),!h.rgba&&1!==n._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===o||"transparent"===o)&&s&&s.style;)try{
o=e.css(s,"backgroundColor"),s=s.parentNode}catch(l){}n=n.blend(o&&"transparent"!==o?o:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=d(t.elem,i),t.end=d(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},d.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function t(t){var i,r,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(r=n.length;r--;)i=n[r],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var r,a,s={};for(r in i)a=i[r],t[r]!==a&&(n[r]||!e.fx.step[r]&&isNaN(parseFloat(a))||(s[r]=a));return s}var r=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(p.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,s,o){var l=e.speed(a,s,o);return this.queue(function(){var a,s=e(this),o=s.attr("class")||"",d=l.children?s.find("*").addBack():s;d=d.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(r,function(e,t){n[t]&&s[t+"Class"](n[t])})},a(),d=d.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",o),d=d.map(function(){var t=this,i=e.Deferred(),r=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,r),i.promise()}),e.when.apply(e,d.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(i,r,n,a){return r?e.effects.animateClass.call(this,{add:i},r,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,r,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},r,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,r,n,a,s){return"boolean"==typeof r||void 0===r?n?e.effects.animateClass.call(this,r?{add:i}:{remove:i},n,a,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},r,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,r,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},r,n,a)}})}(),function(){function t(t,i,r,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,r=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=r,r=i,i={}),e.isFunction(r)&&(n=r,r=null),i&&e.extend(t,i),r=r||i.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function r(e,t){var i=t.outerWidth(),r=t.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,a=n.exec(e)||["",0,i,r,0];return{top:parseFloat(a[1])||0,right:"auto"===a[2]?i:parseFloat(a[2]),bottom:"auto"===a[3]?r:parseFloat(a[3]),left:parseFloat(a[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(i){return!!e(i).data(h)||t(i)}}(e.expr.filters.animated)),e.uiBackCompat!==!1&&e.extend(e.effects,{save:function(e,t){for(var i=0,r=t.length;i<r;i++)null!==t[i]&&e.data(u+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,r=0,n=t.length;r<n;r++)null!==t[r]&&(i=e.data(u+t[r]),e.css(t[r],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(s){a=document.body}return t.wrap(r),(t[0]===a||e.contains(t[0],a))&&e(a).trigger("focus"),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),r.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.0",define:function(t,i,r){return r||(r=i,i="effect"),e.effects.effect[t]=r,e.effects.effect[t].mode=i,r},scaledDimensions:function(e,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,n="vertical"!==i?(t||100)/100:1;return{height:e.height()*n,width:e.width()*r,outerHeight:e.outerHeight()*n,outerWidth:e.outerWidth()*r}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var r=e.queue();t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data(c,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(c)||"",e.removeData(c)},mode:function(e,t){var i=e.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var i,r;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:i}},createPlaceholder:function(t){var i,r=t.css("position"),n=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),"float":t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(u+"placeholder",i)),t.css({position:r,left:n.left,top:n.top}),i},removePlaceholder:function(e){var t=u+"placeholder",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,i,r,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*r+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){o.removeData(h),e.effects.cleanUp(o),"hide"===r.mode&&o.hide(),s()}function s(){e.isFunction(l)&&l.call(o[0]),e.isFunction(t)&&t()}var o=e(this);r.mode=u.shift(),e.uiBackCompat===!1||a?"none"===r.mode?(o[d](),s()):n.call(o[0],r,i):(o.is(":hidden")?"hide"===d:"show"===d)?(o[d](),s()):n.call(o[0],r,s)}var r=t.apply(this,arguments),n=e.effects.effect[r.effect],a=n.mode,s=r.queue,o=s||"fx",l=r.complete,d=r.mode,u=[],c=function(t){var i=e(this),r=e.effects.mode(i,d)||a;i.data(h,!0),u.push(r),a&&("show"===r||r===a&&"hide"===r)&&i.show(),a&&"none"===r||e.effects.saveStyle(i),e.isFunction(t)&&t()};return e.fx.off||!n?d?this[d](r.duration,l):this.each(function(){l&&l.call(this)}):s===!1?this.each(c).each(i):this.queue(o,c).queue(o,i)},show:function(e){return function(r){if(i(r))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(r){if(i(r))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(r){if(i(r)||"boolean"==typeof r)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):r(this.css("clip"),this)},transfer:function(t,i){var r=e(this),n=e(t.to),a="fixed"===n.css("position"),s=e("body"),o=a?s.scrollTop():0,l=a?s.scrollLeft():0,d=n.offset(),u={top:d.top-o,left:d.left-l,height:n.innerHeight(),width:n.innerWidth()},c=r.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:c.top-o,left:c.left-l,height:r.innerHeight(),width:r.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),e.isFunction(i)&&i()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=r(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(e*-2+2)/2}})}();var f,f=e.effects;e.effects.define("blind","hide",function(t,i){var r={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=e(this),a=t.direction||"up",s=n.cssClip(),o={clip:e.extend({},s)},l=e.effects.createPlaceholder(n);o.clip[r[a][0]]=o.clip[r[a][1]],"show"===t.mode&&(n.cssClip(o.clip),l&&l.css(e.effects.clipToBox(o)),o.clip=s),l&&l.animate(e.effects.clipToBox(o),t.duration,t.easing),n.animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),e.effects.define("bounce",function(t,i){var r,n,a,s=e(this),o=t.mode,l="hide"===o,d="show"===o,u=t.direction||"up",c=t.distance,h=t.times||5,p=2*h+(d||l?1:0),f=t.duration/p,g=t.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,b=0,_=s.queue().length;for(e.effects.createPlaceholder(s),a=s.css(m),c||(c=s["top"===m?"outerHeight":"outerWidth"]()/3),d&&(n={opacity:1},n[m]=a,s.css("opacity",0).css(m,v?2*-c:2*c).animate(n,f,g)),l&&(c/=Math.pow(2,h-1)),n={},n[m]=a;b<h;b++)r={},r[m]=(v?"-=":"+=")+c,s.animate(r,f,g).animate(n,f,g),c=l?2*c:c/2;l&&(r={opacity:0},r[m]=(v?"-=":"+=")+c,s.animate(r,f,g)),s.queue(i),e.effects.unshift(s,_,p+1)}),e.effects.define("clip","hide",function(t,i){var r,n={},a=e(this),s=t.direction||"vertical",o="both"===s,l=o||"horizontal"===s,d=o||"vertical"===s;r=a.cssClip(),n.clip={top:d?(r.bottom-r.top)/2:r.top,right:l?(r.right-r.left)/2:r.right,bottom:d?(r.bottom-r.top)/2:r.bottom,left:l?(r.right-r.left)/2:r.left},e.effects.createPlaceholder(a),"show"===t.mode&&(a.cssClip(n.clip),n.clip=r),a.animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),e.effects.define("drop","hide",function(t,i){var r,n=e(this),a=t.mode,s="show"===a,o=t.direction||"left",l="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o?"-=":"+=",u="+="===d?"-=":"+=",c={opacity:0};e.effects.createPlaceholder(n),r=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,c[l]=d+r,s&&(n.css(c),c[l]=u+r,c.opacity=1),n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),e.effects.define("explode","hide",function(t,i){function r(){_.push(this),_.length===c*h&&n()}function n(){p.css({visibility:"visible"}),e(_).remove(),i()}var a,s,o,l,d,u,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=c,p=e(this),f=t.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),b=Math.ceil(p.outerHeight()/c),_=[];for(a=0;a<c;a++)for(l=m.top+a*b,u=a-(c-1)/2,s=0;s<h;s++)o=m.left+s*v,d=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-a*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:o+(g?d*v:0),top:l+(g?u*b:0),opacity:g?0:1}).animate({left:o+(g?0:d*v),top:l+(g?0:u*b),opacity:g?1:0},t.duration||500,t.easing,r)}),e.effects.define("fade","toggle",function(t,i){var r="show"===t.mode;e(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),e.effects.define("fold","hide",function(t,i){var r=e(this),n=t.mode,a="show"===n,s="hide"===n,o=t.size||15,l=/([0-9]+)%/.exec(o),d=!!t.horizFirst,u=d?["right","bottom"]:["bottom","right"],c=t.duration/2,h=e.effects.createPlaceholder(r),p=r.cssClip(),f={clip:e.extend({},p)},g={clip:e.extend({},p)},m=[p[u[0]],p[u[1]]],v=r.queue().length;l&&(o=parseInt(l[1],10)/100*m[s?0:1]),f.clip[u[0]]=o,g.clip[u[0]]=o,g.clip[u[1]]=0,a&&(r.cssClip(g.clip),h&&h.css(e.effects.clipToBox(g)),g.clip=p),r.queue(function(i){h&&h.animate(e.effects.clipToBox(f),c,t.easing).animate(e.effects.clipToBox(g),c,t.easing),i()}).animate(f,c,t.easing).animate(g,c,t.easing).queue(i),e.effects.unshift(r,v,4)}),e.effects.define("highlight","show",function(t,i){var r=e(this),n={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(n.opacity=0),e.effects.saveStyle(r),r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),e.effects.define("size",function(t,i){var r,n,a,s=e(this),o=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.mode,c="effect"!==u,h=t.scale||"both",p=t.origin||["middle","center"],f=s.css("position"),g=s.position(),m=e.effects.scaledDimensions(s),v=t.from||m,b=t.to||e.effects.scaledDimensions(s,0);e.effects.createPlaceholder(s),"show"===u&&(a=v,v=b,b=a),n={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},"box"!==h&&"both"!==h||(n.from.y!==n.to.y&&(v=e.effects.setTransition(s,l,n.from.y,v),b=e.effects.setTransition(s,l,n.to.y,b)),n.from.x!==n.to.x&&(v=e.effects.setTransition(s,d,n.from.x,v),b=e.effects.setTransition(s,d,n.to.x,b))),"content"!==h&&"both"!==h||n.from.y!==n.to.y&&(v=e.effects.setTransition(s,o,n.from.y,v),b=e.effects.setTransition(s,o,n.to.y,b)),p&&(r=e.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*r.y+g.top,v.left=(m.outerWidth-v.outerWidth)*r.x+g.left,b.top=(m.outerHeight-b.outerHeight)*r.y+g.top,b.left=(m.outerWidth-b.outerWidth)*r.x+g.left),s.css(v),"content"!==h&&"both"!==h||(l=l.concat(["marginTop","marginBottom"]).concat(o),d=d.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var i=e(this),r=e.effects.scaledDimensions(i),a={height:r.height*n.from.y,width:r.width*n.from.x,outerHeight:r.outerHeight*n.from.y,outerWidth:r.outerWidth*n.from.x},s={height:r.height*n.to.y,width:r.width*n.to.x,outerHeight:r.height*n.to.y,outerWidth:r.width*n.to.x};n.from.y!==n.to.y&&(a=e.effects.setTransition(i,l,n.from.y,a),s=e.effects.setTransition(i,l,n.to.y,s)),n.from.x!==n.to.x&&(a=e.effects.setTransition(i,d,n.from.x,a),s=e.effects.setTransition(i,d,n.to.x,s)),c&&e.effects.saveStyle(i),i.css(a),i.animate(s,t.duration,t.easing,function(){c&&e.effects.restoreStyle(i)})})),s.animate(b,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=s.offset();0===b.opacity&&s.css("opacity",v.opacity),c||(s.css("position","static"===f?"relative":f).offset(t),e.effects.saveStyle(s)),i()}})}),e.effects.define("scale",function(t,i){var r=e(this),n=t.mode,a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==n?0:100),s=e.extend(!0,{from:e.effects.scaledDimensions(r),to:e.effects.scaledDimensions(r,a,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(s.from.opacity=1,s.to.opacity=0),e.effects.effect.size.call(this,s,i)}),e.effects.define("puff","hide",function(t,i){var r=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,r,i)}),e.effects.define("pulsate","show",function(t,i){var r=e(this),n=t.mode,a="show"===n,s="hide"===n,o=a||s,l=2*(t.times||5)+(o?1:0),d=t.duration/l,u=0,c=1,h=r.queue().length;for(!a&&r.is(":visible")||(r.css("opacity",0).show(),u=1);c<l;c++)r.animate({opacity:u},d,t.easing),u=1-u;r.animate({opacity:u},d,t.easing),r.queue(i),e.effects.unshift(r,h,l+1)}),e.effects.define("shake",function(t,i){var r=1,n=e(this),a=t.direction||"left",s=t.distance||20,o=t.times||3,l=2*o+1,d=Math.round(t.duration/l),u="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,h={},p={},f={},g=n.queue().length;for(e.effects.createPlaceholder(n),h[u]=(c?"-=":"+=")+s,p[u]=(c?"+=":"-=")+2*s,f[u]=(c?"-=":"+=")+2*s,n.animate(h,d,t.easing);r<o;r++)n.animate(p,d,t.easing).animate(f,d,t.easing);n.animate(p,d,t.easing).animate(h,d/2,t.easing).queue(i),e.effects.unshift(n,g,l+1)}),e.effects.define("slide","show",function(t,i){var r,n,a=e(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},o=t.mode,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,c=t.distance||a["top"===d?"outerHeight":"outerWidth"](!0),h={};e.effects.createPlaceholder(a),r=a.cssClip(),n=a.position()[d],h[d]=(u?-1:1)*c+n,h.clip=a.cssClip(),h.clip[s[l][1]]=h.clip[s[l][0]],"show"===o&&(a.cssClip(h.clip),a.css(d,h[d]),h.clip=r,h[d]=n),a.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});e.uiBackCompat!==!1&&(f=e.effects.define("transfer",function(t,i){e(this).transfer(t,i)}));e.ui.focusable=function(i,r){var n,a,s,o,l,d=i.nodeName.toLowerCase();return"area"===d?(n=i.parentNode,a=n.name,!(!i.href||!a||"map"!==n.nodeName.toLowerCase())&&(s=e("img[usemap='#"+a+"']"),s.length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(d)?(o=!i.disabled,o&&(l=e(i).closest("fieldset")[0],l&&(o=!l.disabled))):o="a"===d?i.href||r:r,o&&e(i).is(":visible")&&t(e(i)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});e.ui.focusable,e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");e.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,i){function r(t,i,r,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,r&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}(),e.fn.labels=function(){var t,i,r,n,a;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),r=this.attr("id"),r&&(t=this.eq(0).parents().last(),a=t.add(t.length?t.siblings():this.siblings()),i="label[for='"+e.ui.escapeSelector(r)+"']",n=n.add(a.find(i).addBack(i))),this.pushStack(n))},e.fn.scrollParent=function(t){var i=this.css("position"),r="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return(!r||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),r=null!=i;return(!r||i>=0)&&e.ui.focusable(t,r)}}),e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,i,r=this.options.icons;r&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+r.header),t.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,r.header)._addClass(i,null,r.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),void("icons"===e&&(this._destroyIcons(),t&&this._createIcons())))},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,r=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%r];break;case i.LEFT:case i.UP:a=this.headers[(n-1+r)%r];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[r-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),e(a).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),r=t.next(),n=r.uniqueId().attr("id");t.attr("aria-controls",n),r.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===r?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){var i=e(this).is(":visible");i||e(this).show(),t=Math.max(t,e(this).css("height","").height()),i||e(this).hide()}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i,r,n=this.options,a=this.active,s=e(t.currentTarget),o=s[0]===a[0],l=o&&n.collapsible,d=l?e():s.next(),u=a.next(),c={oldHeader:a,oldPanel:u,newHeader:l?e():s,newPanel:d};t.preventDefault(),o&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=!l&&this.headers.index(s),this.active=o?e():s,this._toggle(c),this._removeClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=a.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),o||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),n.icons&&(r=s.children(".ui-accordion-header-icon"),this._removeClass(r,null,n.icons.header)._addClass(r,null,n.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=r,this.options.animate?this._animate(i,r,t):(r.hide(),i.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var r,n,a,s=this,o=0,l=e.css("box-sizing"),d=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},c=d&&u.down||u,h=function(){s._toggleComplete(i)};return"number"==typeof c&&(a=c),"string"==typeof c&&(n=c),n=n||c.easing||u.easing,a=a||c.duration||u.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:a,easing:n,complete:h,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(o+=i.now):"content"!==s.options.heightStyle&&(i.now=Math.round(r-t.outerHeight()-o),o=0)}})):t.animate(this.hideProps,a,n,h):e.animate(this.showProps,a,n,h)},_toggleComplete:function(e){var t=e.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),r=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),r=e(t.currentTarget);i[0]===r[0]&&(this._removeClass(r.siblings().children(".ui-state-active"),null,"ui-state-active"),
this.focus(t,r))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){var i=!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,r,n,a,s=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,r=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===r?a=!0:n=r+n,i=this._filterMenuItems(n),i=a&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,r,n,a,s=this,o=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),r=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),r=e("<span>").data("ui-menu-submenu-caret",!0);s._addClass(r,"ui-menu-icon","ui-icon "+o),i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(r,"ui-menu","ui-widget ui-widget-content ui-front"),t=l.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),a=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(a,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,r,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,r,n,a,s,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-r,a=this.activeMenu.scrollTop(),s=this.activeMenu.height(),o=t.outerHeight(),n<0?this.activeMenu.scrollTop(a+n):n+o>s&&this.activeMenu.scrollTop(a+n-s+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var r=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this._removeClass(r.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(i,r)},nextPage:function(t){var i,r,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-r-n<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,r,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-r+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}});e.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,s="input"===n;this.isMultiLine=a||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[a||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,r=!0,void(i=!0);t=!1,r=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!i){var n=e.ui.keyCode;switch(r.keyCode){case n.PAGE_UP:this._move("previousPage",r);break;case n.PAGE_DOWN:this._move("nextPage",r);break;case n.UP:this._keyEvent("previous",r);break;case n.DOWN:this._keyEvent("next",r)}}},input:function(e){return r?(r=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var r,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),r=i.item.attr("aria-label")||n.value,void(r&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion))))},menuselect:function(t,i){var r=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=r})),!1!==this._trigger("select",t,{item:r})&&this._value(r.value),this.term=this._value(),this.close(t),this.selectedItem=r}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,r){r(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;e.each(i,function(e,i){r._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}});var g=(e.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);e.widget("ui.controlgroup",{version:"1.12.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,function(r,n){var a,s={};if(n)return"controlgroupLabel"===r?(a=t.element.find(n),a.each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(a,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(a.get()))):void(e.fn[r]&&(t["_"+r+"Options"]&&(s=t["_"+r+"Options"]("middle")),t.element.find(n).each(function(){var n=e(this),a=n[r]("instance"),o=e.widget.extend({},s);if("button"!==r||!n.parent(".ui-spinner").length){a||(a=n[r]()[r]("instance")),a&&(o.classes=t._resolveClassesValues(o.classes,a)),n[r](o);var l=n[r]("widget");e.data(l[0],"ui-controlgroup-data",a?a:n[r]("instance")),i.push(l[0])}})))}),this.childWidgets=e(e.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var i=e(this),r=i.data("ui-controlgroup-data");r&&r[t]&&r[t]()})},_updateCornerClass:function(e,t){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",r=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,i),this._addClass(e,null,r)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,i){var r={};return e.each(t,function(e){var n=i.options.classes[e]||"";n=n.replace(g,"").trim(),r[e]=(n+" "+t[e]).replace(/\s+/g," ")}),r},_setOption:function(e,t){return"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"===e?void this._callChildMethod(t?"disable":"enable"):void this.refresh()},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,r){var n=t[r]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var a=i["_"+n.widgetName+"Options"](1===t.length?"only":r);a.classes=i._resolveClassesValues(a.classes,n),n.element[n.widgetName](a)}else i._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}});e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,r=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each(function(){r.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),t=this.element[0].disabled,null!=t&&(n.disabled=t),n},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,i=this.element[0].name,r="input[name='"+e.ui.escapeSelector(i)+"']";return i?(t=this.form.length?e(this.form[0].elements).filter(r):e(r).filter(function(){return 0===e(this).form().length}),t.not(this.element)):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t)return this._super(e,t),"disabled"===e?(this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t)):void this.refresh()},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);e.ui.checkboxradio;e.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,null!=e&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var r="iconPosition"!==t,n=r?this.options.iconPosition:i,a="top"===n||"bottom"===n;this.icon?r&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),r&&this._addClass(this.icon,null,i),this._attachIcon(n),a?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),e.uiBackCompat!==!1&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){return"text"===e?void this._super("showLabel",t):("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});e.ui.button;e.extend(e.ui,{datepicker:{version:"1.12.0"}});var m;e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var r,n,a;r=t.nodeName.toLowerCase(),n="div"===r||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===r?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=e(t);i.append=e([]),i.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var r,n,a,s=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[o?"before":"after"](i.append)),t.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),r=this._get(i,"showOn"),"focus"!==r&&"both"!==r||t.on("focus",this._showDatepicker),"button"!==r&&"both"!==r||(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[o?"before":"after"](i.trigger),i.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){
if(this._get(e,"autoSize")&&!e.inline){var t,i,r,n,a=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(i=0,r=0,n=0;n<e.length;n++)e[n].length>i&&(i=e[n].length,r=n);return r},a.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,n,a){var o,l,d,u,c,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),s(h.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,d/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var i,r=e(t),n=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||r.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(t){var i,r,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(r=n.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,r,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(r=n.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,r){var n,a,o,l,d=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):d?"all"===i?e.extend({},d.settings):this._get(d,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=r),void(d&&(this._curInst===d&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(d,"min"),l=this._getMinMaxDate(d,"max"),s(d.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(d.settings.minDate=this._formatDate(d,o)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(d.settings.maxDate=this._formatDate(d,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),d),this._autoSize(d),this._setDate(d,a),this._updateAlternate(d),this._updateDatepicker(d))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,r,n,a=e.datepicker._getInst(t.target),s=!0,o=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(r=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[r,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,n=e.datepicker._getInst(t.target);if(e.datepicker._get(n,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!i||i.indexOf(r)>-1},_doKeyUp:function(t){var i,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),i&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var r,n,a,o,l,d,u;r=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==r&&(e.datepicker._curInst.dpDiv.stop(!0,!0),r&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(r,"beforeShow"),a=n?n.apply(t,[t,r]):{},a!==!1&&(s(r.settings,a),r.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(r),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(r),l=e.datepicker._checkOffset(r,l,o),r.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),r.inline||(d=e.datepicker._get(r,"showAnim"),u=e.datepicker._get(r,"duration"),r.dpDiv.css("z-index",i(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[d]?r.dpDiv.show(d,e.datepicker._get(r,"showOptions"),u):r.dpDiv[d||"show"](d?u:null),e.datepicker._shouldFocusInput(r)&&r.input.trigger("focus"),e.datepicker._curInst=r))}},_updateDatepicker:function(t){this.maxRows=4,m=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,r=this._getNumberOfMonths(t),n=r[1],s=17,o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&a.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",s*n+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,r){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),d=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-s:0,i.left-=r&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+a>d&&d>a?Math.abs(a+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),n=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,r,n,a,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),r=this._get(s,"duration"),n=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[i]||e.effects[i])?s.dpDiv.hide(i,e.datepicker._get(s,"showOptions"),r,n):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?r:null,n),i||n(),this._datepickerShowing=!1,a=this._get(s,"onClose"),a&&a.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),r=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===r?this._get(a,"showCurrentAtPos"):0),r),this._updateDatepicker(a))},_gotoToday:function(t){var i,r=e(t),n=this._getInst(r[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(r)},_selectMonthYear:function(t,i,r){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===r?"Month":"Year")]=a["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,r,n){var a,s=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(a=this._getInst(s[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=r,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var r,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),r=this._get(a,"onSelect"),r?r.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,r,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),n=this.formatDate(i,r,this._getFormatConfig(t)),e(a).val(n))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var n,a,s,o,l=0,d=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10),c=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,h=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,f=(r?r.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,_=!1,y=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=y(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?r:1,a=new RegExp("^\\d{"+n+","+r+"}"),s=i.substring(l).match(a);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(t,r,n){var a=-1,s=e.map(y(t)?n:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var r=t[1];if(i.substr(l,r.length).toLowerCase()===r.toLowerCase())return a=t[0],l+=r.length,!1}),a!==-1)return a+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==t.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;n<t.length;n++)if(_)"'"!==t.charAt(n)||y("'")?k():_=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",c,h);break;case"o":b=x("o");break;case"m":m=x("m");break;case"M":m=w("M",p,f);break;case"y":g=x("y");break;case"@":o=new Date(x("@")),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((x("!")-this._ticksTo1970)/1e4),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"'":y("'")?k():_=!0;break;default:k()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(g===-1?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=u?0:-100)),b>-1)for(m=1,v=b;;){if(a=this._getDaysInMonth(g,m-1),v<=a)break;m++,v-=a}if(o=this._daylightSavingAdjust(new Date(g,m-1,v)),o.getFullYear()!==g||o.getMonth()+1!==m||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var r,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=r+1<e.length&&e.charAt(r+1)===t;return i&&r++,i},d=function(e,t,i){var r=""+t;if(l(e))for(;r.length<i;)r="0"+r;return r},u=function(e,t,i,r){return l(e)?r[t]:i[t]},c="",h=!1;if(t)for(r=0;r<e.length;r++)if(h)"'"!==e.charAt(r)||l("'")?c+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":c+=d("d",t.getDate(),2);break;case"D":c+=u("D",t.getDay(),n,a);break;case"o":c+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=d("m",t.getMonth()+1,2);break;case"M":c+=u("M",t.getMonth(),s,o);break;case"y":c+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,i="",r=!1,n=function(i){var r=t+1<e.length&&e.charAt(t+1)===i;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":r=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,s=this._getFormatConfig(e);try{a=this.parseDate(i,r,s)||n}catch(o){r=t?"":r}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=r?a.getDate():0,e.currentMonth=r?a.getMonth():0,e.currentYear=r?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,r){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(r){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),s=n.getMonth(),o=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=l.exec(i);d;){switch(d[2]||"d"){case"d":case"D":o+=parseInt(d[1],10);break;case"w":case"W":o+=7*parseInt(d[1],10);break;case"m":case"M":s+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s))}d=l.exec(i)}return new Date(a,s,o)},s=null==i||""===i?r:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?r:n(i):new Date(i.getTime());return s=s&&"Invalid Date"===s.toString()?r:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var r=!t,n=e.selectedMonth,a=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-i,"M")},next:function(){e.datepicker._adjustDate(r,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,r,n,a,s,o,l,d,u,c,h,p,f,g,m,v,b,_,y,x,w,k,j,C,D,S,T,I,P,A,M,E,$,F,O,q,R,N,L=new Date,z=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),H=this._get(e,"isRTL"),G=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),Q=this._get(e,"navigationAsDateFormat"),W=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),V=this._get(e,"stepMonths"),K=1!==W[0]||1!==W[1],Y=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-U,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-W[0]*W[1]+1,J.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)Z--,Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,"prevText"),i=Q?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-V,1)),this._getFormatConfig(e)):i,r=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=Q?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z+V,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+n+"</span></a>",s=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?Y:z,s=Q?this.formatDate(s,o,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",d=G?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),_=this._getDefaultDate(e),y="",w=0;w<W[0];w++){for(k="",this.maxRows=4,j=0;j<W[1];j++){if(C=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),D=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",W[1]>1)switch(j){case 0:S+=" ui-datepicker-group-first",D=" ui-corner-"+(H?"right":"left");break;case W[1]-1:S+=" ui-datepicker-group-last",D=" ui-corner-"+(H?"left":"right");break;default:S+=" ui-datepicker-group-middle",D=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===w?H?a:r:"")+(/all|right/.test(D)&&0===w?H?r:a:"")+this._generateMonthYearHeader(e,Z,ee,X,J,w>0||j>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;x<7;x++)I=(x+u)%7,T+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[I]+"'>"+p[I]+"</span></th>";for(S+=T+"</tr></thead><tbody>",P=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),A=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,M=Math.ceil((A+P)/7),E=K&&this.maxRows>M?this.maxRows:M,this.maxRows=E,$=this._daylightSavingAdjust(new Date(ee,Z,1-A)),F=0;F<E;F++){for(S+="<tr>",O=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")($)+"</td>":"",x=0;x<7;x++)q=m?m.apply(e.input?e.input[0]:null,[$]):[!0,""],R=$.getMonth()!==Z,N=R&&!b||!q[0]||X&&$<X||J&&$>J,O+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+($.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||_.getTime()===$.getTime()&&_.getTime()===C.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+q[1]+($.getTime()===Y.getTime()?" "+this._currentClass:"")+($.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!q[2]?"":" title='"+q[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+$.getMonth()+"' data-year='"+$.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+$.getDate()+"</span>":"<a class='ui-state-default"+($.getTime()===z.getTime()?" ui-state-highlight":"")+($.getTime()===Y.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+$.getDate()+"</a>")+"</td>",$.setDate($.getDate()+1),$=this._daylightSavingAdjust($);S+=O+"</tr>"}Z++,Z>11&&(Z=0,ee++),S+="</tbody></table>"+(K?"</div>"+(W[0]>0&&j===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}y+=k}return y+=d,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,r,n,a,s,o){var l,d,u,c,h,p,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",y="";if(a||!m)y+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=r&&r.getFullYear()===i,d=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=r.getMonth())&&(!d||u<=n.getMonth())&&(y+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+o[u]+"</option>");y+="</select>"}if(b||(_+=y+(!a&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(c[0]),g=Math.max(f,p(c[1]||"")),f=r?Math.max(f,r.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",_+=e.yearshtml,e.yearshtml=null}return _+=this._get(e,"yearSuffix"),b&&(_+=(!a&&m&&v?"":"&#xa0;")+y),_+="</div>"},_adjustInstDate:function(e,t,i){var r=e.selectedYear+("Y"===i?t:0),n=e.selectedMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(r,n))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,n,a)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),n=i&&t<i?i:t;return r&&n>r?r:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,r){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,r+(t<0?t:n[0]*n[1]),1));return t<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,r,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=null,o=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),r=(new Date).getFullYear(),s=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=r),i[1].match(/[+\-].*/)&&(o+=r)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!s||t.getFullYear()>=s)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.0";var v=(e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);e(document).on("mouseup",function(){v=!1});e.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){
i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),v=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,i,r){var n,a=e.ui[t].prototype;for(n in r)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,r[n]])},call:function(e,t,i,r){var n,a=e.plugins[t];if(a&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<a.length;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")};e.widget("ui.draggable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]),r=e(t.target);this._getHandle(t)&&r.closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,r=e.isFunction(i.helper),n=r?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),r&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,r,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),r=i[0],void(r&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,r,n,a,s=this.options,o=this._isRootNode(this.scrollParent[0]),l=e.pageX,d=e.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),i=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(d=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(d=i[3]+this.offset.click.top)),s.grid&&(n=s.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,d=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-s.grid[1]:n+s.grid[1]:n,a=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-s.grid[0]:a+s.grid[0]:a),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(d=this.originalPageY)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var n=e.extend({},i,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,r){var n=e.extend({},i,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,r){e.each(r.sortables,function(){var n=!1,a=this;a.positionAbs=r.positionAbs,a.helperProportions=r.helperProportions,a.offset.click=r.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,r._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=r.offset.click.top,a.offset.click.left=r.offset.click.left,a.offset.parent.left-=r.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=r.offset.parent.top-a.offset.parent.top,r._trigger("toSortable",t),r.dropped=a.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,a.fromOutside=r),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var n=e("body"),a=r.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,r){var n=r.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var n=e(i.helper),a=r.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,r){var n=r.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var n=r.options,a=!1,s=r.scrollParentNotHidden[0],o=r.document[0];s!==o&&"HTML"!==s.tagName?(n.axis&&"x"===n.axis||(r.overflowOffset.top+s.offsetHeight-t.pageY<n.scrollSensitivity?s.scrollTop=a=s.scrollTop+n.scrollSpeed:t.pageY-r.overflowOffset.top<n.scrollSensitivity&&(s.scrollTop=a=s.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(r.overflowOffset.left+s.offsetWidth-t.pageX<n.scrollSensitivity?s.scrollLeft=a=s.scrollLeft+n.scrollSpeed:t.pageX-r.overflowOffset.left<n.scrollSensitivity&&(s.scrollLeft=a=s.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(o).scrollTop()<n.scrollSensitivity?a=e(o).scrollTop(e(o).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(o).scrollTop())<n.scrollSensitivity&&(a=e(o).scrollTop(e(o).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(o).scrollLeft()<n.scrollSensitivity?a=e(o).scrollLeft(e(o).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(o).scrollLeft())<n.scrollSensitivity&&(a=e(o).scrollLeft(e(o).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,r){var n=r.options;r.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){var n,a,s,o,l,d,u,c,h,p,f=r.options,g=f.snapTolerance,m=i.offset.left,v=m+r.helperProportions.width,b=i.offset.top,_=b+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)l=r.snapElements[h].left-r.margins.left,d=l+r.snapElements[h].width,u=r.snapElements[h].top-r.margins.top,c=u+r.snapElements[h].height,v<l-g||m>d+g||_<u-g||b>c+g||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(u-_)<=g,a=Math.abs(c-b)<=g,s=Math.abs(l-v)<=g,o=Math.abs(d-m)<=g,n&&(i.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),a&&(i.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),o&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d}).left)),p=n||a||s||o,"outer"!==f.snapMode&&(n=Math.abs(u-b)<=g,a=Math.abs(c-_)<=g,s=Math.abs(l-m)<=g,o=Math.abs(d-v)<=g,n&&(i.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),o&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(n||a||s||o||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=n||a||s||o||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,r){var n,a=r.options,s=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(n=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var n=e(i.helper),a=r.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,r){var n=r.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}});e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[r]>0||(t[r]=1,n=t[r]>0,t[r]=0,n)},_create:function(){var t,i=this.options,r=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",function(){i.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())}).on("mouseleave",function(){i.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,r,n,a,s=this.options,o=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},i=0;i<r.length;i++)t=e.trim(r[i]),n="ui-resizable-"+t,a=e("<div>"),this._addClass(a,"ui-resizable-handle "+n),a.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(a);this._renderAxis=function(t){var i,r,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){o.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=a&&a[1]?a[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,r,n=!1;for(i in this.handles)r=e(this.handles[i])[0],(r===t.target||e.contains(r,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,r,n,a=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,r+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,n=this.originalMousePosition,a=this.axis,s=t.pageX-n.left||0,o=t.pageY-n.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,s,o]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,r,n,a,s,o,l,d=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),n=r&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=r?0:u.sizeDiff.width,s={width:u.helper.width()-a,height:u.helper.height()-n},o=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,d.animate||this.element.css(e.extend(s,{top:l,left:o})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!d.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,r,n,a,s=this.options;a={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),r>a.minHeight&&(a.minHeight=r),i<a.maxWidth&&(a.maxWidth=i),n<a.maxHeight&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,o=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,d=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&d&&(e.left=o-t.minWidth),r&&d&&(e.left=o-t.maxWidth),s&&u&&(e.top=l-t.minHeight),n&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(r[t])||0,i[t]+=parseFloat(n[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(e,t,i){var r=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:r.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]));
},nw:function(t,i,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),r=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),s=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,o=a?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-s},d=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&d?{top:u,left:d}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&e(n[0]).css({width:r.width,height:r.height}),i._updateCache(r),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,r,n,a,s,o,l=e(this).resizable("instance"),d=l.options,u=l.element,c=d.containment,h=c instanceof e?c.get(0):/parent/.test(c)?u.parent().get(0):c;h&&(l.containerElement=e(h),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){i[e]=l._num(t.css("padding"+r))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},r=l.containerOffset,n=l.containerSize.height,a=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:a,o=l._hasScroll(h)?h.scrollHeight:n,l.parentData={element:h,left:r.left,top:r.top,width:s,height:o}))},resize:function(t){var i,r,n,a,s=e(this).resizable("instance"),o=s.options,l=s.containerOffset,d=s.position,u=s._aspectRatio||t.shiftKey,c={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=l),d.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-c.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=o.helper?l.left:0),d.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),n=s.containerElement.get(0)===s.element.parent().get(0),a=/relative|absolute/.test(s.containerElement.css("position")),n&&a?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-c.left:s.offset.left-l.left)),r=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-c.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,r=t.containerOffset,n=t.containerPosition,a=t.containerElement,s=e(t.helper),o=s.offset(),l=s.outerWidth()-t.sizeDiff.width,d=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-n.left-r.left,width:l,height:d}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-n.left-r.left,width:l,height:d})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var r=e(this).resizable("instance"),n=r.options,a=r.originalSize,s=r.originalPosition,o={height:r.size.height-a.height||0,width:r.size.width-a.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0};e(n.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(r[t]||0)+(o[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),e.uiBackCompat!==!1&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),r=i.options,n=i.size,a=i.originalSize,s=i.originalPosition,o=i.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,d=l[0]||1,u=l[1]||1,c=Math.round((n.width-a.width)/d)*d,h=Math.round((n.height-a.height)/u)*u,p=a.width+c,f=a.height+h,g=r.maxWidth&&r.maxWidth<p,m=r.maxHeight&&r.maxHeight<f,v=r.minWidth&&r.minWidth>p,b=r.minHeight&&r.minHeight>f;r.grid=l,v&&(p+=d),b&&(f+=u),g&&(p-=d),m&&(f-=u),/^(se|s|e)$/.test(o)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(o)?(i.size.width=p,i.size.height=f,i.position.top=s.top-h):/^(sw)$/.test(o)?(i.size.width=p,i.size.height=f,i.position.left=s.left-c):((f-u<=0||p-d<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=s.top-h):(f=u-t.height,i.size.height=f,i.position.top=s.top+a.height-f),p-d>0?(i.size.width=p,i.position.left=s.left-c):(p=d-t.width,i.size.width=p,i.position.left=s.left+a.width-p))}});e.ui.resizable;e.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=e.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,function(i,r){var n,a;r=e.isFunction(r)?{click:r,text:i}:r,r=e.extend({type:"button"},r),n=r.click,a={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,e("<button></button>",r).button(a).appendTo(t.uiButtonSet).on("click",function(){n.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,n){i._addClass(e(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",r,t(n))},drag:function(e,r){i._trigger("drag",e,t(r))},stop:function(n,a){var s=a.offset.left-i.document.scrollLeft(),o=a.offset.top-i.document.scrollTop();r.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(o>=0?"+":"")+o,of:i.window},i._removeClass(e(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,r=this.options,n=r.resizable,a=this.uiDialog.css("position"),s="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:s,start:function(r,n){i._addClass(e(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",r,t(n))},resize:function(e,r){i._trigger("resize",e,t(r))},stop:function(n,a){var s=i.uiDialog.offset(),o=s.left-i.document.scrollLeft(),l=s.top-i.document.scrollTop();r.height=i.uiDialog.height(),r.width=i.uiDialog.width(),r.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(e(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);i!==-1&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(r=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,i){var r,n,a=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(r=a.is(":data(ui-draggable)"),r&&!i&&a.draggable("destroy"),!r&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=a.is(":data(ui-resizable)"),n&&!i&&a.resizable("destroy"),n&&"string"==typeof i&&a.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),i="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});e.ui.dialog;e.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||e.ui.ddmanager.current,n=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&b(r,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return n=!0,!1}),!n&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var b=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,r,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,o=a+t.helperProportions.width,l=s+t.helperProportions.height,d=i.offset.left,u=i.offset.top,c=d+i.proportions().width,h=u+i.proportions().height;switch(r){case"fit":return d<=a&&o<=c&&u<=s&&l<=h;case"intersect":return d<a+t.helperProportions.width/2&&o-t.helperProportions.width/2<c&&u<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,d,i.proportions().width);case"touch":return(s>=u&&s<=h||l>=u&&l<=h||s<u&&l>h)&&(a>=d&&a<=c||o>=d&&o<=c||a<d&&o>c);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<a.length;r++)if(!(a[r].options.disabled||t&&!a[r].accept.call(a[r].element[0],t.currentItem||t.element))){for(n=0;n<o.length;n++)if(o[n]===a[r].element[0]){a[r].proportions().height=0;continue e}a[r].visible="none"!==a[r].element.css("display"),a[r].visible&&("mousedown"===s&&a[r]._activate.call(a[r],i),a[r].offset=a[r].element.offset(),a[r].proportions({width:a[r].element[0].offsetWidth,height:a[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&b(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,n,a,s=b(t,this,this.options.tolerance,i),o=!s&&this.isover?"isout":s&&!this.isover?"isover":null;o&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(r=e(a[0]).droppable("instance"),r.greedyChild="isover"===o)),r&&"isover"===o&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),r&&"isout"===o&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.uiBackCompat!==!1&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});e.ui.droppable,e.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var i=e(this),r=i.offset(),n={left:r.left-t.elementPos.left,top:r.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,n=e.data(this,"selectable-item");if(n)return r=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,r?"ui-unselecting":"ui-selected")._addClass(n.$element,r?"ui-selecting":"ui-unselecting"),n.unselecting=!r,n.selecting=r,n.selected=r,r?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,r=this,n=this.options,a=this.opos[0],s=this.opos[1],o=t.pageX,l=t.pageY;return a>o&&(i=o,o=a,a=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:a,top:s,width:o-a,height:l-s}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),d=!1,u={};i&&i.element!==r.element[0]&&(u.left=i.left+r.elementPos.left,u.right=i.right+r.elementPos.left,u.top=i.top+r.elementPos.top,u.bottom=i.bottom+r.elementPos.top,"touch"===n.tolerance?d=!(u.left>o||u.right<a||u.top>l||u.bottom<s):"fit"===n.tolerance&&(d=u.left>a&&u.right<o&&u.top>s&&u.bottom<l),d?(i.selected&&(r._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(r._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(r._addClass(i.$element,"ui-selecting"),i.selecting=!0,r._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(r._removeClass(i.$element,"ui-selecting"),i.selecting=!1,r._addClass(i.$element,"ui-selected"),i.selected=!0):(r._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(r._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),r._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(r._removeClass(i.$element,"ui-selected"),i.selected=!1,r._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,r._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");i._removeClass(r.$element,"ui-unselecting"),r.unselecting=!1,r.startselected=!1,i._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");i._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,
icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,i=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(r).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var r=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",e,{item:r}),t.isOpen||t._select(r,e)),t.focusIndex=r.index,t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=e("<span>");return this._setText(i,t.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(t,i){var r=this,n="";e.each(i,function(i,a){var s;a.optgroup!==n&&(s=e("<li>",{text:a.optgroup}),r._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(t),n=a.optgroup),r._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=e("<li>"),n=e("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(n,i.label),r.append(n).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,r,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),r="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;return e===!1?void this.button.css("width",""):(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(e))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var i=this,r=[];t.each(function(t,n){r.push(i._parseOption(e(n),t))}),this.items=r},_parseOption:function(e,t){var i=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),e.widget("ui.slider",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,r=this.options,n=this.element.find(".ui-slider-handle"),a="<span tabindex='0'></span>",s=[];for(i=r.values&&r.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;t<i;t++)s.push(a);this.handles=n.add(e(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options;t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,r,n,a,s,o,l,d,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(r-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===c.min))&&(n=i,a=e(this),s=t)}),o=this._start(t,s),o!==!1&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(a,null,"ui-state-active"),a.trigger("focus"),l=a.offset(),d=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=d?{left:0,top:0}:{left:t.pageX-l.left-a.width()/2,top:t.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,r,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=i/t,r>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),n=this._valueMax()-this._valueMin(),a=this._valueMin()+r*n,this._trimAlignValue(a)},_uiHash:function(e,t,i){var r={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(e),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var r,n,a=this.value(),s=this.values();this._hasMultipleValues()&&(n=this.values(t?0:1),a=this.values(t),2===this.options.values.length&&this.options.range===!0&&(i=0===t?Math.min(n,i):Math.max(n,i)),s[t]=i),i!==a&&(r=this._trigger("slide",e,this._uiHash(t,i,s)),r!==!1&&(this._hasMultipleValues()?this.values(t,i):this.value(i)))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var r,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(r=this.options.values,n=arguments[0],a=0;a<r.length;a+=1)r[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var r,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=n-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(i=this.options.values.slice(),r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(i[r]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,r=e-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,r=Math.round((e-t)/i)*i;e=r+t,e>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,r,n,a,s=this.options.range,o=this.options,l=this,d=!this._animateOff&&o.animate,u={};this._hasMultipleValues()?this.handles.each(function(r){i=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[d?"animate":"css"](u,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[d?"animate":"css"]({left:i+"%"},o.animate),1===r&&l.range[d?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===r&&l.range.stop(1,1)[d?"animate":"css"]({bottom:i+"%"},o.animate),1===r&&l.range[d?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(r=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?(r-n)/(a-n)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[d?"animate":"css"](u,o.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:i+"%"},o.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:100-i+"%"},o.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:i+"%"},o.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:100-i+"%"},o.animate))},_handleEvents:{keydown:function(t){var i,r,n,a,s=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),i=this._start(t,s),i===!1))return}switch(a=this.options.step,r=n=this._hasMultipleValues()?this.values(s):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;n=this._trimAlignValue(r+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;n=this._trimAlignValue(r-a)}this._slide(t,s,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(e(t.target),null,"ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,n=!1,a=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,a.widgetName+"-item")===a)return r=e(this),!1}),e.data(t.target,a.widgetName+"-item")===a&&(r=e(t.target)),!!r&&(!(this.options.handle&&!i&&(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,r){var n,a,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(a)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,n,a,s=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?o=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(o=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?o=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(o=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=this.items[i],n=r.item[0],a=this._intersectsWithPointer(r),a&&r.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===a?"next":"prev"]()[0]===n||e.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],n))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,n=this.placeholder.offset(),a=this.options.axis,s={};a&&"x"!==a||(s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&r.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},i.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,r=this.positionAbs.top,n=r+this.helperProportions.height,a=e.left,s=a+e.width,o=e.top,l=o+e.height,d=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||r+d>o&&r+d<l,h="y"===this.options.axis||t+u>a&&t+u<s,p=c&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&o<r+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),a=r&&n;return!!a&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){o.push(this)}var r,n,a,s,o=[],l=[],d=this._connectWith();if(d&&t)for(r=d.length-1;r>=0;r--)for(a=e(d[r],this.document[0]),n=a.length-1;n>=0;n--)s=e.data(a[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=l.length-1;r>=0;r--)l[r][0].each(i);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,r,n,a,s,o,l,d,u=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(n=e(h[i],this.document[0]),r=n.length-1;r>=0;r--)a=e.data(n[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(c.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=c.length-1;i>=0;i--)for(s=c[i][1],o=c[i][0],r=0,d=o.length;r<d;r++)l=e(o[r]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,r,n,a;for(i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=n.outerWidth(),r.height=n.outerHeight()),a=n.offset(),r.left=a.left,r.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,
this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+r+">",t.document[0]);return t._addClass(n,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===r?t._createTrPlaceholder(t.currentItem,n):"img"===r&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){i&&!r.forcePlaceholderSize||(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,r,n,a,s,o,l,d,u,c,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=h.floating||this._isFloating(this.currentItem),s=u?"left":"top",o=u?"width":"height",c=u?"pageX":"pageY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[s],d=!1,t[c]-l>this.items[r][o]/2&&(d=!0),Math.abs(t[c]-l)<n&&(n=Math.abs(t[c]-l),a=this.items[r],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,r=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!i.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!i.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,r,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*r}},_generatePosition:function(t){var i,r,n=this.options,a=t.pageX,s=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,r=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-n.grid[0]:r+n.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function i(e,t,i){return function(r){i._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)"auto"!==this._storedCSS[r]&&"static"!==this._storedCSS[r]||(this._storedCSS[r]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||n.push(i("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(n.push(i("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;r<n.length;r++)n[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});e.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return e.each(["min","max","step"],function(e,r){var n=i.attr(r);null!=n&&n.length&&(t[r]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var t=this.element[0]===e.ui.safeActiveElement(this.document[0]);t||(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r}))}var r;r=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var i=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,i.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(e){var t,i,r=this.options;return t=null!==r.min?r.min:0,i=e-t,i=Math.round(i/r.step)*r.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&e<r.min?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var i,r,n;return"culture"===e||"numberFormat"===e?(i=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(i))):("max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(r=this.buttons.first().find(".ui-icon"),this._removeClass(r,null,this.options.icons.up),this._addClass(r,null,t.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,t.down)),void this._super(e,t))},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:o(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:o(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:o(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:o(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void o(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.uiBackCompat!==!1&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});e.ui.spinner;e.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,r;i=t.href.replace(e,""),r=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{r=decodeURIComponent(r)}catch(n){}return t.hash.length>1&&i===r}}(),_create:function(){var t=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,n){if(e(n).attr("aria-controls")===r)return t=i,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&t!==-1||(t=!!this.tabs.length&&0)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=!i&&0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(e.ui.safeActiveElement(this.document[0])).closest("li"),r=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function r(){return t>n&&(t=0),t<0&&(t=n),t}for(var n=this.tabs.length-1;e.inArray(r(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){return"active"===e?void this._activate(t):(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each(function(i,r){var n,a,s,o=e(r).uniqueId().attr("id"),l=e(r).closest("li"),d=l.attr("aria-controls");t._isLocal(r)?(n=r.hash,s=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(s=l.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+s,a=t.element.find(n),a.length||(a=t._createPanel(s),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),d&&l.data("ui-tabs-aria-controls",d),l.attr({"aria-controls":s,"aria-labelledby":o}),a.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,r,n;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),n=0;r=this.tabs[n];n++)i=e(r),t===!0||e.inArray(n,t)!==-1?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,t===!0)},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,r=this.active,n=e(t.currentTarget),a=n.closest("li"),s=a[0]===r[0],o=s&&i.collapsible,l=o?e():this._getPanelForTab(a),d=r.length?this._getPanelForTab(r):e(),u={oldTab:r,oldPanel:d,newTab:o?e():a,newPanel:l};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=!o&&this.tabs.index(a),this.active=s?e():a,this.xhr&&this.xhr.abort(),d.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function r(){a.running=!1,a._trigger("activate",t,i)}function n(){a._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&a.options.show?a._show(s,a.options.show,r):(s.show(),r())}var a=this,s=i.newPanel,o=i.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){a._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),n()),o.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&o.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),i=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),e.inArray(t,i)!==-1)return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){t=this._getIndex(t);var r=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),s=this._getPanelForTab(n),o={tab:n,panel:s},l=function(e,t){"abort"===t&&r.panels.stop(!1,!0),r._removeClass(n,"ui-tabs-loading"),s.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){s.html(e),r._trigger("load",i,o),l(n,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,r){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},r))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.uiBackCompat!==!1&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});e.ui.tabs;e.widget("ui.tooltip",{version:"1.12.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,r);n!==-1&&r.splice(n,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,i){var r=this;this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){r._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(i,r){var n=e.Event("blur");
n.target=n.currentTarget=r.element[0],t.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=e([])},open:function(t){var i=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each(function(){var t,r=e(this);r.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),r.attr("title")&&(r.uniqueId(),i.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var i,r=this.options.content,n=this,a=t?t.type:null;return"string"==typeof r||r.nodeType||r.jquery?this._open(t,e,r):(i=r.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,r){function n(e){d.of=e,s.is(":hidden")||s.position(d)}var a,s,o,l,d=e.extend({},this.options.position);if(r){if(a=this._find(i))return void a.tooltip.find(".ui-tooltip-content").html(r);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),s=a.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),l=e("<div>").html(s.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):s.position(e.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){s.is(":visible")&&(n(d.of),clearInterval(o))},e.fx.interval)),this._trigger("open",t,{tooltip:s})}},_registerCloseHandlers:function(t,i){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=i[0],this.close(r,!0)}}};i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,i,r)},close:function(t){var i,r=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,void(a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){r._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete r.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)))):void n.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip"),r=e("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(t)),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(i,r){var n=e.Event("blur"),a=r.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),e.uiBackCompat!==!1&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});e.ui.tooltip});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),Dropdown=function(e){var t="dropdown",i="4.0.0-alpha.5",r="bs.dropdown",n="."+r,a=".data-api",s=e.fn[t],o=27,l=38,d=40,u=3,c={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK:"click"+n,CLICK_DATA_API:"click"+n+a,KEYDOWN_DATA_API:"keydown"+n+a},h={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},p={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},f=function(){function t(e){_classCallCheck(this,t),this._element=e,this._addEventListeners()}return t.prototype.toggle=function(){if(this.disabled||e(this).hasClass(h.DISABLED))return!1;var i=t._getParentFromElement(this),r=e(i).hasClass(h.OPEN);if(t._clearMenus(),r)return!1;if("ontouchstart"in document.documentElement&&!e(i).closest(p.NAVBAR_NAV).length){var n=document.createElement("div");n.className=h.BACKDROP,e(n).insertBefore(this),e(n).on("click",t._clearMenus)}var a={relatedTarget:this},s=e.Event(c.SHOW,a);return e(i).trigger(s),!s.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),e(i).toggleClass(h.OPEN),e(i).trigger(e.Event(c.SHOWN,a)),!1)},t.prototype.dispose=function(){e.removeData(this._element,r),e(this._element).off(n),this._element=null},t.prototype._addEventListeners=function(){e(this._element).on(c.CLICK,this.toggle)},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data(r);if(n||e(this).data(r,n=new t(this)),"string"==typeof i){if(void 0===n[i])throw new Error('No method named "'+i+'"');n[i].call(this)}})},t._clearMenus=function(i){if(!i||i.which!==u){var r=e(p.BACKDROP)[0];r&&r.parentNode.removeChild(r);for(var n=e.makeArray(e(p.DATA_TOGGLE)),a=0;a<n.length;a++){var s=t._getParentFromElement(n[a]),o={relatedTarget:n[a]};if(e(s).hasClass(h.OPEN)&&!(i&&"click"===i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(s,i.target))){var l=e.Event(c.HIDE,o);e(s).trigger(l),l.isDefaultPrevented()||(n[a].setAttribute("aria-expanded","false"),e(s).removeClass(h.OPEN).trigger(e.Event(c.HIDDEN,o)))}}}},t._getParentFromElement=function(t){var i=void 0,r=Util.getSelectorFromElement(t);return r&&(i=e(r)[0]),i||t.parentNode},t._dataApiKeydownHandler=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)&&(i.preventDefault(),i.stopPropagation(),!this.disabled&&!e(this).hasClass(h.DISABLED))){var r=t._getParentFromElement(this),n=e(r).hasClass(h.OPEN);if(!n&&i.which!==o||n&&i.which===o){if(i.which===o){var a=e(r).find(p.DATA_TOGGLE)[0];e(a).trigger("focus")}return void e(this).trigger("click")}var s=e.makeArray(e(p.VISIBLE_ITEMS));if(s=s.filter(function(e){return e.offsetWidth||e.offsetHeight}),s.length){var u=s.indexOf(i.target);i.which===l&&u>0&&u--,i.which===d&&u<s.length-1&&u++,u<0&&(u=0),s[u].focus()}}},_createClass(t,null,[{key:"VERSION",get:function(){return i}}]),t}();return e(document).on(c.KEYDOWN_DATA_API,p.DATA_TOGGLE,f._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,p.ROLE_MENU,f._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,p.ROLE_LISTBOX,f._dataApiKeydownHandler).on(c.CLICK_DATA_API,f._clearMenus).on(c.CLICK_DATA_API,p.DATA_TOGGLE,f.prototype.toggle).on(c.CLICK_DATA_API,p.FORM_CHILD,function(e){e.stopPropagation()}),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=s,f._jQueryInterface},f}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),Collapse=function(e){var t="collapse",i="4.0.0-alpha.5",r="bs.collapse",n="."+r,a=".data-api",s=e.fn[t],o=600,l={toggle:!0,parent:""},d={toggle:"boolean",parent:"string"},u={SHOW:"show"+n,SHOWN:"shown"+n,HIDE:"hide"+n,HIDDEN:"hidden"+n,CLICK_DATA_API:"click"+n+a},c={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},h={WIDTH:"width",HEIGHT:"height"},p={ACTIVES:".card > .in, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},f=function(){function n(t,i){_classCallCheck(this,n),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(i),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],'+('[data-toggle="collapse"][data-target="#'+t.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return n.prototype.toggle=function(){e(this._element).hasClass(c.IN)?this.hide():this.show()},n.prototype.show=function(){var t=this;if(!this._isTransitioning&&!e(this._element).hasClass(c.IN)){var i=void 0,a=void 0;if(this._parent&&(i=e.makeArray(e(p.ACTIVES)),i.length||(i=null)),!(i&&(a=e(i).data(r),a&&a._isTransitioning))){var s=e.Event(u.SHOW);if(e(this._element).trigger(s),!s.isDefaultPrevented()){i&&(n._jQueryInterface.call(e(i),"hide"),a||e(i).data(r,null));var l=this._getDimension();e(this._element).removeClass(c.COLLAPSE).addClass(c.COLLAPSING),this._element.style[l]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&e(this._triggerArray).removeClass(c.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var d=function(){e(t._element).removeClass(c.COLLAPSING).addClass(c.COLLAPSE).addClass(c.IN),t._element.style[l]="",t.setTransitioning(!1),e(t._element).trigger(u.SHOWN)};if(!Util.supportsTransitionEnd())return void d();var h=l[0].toUpperCase()+l.slice(1),f="scroll"+h;e(this._element).one(Util.TRANSITION_END,d).emulateTransitionEnd(o),this._element.style[l]=this._element[f]+"px"}}}},n.prototype.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(c.IN)){var i=e.Event(u.HIDE);if(e(this._element).trigger(i),!i.isDefaultPrevented()){var r=this._getDimension(),n=r===h.WIDTH?"offsetWidth":"offsetHeight";this._element.style[r]=this._element[n]+"px",Util.reflow(this._element),e(this._element).addClass(c.COLLAPSING).removeClass(c.COLLAPSE).removeClass(c.IN),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&e(this._triggerArray).addClass(c.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var a=function(){t.setTransitioning(!1),e(t._element).removeClass(c.COLLAPSING).addClass(c.COLLAPSE).trigger(u.HIDDEN)};return this._element.style[r]="",Util.supportsTransitionEnd()?void e(this._element).one(Util.TRANSITION_END,a).emulateTransitionEnd(o):void a()}}},n.prototype.setTransitioning=function(e){this._isTransitioning=e},n.prototype.dispose=function(){e.removeData(this._element,r),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n.prototype._getConfig=function(i){return i=e.extend({},l,i),i.toggle=Boolean(i.toggle),Util.typeCheckConfig(t,i,d),i},n.prototype._getDimension=function(){var t=e(this._element).hasClass(h.WIDTH);return t?h.WIDTH:h.HEIGHT},n.prototype._getParent=function(){var t=this,i=e(this._config.parent)[0],r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(i).find(r).each(function(e,i){t._addAriaAndCollapsedClass(n._getTargetFromElement(i),[i])}),i},n.prototype._addAriaAndCollapsedClass=function(t,i){if(t){var r=e(t).hasClass(c.IN);t.setAttribute("aria-expanded",r),i.length&&e(i).toggleClass(c.COLLAPSED,!r).attr("aria-expanded",r)}},n._getTargetFromElement=function(t){var i=Util.getSelectorFromElement(t);return i?e(i)[0]:null},n._jQueryInterface=function(t){return this.each(function(){var i=e(this),a=i.data(r),s=e.extend({},l,i.data(),"object"===("undefined"==typeof t?"undefined":_typeof(t))&&t);if(!a&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),a||(a=new n(this,s),i.data(r,a)),"string"==typeof t){if(void 0===a[t])throw new Error('No method named "'+t+'"');a[t]()}})},_createClass(n,null,[{key:"VERSION",get:function(){return i}},{key:"Default",get:function(){return l}}]),n}();return e(document).on(u.CLICK_DATA_API,p.DATA_TOGGLE,function(t){t.preventDefault();var i=f._getTargetFromElement(this),n=e(i).data(r),a=n?"toggle":e(this).data();f._jQueryInterface.call(e(i),a)}),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=s,f._jQueryInterface},f}(jQuery),Util=function(e){function t(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(e){return(e[0]||e).nodeType}function r(){return{bindType:o.end,delegateType:o.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function n(){if(window.QUnit)return!1;var e=document.createElement("bootstrap");for(var t in d)if(void 0!==e.style[t])return{end:d[t]};return!1}function a(t){var i=this,r=!1;return e(this).one(u.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||u.triggerTransitionEnd(i)},t),this}function s(){o=n(),e.fn.emulateTransitionEnd=a,u.supportsTransitionEnd()&&(e.event.special[u.TRANSITION_END]=r())}var o=!1,l=1e6,d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},u={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do e+=~~(Math.random()*l);while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");return t||(t=e.getAttribute("href")||"",t=/^#[a-z]/i.test(t)?t:null),t},reflow:function(e){new Function("bs","return bs")(e.offsetHeight)},triggerTransitionEnd:function(t){e(t).trigger(o.end)},supportsTransitionEnd:function(){return Boolean(o)},typeCheckConfig:function(e,r,n){for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],o=r[a],l=void 0;if(l=o&&i(o)?"element":t(o),!new RegExp(s).test(l))throw new Error(e.toUpperCase()+": "+('Option "'+a+'" provided type "'+l+'" ')+('but expected type "'+s+'".'))}}};return s(),u}(jQuery);!function(e){e.fn.multiDatesPicker=function(t){function r(e){return"avoided"==e?"avoidedDates":"selectedDates"}function n(e,t){this.multiDatesPicker[r(t)].splice(e,1)}function a(e,t){if(h.gotDate.call(this,e,t)===!1){var i=r(t);this.multiDatesPicker[i].push(s(e,"object")),this.multiDatesPicker[i].sort(h.compareDates)}}function s(e,t){return h.dateConvert(e,t)}var o=arguments,l=this,d=new Date,u=new Date(0),c={},h={init:function(t){$this=e(this),this.multiDatesPicker.changed=!1,t&&(this.multiDatesPicker.originalBeforeShow=t.beforeShow,this.multiDatesPicker.originalOnSelect=t.onSelect,this.multiDatesPicker.originalBeforeShowDay=t.beforeShowDay,this.multiDatesPicker.originalOnClose=t.onClose,this.multiDatesPicker.minDate=e.datepicker._determineDate(this,t.minDate,u),this.multiDatesPicker.firstAvailableDay=h.compareDates(this.multiDatesPicker.minDate,u),t.addDates&&h.addDates.call(this,t.addDates),t.addAvoidedDates&&h.addDates.call(this,t.addAvoidedDates,"avoided"),t.mode&&h.setMode.call(this,t.mode)),$this.datepicker(t),c={beforeShow:function(e,t){this.multiDatesPicker.changed=!1,this.multiDatesPicker.originalBeforeShow&&this.multiDatesPicker.originalBeforeShow.call(this,e,t)},onSelect:function(t,i){if(this.multiDatesPicker.changed=!0,t){e(this).multiDatesPicker("toggleDate",t);h.dateConvert(t,"object")}var r=e(this).multiDatesPicker("getDates"),n=this.multiDatesPicker.mode.options;if(r.length>0&&"normal"==this.multiDatesPicker.mode.modeName&&n.pickableRange){var a=h.compareDates(this.multiDatesPicker.minDate,d),s=a+n.pickableRangeDelay+pickableRange,o=h.compareDates(r[0],a),l=o+n.pickableRange;l>s?a=s-n.pickableRange+1:(s=l,a=o);var u;do{u=0;for(var c in this.multiDatesPicker.avoidedDates)h.compareDates(this.multiDatesPicker.avoidedDates[c],a)>=0&&h.compareDates(this.multiDatesPicker.avoidedDates[c],s)<=0&&u++;s+=u}while(0!=u);e(this).datepicker("option","minDate",a),e(this).datepicker("option","maxDate",s)}"INPUT"==this.tagName&&e(this).val(e(this).multiDatesPicker("getDates","string")),this.multiDatesPicker.originalOnSelect&&t&&this.multiDatesPicker.originalOnSelect.call(this,t,i)},beforeShowDay:function(t){var i=e(this).multiDatesPicker("gotDate",t)!==!1,r=i?"ui-state-highlight":"",n=e(this).multiDatesPicker("gotDate",t,"avoided")!==!1,a=this.multiDatesPicker.mode.options.maxPicks==e(this).multiDatesPicker("getDates").length,s=!(n||a&&!r);return this.multiDatesPicker.originalBeforeShowDay&&this.multiDatesPicker.originalBeforeShowDay.call(this,t),[s,r]},onClose:function(t,i){"INPUT"==this.tagName&&this.multiDatesPicker.changed&&(e(i.dpDiv[0]).stop(!1,!0),setTimeout('$("#'+i.id+'").datepicker("show")',50)),this.multiDatesPicker.originalOnClose&&this.multiDatesPicker.originalOnClose.call(this,t,i)}},$this.datepicker("option",c)},compareDates:function(e,t){var r=[e,t],n=new Array,a=864e5;for(i in r)n.push(s(r[i],"object"));var o=(n[0].getTime()-n[1].getTime())/a;return-1<o&&o<1?0:o<0?Math.ceil(o*-1)*-1:Math.ceil(o)},sumDays:function(e,t){var i=typeof e;return obj_date=s(e,"object"),obj_date.setDate(obj_date.getDate()+t),s(obj_date,i)},dateConvert:function(t,i){if("undefined"==typeof t&&(t=new Date(0)),"string"!=i&&"object"!=i&&e.error('Date format "'+i+'" not supported on jQuery.multiDatesPicker'),typeof t==i)return t;var r=typeof t+"->"+i;switch(r){case"object->string":return e.datepicker.formatDate(e.datepicker._defaults.dateFormat,t);case"string->object":return e.datepicker.parseDate(e.datepicker._defaults.dateFormat,t);default:e.error('Conversion "'+r+'" not allowed on jQuery.multiDatesPicker')}},gotDate:function(e,t){for(var i=0;i<this.multiDatesPicker[r(t)].length;i++)if(0==h.compareDates(this.multiDatesPicker[r(t)][i],e))return i;return!1},getDates:function(e,t){switch(e){case"object":return this.multiDatesPicker[r(t)];default:var n=new Array;for(i in this.multiDatesPicker[r(t)])n.push(s(this.multiDatesPicker[r(t)][i],"string"));return n}},addDates:function(t,r){switch(typeof t){case"object":case"array":if(t.length){for(i in t)a.call(this,t[i],r);break}case"string":a.call(this,t,r);break;default:e.error('Date format "'+typeof t+'" not allowed on jQuery.multiDatesPicker')}e(this).datepicker("refresh")},removeDates:function(t,r){if("array"==typeof index)for(i in t)n.call(this,i,r);else n.call(this,t,r);e(this).datepicker("refresh")},resetDates:function(t){this.multiDatesPicker[r(t)]=[],e(this).datepicker("refresh")},toggleDate:function(e,t){var i=h.gotDate.call(this,e),r=this.multiDatesPicker.mode;switch(r.modeName){case"daysRange":this.multiDatesPicker.selectedDates=[];var n=r.options.autoselectRange[1],a=r.options.autoselectRange[0];n<a&&(n=r.options.autoselectRange[0],a=r.options.autoselectRange[1]);for(var s=a;s<n;s++)h.addDates.call(this,h.sumDays(e,s));break;default:i===!1?h.addDates.call(this,e):h.removeDates.call(this,i)}},setMode:function(t){switch(this.multiDatesPicker.mode.modeName=t.modeName,t.modeName){case"normal":for(option in t.options)switch(option){case"maxPicks":case"minPicks":case"pickableRange":case"pickableRangeDelay":case"adjustRangeToAvoided":this.multiDatesPicker.mode.options[option]=t.options[option];break;default:e.error("Option "+option+" does not exist for setMode on jQuery.multiDatesPicker")}break;case"daysRange":case"weeksRange":var i=1;for(option in t.options)switch(option){case"autoselectRange":i--;case"pickableRange":case"pickableRangeDelay":case"adjustRangeToAvoided":this.multiDatesPicker.mode.options[option]=t.options[option];break;default:e.error("Option "+option+" does not exist for setMode on jQuery.multiDatesPicker")}i>0&&e.error("Some mandatory options not specified!")}t.options.pickableRange&&(e(this).datepicker("option","maxDate",t.options.pickableRange+(t.options.pickableRangeDelay||0)),e(this).datepicker("option","minDate",this.multiDatesPicker.minDate)),c.onSelect&&c.onSelect(),e(this).datepicker("refresh")}};return this.each(function(){if(this.multiDatesPicker||(this.multiDatesPicker={selectedDates:[],avoidedDates:[],mode:{modeName:"normal",options:{adjustRangeToAvoided:!0}}}),h[t]){var i=h[t].apply(this,Array.prototype.slice.call(o,1));switch(t){case"getDates":case"gotDate":case"sumDays":case"compareDates":case"dateConvert":l=i}return i}return"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.multiDatesPicker"):h.init.apply(this,o)}),l}}(jQuery),function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null},$.extend(this._defaults,this.regional[""])}function extendRemove(e,t){$.extend(e,t);for(var i in t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e}if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.0.1"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}if(tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(e,t){if($.isFunction(o.beforeShow))return o.beforeShow(e,t,tp_inst)},onChangeMonthYear:function(e,t,i){tp_inst._updateDateTime(i),$.isFunction(o.onChangeMonthYear)&&o.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(o.onClose)&&o.onClose.call($input[0],e,t,tp_inst)},timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),null===tp_inst._defaults.timezoneList){for(var timezoneList=[],i=-11;i<=12;i++)timezoneList.push((i>=0?"+":"-")+("0"+Math.abs(i).toString()).slice(-2)+"00");tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,function(e){return"+0000"==e?"Z":e.substring(0,3)+":"+e.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}return tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var r=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!r.timeObj)return!1;$.extend(this,r.timeObj)}catch(n){return!1}return!0}var a=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!a&&($.extend(this,a),!0)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this._defaults,i=this,r=parseInt(t.hourMax-(t.hourMax-t.hourMin)%t.stepHour,10),n=parseInt(t.minuteMax-(t.minuteMax-t.minuteMin)%t.stepMinute,10),a=parseInt(t.secondMax-(t.secondMax-t.secondMin)%t.stepSecond,10),s=parseInt(t.millisecMax-(t.millisecMax-t.millisecMin)%t.stepMillisec,10),o=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(0===e.find("div#ui-timepicker-div-"+o).length&&t.showTimepicker){var l=' style="display:none;"',d='<div class="ui-timepicker-div" id="ui-timepicker-div-'+o+'"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+o+'"'+(t.showTime?"":l)+">"+t.timeText+'</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_'+o+'"'+(t.showTime?"":l)+'></dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+o+'"'+(t.showHour?"":l)+">"+t.hourText+"</dt>",u=0,c=0,h=0,p=0,f=null;if(d+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+o+'"'+(t.showHour?"":l)+"></div>",t.showHour&&t.hourGrid>0){d+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var g=t.hourMin;g<=r;g+=parseInt(t.hourGrid,10)){u++;var m=t.ampm&&g>12?g-12:g;m<10&&(m="0"+m),t.ampm&&(0===g?m="12a":m+=g<12?"a":"p"),d+="<td>"+m+"</td>"}d+="</tr></table></div>"}if(d+="</dd>",d+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+o+'"'+(t.showMinute?"":l)+">"+t.minuteText+'</dt><dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_'+o+'"'+(t.showMinute?"":l)+"></div>",t.showMinute&&t.minuteGrid>0){d+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var v=t.minuteMin;v<=n;v+=parseInt(t.minuteGrid,10))c++,d+="<td>"+(v<10?"0":"")+v+"</td>";d+="</tr></table></div>"}if(d+="</dd>",d+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+o+'"'+(t.showSecond?"":l)+">"+t.secondText+'</dt><dd class="ui_tpicker_second"><div id="ui_tpicker_second_'+o+'"'+(t.showSecond?"":l)+"></div>",t.showSecond&&t.secondGrid>0){d+='<div style="padding-left: 1px"><table><tr>';for(var b=t.secondMin;b<=a;b+=parseInt(t.secondGrid,10))h++,d+="<td>"+(b<10?"0":"")+b+"</td>";d+="</tr></table></div>"}if(d+="</dd>",d+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+o+'"'+(t.showMillisec?"":l)+">"+t.millisecText+'</dt><dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_'+o+'"'+(t.showMillisec?"":l)+"></div>",t.showMillisec&&t.millisecGrid>0){d+='<div style="padding-left: 1px"><table><tr>';for(var _=t.millisecMin;_<=s;_+=parseInt(t.millisecGrid,10))p++,d+="<td>"+(_<10?"0":"")+_+"</td>";d+="</tr></table></div>"}d+="</dd>",d+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+o+'"'+(t.showTimezone?"":l)+">"+t.timezoneText+"</dt>",d+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+o+'"'+(t.showTimezone?"":l)+"></dd>",d+="</dl></div>";var y=$(d);if(t.timeOnly===!0&&(y.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),this.hour_slider=y.find("#ui_tpicker_hour_"+o).slider({orientation:"horizontal",value:this.hour,min:t.hourMin,max:r,step:t.stepHour,slide:function(e,t){i.hour_slider.slider("option","value",t.value),i._onTimeChange()}}),this.minute_slider=y.find("#ui_tpicker_minute_"+o).slider({orientation:"horizontal",value:this.minute,min:t.minuteMin,max:n,step:t.stepMinute,slide:function(e,t){i.minute_slider.slider("option","value",t.value),i._onTimeChange()}}),this.second_slider=y.find("#ui_tpicker_second_"+o).slider({orientation:"horizontal",value:this.second,min:t.secondMin,max:a,step:t.stepSecond,slide:function(e,t){i.second_slider.slider("option","value",t.value),i._onTimeChange()}}),this.millisec_slider=y.find("#ui_tpicker_millisec_"+o).slider({orientation:"horizontal",value:this.millisec,min:t.millisecMin,max:s,step:t.stepMillisec,slide:function(e,t){i.millisec_slider.slider("option","value",t.value),i._onTimeChange()}}),this.timezone_select=y.find("#ui_tpicker_timezone_"+o).append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var x=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),w=timeZoneString(x);w==this.timezone?selectLocalTimeZone(i):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.defaultTimezone):selectLocalTimeZone(i);this.timezone_select.change(function(){i._defaults.useLocalTimezone=!1,i._onTimeChange()}),t.showHour&&t.hourGrid>0&&(f=100*u*t.hourGrid/(r-t.hourMin),y.find(".ui_tpicker_hour table").css({width:f+"%",marginLeft:f/(-2*u)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){var e=$(this).html();if(t.ampm){var r=e.substring(2).toLowerCase(),n=parseInt(e.substring(0,2),10);e="a"==r?12==n?0:n:12==n?12:n+12}i.hour_slider.slider("option","value",e),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/u+"%",textAlign:"center",overflow:"hidden"})})),t.showMinute&&t.minuteGrid>0&&(f=100*c*t.minuteGrid/(n-t.minuteMin),y.find(".ui_tpicker_minute table").css({width:f+"%",marginLeft:f/(-2*c)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){i.minute_slider.slider("option","value",$(this).html()),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/c+"%",textAlign:"center",overflow:"hidden"})})),t.showSecond&&t.secondGrid>0&&y.find(".ui_tpicker_second table").css({
width:f+"%",marginLeft:f/(-2*h)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){i.second_slider.slider("option","value",$(this).html()),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/h+"%",textAlign:"center",overflow:"hidden"})}),t.showMillisec&&t.millisecGrid>0&&y.find(".ui_tpicker_millisec table").css({width:f+"%",marginLeft:f/(-2*p)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){i.millisec_slider.slider("option","value",$(this).html()),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/p+"%",textAlign:"center",overflow:"hidden"})});var k=e.find(".ui-datepicker-buttonpane");if(k.length?k.before(y):e.append(y),this.$timeObj=y.find("#ui_tpicker_time_"+o),null!==this.inst){var j=this.timeDefined;this._onTimeChange(),this.timeDefined=j}var C=function(){i._onSelectHandler()};if(this.hour_slider.bind("slidestop",C),this.minute_slider.bind("slidestop",C),this.second_slider.bind("slidestop",C),this.millisec_slider.bind("slidestop",C),this._defaults.addSliderAccess){var D=this._defaults.sliderAccessArgs;setTimeout(function(){if(0===y.find(".ui-slider-access").length){y.find(".ui-slider:visible").sliderAccess(D);var e=y.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&y.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),r=t.css("marginLeft").toString().replace("%",""),n=i-e,a=r*n/i+"%";t.css({width:n,marginLeft:a})})}},0)}}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&r){var n=$.datepicker._get(e,"minDateTime"),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin),e.settings.timeOnly||a.getTime()==r.getTime()?(this._defaults.hourMin=n.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=n.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=n.getSeconds()):this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=n.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&r){var s=$.datepicker._get(e,"maxDateTime"),o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax),e.settings.timeOnly||o.getTime()==r.getTime()?(this._defaults.hourMax=s.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=s.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=s.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=s.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(void 0!==t&&t===!0){var l=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),d=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),u=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),c=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:l}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:d}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:u}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:c}).slider("value",this.millisec)}}},_onTimeChange:function(){var e=!!this.hour_slider&&this.hour_slider.slider("value"),t=!!this.minute_slider&&this.minute_slider.slider("value"),i=!!this.second_slider&&this.second_slider.slider("value"),r=!!this.millisec_slider&&this.millisec_slider.slider("value"),n=!!this.timezone_select&&this.timezone_select.val(),a=this._defaults;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof r&&(r=!1),"object"==typeof n&&(n=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),i!==!1&&(i=parseInt(i,10)),r!==!1&&(r=parseInt(r,10));var s=a[e<12?"amNames":"pmNames"][0],o=e!=this.hour||t!=this.minute||i!=this.second||r!=this.millisec||this.ampm.length>0&&e<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||n!=this.timezone;o&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),i!==!1&&(this.second=i),r!==!1&&(this.millisec=r),n!==!1&&(this.timezone=n),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),a.ampm&&(this.ampm=s),this.formattedTime=$.datepicker.formatTime(this._defaults.timeFormat,this,this._defaults),this.$timeObj&&this.$timeObj.text(this.formattedTime+a.timeSuffix),this.timeDefined=!0,o&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_formatTime:function(e,t){e=e||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone};var i=(t||this._defaults.timeFormat).toString();return i=$.datepicker.formatTime(i,e,this._defaults),arguments.length?i:void(this.formattedTime=i)},_updateDateTime:function(e){e=this.inst||e;var t=$.datepicker._daylightSavingAdjust(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),i=$.datepicker._get(e,"dateFormat"),r=$.datepicker._getFormatConfig(e),n=null!==t&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(i,null===t?new Date:t,r);var a=this.formattedDate;this._defaults.timeOnly===!0?a=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||n)&&(a+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=a,this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$altInput.val(a),this.$input.val(a)):this.$input.val(a):this.$input.val(this.formattedDate),this.$input.trigger("change")}}),$.fn.extend({timepicker:function(e){e=e||{};var t=arguments;return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;return"string"==typeof e?"getDate"==e?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,i,r,n){var a=parseDateTimeInternal(e,t,i,r,n);if(a.timeObj){var s=a.timeObj;a.date.setHours(s.hour,s.minute,s.second,s.millisec)}return a.date},$.datepicker.parseTime=function(e,t,i){var r,n=function(e,t){var i=[];return e&&$.merge(i,e),t&&$.merge(i,t),i=$.map(i,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},a=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),i={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(t)for(var r=0;r<t.length;r++)i[t[r].toString().charAt(0)]==-1&&(i[t[r].toString().charAt(0)]=r+1);return i},s=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),o="^"+e.toString().replace(/h{1,2}/gi,"(\\d?\\d)").replace(/m{1,2}/gi,"(\\d?\\d)").replace(/s{1,2}/gi,"(\\d?\\d)").replace(/l{1}/gi,"(\\d?\\d?\\d)").replace(/t{1,2}/gi,n(s.amNames,s.pmNames)).replace(/z{1}/gi,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+s.timeSuffix+"$",l=a(e),d="";r=t.match(new RegExp(o,"i"));var u={hour:0,minute:0,second:0,millisec:0};if(r){if(l.t!==-1&&(void 0===r[l.t]||0===r[l.t].length?(d="",u.ampm=""):(d=$.inArray(r[l.t],s.amNames)!==-1?"AM":"PM",u.ampm=s["AM"==d?"amNames":"pmNames"][0])),l.h!==-1&&("AM"==d&&"12"==r[l.h]?u.hour=0:"PM"==d&&"12"!=r[l.h]?u.hour=parseInt(r[l.h],10)+12:u.hour=Number(r[l.h])),l.m!==-1&&(u.minute=Number(r[l.m])),l.s!==-1&&(u.second=Number(r[l.s])),l.l!==-1&&(u.millisec=Number(r[l.l])),l.z!==-1&&void 0!==r[l.z]){var c=r[l.z].toUpperCase();switch(c.length){case 1:c=s.timezoneIso8601?"Z":"+0000";break;case 5:s.timezoneIso8601&&(c="0000"==c.substring(1)?"Z":c.substring(0,3)+":"+c.substring(3));break;case 6:s.timezoneIso8601?"00:00"==c.substring(1)&&(c="Z"):c="Z"==c||"00:00"==c.substring(1)?"+0000":c.replace(/:/,"")}u.timezone=c}return u}return!1},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend($.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var r=e,n=i.amNames[0],a=parseInt(t.hour,10);return i.ampm&&(a>11&&(n=i.pmNames[0],a>12&&(a%=12)),0===a&&(a=12)),r=r.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g,function(e){switch(e.toLowerCase()){case"hh":return("0"+a).slice(-2);case"h":return a;case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return t.timezone;case"t":case"tt":return i.ampm?(1==e.length&&(n=n.charAt(0)),"T"==e.charAt(0)?n.toUpperCase():n.toLowerCase()):""}}),r=$.trim(r)},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i=this._getInst($(e)[0]),r=this._get(i,"timepicker");r?(r._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(e,t),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!=e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t||"boolean"==typeof e.stay_open&&e.stay_open!==!1)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");if(i&&(i._addTimePicker(e),i._defaults.useLocalTimezone)){var r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay,12);selectLocalTimeZone(i,r),i._onTimeChange()}}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var r=i._defaults.ampm,n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),a=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,r?"APM":"").replace(/Tt/g,r?"AaPpMm":"").replace(/tT/g,r?"AaPpMm":"").replace(/T/g,r?"AP":"").replace(/tt/g,r?"apm":"").replace(/t/g,r?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(i._defaults.showTimezone?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+n,s=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||s<" "||!n||a.indexOf(s)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(r){$.datepicker.log(r)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),i=t.dpDiv;this._base_gotoToday(e);var r=this._get(t,"timepicker");selectLocalTimeZone(r);var n=new Date;this._setTime(t,n),$(".ui-datepicker-today",i).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var r=i._defaults,n=t?t.getHours():r.hour,a=t?t.getMinutes():r.minute,s=t?t.getSeconds():r.second,o=t?t.getMilliseconds():r.millisec,l=n===r.hourMin,d=a===r.minuteMin,u=s===r.secondMin,c=!1;n<r.hourMin||n>r.hourMax?c=!0:(a<r.minuteMin||a>r.minuteMax)&&l?c=!0:(s<r.secondMin||s>r.secondMax)&&l&&d?c=!0:(o<r.millisecMin||o>r.millisecMax)&&l&&d&&u&&(c=!0),c&&(n=r.hourMin,a=r.minuteMin,s=r.secondMin,o=r.millisecMin),i.hour=n,i.minute=a,i.second=s,i.millisec=o,i.hour_slider&&i.hour_slider.slider("value",n),i.minute_slider&&i.minute_slider.slider("value",a),i.second_slider&&i.second_slider.slider("value",s),i.millisec_slider&&i.millisec_slider.slider("value",o),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var r=this._getInst(e);if(r){var n=this._get(r,"timepicker");if(n){this._setDateFromField(r);var a;t&&("string"==typeof t?(n._parseTime(t,i),a=new Date,a.setHours(n.hour,n.minute,n.second,n.millisec)):a=new Date(t.getTime()),"Invalid Date"==a.toString()&&(a=void 0),this._setTime(r,a))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var r=t instanceof Date?new Date(t.getTime()):t;this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,r,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var r=this._get(i,"timepicker");if(r){this._setDateFromField(i,t);var n=this._getDate(i);return n&&r._parseTime($(e).val(),r.timeOnly)&&n.setHours(r.hour,r.minute,r.second,r.millisec),n}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var r=splitDateTime(e,t,i);return $.datepicker._base_parseDate(e,r[0],i)},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,r){var n=this._get(e,"timepicker");return n?(n._updateDateTime(e),n.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var r=this._getInst(e);if(!r)return null;var n=this._get(r,"timepicker");if(n){var a=null,s=null,o=null;"string"==typeof t?"minDate"===t||"minDateTime"===t?a=i:"maxDate"===t||"maxDateTime"===t?s=i:"onSelect"===t&&(o=i):"object"==typeof t&&(t.minDate?a=t.minDate:t.minDateTime?a=t.minDateTime:t.maxDate?s=t.maxDate:t.maxDateTime&&(s=t.maxDateTime)),a?(a=0===a?new Date:new Date(a),n._defaults.minDate=a,n._defaults.minDateTime=a):s?(s=0===s?new Date:new Date(s),n._defaults.maxDate=s,n._defaults.maxDateTime=s):o&&(n._defaults.onSelect=o)}return void 0===i?this._base_optionDatepicker(e,t):this._base_optionDatepicker(e,t,i)};var splitDateTime=function(e,t,i){try{$.datepicker._base_parseDate(e,t,i)}catch(r){if(r.indexOf(":")>=0){var n=t.length-(r.length-r.indexOf(":")-2);t.substring(n);return[t.substring(0,n),t.substring(n)]}throw r}return[t,""]},parseDateTimeInternal=function(e,t,i,r,n){var a,s=splitDateTime(e,i,r);if(a=$.datepicker._base_parseDate(e,s[0],r),""!==s[1]){var o=s[1],l=n&&n.separator?n.separator:$.timepicker._defaults.separator;if(0!==o.indexOf(l))throw"Missing time separator";o=o.substring(l.length);var d=$.datepicker.parseTime(t,o,n);if(null===d)throw"Wrong time format";return{date:a,timeObj:d}}return{date:a}},selectLocalTimeZone=function(e,t){if(e&&e.timezone_select){e._defaults.useLocalTimezone=!0;var i="undefined"!=typeof t?t:new Date,r=timeZoneString(i);e._defaults.timezoneIso8601&&(r=r.substring(0,3)+":"+r.substring(3)),e.timezone_select.val(r)}},timeZoneString=function(e){var t=e.getTimezoneOffset()*-10100/60,i=(t>=0?"+":"-")+Math.abs(t).toString().substr(1);return i};$.timepicker=new Timepicker,$.timepicker.version="1.0.1"}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],e):e(jQuery)}(function(e){e.widget("ui.selectmenu",{options:{appendTo:"body",typeAhead:1e3,style:"dropdown",positionOptions:null,width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,escapeHtml:!1,bgImage:function(){}},_create:function(){var t=this,i=this.options,r=this.element.uniqueId().attr("id");this.ids=[r,r+"-button",r+"-menu"],this._safemouseup=!0,this.isOpen=!1,this.newelement=e("<a />",{"class":"ui-selectmenu ui-widget ui-state-default ui-corner-all",id:this.ids[1],role:"button",href:"#nogo",tabindex:this.element.attr("disabled")?1:0,"aria-haspopup":!0,"aria-owns":this.ids[2]}),this.newelementWrap=e("<span />").append(this.newelement).insertAfter(this.element);var n=this.element.attr("tabindex");n&&this.newelement.attr("tabindex",n),this.newelement.data("selectelement",this.element),this.selectmenuIcon=e('<span class="ui-selectmenu-icon ui-icon"></span>').prependTo(this.newelement),this.newelement.prepend('<span class="ui-selectmenu-status" />'),this.element.bind({"click.selectmenu":function(e){t.newelement.focus(),e.preventDefault()}}),this.newelement.bind("mousedown.selectmenu",function(e){t._toggle(e,!0),"popup"==i.style&&(t._safemouseup=!1,setTimeout(function(){t._safemouseup=!0},300)),e.preventDefault()}).bind("click.selectmenu",function(e){e.preventDefault()}).bind("keydown.selectmenu",function(i){var r=!1;switch(i.keyCode){case e.ui.keyCode.ENTER:r=!0;break;case e.ui.keyCode.SPACE:t._toggle(i);break;case e.ui.keyCode.UP:i.altKey?t.open(i):t._moveSelection(-1);break;case e.ui.keyCode.DOWN:i.altKey?t.open(i):t._moveSelection(1);break;case e.ui.keyCode.LEFT:t._moveSelection(-1);break;case e.ui.keyCode.RIGHT:t._moveSelection(1);break;case e.ui.keyCode.TAB:r=!0;break;case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.HOME:t.index(0);break;case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.END:t.index(t._optionLis.length);break;default:r=!0}return r}).bind("keypress.selectmenu",function(e){return e.which>0&&t._typeAhead(e.which,"mouseup"),!0}).bind("mouseover.selectmenu",function(){i.disabled||e(this).addClass("ui-state-hover")}).bind("mouseout.selectmenu",function(){i.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.selectmenu",function(){i.disabled||e(this).addClass("ui-state-focus")}).bind("blur.selectmenu",function(){i.disabled||e(this).removeClass("ui-state-focus")}),e(document).bind("mousedown.selectmenu-"+this.ids[0],function(i){t.isOpen&&!e(i.target).closest("#"+t.ids[1]).length&&t.close(i)}),this.element.bind("click.selectmenu",function(){t._refreshValue()}).bind("focus.selectmenu",function(){t.newelement&&t.newelement[0].focus()}),i.width||(i.width=this.element.outerWidth()),this.newelement.width(i.width),this.element.hide(),this.list=e("<ul />",{"class":"ui-widget ui-widget-content","aria-hidden":!0,role:"listbox","aria-labelledby":this.ids[1],id:this.ids[2]}),this.listWrap=e("<div />",{"class":"ui-selectmenu-menu"}).append(this.list).appendTo(i.appendTo),this.list.bind("keydown.selectmenu",function(i){var r=!1;switch(i.keyCode){case e.ui.keyCode.UP:i.altKey?t.close(i,!0):t._moveFocus(-1);break;case e.ui.keyCode.DOWN:i.altKey?t.close(i,!0):t._moveFocus(1);break;case e.ui.keyCode.LEFT:t._moveFocus(-1);break;case e.ui.keyCode.RIGHT:t._moveFocus(1);break;case e.ui.keyCode.HOME:t._moveFocus(":first");break;case e.ui.keyCode.PAGE_UP:t._scrollPage("up");break;case e.ui.keyCode.PAGE_DOWN:t._scrollPage("down");break;case e.ui.keyCode.END:t._moveFocus(":last");break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:t.close(i,!0),e(i.target).parents("li:eq(0)").trigger("mouseup");break;case e.ui.keyCode.TAB:r=!0,t.close(i,!0),e(i.target).parents("li:eq(0)").trigger("mouseup");break;case e.ui.keyCode.ESCAPE:t.close(i,!0);break;default:r=!0}return r}).bind("keypress.selectmenu",function(e){return e.which>0&&t._typeAhead(e.which,"focus"),!0}).bind("mousedown.selectmenu mouseup.selectmenu",function(){return!1}),e(window).bind("resize.selectmenu-"+this.ids[0],e.proxy(t.close,this))},_init:function(){var t=this,i=this.options,r=[];this.element.find("option").each(function(){var n=e(this);r.push({value:n.attr("value"),text:t._formatText(n.text(),n),selected:n.attr("selected"),disabled:n.attr("disabled"),classes:n.attr("class"),typeahead:n.attr("typeahead"),parentOptGroup:n.parent("optgroup"),bgImage:i.bgImage.call(n)})});var n="popup"==t.options.style?" ui-state-active":"";if(this.list.html(""),r.length)for(var a=0;a<r.length;a++){var s={role:"presentation"};r[a].disabled&&(s["class"]="ui-state-disabled");var o={html:r[a].text||"&nbsp;",href:"#nogo",tabindex:-1,role:"option","aria-selected":!1};r[a].disabled&&(o["aria-disabled"]=!0),r[a].typeahead&&(o.typeahead=r[a].typeahead);var l=e("<a/>",o).bind("focus.selectmenu",function(){e(this).parent().mouseover()}).bind("blur.selectmenu",function(){e(this).parent().mouseout()}),d=e("<li/>",s).append(l).data("index",a).addClass(r[a].classes).data("optionClasses",r[a].classes||"").bind("mouseup.selectmenu",function(i){return!t._safemouseup||t._disabled(i.currentTarget)||t._disabled(e(i.currentTarget).parents("ul > li.ui-selectmenu-group "))||(t.index(e(this).data("index")),t.select(i),t.close(i,!0)),!1}).bind("click.selectmenu",function(){return!1}).bind("mouseover.selectmenu",function(i){e(this).hasClass("ui-state-disabled")||e(this).parent("ul").parent("li").hasClass("ui-state-disabled")||void 0===t._typeAhead_timer&&(i.optionValue=t.element[0].options[e(this).data("index")].value,t._trigger("hover",i,t._uiHash()),t._selectedOptionLi().addClass(n),t._focusedOptionLi().removeClass("ui-selectmenu-item-focus ui-state-hover"),e(this).removeClass("ui-state-active").addClass("ui-selectmenu-item-focus ui-state-hover"))}).bind("mouseout.selectmenu",function(i){e(this).is(t._selectedOptionLi())&&e(this).addClass(n),i.optionValue=t.element[0].options[e(this).data("index")].value,t._trigger("blur",i,t._uiHash()),e(this).removeClass("ui-selectmenu-item-focus ui-state-hover")});if(r[a].parentOptGroup.length){var u="ui-selectmenu-group-"+this.element.find("optgroup").index(r[a].parentOptGroup);this.list.find("li."+u).length?this.list.find("li."+u+":last ul").append(d):e('<li role="presentation" class="ui-selectmenu-group '+u+(r[a].parentOptGroup.attr("disabled")?' ui-state-disabled" aria-disabled="true"':'"')+'><span class="ui-selectmenu-group-label">'+r[a].parentOptGroup.attr("label")+"</span><ul></ul></li>").appendTo(this.list).find("ul").append(d)}else d.appendTo(this.list);if(i.icons)for(var c in i.icons)if(d.is(i.icons[c].find)){d.data("optionClasses",r[a].classes+" ui-selectmenu-hasIcon").addClass("ui-selectmenu-hasIcon");var h=i.icons[c].icon||"";d.find("a:eq(0)").prepend('<span class="ui-selectmenu-item-icon ui-icon '+h+'"></span>'),r[a].bgImage&&d.find("span").css("background-image",r[a].bgImage)}}else e('<li role="presentation"><a href="#nogo" tabindex="-1" role="option"></a></li>').appendTo(this.list);var p="dropdown"==i.style;if(this.newelement.toggleClass("ui-selectmenu-dropdown",p).toggleClass("ui-selectmenu-popup",!p),this.list.toggleClass("ui-selectmenu-menu-dropdown ui-corner-bottom",p).toggleClass("ui-selectmenu-menu-popup ui-corner-all",!p).find("li:first").toggleClass("ui-corner-top",!p).end().find("li:last").addClass("ui-corner-bottom"),this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",p).toggleClass("ui-icon-triangle-2-n-s",!p),"dropdown"==i.style?this.list.width(i.menuWidth?i.menuWidth:i.width):this.list.width(i.menuWidth?i.menuWidth:i.width-i.handleWidth),!navigator.userAgent.match(/Android 2/)){var f=this.listWrap.height(),g=e(window).height(),m=i.maxHeight?Math.min(i.maxHeight,g):g/3;f>m&&this.list.height(m)}this._optionLis=this.list.find("li:not(.ui-selectmenu-group)"),this.element.attr("disabled")?this.disable():this.enable(),this._refreshValue(),this._selectedOptionLi().addClass("ui-selectmenu-item-focus"),clearTimeout(this.refreshTimeout),this.refreshTimeout=window.setTimeout(function(){t._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass("ui-selectmenu-disabled ui-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu"),e(window).unbind(".selectmenu-"+this.ids[0]),e(document).unbind(".selectmenu-"+this.ids[0]),this.newelementWrap.remove(),this.listWrap.remove(),this.element.unbind(".selectmenu").show(),e.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(e,t){var i=this,r=String.fromCharCode(e).toLowerCase(),n=null,a=null;i._typeAhead_timer&&(window.clearTimeout(i._typeAhead_timer),i._typeAhead_timer=void 0),i._typeAhead_chars=(void 0===i._typeAhead_chars?"":i._typeAhead_chars).concat(r),i._typeAhead_chars.length<2||i._typeAhead_chars.substr(-2,1)===r&&i._typeAhead_cycling?(i._typeAhead_cycling=!0,n=r):(i._typeAhead_cycling=!1,n=i._typeAhead_chars);for(var s=("focus"!==t?this._selectedOptionLi().data("index"):this._focusedOptionLi().data("index"))||0,o=0;o<this._optionLis.length;o++){var l=this._optionLis.eq(o).text().substr(0,n.length).toLowerCase();if(l===n){if(!i._typeAhead_cycling){a=o;break}if(null===a&&(a=o),o>s){a=o;break}}}null!==a&&this._optionLis.eq(a).find("a").trigger(t),i._typeAhead_timer=window.setTimeout(function(){i._typeAhead_timer=void 0,i._typeAhead_chars=void 0,i._typeAhead_cycling=void 0},i.options.typeAhead)},_uiHash:function(){var t=this.index();return{index:t,option:e("option",this.element).get(t),value:this.element[0].value}},open:function(e){if("true"!=this.newelement.attr("aria-disabled")){var t=this,i=this.options,r=this._selectedOptionLi(),n=r.find("a");t._closeOthers(e),t.newelement.addClass("ui-state-active"),t.list.attr("aria-hidden",!1),t.listWrap.addClass("ui-selectmenu-open"),"dropdown"==i.style?t.newelement.removeClass("ui-corner-all").addClass("ui-corner-top"):this.list.css("left",-5e3).scrollTop(this.list.scrollTop()+r.position().top-this.list.outerHeight()/2+r.outerHeight()/2).css("left","auto"),t._refreshPosition(),n.length&&n[0].focus(),t.isOpen=!0,t._trigger("open",e,t._uiHash())}},close:function(e,t){this.newelement.is(".ui-state-active")&&(this.newelement.removeClass("ui-state-active"),this.listWrap.removeClass("ui-selectmenu-open"),this.list.attr("aria-hidden",!0),"dropdown"==this.options.style&&this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all"),t&&this.newelement.focus(),this.isOpen=!1,this._trigger("close",e,this._uiHash()))},change:function(e){this.element.trigger("change"),this._trigger("change",e,this._uiHash())},select:function(e){return!this._disabled(e.currentTarget)&&void this._trigger("select",e,this._uiHash())},widget:function(){return this.listWrap.add(this.newelementWrap)},_closeOthers:function(t){e(".ui-selectmenu.ui-state-active").not(this.newelement).each(function(){e(this).data("selectelement").selectmenu("close",t)}),e(".ui-selectmenu.ui-state-hover").trigger("mouseout")},_toggle:function(e,t){this.isOpen?this.close(e,t):this.open(e)},_formatText:function(t,i){return this.options.format?t=this.options.format(t,i):this.options.escapeHtml&&(t=e("<div />").text(t).html()),t},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find(".ui-selectmenu-item-focus")},_moveSelection:function(e,t){if(!this.options.disabled){var i=parseInt(this._selectedOptionLi().data("index")||0,10),r=i+e;if(r<0&&(r=0),r>this._optionLis.size()-1&&(r=this._optionLis.size()-1),r===t)return!1;this._optionLis.eq(r).hasClass("ui-state-disabled")?(e>0?++e:--e,this._moveSelection(e,r)):this._optionLis.eq(r).trigger("mouseover").trigger("mouseup")}},_moveFocus:function(e,t){if(isNaN(e))var i=parseInt(this._optionLis.filter(e).data("index"),10);else var r=parseInt(this._focusedOptionLi().data("index")||0,10),i=r+e;if(i<0&&(i=0),i>this._optionLis.size()-1&&(i=this._optionLis.size()-1),i===t)return!1;var n="ui-selectmenu-item-"+Math.round(1e3*Math.random());this._focusedOptionLi().find("a:eq(0)").attr("id",""),this._optionLis.eq(i).hasClass("ui-state-disabled")?(e>0?++e:--e,this._moveFocus(e,i)):this._optionLis.eq(i).find("a:eq(0)").attr("id",n).focus(),this.list.attr("aria-activedescendant",n)},_scrollPage:function(e){var t=Math.floor(this.list.outerHeight()/this._optionLis.first().outerHeight());t="up"==e?-t:t,this._moveFocus(t)},_setOption:function(e,t){this.options[e]=t,"disabled"==e&&(t&&this.close(),this.element.add(this.newelement).add(this.list)[t?"addClass":"removeClass"]("ui-selectmenu-disabled ui-state-disabled").attr("aria-disabled",t).attr("tabindex",t?1:0))},disable:function(e,t){"undefined"==typeof e?this._setOption("disabled",!0):this._toggleEnabled(t||"option",e,!1)},enable:function(e,t){"undefined"==typeof e?this._setOption("disabled",!1):this._toggleEnabled(t||"option",e,!0)},_disabled:function(t){return e(t).hasClass("ui-state-disabled")},_toggleEnabled:function(e,t,i){var r=this.element.find(e).eq(t),n="optgroup"===e?this.list.find("li.ui-selectmenu-group-"+t):this._optionLis.eq(t);n&&(n.toggleClass("ui-state-disabled",!i).attr("aria-disabled",!i),i?r.removeAttr("disabled"):r.attr("disabled","disabled"))},index:function(t){return arguments.length?!this._disabled(e(this._optionLis[t]))&&t!=this._selectedIndex()&&(this.element[0].selectedIndex=t,this._refreshValue(),this.change(),void 0):this._selectedIndex()},value:function(e){return arguments.length&&e!=this.element[0].value?(this.element[0].value=e,this._refreshValue(),this.change(),void 0):this.element[0].value},_refreshValue:function(){var e="popup"==this.options.style?" ui-state-active":"",t="ui-selectmenu-item-"+Math.round(1e3*Math.random());this.list.find(".ui-selectmenu-item-selected").removeClass("ui-selectmenu-item-selected"+e).find("a").attr("aria-selected","false").attr("id",""),this._selectedOptionLi().addClass("ui-selectmenu-item-selected"+e).find("a").attr("aria-selected","true").attr("id",t);var i=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"",r=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(i).data("optionClasses",r).addClass(r).find(".ui-selectmenu-status").html(this._selectedOptionLi().find("a:eq(0)").html()),this.list.attr("aria-activedescendant",t)},_refreshPosition:function(){var t=this.options,i={of:this.newelement,my:"left top",at:"left bottom",collision:"flip"};if("popup"==t.style){var r=this._selectedOptionLi();
i.my="left top"+(this.list.offset().top-r.offset().top-(this.newelement.outerHeight()+r.outerHeight())/2),i.collision="fit"}this.listWrap.removeAttr("style").css("z-index",this.element.css("z-index")+2).position(e.extend(i,t.positionOptions))}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-ui","./jquery.ui.selectmenu"],e):e(jQuery)}(function(e){var t=0;e.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var t=this.element.hide(),i=this.options;this.speed=e.fx.speeds._default,this._isOpen=!1;var r=(this.button=e('<button type="button"><span class="ui-icon ui-icon-triangle-1-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(i.classes).attr({title:t.attr("title"),"aria-haspopup":!0,tabIndex:t.attr("tabIndex")}).insertAfter(t),n=((this.buttonlabel=e("<span />")).html(i.noneSelectedText).appendTo(r),(this.menu=e("<div />")).attr("id","rup-multiCombo_"+e(this.element).attr("id")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(i.classes).appendTo(document.body)),a=(this.header=e("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(n);(this.headerLinkContainer=e("<ul />")).addClass("ui-helper-reset").html(function(){return i.header===!0?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+i.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+i.uncheckAllText+"</span></a></li>":"string"==typeof i.header?"<li>"+i.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(a),(this.checkboxContainer=e("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(n);this._bindEvents(),this.refresh(!0),i.multiple||n.addClass("ui-multiselect-single")},_init:function(){this.options.header===!1&&this.header.hide(),this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide(),this.options.autoOpen&&this.open(),this.element.is(":disabled")&&this.disable()},refresh:function(i){var r=this.element,n=this.options,a=this.menu,s=this.checkboxContainer,o=[],l="",d=r.attr("id")||t++;r.find("option").each(function(t){var i,r=(e(this),this.parentNode),a=this.innerHTML,s=this.title,u=this.value,c="ui-multiselect-"+(this.id||d+"-option-"+t),h=this.disabled,p=this.selected,f=["ui-corner-all"],g=(h?"ui-multiselect-disabled ":" ")+this.className;"OPTGROUP"===r.tagName&&(i=r.getAttribute("label"),e.inArray(i,o)===-1&&(l+='<li class="ui-multiselect-optgroup-label '+r.className+'"><a href="#">'+i+"</a></li>",o.push(i))),h&&f.push("ui-state-disabled"),p&&!n.multiple&&f.push("ui-state-active"),l+='<li class="'+g+'">',l+='<label for="'+c+'" title="'+s+'" class="'+f.join(" ")+'">',l+='<input id="'+c+'" name="multiselect_'+d+'" type="'+(n.multiple?"checkbox":"radio")+'" value="'+u+'" title="'+a+'"',p&&(l+=' checked="checked"',l+=' aria-selected="true"'),h&&(l+=' disabled="disabled"',l+=' aria-disabled="true"'),l+=" /><span>"+a+"</span></label></li>"}),s.html(l),this.labels=a.find("label"),this.inputs=this.labels.children("input"),this._setButtonWidth(),this._setMenuWidth(),this.button[0].defaultValue=this.update(),i||this._trigger("refresh")},update:function(){var t,i=this.options,r=this.inputs,n=r.filter(":checked"),a=n.length;return t=0===a?i.noneSelectedText:e.isFunction(i.selectedText)?i.selectedText.call(this,a,r.length,n.get()):/\d/.test(i.selectedList)&&i.selectedList>0&&a<=i.selectedList?n.map(function(){return e(this).next().html()}).get().join(", "):i.selectedText.replace("#",a).replace("#",r.length),this.buttonlabel.html(t),t},_bindEvents:function(){function t(){return i[i._isOpen?"close":"open"](),!1}var i=this,r=this.button;r.find("span").bind("click.multiselect",t),r.bind({click:t,keypress:function(e){switch(e.which){case 27:case 38:case 37:i.close();break;case 39:case 40:i.open()}},mouseenter:function(){r.hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},mouseleave:function(){e(this).removeClass("ui-state-hover")},focus:function(){r.hasClass("ui-state-disabled")||e(this).addClass("ui-state-focus")},blur:function(){e(this).removeClass("ui-state-focus")}}),this.header.delegate("a","click.multiselect",function(t){e(this).hasClass("ui-multiselect-close")?i.close():i[e(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"](),t.preventDefault()}),this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(t){t.preventDefault();var r=e(this),n=r.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),a=n.get(),s=r.parent().text();i._trigger("beforeoptgrouptoggle",t,{inputs:a,label:s})!==!1&&a.length&&(i._toggleChecked(n.filter(":checked").length!==n.length,n),i._trigger("optgrouptoggle",t,{inputs:a,label:s,checked:a[0].checked}))}).delegate("label","mouseenter.multiselect",function(){e(this).hasClass("ui-state-disabled")||(i.labels.removeClass("ui-state-hover"),e(this).addClass("ui-state-hover").find("input:not(:disabled)").focus())}).delegate("label","keydown.multiselect",function(t){switch(t.preventDefault(),t.which){case 9:case 27:i.close();break;case 38:case 40:case 37:case 39:i._traverse(t.which,this);break;case 13:e(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(t){var r=e(this),n=this.value,a=this.checked,s=i.element.find("option");return this.disabled||i._trigger("click",t,{value:n,text:this.title,checked:a})===!1?void t.preventDefault():(r.focus(),r.attr("aria-selected",a),s.each(function(){this.value===n?this.selected=a:i.options.multiple||(this.selected=!1)}),i.options.multiple||(i.labels.removeClass("ui-state-active"),r.closest("label").toggleClass("ui-state-active",a),i.close()),i.element.trigger("change"),void setTimeout(e.proxy(i.update,i),10))}),e(document).bind("mousedown.multiselect",function(t){!i._isOpen||e.contains(i.menu[0],t.target)||e.contains(i.button[0],t.target)||t.target===i.button[0]||i.close()}),e(this.element[0].form).bind("reset.multiselect",function(){setTimeout(e.proxy(i.refresh,i),10)})},_setButtonWidth:function(){var e=this.element.outerWidth(),t=this.options;/\d/.test(t.minWidth)&&e<t.minWidth&&(e=t.minWidth),this.button.width(e)},_setMenuWidth:function(){var e=this.menu,t=this.button.outerWidth()-parseInt(e.css("padding-left"),10)-parseInt(e.css("padding-right"),10)-parseInt(e.css("border-right-width"),10)-parseInt(e.css("border-left-width"),10);e.width(t||this.button.outerWidth())},_traverse:function(t,i){var r=e(i),n=38===t||37===t,a=r.parent()[n?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[n?"last":"first"]();if(a.length)a.find("label").trigger("mouseover");else{var s=this.menu.find("ul").last();this.menu.find("label")[n?"last":"first"]().trigger("mouseover"),s.scrollTop(n?s.height():0)}},_toggleState:function(e,t){return function(){this.disabled||(this[e]=t),t?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(t,i){var r=i&&i.length?i:this.labels.find("input:enabled"),n=this;r.each(this._toggleState("checked",t)),r.eq(0).focus(),this.update();var a=r.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&e.inArray(this.value,a)>-1&&n._toggleState("selected",t).call(this)}),r.length&&this.element.trigger("change")},_toggleDisabled:function(t){this.button.attr({disabled:t,"aria-disabled":t})[t?"addClass":"removeClass"]("ui-state-disabled");var i=this.menu.find("input"),r="ech-multiselect-disabled";i=t?i.filter(":enabled").data(r,!0):i.filter(function(){return e.data(this,r)===!0}).removeData(r),i.attr({disabled:t,"arial-disabled":t}).parent()[t?"addClass":"removeClass"]("ui-state-disabled"),this.element.attr({disabled:t,"aria-disabled":t})},open:function(t){var i=this,r=this.button,n=this.menu,a=this.speed,s=this.options,o=[];if(this._trigger("beforeopen")!==!1&&!r.hasClass("ui-state-disabled")&&!this._isOpen){var l=n.find("ul").last(),d=s.show,u=r.offset();e.isArray(s.show)&&(d=s.show[0],a=s.show[1]||i.speed),d&&(o=[d,a]),l.scrollTop(0).height(s.height),e.ui.position&&!e.isEmptyObject(s.position)?(s.position.of=s.position.of||r,n.show().position(s.position).hide()):n.css({top:u.top+r.outerHeight(),left:u.left}),n.show(),this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input:enabled").trigger("focus"),r.addClass("ui-state-active"),this._isOpen=!0,this._trigger("open")}},close:function(){if(this._trigger("beforeclose")!==!1){var t=this.options,i=t.hide,r=this.speed,n=[];e.isArray(t.hide)&&(i=t.hide[0],r=t.hide[1]||this.speed),i&&(n=[i,r]),e.fn.hide.apply(this.menu,n),this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave"),this._isOpen=!1,this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(e){this._toggleChecked(!0),this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1),this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){return e.Widget.prototype.destroy.call(this),this.button.remove(),this.menu.remove(),this.element.show(),this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},_setOption:function(t,i){var r=this.menu;switch(t){case"header":r.find("div.ui-multiselect-header")[i?"show":"hide"]();break;case"checkAllText":r.find("a.ui-multiselect-all span").eq(-1).text(i);break;case"uncheckAllText":r.find("a.ui-multiselect-none span").eq(-1).text(i);break;case"height":r.find("ul").last().height(parseInt(i,10));break;case"minWidth":this.options[t]=parseInt(i,10),this._setButtonWidth(),this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[t]=i,this.update();break;case"classes":r.add(this.button).removeClass(this.options.classes).addClass(i);break;case"multiple":r.toggleClass("ui-multiselect-single",!i),this.options.multiple=i,this.element[0].multiple=i,this.refresh()}e.Widget.prototype._setOption.apply(this,arguments)}})}),function($){"use strict";$.jgrid=$.jgrid||{},$.extend($.jgrid,{version:"4.4.4",htmlDecode:function(e){return e&&("&nbsp;"==e||"&#160;"==e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},msie:"Microsoft Internet Explorer"==navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=i.exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){e=String(e);var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return e?(e=e.replace(t,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var i=$.type(e);return"string"!=i&&"number"!=i||(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},stringToDoc:function(e){var t;if("string"!=typeof e)return e;try{var i=new DOMParser;t=i.parseFromString(e,"text/xml")}catch(r){t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)}return t&&t.documentElement&&"parsererror"!=t.documentElement.tagName?t:null},parse:function(jsonString){var js=jsonString;return"while(1);"==js.substr(0,9)&&(js=js.substr(9)),"/*"==js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t){var i,r,n,a={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},s=/[\\\/:_;.,\t\T\s-]/;if(t&&null!=t){t=$.trim(t),t=t.split(s),void 0!==$.jgrid.formatter.date.masks[e]&&(e=$.jgrid.formatter.date.masks[e]),e=e.split(s);var o=$.jgrid.formatter.date.monthNames,l=$.jgrid.formatter.date.AmPm,d=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};for(i=0,r=e.length;i<r;i++)"M"==e[i]&&(n=$.inArray(t[i],o),n!==-1&&n<12&&(t[i]=n+1,a.m=t[i])),"F"==e[i]&&(n=$.inArray(t[i],o),n!==-1&&n>11&&(t[i]=n+1-12,a.m=t[i])),"a"==e[i]&&(n=$.inArray(t[i],l),n!==-1&&n<2&&t[i]==l[n]&&(t[i]=n,a.h=d(t[i],a.h))),"A"==e[i]&&(n=$.inArray(t[i],l),n!==-1&&n>1&&t[i]==l[n]&&(t[i]=n-2,a.h=d(t[i],a.h))),"g"===e[i]&&(a.h=parseInt(t[i],10)),void 0!==t[i]&&(a[e[i].toLowerCase()]=parseInt(t[i],10));a.m=parseInt(a.m,10)-1;var u=a.y;u>=70&&u<=99?a.y=1900+a.y:u>=0&&u<=69&&(a.y=2e3+a.y),void 0!==a.j&&(a.d=a.j),void 0!==a.n&&(a.m=parseInt(a.n,10)-1)}return new Date(a.y,a.m,a.d,a.h,a.i,a.s,a.u)},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,r,n,a=[];if("function"==typeof t)return t(e);if(i=e[t],void 0===i)try{if("string"==typeof t&&(a=t.split(".")),n=a.length)for(i=e;i&&n--;)r=a.shift(),i=i[r]}catch(s){}return i},getXmlData:function(e,t,i){var r,n="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):n&&n[2]?n[1]?$(n[1],e).attr(n[2]):$(e).attr(n[2]):(r=$(t,e),i?r:r.length>0?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),5!==t},cell_width:!0,ajaxOptions:{},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var r=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===r.call(e)&&"[object Date]"===r.call(t)?e<t?-i:e>t?i:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:e>t?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,n=_sorting[t].type,a=_sorting[t].datefmt;if(t==_sorting.length-1)return self._getOrder(e,i,r,n,a);t++;var s,o,l,d=self._getGroup(e,i,r,n,a),u=[];for(s=0;s<d.length;s++)for(l=self._doSort(d[s].items,t),o=0;o<l.length;o++)u.push(l[o]);return u},this._getOrder=function(e,t,i,r,n){var a,s,o,l,d=[],u=[],c="a"==i?1:-1;void 0===r&&(r="text"),l="float"==r||"number"==r||"currency"==r||"numeric"==r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?0:t}:"int"==r||"integer"==r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):0}:"date"==r||"datetime"==r?function(e){return $.jgrid.parseDate(n,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,i){s=""!==t?$.jgrid.getAccessor(i,t):i,void 0===s&&(s=""),s=l(s,i),u.push({vSort:s,index:e})}),u.sort(function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,c)}),o=0;for(var h=e.length;o<h;)a=u[o].index,d.push(e[a]),o++;return d},this._getGroup=function(e,t,i,r,n){var a,s=[],o=null,l=null;return $.each(self._getOrder(e,t,i,r,n),function(e,i){a=$.jgrid.getAccessor(i,t),null==a&&(a=""),self._equals(l,a)||(l=a,null!==o&&s.push(o),o=self._group(t,a)),o.items.push(i)}),null!==o&&s.push(o),s},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,n){var a;a=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===i&&(i=null);var s=i,o=void 0===n.stype?"text":n.stype;if(null!==i)switch(o){case"int":case"integer":s=isNaN(Number(s))||""===s?"0":s,a="parseInt("+a+",10)",s="parseInt("+s+",10)";break;case"float":case"number":case"numeric":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":s,a="parseFloat("+a+")",s="parseFloat("+s+")";break;case"date":case"datetime":s=String($.jgrid.parseDate(n.newfmt||"Y-m-d",s).getTime()),a='jQuery.jgrid.parseDate("'+n.srcfmt+'",'+a+").getTime()";break;default:a=self._getStr(a),s=self._getStr('"'+self._toStr(s)+'"')}return self._append(a+" "+r+" "+s),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(r=_trim?$.trim(t.toString()).length:t.toString().length,self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==i&&(i="text"),null==r&&(r="Y-m-d"),"desc"!=t&&"descending"!=t||(t="d"),"asc"!=t&&"ascending"!=t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}}),$.fn.jqGrid=function(e){if("string"==typeof e){var t=$.jgrid.getMethod(e);if(!t)throw"jqGrid - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each(function(){if(!this.grid){var t=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[]},ignoreCase:!1,cmTemplate:{},idPrefix:""},$.jgrid.defaults,e||{}),i=this,r={headers:[],cols:[],footers:[],dragStart:function(e,r,n){this.resizing={idx:e,startX:r.clientX,sOL:n[0]},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(t.id),"#gbox_"+$.jgrid.jqID(t.id)),this.curGbox.css({display:"block",left:n[0],top:n[1],height:n[2]}),$(i).triggerHandler("jqGridResizeStart",[r,e]),$.isFunction(t.resizeStart)&&t.resizeStart.call(this,r,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var i,r,n=e.clientX-this.resizing.startX,a=this.headers[this.resizing.idx],s="ltr"===t.direction?a.width+n:a.width-n;s>33&&(this.curGbox.css({left:this.resizing.sOL+n}),t.forceFit===!0?(i=this.headers[this.resizing.idx+t.nv],r="ltr"===t.direction?i.width-n:i.width+n,r>33&&(a.newWidth=s,i.newWidth=r)):(this.newWidth="ltr"===t.direction?t.tblwidth+n:t.tblwidth-n,a.newWidth=s))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var e=this.resizing.idx,r=this.headers[e].newWidth||this.headers[e].width;r=parseInt(r,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(t.id)).css("display","none"),t.colModel[e].width=r,this.headers[e].width=r,this.headers[e].el.style.width=r+"px",this.cols[e].style.width=r+"px",this.footers.length>0&&(this.footers[e].style.width=r+"px"),t.forceFit===!0?(r=this.headers[e+t.nv].newWidth||this.headers[e+t.nv].width,this.headers[e+t.nv].width=r,this.headers[e+t.nv].el.style.width=r+"px",this.cols[e+t.nv].style.width=r+"px",this.footers.length>0&&(this.footers[e+t.nv].style.width=r+"px"),t.colModel[e+t.nv].width=r):(t.tblwidth=this.newWidth||t.tblwidth,$("table:first",this.bDiv).css("width",t.tblwidth+"px"),$("table:first",this.hDiv).css("width",t.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,t.footerrow&&($("table:first",this.sDiv).css("width",t.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),$(i).triggerHandler("jqGridResizeStop",[r,e]),$.isFunction(t.resizeStop)&&t.resizeStop.call(this,r,e)}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){r.timer&&clearTimeout(r.timer),r.timer=null;var e=$(r.bDiv).height();if(e){var i,n,a=$("table:first",r.bDiv);if(a[0].rows.length)try{i=a[0].rows[1],n=i?$(i).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(s){n=r.prevRowHeight}if(n){r.prevRowHeight=n;var o,l,d,u=t.rowNum,c=r.scrollTop=r.bDiv.scrollTop,h=Math.round(a.position().top)-c,p=h+a.height(),f=n*u;if(p<e&&h<=0&&(void 0===t.lastpage||parseInt((p+c+f-1)/f,10)<=t.lastpage)&&(l=parseInt((e-p+f-1)/f,10),p>=0||l<2||t.scroll===!0?(o=Math.round((p+c)/f)+1,h=-1):h=1),h>0&&(o=parseInt(c/f,10)+1,l=parseInt((c+e)/f,10)+2-o,d=!0),l){if(t.lastpage&&(o>t.lastpage||1==t.lastpage||o===t.page&&o===t.lastpage))return;r.hDiv.loading?r.timer=setTimeout(r.populateVisible,t.scrollTimeout):(t.page=o,d&&(r.selectionPreserver(a[0]),r.emptyRows.call(a[0],!1,!1)),r.populate(l))}}}},scrollGrid:function(e){if(t.scroll){var i=r.bDiv.scrollTop;void 0===r.scrollTop&&(r.scrollTop=0),i!=r.scrollTop&&(r.scrollTop=i,r.timer&&clearTimeout(r.timer),r.timer=setTimeout(r.populateVisible,t.scrollTimeout))}r.hDiv.scrollLeft=r.bDiv.scrollLeft,t.footerrow&&(r.sDiv.scrollLeft=r.bDiv.scrollLeft),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,i=t.selrow,r=t.selarrrow?$.makeArray(t.selarrrow):null,n=e.grid.bDiv.scrollLeft,a=function(){var s;if(t.selrow=null,t.selarrrow=[],t.multiselect&&r&&r.length>0)for(s=0;s<r.length;s++)r[s]!=i&&$(e).jqGrid("setSelection",r[s],!1,null);i&&$(e).jqGrid("setSelection",i,!1,null),e.grid.bDiv.scrollLeft=n,$(e).unbind(".selectionPreserver",a)};$(e).bind("jqGridGridComplete.selectionPreserver",a)}};if("TABLE"!=this.tagName.toUpperCase())return void alert("Element is not a table");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");$(this).empty().attr("tabindex","0"),this.p=t,this.p.useProp=!!$.fn.prop;var n,a;if(0===this.p.colNames.length)for(n=0;n<this.p.colModel.length;n++)this.p.colNames[n]=this.p.colModel[n].label||this.p.colModel[n].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.errors.model);var s=$("<div class='ui-jqgrid-view'></div>"),o=$.jgrid.msie;i.p.direction=$.trim(i.p.direction.toLowerCase()),$.inArray(i.p.direction,["ltr","rtl"])==-1&&(i.p.direction="ltr"),a=i.p.direction,$(s).insertBefore(this),$(this).removeClass("scroll").appendTo(s);var l=$("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");$(l).attr({id:"gbox_"+this.id,dir:a}).insertBefore(s),$(s).attr("id","gview_"+this.id).appendTo(l),$("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(s),$("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(s),$(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var d=["shiftKey","altKey","ctrlKey"],u=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},c=function(e,t,n,a,s,o){var l,d=i.p.colModel[e],u=d.align,c='style="',h=d.classes,p=d.name,f=[];return u&&(c+="text-align:"+u+";"),d.hidden===!0&&(c+="display:none;"),0===t?c+="width: "+r.headers[e].width+"px;":d.cellattr&&$.isFunction(d.cellattr)&&(l=d.cellattr.call(i,s,n,a,d,o),l&&"string"==typeof l&&(l=l.replace(/style/i,"style").replace(/title/i,"title"),l.indexOf("title")>-1&&(d.title=!1),l.indexOf("class")>-1&&(h=void 0),f=l.split("style"),2===f.length?(f[1]=$.trim(f[1].replace("=","")),0!==f[1].indexOf("'")&&0!==f[1].indexOf('"')||(f[1]=f[1].substring(1)),c+=f[1].replace(/'/gi,'"')):c+='"')),f.length||(f[0]="",c+='"'),c+=(void 0!==h?' class="'+h+'"':"")+(d.title&&n?' title="'+$.jgrid.stripHtml(n)+'"':""),c+=' aria-describedby="'+i.p.id+"_"+p+'"',c+f[0]},h=function(e){return null==e||""===e?"&#160;":i.p.autoencode?$.jgrid.htmlEncode(e):String(e)},p=function(e,t,r,n,a){var s,o=i.p.colModel[r];if(void 0!==o.formatter){e=""!==String(i.p.idPrefix)?$.jgrid.stripPref(i.p.idPrefix,e):e;var l={rowId:e,colModel:o,gid:i.p.id,pos:r};s=$.isFunction(o.formatter)?o.formatter.call(i,t,l,n,a):$.fmatter?$.fn.fmatter.call(i,o.formatter,t,l,n,a):h(t)}else s=h(t);return s},f=function(e,t,i,r,n,a){var s,o;return s=p(e,t,i,n,"add"),o=c(i,r,s,n,e,a),'<td role="gridcell" '+o+">"+s+"</td>"},g=function(e,t,r,n){var a='<input role="checkbox" type="checkbox" id="jqg_'+i.p.id+"_"+e+'" class="cbox" name="jqg_'+i.p.id+"_"+e+'"'+(n?'checked="checked"':"")+"/>",s=c(t,r,"",null,e,!0);return'<td role="gridcell" '+s+">"+a+"</td>"},m=function(e,t,i,r){var n=(parseInt(i,10)-1)*parseInt(r,10)+1+t,a=c(e,t,n,null,t,!0);return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+a+">"+n+"</td>"},v=function(e){var t,r,n=[],a=0;for(r=0;r<i.p.colModel.length;r++)t=i.p.colModel[r],"cb"!==t.name&&"subgrid"!==t.name&&"rn"!==t.name&&(n[a]="local"==e?t.name:"xml"==e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,a++);return n},b=function(e){var t=i.p.remapColumns;return t&&t.length||(t=$.map(i.p.colModel,function(e,t){return t})),e&&(t=$.map(t,function(t){return t<e?null:t-e})),t},_=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),t===!0&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},y=function(){var e,t,r,n=i.p.data.length,a=i.p.rownumbers===!0?1:0,s=i.p.multiselect===!0?1:0,o=i.p.subGrid===!0?1:0;for(e=i.p.keyIndex===!1||i.p.loadonce===!0?i.p.localReader.id:i.p.colModel[i.p.keyIndex+s+o+a].name,t=0;t<n;t++)r=$.jgrid.getAccessor(i.p.data[t],e),void 0===r&&(r=String(t+1)),
i.p._index[r]=t},x=function(e,t,r,n,a,s){var o,l="-1",d="",u=t?"display:none;":"",c="ui-widget-content jqgrow ui-row-"+i.p.direction+r+(s?" ui-state-highlight":""),h=$.isFunction(i.p.rowattr)?i.p.rowattr.call(i,n,a):{};if(!$.isEmptyObject(h)){h.hasOwnProperty("id")&&(e=h.id,delete h.id),h.hasOwnProperty("tabindex")&&(l=h.tabindex,delete h.tabindex),h.hasOwnProperty("style")&&(u+=h.style,delete h.style),h.hasOwnProperty("class")&&(c+=" "+h["class"],delete h["class"]);try{delete h.role}catch(p){}for(o in h)h.hasOwnProperty(o)&&(d+=" "+o+"="+h[o])}return'<tr role="row" id="'+e+'" tabindex="'+l+'" class="'+c+'"'+(""===u?"":' style="'+u+'"')+d+">"},w=function(e,t,r,n,a){var s=new Date,o="local"!=i.p.datatype&&i.p.loadonce||"xmlstring"==i.p.datatype,l="_id_",d=i.p.xmlReader,u="local"==i.p.datatype?"local":"xml";if(o&&(i.p.data=[],i.p._index={},i.p.localReader.id=l),i.p.reccount=0,$.isXMLDoc(e)){i.p.treeANode!==-1||i.p.scroll?r=r>1?r:1:(_.call(i,!1,!0),r=1);var c,h,p,y,w,k,j,C,D,S,T=$(i),I=0,P=i.p.multiselect===!0?1:0,A=0,M=i.p.rownumbers===!0?1:0,E=[],F={},O=[],q=i.p.altRows===!0?" "+i.p.altclass:"";i.p.subGrid===!0&&(A=1,y=$.jgrid.getMethod("addSubGridCell")),d.repeatitems||(E=v(u)),w=i.p.keyIndex===!1?$.isFunction(d.id)?d.id.call(i,e):d.id:i.p.keyIndex,E.length>0&&!isNaN(w)&&(i.p.remapColumns&&i.p.remapColumns.length&&(w=$.inArray(w,i.p.remapColumns)),w=E[w]),k=String(w).indexOf("[")===-1?E.length?function(e,t){return $(w,e).text()||t}:function(e,t){return $(d.cell,e).eq(w).text()||t}:function(e,t){return e.getAttribute(w.replace(/[\[\]]/g,""))||t},i.p.userData={},i.p.page=$.jgrid.getXmlData(e,d.page)||i.p.page||0,i.p.lastpage=$.jgrid.getXmlData(e,d.total),void 0===i.p.lastpage&&(i.p.lastpage=1),i.p.records=$.jgrid.getXmlData(e,d.records)||0,$.isFunction(d.userdata)?i.p.userData=d.userdata.call(i,e)||{}:$.jgrid.getXmlData(e,d.userdata,!0).each(function(){i.p.userData[this.getAttribute("name")]=$(this).text()});var R=$.jgrid.getXmlData(e,d.root,!0);R=$.jgrid.getXmlData(R,d.row,!0),R||(R=[]);var N,L=R.length,z=0,H=[],G=parseInt(i.p.rowNum,10),B=i.p.scroll?$.jgrid.randId():1;if(L>0&&i.p.page<=0&&(i.p.page=1),R&&L){a&&(G*=a+1);var Q,W=$.isFunction(i.p.afterInsertRow),U=!1;for(i.p.grouping&&(U=i.p.groupingView.groupCollapse===!0,Q=$.jgrid.getMethod("groupingPrepare"));z<L;){C=R[z],D=k(C,B+z),D=i.p.idPrefix+D,N=0===r?0:r+1,S=(N+z)%2==1?q:"";var V=O.length;if(O.push(""),M&&O.push(m(0,z,i.p.page,i.p.rowNum)),P&&O.push(g(D,M,z,!1)),A&&O.push(y.call(T,P+M,z+r)),d.repeatitems){j||(j=b(P+A+M));var K=$.jgrid.getXmlData(C,d.cell,!0);$.each(j,function(e){var t=K[this];return!!t&&(p=t.textContent||t.text,F[i.p.colModel[e+P+A+M].name]=p,void O.push(f(D,p,e+P+A+M,z+r,C,F)))})}else for(c=0;c<E.length;c++)p=$.jgrid.getXmlData(C,E[c]),F[i.p.colModel[c+P+A+M].name]=p,O.push(f(D,p,c+P+A+M,z+r,C,F));if(O[V]=x(D,U,S,F,C,!1),O.push("</tr>"),i.p.grouping&&(H=Q.call(T,O,H,F,z),O=[]),(o||i.p.treeGrid===!0)&&(F[l]=D,i.p.data.push(F),i.p._index[D]=i.p.data.length-1),i.p.gridview===!1&&($("tbody:first",t).append(O.join("")),T.triggerHandler("jqGridAfterInsertRow",[D,F,C]),W&&i.p.afterInsertRow.call(i,D,F,C),O=[]),F={},I++,z++,I==G)break}}if(i.p.gridview===!0&&(h=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?(T.jqGrid("groupingRender",H,i.p.colModel.length),H=null):i.p.treeGrid===!0&&h>0?$(i.rows[h]).after(O.join("")):$("tbody:first",t).append(O.join(""))),i.p.subGrid===!0)try{T.jqGrid("addSubGrid",P+M)}catch(Y){}if(i.p.totaltime=new Date-s,I>0&&0===i.p.records&&(i.p.records=L),O=null,i.p.treeGrid===!0)try{T.jqGrid("setTreeNode",h+1,I+h+1)}catch(X){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=I,i.p.treeANode=-1,i.p.userDataOnFooter&&T.jqGrid("footerData","set",i.p.userData,!0),o&&(i.p.records=L,i.p.lastpage=Math.ceil(L/G)),n||i.updatepager(!1,!0),o)for(;I<L;){if(C=R[I],D=k(C,I+B),D=i.p.idPrefix+D,d.repeatitems){j||(j=b(P+A+M));var J=$.jgrid.getXmlData(C,d.cell,!0);$.each(j,function(e){var t=J[this];return!!t&&(p=t.textContent||t.text,void(F[i.p.colModel[e+P+A+M].name]=p))})}else for(c=0;c<E.length;c++)p=$.jgrid.getXmlData(C,E[c]),F[i.p.colModel[c+P+A+M].name]=p;F[l]=D,i.p.data.push(F),i.p._index[D]=i.p.data.length-1,F={},I++}}},k=function(e,t,r,n,a){var s=new Date;if(e){i.p.treeANode!==-1||i.p.scroll?r=r>1?r:1:(_.call(i,!1,!0),r=1);var o,l,d="_id_",u="local"!=i.p.datatype&&i.p.loadonce||"jsonstring"==i.p.datatype;u&&(i.p.data=[],i.p._index={},i.p.localReader.id=d),i.p.reccount=0,"local"==i.p.datatype?(o=i.p.localReader,l="local"):(o=i.p.jsonReader,l="json");var c,h,p,y,w,k,j,C,D,S,T,I,P,A=$(i),M=0,E=[],F=i.p.multiselect?1:0,O=0,q=i.p.rownumbers===!0?1:0,R={},N=[],L=i.p.altRows===!0?" "+i.p.altclass:"";i.p.page=$.jgrid.getAccessor(e,o.page)||i.p.page||0,P=$.jgrid.getAccessor(e,o.total),i.p.subGrid===!0&&(O=1,k=$.jgrid.getMethod("addSubGridCell")),i.p.lastpage=void 0===P?1:P,i.p.records=$.jgrid.getAccessor(e,o.records)||0,i.p.userData=$.jgrid.getAccessor(e,o.userdata)||{},o.repeatitems||(y=E=v(l)),D=i.p.keyIndex===!1?$.isFunction(o.id)?o.id.call(i,e):o.id:i.p.keyIndex,E.length>0&&!isNaN(D)&&(i.p.remapColumns&&i.p.remapColumns.length&&(D=$.inArray(D,i.p.remapColumns)),D=E[D]),C=$.jgrid.getAccessor(e,o.root),C||(C=[]),j=C.length,h=0,j>0&&i.p.page<=0&&(i.p.page=1);var z,H,G=parseInt(i.p.rowNum,10),B=i.p.scroll?$.jgrid.randId():1,Q=!1;a&&(G*=a+1),"local"!==i.p.datatype||i.p.deselectAfterSort||(Q=!0);var W,U=$.isFunction(i.p.afterInsertRow),V=[],K=!1;for(i.p.grouping&&(K=i.p.groupingView.groupCollapse===!0,W=$.jgrid.getMethod("groupingPrepare"));h<j;){if(w=C[h],T=$.jgrid.getAccessor(w,D),void 0===T&&(T=B+h,0===E.length&&o.cell)){var Y=$.jgrid.getAccessor(w,o.cell);T=void 0!==Y?Y[D]||T:T,Y=null}T=i.p.idPrefix+T,z=1===r?0:r,I=(z+h)%2==1?L:"",Q&&(H=i.p.multiselect?$.inArray(T,i.p.selarrrow)!==-1:T===i.p.selrow);var X=N.length;for(N.push(""),q&&N.push(m(0,h,i.p.page,i.p.rowNum)),F&&N.push(g(T,q,h,H)),O&&N.push(k.call(A,F+q,h+r)),o.repeatitems&&(o.cell&&(w=$.jgrid.getAccessor(w,o.cell)),y||(y=b(F+O+q))),p=0;p<y.length;p++)c=$.jgrid.getAccessor(w,y[p]),R[i.p.colModel[p+F+O+q].name]=c,N.push(f(T,c,p+F+O+q,h+r,w,R));if(N[X]=x(T,K,I,R,w,H),N.push("</tr>"),i.p.grouping&&(V=W.call(A,N,V,R,h),N=[]),(u||i.p.treeGrid===!0)&&(R[d]=T,i.p.data.push(R),i.p._index[T]=i.p.data.length-1),i.p.gridview===!1&&($("#"+$.jgrid.jqID(i.p.id)+" tbody:first").append(N.join("")),A.triggerHandler("jqGridAfterInsertRow",[T,R,w]),U&&i.p.afterInsertRow.call(i,T,R,w),N=[]),R={},M++,h++,M==G)break}if(i.p.gridview===!0&&(S=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?(A.jqGrid("groupingRender",V,i.p.colModel.length),V=null):i.p.treeGrid===!0&&S>0?$(i.rows[S]).after(N.join("")):$("#"+$.jgrid.jqID(i.p.id)+" tbody:first").append(N.join(""))),i.p.subGrid===!0)try{A.jqGrid("addSubGrid",F+q)}catch(J){}if(i.p.totaltime=new Date-s,M>0&&0===i.p.records&&(i.p.records=j),N=null,i.p.treeGrid===!0)try{A.jqGrid("setTreeNode",S+1,M+S+1)}catch(Z){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=M,i.p.treeANode=-1,i.p.userDataOnFooter&&A.jqGrid("footerData","set",i.p.userData,!0),u&&(i.p.records=j,i.p.lastpage=Math.ceil(j/G)),n||i.updatepager(!1,!0),u)for(;M<j&&C[M];){if(w=C[M],T=$.jgrid.getAccessor(w,D),void 0===T&&(T=B+M,0===E.length&&o.cell)){var ee=$.jgrid.getAccessor(w,o.cell);T=ee[D]||T,ee=null}if(w){for(T=i.p.idPrefix+T,o.repeatitems&&(o.cell&&(w=$.jgrid.getAccessor(w,o.cell)),y||(y=b(F+O+q))),p=0;p<y.length;p++)c=$.jgrid.getAccessor(w,y[p]),R[i.p.colModel[p+F+O+q].name]=c;R[d]=T,i.p.data.push(R),i.p._index[T]=i.p.data.length-1,R={}}M++}}},j=function(){function e(t){var i,r,n,a,s,l=0;if(null!=t.groups){for(r=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),r&&f.orBegin(),i=0;i<t.groups.length;i++){l>0&&r&&f.or();try{e(t.groups[i])}catch(d){alert(d)}l++}r&&f.orEnd()}if(null!=t.rules)try{for(n=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),n&&f.orBegin(),i=0;i<t.rules.length;i++)s=t.rules[i],a=t.groupOp.toString().toUpperCase(),p[s.op]&&s.field&&(l>0&&a&&"OR"===a&&(f=f.or()),f=p[s.op](f,a)(s.field,s.data,o[s.field])),l++;n&&f.orEnd()}catch(u){alert(u)}}var t,r,n,a,s=!1,o={},l=[],d=[];if($.isArray(i.p.data)){var u,c,h=!!i.p.grouping&&i.p.groupingView;if($.each(i.p.colModel,function(){if(n=this.sorttype||"text","date"==n||"datetime"==n?(this.formatter&&"string"==typeof this.formatter&&"date"==this.formatter?(r=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.formatter.date.srcformat,a=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.formatter.date.newformat):r=a=this.datefmt||"Y-m-d",o[this.name]={stype:n,srcfmt:r,newfmt:a}):o[this.name]={stype:n,srcfmt:"",newfmt:""},i.p.grouping)for(c=0,u=h.groupField.length;c<u;c++)if(this.name==h.groupField[c]){var e=this.name;this.index&&(e=this.index),l[c]=o[e],d[c]=e}s||this.index!=i.p.sortname&&this.name!=i.p.sortname||(t=this.name,s=!0)}),i.p.treeGrid)return void $(i).jqGrid("SortTree",t,i.p.sortorder,o[t].stype,o[t].srcfmt);var p={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},f=$.jgrid.from(i.p.data);if(i.p.ignoreCase&&(f=f.ignoreCase()),i.p.search===!0){var g=i.p.postData.filters;if(g)"string"==typeof g&&(g=$.jgrid.parse(g)),e(g);else try{f=p[i.p.postData.searchOper](f)(i.p.postData.searchField,i.p.postData.searchString,o[i.p.postData.searchField])}catch(m){}}if(i.p.grouping)for(c=0;c<u;c++)f.orderBy(d[c],h.groupOrder[c],l[c].stype,l[c].srcfmt);t&&i.p.sortorder&&s&&("DESC"==i.p.sortorder.toUpperCase()?f.orderBy(i.p.sortname,"d",o[t].stype,o[t].srcfmt):f.orderBy(i.p.sortname,"a",o[t].stype,o[t].srcfmt));var v=f.select(),b=parseInt(i.p.rowNum,10),_=v.length,y=parseInt(i.p.page,10),x=Math.ceil(_/b),w={};return v=v.slice((y-1)*b,y*b),f=null,o=null,w[i.p.localReader.total]=x,w[i.p.localReader.page]=y,w[i.p.localReader.records]=_,w[i.p.localReader.root]=v,w[i.p.localReader.userdata]=i.p.userData,v=null,w}},C=function(e,t){var r,n,a,s,o,l,d,c,h="",p=i.p.pager?"_"+$.jgrid.jqID(i.p.pager.substr(1)):"",f=i.p.toppager?"_"+i.p.toppager.substr(1):"";if(a=parseInt(i.p.page,10)-1,a<0&&(a=0),a*=parseInt(i.p.rowNum,10),o=a+i.p.reccount,i.p.scroll){var g=$("tbody:first > tr:gt(0)",i.grid.bDiv);a=o-g.length,i.p.reccount=g.length;var m=g.outerHeight()||i.grid.prevRowHeight;if(m){var v=a*m,b=parseInt(i.p.records,10)*m;$(">div:first",i.grid.bDiv).css({height:b}).children("div:first").css({height:v,display:v?"":"none"})}i.grid.bDiv.scrollLeft=i.grid.hDiv.scrollLeft}h=i.p.pager||"",h+=i.p.toppager?h?","+i.p.toppager:i.p.toppager:"",h&&(d=$.jgrid.formatter.integer||{},r=u(i.p.page),n=u(i.p.lastpage),$(".selbox",h)[this.p.useProp?"prop":"attr"]("disabled",!1),i.p.pginput===!0&&($(".ui-pg-input",h).val(i.p.page),c=i.p.toppager?"#sp_1"+p+",#sp_1"+f:"#sp_1"+p,$(c).html($.fmatter?$.fmatter.util.NumberFormat(i.p.lastpage,d):i.p.lastpage)),i.p.viewrecords&&(0===i.p.reccount?$(".ui-paging-info",h).html(i.p.emptyrecords):(s=a+1,l=i.p.records,$.fmatter&&(s=$.fmatter.util.NumberFormat(s,d),o=$.fmatter.util.NumberFormat(o,d),l=$.fmatter.util.NumberFormat(l,d)),$(".ui-paging-info",h).html($.jgrid.format(i.p.recordtext,s,o,l)))),i.p.pgbuttons===!0&&(r<=0&&(r=n=0),1==r||0===r?($("#first"+p+", #prev"+p).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&$("#first_t"+f+", #prev_t"+f).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#first"+p+", #prev"+p).removeClass("ui-state-disabled"),i.p.toppager&&$("#first_t"+f+", #prev_t"+f).removeClass("ui-state-disabled")),r==n||0===r?($("#next"+p+", #last"+p).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&$("#next_t"+f+", #last_t"+f).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#next"+p+", #last"+p).removeClass("ui-state-disabled"),i.p.toppager&&$("#next_t"+f+", #last_t"+f).removeClass("ui-state-disabled")))),e===!0&&i.p.rownumbers===!0&&$("td.jqgrid-rownum",i.rows).each(function(e){$(this).html(a+1+e)}),t&&i.p.jqgdnd&&$(i).jqGrid("gridDnD","updateDnD"),$(i).triggerHandler("jqGridGridComplete"),$.isFunction(i.p.gridComplete)&&i.p.gridComplete.call(i),$(i).triggerHandler("jqGridAfterGridComplete")},D=function(){if(i.grid.hDiv.loading=!0,!i.p.hiddengrid)switch(i.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(i.p.id)).show();break;case"block":$("#lui_"+$.jgrid.jqID(i.p.id)).show(),$("#load_"+$.jgrid.jqID(i.p.id)).show()}},S=function(){switch(i.grid.hDiv.loading=!1,i.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(i.p.id)).hide();break;case"block":$("#lui_"+$.jgrid.jqID(i.p.id)).hide(),$("#load_"+$.jgrid.jqID(i.p.id)).hide()}},T=function(e){if(!i.grid.hDiv.loading){var t,r,n=i.p.scroll&&e===!1,a={},s=i.p.prmNames;i.p.page<=0&&(i.p.page=1),null!==s.search&&(a[s.search]=i.p.search),null!==s.nd&&(a[s.nd]=(new Date).getTime()),null!==s.rows&&(a[s.rows]=i.p.rowNum),null!==s.page&&(a[s.page]=i.p.page),null!==s.sort&&(a[s.sort]=i.p.sortname),null!==s.order&&(a[s.order]=i.p.sortorder),null!==i.p.rowTotal&&null!==s.totalrows&&(a[s.totalrows]=i.p.rowTotal);var o=$.isFunction(i.p.loadComplete),l=o?i.p.loadComplete:null,d=0;if(e=e||1,e>1?null!==s.npage?(a[s.npage]=e,d=e-1,e=1):l=function(t){i.p.page++,i.grid.hDiv.loading=!1,o&&i.p.loadComplete.call(i,t),T(e-1)}:null!==s.npage&&delete i.p.postData[s.npage],i.p.grouping){$(i).jqGrid("groupingSetup");var u,c=i.p.groupingView,h="";for(u=0;u<c.groupField.length;u++){var p=c.groupField[u];$.each(i.p.colModel,function(e,t){t.name==p&&t.index&&(p=t.index)}),h+=p+" "+c.groupOrder[u]+", "}a[s.sort]=h+a[s.sort]}$.extend(i.p.postData,a);var f=i.p.scroll?i.rows.length-1:1,g=$(i).triggerHandler("jqGridBeforeRequest");if(g===!1||"stop"===g)return;if($.isFunction(i.p.datatype))return void i.p.datatype.call(i,i.p.postData,"load_"+i.p.id);if($.isFunction(i.p.beforeRequest)&&(g=i.p.beforeRequest.call(i),void 0===g&&(g=!0),g===!1))return;switch(t=i.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:i.p.url,type:i.p.mtype,dataType:t,data:$.isFunction(i.p.serializeGridData)?i.p.serializeGridData.call(i,i.p.postData):i.p.postData,success:function(r,a,s){return $.isFunction(i.p.beforeProcessing)&&i.p.beforeProcessing.call(i,r,a,s)===!1?void S():("xml"===t?w(r,i.grid.bDiv,f,e>1,d):k(r,i.grid.bDiv,f,e>1,d),$(i).triggerHandler("jqGridLoadComplete",[r]),l&&l.call(i,r),$(i).triggerHandler("jqGridAfterLoadComplete",[r]),n&&i.grid.populateVisible(),(i.p.loadonce||i.p.treeGrid)&&(i.p.datatype="local"),r=null,void(1===e&&S()))},error:function(t,r,n){$.isFunction(i.p.loadError)&&i.p.loadError.call(i,t,r,n),1===e&&S(),t=null},beforeSend:function(e,t){var r=!0;return $.isFunction(i.p.loadBeforeSend)&&(r=i.p.loadBeforeSend.call(i,e,t)),void 0===r&&(r=!0),r!==!1&&void D()}},$.jgrid.ajaxOptions,i.p.ajaxGridOptions));break;case"xmlstring":D(),r=$.jgrid.stringToDoc(i.p.datastr),w(r,i.grid.bDiv),$(i).triggerHandler("jqGridLoadComplete",[r]),o&&i.p.loadComplete.call(i,r),$(i).triggerHandler("jqGridAfterLoadComplete",[r]),i.p.datatype="local",i.p.datastr=null,S();break;case"jsonstring":D(),r="string"==typeof i.p.datastr?$.jgrid.parse(i.p.datastr):i.p.datastr,k(r,i.grid.bDiv),$(i).triggerHandler("jqGridLoadComplete",[r]),o&&i.p.loadComplete.call(i,r),$(i).triggerHandler("jqGridAfterLoadComplete",[r]),i.p.datatype="local",i.p.datastr=null,S();break;case"local":case"clientside":D(),i.p.datatype="local";var m=j();k(m,i.grid.bDiv,f,e>1,d),$(i).triggerHandler("jqGridLoadComplete",[m]),l&&l.call(i,m),$(i).triggerHandler("jqGridAfterLoadComplete",[m]),n&&i.grid.populateVisible(),S()}}},I=function(e){$("#cb_"+$.jgrid.jqID(i.p.id),i.grid.hDiv)[i.p.useProp?"prop":"attr"]("checked",e);var t=i.p.frozenColumns?i.p.id+"_frozen":"";t&&$("#cb_"+$.jgrid.jqID(i.p.id),i.grid.fhDiv)[i.p.useProp?"prop":"attr"]("checked",e)},P=function(e,t){var r,n,s,o,l,d,c,h="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",p="",f="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",g="",m=function(e){var t;return $.isFunction(i.p.onPaging)&&(t=i.p.onPaging.call(i,e)),i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],I(!1)),i.p.savedRow=[],"stop"!=t};if(e=e.substr(1),t+="_"+e,r="pg_"+e,n=e+"_left",s=e+"_center",o=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+r+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+n+"' align='left'></td><td id='"+s+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),i.p.rowList.length>0){for(g="<td dir='"+a+"'>",g+="<select class='ui-pg-selbox' role='listbox'>",c=0;c<i.p.rowList.length;c++)g+='<option role="option" value="'+i.p.rowList[c]+'"'+(i.p.rowNum==i.p.rowList[c]?' selected="selected"':"")+">"+i.p.rowList[c]+"</option>";g+="</select></td>"}if("rtl"==a&&(f+=g),i.p.pginput===!0&&(p="<td dir='"+a+"'>"+$.jgrid.format(i.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),i.p.pgbuttons===!0){var v=["first"+t,"prev"+t,"next"+t,"last"+t];"rtl"==a&&v.reverse(),f+="<td id='"+v[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>",f+="<td id='"+v[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>",f+=""!==p?h+p+h:"",f+="<td id='"+v[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>",f+="<td id='"+v[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"}else""!==p&&(f+=p);"ltr"==a&&(f+=g),f+="</tr></tbody></table>",i.p.viewrecords===!0&&$("td#"+e+"_"+i.p.recordpos,"#"+r).append("<div dir='"+a+"' style='text-align:"+i.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+i.p.pagerpos,"#"+r).append(f),d=$(".ui-jqgrid").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+d+";visibility:hidden;' ></div>"),l=$(f).clone().appendTo("#testpg").width(),$("#testpg").remove(),l>0&&(""!==p&&(l+=50),$("td#"+e+"_"+i.p.pagerpos,"#"+r).width(l)),i.p._nvtd=[],i.p._nvtd[0]=l?Math.floor((i.p.width-l)/2):Math.floor(i.p.width/3),i.p._nvtd[1]=0,f=null,$(".ui-pg-selbox","#"+r).bind("change",function(){return!!m("records")&&(i.p.page=Math.round(i.p.rowNum*(i.p.page-1)/this.value-.5)+1,i.p.rowNum=this.value,i.p.pager&&$(".ui-pg-selbox",i.p.pager).val(this.value),i.p.toppager&&$(".ui-pg-selbox",i.p.toppager).val(this.value),T(),!1)}),i.p.pgbuttons===!0&&($(".ui-pg-button","#"+r).hover(function(){$(this).hasClass("ui-state-disabled")?this.style.cursor="default":($(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){$(this).hasClass("ui-state-disabled")||($(this).removeClass("ui-state-hover"),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(t)+", #prev"+$.jgrid.jqID(t)+", #next"+$.jgrid.jqID(t)+", #last"+$.jgrid.jqID(t)).click(function(){var e=u(i.p.page,1),r=u(i.p.lastpage,1),n=!1,a=!0,s=!0,o=!0,l=!0;return 0===r||1===r?(a=!1,s=!1,o=!1,l=!1):r>1&&e>=1?1===e?(a=!1,s=!1):e===r&&(o=!1,l=!1):r>1&&0===e&&(o=!1,l=!1,e=r-1),!!m(this.id)&&(this.id==="first"+t&&a&&(i.p.page=1,n=!0),this.id==="prev"+t&&s&&(i.p.page=e-1,n=!0),this.id==="next"+t&&o&&(i.p.page=e+1,n=!0),this.id==="last"+t&&l&&(i.p.page=r,n=!0),n&&T(),!1)})),i.p.pginput===!0&&$("input.ui-pg-input","#"+r).keypress(function(e){var t=e.charCode||e.keyCode||0;return 13==t?!!m("user")&&(i.p.page=$(this).val()>0?$(this).val():i.p.page,T(),!1):this})},A=function(e,t,r,n){if(i.p.colModel[t].sortable){var a;if(!(i.p.savedRow.length>0)){if(r||(i.p.lastsort==t?"asc"==i.p.sortorder?i.p.sortorder="desc":"desc"==i.p.sortorder&&(i.p.sortorder="asc"):i.p.sortorder=i.p.colModel[t].firstsortorder||"asc",i.p.page=1),n){if(i.p.lastsort==t&&i.p.sortorder==n&&!r)return;i.p.sortorder=n}var s=i.grid.headers[i.p.lastsort].el,o=i.grid.headers[t].el;if($("span.ui-grid-ico-sort",s).addClass("ui-state-disabled"),$(s).attr("aria-selected","false"),$("span.ui-icon-"+i.p.sortorder,o).removeClass("ui-state-disabled"),$(o).attr("aria-selected","true"),i.p.viewsortcols[0]||i.p.lastsort!=t&&($("span.s-ico",s).hide(),$("span.s-ico",o).show()),e=e.substring(5+i.p.id.length+1),i.p.sortname=i.p.colModel[t].index||e,a=i.p.sortorder,"stop"===$(i).triggerHandler("jqGridSortCol",[e,t,a]))return void(i.p.lastsort=t);if($.isFunction(i.p.onSortCol)&&"stop"==i.p.onSortCol.call(i,e,t,a))return void(i.p.lastsort=t);if("local"==i.p.datatype?i.p.deselectAfterSort&&$(i).jqGrid("resetSelection"):(i.p.selrow=null,i.p.multiselect&&I(!1),i.p.selarrrow=[],i.p.savedRow=[]),i.p.scroll){var l=i.grid.bDiv.scrollLeft;_.call(i,!0,!1),i.grid.hDiv.scrollLeft=l}i.p.subGrid&&"local"==i.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(i.p.id)).each(function(){$(this).trigger("click")}),T(),i.p.lastsort=t,i.p.sortname!=e&&t&&(i.p.lastsort=t)}}},M=function(){var e,t,n,a,s=0,o=$.jgrid.cell_width?0:u(i.p.cellLayout,0),l=0,d=u(i.p.scrollOffset,0),c=!1,h=0,p=0;$.each(i.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),i.p.grouping&&i.p.autowidth){var e=$.inArray(this.name,i.p.groupingView.groupField);e!==-1&&(this.hidden=!i.p.groupingView.groupColumnShow[e])}this.widthOrg=t=u(this.width,0),this.hidden===!1&&(s+=t+o,this.fixed?h+=t+o:l++,p++)}),isNaN(i.p.width)&&(i.p.width=s+(i.p.shrinkToFit!==!1||isNaN(i.p.height)?0:d)),r.width=i.p.width,i.p.tblwidth=s,i.p.shrinkToFit===!1&&i.p.forceFit===!0&&(i.p.forceFit=!1),i.p.shrinkToFit===!0&&l>0&&(n=r.width-o*l-h,isNaN(i.p.height)||(n-=d,c=!0),s=0,$.each(i.p.colModel,function(r){this.hidden!==!1||this.fixed||(t=Math.round(n*this.width/(i.p.tblwidth-o*l-h)),this.width=t,s+=t,e=r)}),a=0,c?r.width-h-(s+o*l)!==d&&(a=r.width-h-(s+o*l)-d):c||1===Math.abs(r.width-h-(s+o*l))||(a=r.width-h-(s+o*l)),i.p.colModel[e].width+=a,i.p.tblwidth=s+a+o*l+h,i.p.tblwidth>i.p.width&&(i.p.colModel[e].width-=i.p.tblwidth-parseInt(i.p.width,10),i.p.tblwidth=i.p.width))},E=function(e){var t,r=e,n=e;for(t=e+1;t<i.p.colModel.length;t++)if(i.p.colModel[t].hidden!==!0){n=t;break}return n-r},F=function(e){var t,r=[0],n=$.jgrid.cell_width?0:i.p.cellLayout;for(t=0;t<=e;t++)i.p.colModel[t].hidden===!1&&(r[0]+=i.p.colModel[t].width+n);return"rtl"==i.p.direction&&(r[0]=i.p.width-r[0]),r[0]-=i.grid.bDiv.scrollLeft,r.push($(i.grid.hDiv).position().top),r.push($(i.grid.bDiv).offset().top-$(i.grid.hDiv).offset().top+$(i.grid.bDiv).height()),r},O=function(e){var t,r=i.grid.headers,n=$.jgrid.getCellIndex(e);for(t=0;t<r.length;t++)if(e===r[t].el){n=t;break}return n};for(this.p.id=this.id,$.inArray(i.p.multikey,d)==-1&&(i.p.multikey=!1),i.p.keyIndex=!1,n=0;n<i.p.colModel.length;n++)i.p.colModel[n]=$.extend(!0,{},i.p.cmTemplate,i.p.colModel[n].template||{},i.p.colModel[n]),i.p.keyIndex===!1&&i.p.colModel[n].key===!0&&(i.p.keyIndex=n);if(i.p.sortorder=i.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),i.p.grouping===!0&&(i.p.scroll=!1,i.p.rownumbers=!1,i.p.gridview=!0),this.p.treeGrid===!0){try{$(this).jqGrid("setTreeGrid")}catch(q){}"local"!=i.p.datatype&&(i.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(i).jqGrid("setSubGrid")}catch(R){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?i.p.multiselectWidth+i.p.cellLayout:i.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:i.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),i.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},i.p.xmlReader),i.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.jsonReader),i.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.localReader),i.p.scroll&&(i.p.pgbuttons=!1,i.p.pginput=!1,i.p.rowList=[]),i.p.data.length&&y();var N,L,z,H,G,B,Q,W,U,V="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",K="",Y="";if(i.p.shrinkToFit===!0&&i.p.forceFit===!0)for(n=i.p.colModel.length-1;n>=0;n--)if(!i.p.colModel[n].hidden){i.p.colModel[n].resizable=!1;break}for("horizontal"==i.p.viewsortcols[1]&&(K=" ui-i-asc",Y=" ui-i-desc"),N=o?"class='ui-th-div-ie'":"",U="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+K+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+a+"'></span>",U+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+Y+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+a+"'></span></span>",n=0;n<this.p.colNames.length;n++){var X=i.p.headertitles?' title="'+$.jgrid.stripHtml(i.p.colNames[n])+'"':"";V+="<th id='"+i.p.id+"_"+i.p.colModel[n].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+a+"'"+X+">",L=i.p.colModel[n].index||i.p.colModel[n].name,V+="<div id='jqgh_"+i.p.id+"_"+i.p.colModel[n].name+"' "+N+">"+i.p.colNames[n],i.p.colModel[n].width?i.p.colModel[n].width=parseInt(i.p.colModel[n].width,10):i.p.colModel[n].width=150,"boolean"!=typeof i.p.colModel[n].title&&(i.p.colModel[n].title=!0),L==i.p.sortname&&(i.p.lastsort=n),V+=U+"</div></th>"}if(V+="</tr></thead>",U=null,$(this).append(V),$("thead tr:first th",this).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),this.p.multiselect){var J,Z=[];$("#cb_"+$.jgrid.jqID(i.p.id),this).bind("click",function(){i.p.selarrrow=[];var e=i.p.frozenColumns===!0?i.p.id+"_frozen":"";this.checked?($(i.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass("ui-state-highlight").attr("aria-selected","true"),i.p.selarrrow.push(this.id),i.p.selrow=this.id,e&&($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),i.grid.fbDiv).addClass("ui-state-highlight"))))}),J=!0,Z=[]):($(i.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass("ui-state-highlight").attr("aria-selected","false"),Z.push(this.id),e&&($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),i.grid.fbDiv).removeClass("ui-state-highlight"))))}),i.p.selrow=null,J=!1),$(i).triggerHandler("jqGridSelectAll",[J?i.p.selarrrow:Z,J]),$.isFunction(i.p.onSelectAll)&&i.p.onSelectAll.call(i,J?i.p.selarrrow:Z,J)})}if(i.p.autowidth===!0){var ee=$(l).innerWidth();i.p.width=ee>0?ee:"nw"}M(),$(l).css("width",r.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+i.p.id+"'>&#160;</div>"),$(s).css("width",r.width+"px"),V=$("thead:first",i).get(0);var te="";i.p.footerrow&&(te+="<table role='grid' style='width:"+i.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+a+"'>");var ie=$("tr:first",V),re="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(i.p.disableClick=!1,$("th",ie).each(function(e){z=i.p.colModel[e].width,void 0===i.p.colModel[e].resizable&&(i.p.colModel[e].resizable=!0),i.p.colModel[e].resizable?(H=document.createElement("span"),$(H).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+a).css("cursor","col-resize"),$(this).addClass(i.p.resizeclass)):H="",$(this).css("width",z+"px").prepend(H);var t="";i.p.colModel[e].hidden&&($(this).css("display","none"),t="display:none;"),re+="<td role='gridcell' style='height:0px;width:"+z+"px;"+t+"'></td>",r.headers[e]={width:z,el:this},G=i.p.colModel[e].sortable,"boolean"!=typeof G&&(i.p.colModel[e].sortable=!0,G=!0);var n=i.p.colModel[e].name;"cb"!=n&&"subgrid"!=n&&"rn"!=n&&i.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),G&&(i.p.viewsortcols[0]?($("div span.s-ico",this).show(),e==i.p.lastsort&&$("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")):e==i.p.lastsort&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled"))),i.p.footerrow&&(te+="<td role='gridcell' "+c(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1==$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=O(this);return i.p.forceFit===!0&&(i.p.nv=E(t)),r.dragStart(t,e,F(t)),!1}}).click(function(e){if(i.p.disableClick)return i.p.disableClick=!1,!1;var t,r,n="th>div.ui-jqgrid-sortable";i.p.viewsortcols[2]||(n="th>div>span>span.ui-grid-ico-sort");var a=$(e.target).closest(n);if(1==a.length){var s=O(this);return i.p.viewsortcols[2]||(t=!0,r=a.attr("sort")),A($("div",this)[0].id,s,t,r),!1}}),i.p.sortable&&$.fn.sortable)try{$(i).jqGrid("sortableColumns",ie)}catch(ne){}i.p.footerrow&&(te+="</tr></tbody></table>"),re+="</tr>",W=document.createElement("tbody"),this.appendChild(W),$(this).addClass("ui-jqgrid-btable").append(re),re=null;var ae=$("<table class='ui-jqgrid-htable' style='width:"+i.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(V),se=!(!i.p.caption||i.p.hiddengrid!==!0),oe=$("<div class='ui-jqgrid-hbox"+("rtl"==a?"-rtl":"")+"'></div>");V=null,r.hDiv=document.createElement("div"),$(r.hDiv).css({width:r.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(oe),$(oe).append(ae),ae=null,se&&$(r.hDiv).hide(),i.p.pager&&("string"==typeof i.p.pager?"#"!=i.p.pager.substr(0,1)&&(i.p.pager="#"+i.p.pager):i.p.pager="#"+$(i.p.pager).attr("id"),$(i.p.pager).css({width:r.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(l),se&&$(i.p.pager).hide(),P(i.p.pager,"")),i.p.cellEdit===!1&&i.p.hoverrows===!0&&$(i).bind("mouseover",function(e){Q=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(Q).attr("class")&&$(Q).addClass("ui-state-hover")}).bind("mouseout",function(e){Q=$(e.target).closest("tr.jqgrow"),$(Q).removeClass("ui-state-hover")});var le,de,ue;$(i).before(r.hDiv).click(function(e){if(B=e.target,Q=$(B,i.rows).closest("tr.jqgrow"),0===$(Q).length||Q[0].className.indexOf("ui-state-disabled")>-1||($(B,i).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==i.id)return this;var t=$(B).hasClass("cbox"),r=$(i).triggerHandler("jqGridBeforeSelectRow",[Q[0].id,e]);if(r=r!==!1&&"stop"!==r,r&&$.isFunction(i.p.beforeSelectRow)&&(r=i.p.beforeSelectRow.call(i,Q[0].id,e)),"A"!=B.tagName&&("INPUT"!=B.tagName&&"TEXTAREA"!=B.tagName&&"OPTION"!=B.tagName&&"SELECT"!=B.tagName||t)&&r===!0)if(le=Q[0].id,
de=$.jgrid.getCellIndex(B),ue=$(B).closest("td,th").html(),$(i).triggerHandler("jqGridCellSelect",[le,de,ue,e]),$.isFunction(i.p.onCellSelect)&&i.p.onCellSelect.call(i,le,de,ue,e),i.p.cellEdit===!0)if(i.p.multiselect&&t)$(i).jqGrid("setSelection",le,!0,e);else{le=Q[0].rowIndex;try{$(i).jqGrid("editCell",le,de,!0)}catch(n){}}else if(i.p.multikey)e[i.p.multikey]?$(i).jqGrid("setSelection",le,!0,e):i.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+le).is(":checked"),$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+le)[i.p.useProp?"prop":"attr"]("checked",t));else if(i.p.multiselect&&i.p.multiboxonly)if(t)$(i).jqGrid("setSelection",le,!0,e);else{var a=i.p.frozenColumns?i.p.id+"_frozen":"";$(i.p.selarrrow).each(function(e,t){var r=i.rows.namedItem(t);$(r).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(t))[i.p.useProp?"prop":"attr"]("checked",!1),a&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(a)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(a))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.p.selarrrow=[],$(i).jqGrid("setSelection",le,!0,e)}else $(i).jqGrid("setSelection",le,!0,e)}).bind("reloadGrid",function(e,t){if(i.p.treeGrid===!0&&(i.p.datatype=i.p.treedatatype),t&&t.current&&i.grid.selectionPreserver(i),"local"==i.p.datatype?($(i).jqGrid("resetSelection"),i.p.data.length&&y()):i.p.treeGrid||(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],I(!1)),i.p.savedRow=[]),i.p.scroll&&_.call(i,!0,!1),t&&t.page){var r=t.page;r>i.p.lastpage&&(r=i.p.lastpage),r<1&&(r=1),i.p.page=r,i.grid.prevRowHeight?i.grid.bDiv.scrollTop=(r-1)*i.grid.prevRowHeight*i.p.rowNum:i.grid.bDiv.scrollTop=0}return i.grid.prevRowHeight&&i.p.scroll?(delete i.p.lastpage,i.grid.populateVisible()):i.grid.populate(),i.p._inlinenav===!0&&$(i).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){B=e.target,Q=$(B,i.rows).closest("tr.jqgrow"),0!==$(Q).length&&(le=Q[0].rowIndex,de=$.jgrid.getCellIndex(B),$(i).triggerHandler("jqGridDblClickRow",[$(Q).attr("id"),le,de,e]),$.isFunction(this.p.ondblClickRow)&&i.p.ondblClickRow.call(i,$(Q).attr("id"),le,de,e))}).bind("contextmenu",function(e){B=e.target,Q=$(B,i.rows).closest("tr.jqgrow"),0!==$(Q).length&&(i.p.multiselect||$(i).jqGrid("setSelection",Q[0].id,!0,e),le=Q[0].rowIndex,de=$.jgrid.getCellIndex(B),$(i).triggerHandler("jqGridRightClickRow",[$(Q).attr("id"),le,de,e]),$.isFunction(this.p.onRightClickRow)&&i.p.onRightClickRow.call(i,$(Q).attr("id"),le,de,e))}),r.bDiv=document.createElement("div"),o&&"auto"===String(i.p.height).toLowerCase()&&(i.p.height="100%"),$(r.bDiv).append($('<div style="position:relative;'+(o&&$.jgrid.msiever()<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:i.p.height+(isNaN(i.p.height)?"":"px"),width:r.width+"px"}).scroll(r.scrollGrid),$("table:first",r.bDiv).css({width:i.p.tblwidth+"px"}),$.support.tbody||2==$("tbody",this).length&&$("tbody:gt(0)",this).remove(),i.p.multikey&&($.jgrid.msie?$(r.bDiv).bind("selectstart",function(){return!1}):$(r.bDiv).bind("mousedown",function(){return!1})),se&&$(r.bDiv).hide(),r.cDiv=document.createElement("div");var ce=i.p.hidegrid===!0?$("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){ce.addClass("ui-state-hover")},function(){ce.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"==a?"left":"right","0px"):"";if($(r.cDiv).append(ce).append("<span class='ui-jqgrid-title"+("rtl"==a?"-rtl":"")+"'>"+i.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix"),$(r.cDiv).insertBefore(r.hDiv),i.p.toolbar[0]&&(r.uDiv=document.createElement("div"),"top"==i.p.toolbar[1]?$(r.uDiv).insertBefore(r.hDiv):"bottom"==i.p.toolbar[1]&&$(r.uDiv).insertAfter(r.hDiv),"both"==i.p.toolbar[1]?(r.ubDiv=document.createElement("div"),$(r.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(r.hDiv),$(r.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(r.hDiv),se&&$(r.ubDiv).hide()):$(r.uDiv).width(r.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),se&&$(r.uDiv).hide()),i.p.toppager&&(i.p.toppager=$.jgrid.jqID(i.p.id)+"_toppager",r.topDiv=$("<div id='"+i.p.toppager+"'></div>")[0],i.p.toppager="#"+i.p.toppager,$(r.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(r.width).insertBefore(r.hDiv),P(i.p.toppager,"_t")),i.p.footerrow&&(r.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],oe=$("<div class='ui-jqgrid-hbox"+("rtl"==a?"-rtl":"")+"'></div>"),$(r.sDiv).append(oe).width(r.width).insertAfter(r.hDiv),$(oe).append(te),r.footers=$(".ui-jqgrid-ftable",r.sDiv)[0].rows[0].cells,i.p.rownumbers&&(r.footers[0].className="ui-state-default jqgrid-rownum"),se&&$(r.sDiv).hide()),oe=null,i.p.caption){var he=i.p.datatype;i.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",r.cDiv).click(function(e){var t,n=$.isFunction(i.p.onHeaderClick),a=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",s=this;return i.p.toolbar[0]===!0&&("both"==i.p.toolbar[1]&&(a+=", #"+$(r.ubDiv).attr("id")),a+=", #"+$(r.uDiv).attr("id")),t=$(a,"#gview_"+$.jgrid.jqID(i.p.id)).length,"visible"==i.p.gridstate?$(a,"#gbox_"+$.jgrid.jqID(i.p.id)).slideUp("fast",function(){t--,0===t&&($("span",s).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(i.p.id)).hide(),$(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,e]),n&&(se||i.p.onHeaderClick.call(i,i.p.gridstate,e)))}):"hidden"==i.p.gridstate&&$(a,"#gbox_"+$.jgrid.jqID(i.p.id)).slideDown("fast",function(){t--,0===t&&($("span",s).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),se&&(i.p.datatype=he,T(),se=!1),i.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(i.p.id)).show(),$(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,e]),n&&(se||i.p.onHeaderClick.call(i,i.p.gridstate,e)))}),!1}),se&&(i.p.datatype="local",$(".ui-jqgrid-titlebar-close",r.cDiv).trigger("click")))}else $(r.cDiv).hide();$(r.hDiv).after(r.bDiv).mousemove(function(e){if(r.resizing)return r.dragMove(e),!1}),$(".ui-jqgrid-labels",r.hDiv).bind("selectstart",function(){return!1}),$(document).mouseup(function(){return!r.resizing||(r.dragEnd(),!1)}),i.formatCol=c,i.sortData=A,i.updatepager=C,i.refreshIndex=y,i.setHeadCheckBox=I,i.constructTr=x,i.formatter=function(e,t,i,r,n){return p(e,t,i,r,n)},$.extend(r,{populate:T,emptyRows:_}),this.grid=r,i.addXmlData=function(e){w(e,i.grid.bDiv)},i.addJSONData=function(e){k(e,i.grid.bDiv)},this.grid.cols=this.rows[0].cells,$(i).triggerHandler("jqGridInitGrid"),$.isFunction(i.p.onInitGrid)&&i.p.onInitGrid.call(i),T(),i.p.hiddengrid=!1}})},$.jgrid.extend({getGridParam:function(e){var t=this[0];if(t&&t.grid)return e?void 0!==t.p[e]?t.p[e]:null:t.p},setGridParam:function(e){return this.each(function(){this.grid&&"object"==typeof e&&$.extend(!0,this.p,e)})},getDataIDs:function(){var e,t=[],i=0,r=0;return this.each(function(){if(e=this.rows.length,e&&e>0)for(;i<e;)$(this.rows[i]).hasClass("jqgrow")&&(t[r]=this.rows[i].id,r++),i++}),t},setSelection:function(e,t,i){return this.each(function(){function r(e){var t=$(u.grid.bDiv)[0].clientHeight,i=$(u.grid.bDiv)[0].scrollTop,r=$(u.rows[e]).position().top,n=u.rows[e].clientHeight;r+n>=t+i?$(u.grid.bDiv)[0].scrollTop=r-(t+i)+n+i:r<t+i&&r<i&&($(u.grid.bDiv)[0].scrollTop=r)}var n,a,s,o,l,d,u=this;void 0!==e&&(t=t!==!1,a=u.rows.namedItem(String(e)),!a||!a.className||a.className.indexOf("ui-state-disabled")>-1||(u.p.scrollrows===!0&&(s=u.rows.namedItem(e).rowIndex,s>=0&&r(s)),u.p.frozenColumns===!0&&(d=u.p.id+"_frozen"),u.p.multiselect?(u.setHeadCheckBox(!1),u.p.selrow=a.id,o=$.inArray(u.p.selrow,u.p.selarrrow),o===-1?("ui-subgrid"!==a.className&&$(a).addClass("ui-state-highlight").attr("aria-selected","true"),n=!0,u.p.selarrrow.push(u.p.selrow)):("ui-subgrid"!==a.className&&$(a).removeClass("ui-state-highlight").attr("aria-selected","false"),n=!1,u.p.selarrrow.splice(o,1),l=u.p.selarrrow[0],u.p.selrow=void 0===l?null:l),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(a.id))[u.p.useProp?"prop":"attr"]("checked",n),d&&(o===-1?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass("ui-state-highlight"):$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d))[u.p.useProp?"prop":"attr"]("checked",n)),$(u).triggerHandler("jqGridSelectRow",[a.id,n,i]),u.p.onSelectRow&&t&&u.p.onSelectRow.call(u,a.id,n,i)):"ui-subgrid"!==a.className&&(u.p.selrow!=a.id?($(u.rows.namedItem(u.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(a).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),d&&($("#"+$.jgrid.jqID(u.p.selrow),"#"+$.jgrid.jqID(d)).removeClass("ui-state-highlight"),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass("ui-state-highlight")),n=!0):n=!1,u.p.selrow=a.id,$(u).triggerHandler("jqGridSelectRow",[a.id,n,i]),u.p.onSelectRow&&t&&u.p.onSelectRow.call(u,a.id,n,i))))})},resetSelection:function(e){return this.each(function(){var t,i,r,n=this;n.p.frozenColumns===!0&&(r=n.p.id+"_frozen"),void 0!==e?(i=e===n.p.selrow?n.p.selrow:e,$("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&$("#"+$.jgrid.jqID(i),"#"+$.jgrid.jqID(r)).removeClass("ui-state-highlight"),n.p.multiselect&&($("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(i),"#"+$.jgrid.jqID(n.p.id))[n.p.useProp?"prop":"attr"]("checked",!1),r&&$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(i),"#"+$.jgrid.jqID(r))[n.p.useProp?"prop":"attr"]("checked",!1),n.setHeadCheckBox(!1)),i=null):n.p.multiselect?($(n.p.selarrrow).each(function(e,i){t=n.rows.namedItem(i),$(t).removeClass("ui-state-highlight").attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(i))[n.p.useProp?"prop":"attr"]("checked",!1),r&&($("#"+$.jgrid.jqID(i),"#"+$.jgrid.jqID(r)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(i),"#"+$.jgrid.jqID(r))[n.p.useProp?"prop":"attr"]("checked",!1))}),n.setHeadCheckBox(!1),n.p.selarrrow=[]):n.p.selrow&&($("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(n.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&$("#"+$.jgrid.jqID(n.p.selrow),"#"+$.jgrid.jqID(r)).removeClass("ui-state-highlight"),n.p.selrow=null),n.p.cellEdit===!0&&parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0&&($("td:eq("+n.p.iCol+")",n.rows[n.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(n.rows[n.p.iRow]).removeClass("selected-row ui-state-hover")),n.p.savedRow=[]})},getRowData:function(e){var t,i,r={},n=!1,a=0;return this.each(function(){var s,o,l=this;if(void 0===e)n=!0,t=[],i=l.rows.length;else{if(o=l.rows.namedItem(e),!o)return r;i=2}for(;a<i;)n&&(o=l.rows[a]),$(o).hasClass("jqgrow")&&($('td[role="gridcell"]',o).each(function(e){if(s=l.p.colModel[e].name,"cb"!==s&&"subgrid"!==s&&"rn"!==s)if(l.p.treeGrid===!0&&s==l.p.ExpandColumn)r[s]=$.jgrid.htmlDecode($("span:first",this).html());else try{r[s]=$.unformat.call(l,this,{rowId:o.id,colModel:l.p.colModel[e]},e)}catch(t){r[s]=$.jgrid.htmlDecode($(this).html())}}),n&&(t.push(r),r={})),a++}),t||r},delRowData:function(e){var t,i,r,n=!1;return this.each(function(){var a=this;if(t=a.rows.namedItem(e),!t)return!1;if(r=t.rowIndex,$(t).remove(),a.p.records--,a.p.reccount--,a.updatepager(!0,!1),n=!0,a.p.multiselect&&(i=$.inArray(e,a.p.selarrrow),i!=-1&&a.p.selarrrow.splice(i,1)),a.p.multiselect&&a.p.selarrrow.length>0?a.p.selrow=a.p.selarrrow[a.p.selarrrow.length-1]:a.p.selrow=null,"local"==a.p.datatype){var s=$.jgrid.stripPref(a.p.idPrefix,e),o=a.p._index[s];void 0!==o&&(a.p.data.splice(o,1),a.refreshIndex())}if(a.p.altRows===!0&&n){var l=a.p.altclass;$(a.rows).each(function(e){e%2==1?$(this).addClass(l):$(this).removeClass(l)})}}),n},setRowData:function(e,t,i){var r,n,a=!0;return this.each(function(){if(!this.grid)return!1;var s,o,l=this,d=typeof i,u={};if(o=l.rows.namedItem(e),!o)return!1;if(t)try{if($(this.p.colModel).each(function(i){r=this.name,void 0!==t[r]&&(u[r]=this.formatter&&"string"==typeof this.formatter&&"date"==this.formatter?$.unformat.date.call(l,t[r],this):t[r],s=l.formatter(e,t[r],i,t,"edit"),n=this.title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid===!0&&r==l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",o).html(s).attr(n):$("td[role='gridcell']:eq("+i+")",o).html(s).attr(n))}),"local"==l.p.datatype){var c,h=$.jgrid.stripPref(l.p.idPrefix,e),p=l.p._index[h];if(l.p.treeGrid)for(c in l.p.treeReader)l.p.treeReader.hasOwnProperty(c)&&delete u[l.p.treeReader[c]];void 0!==p&&(l.p.data[p]=$.extend(!0,l.p.data[p],u)),u=null}}catch(f){a=!1}a&&("string"===d?$(o).addClass(i):"object"===d&&$(o).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))}),a},addRowData:function(e,t,i,r){i||(i="last");var n,a,s,o,l,d,u,c,h,p,f,g,m,v,b=!1,_="";return t&&($.isArray(t)?(h=!0,i="last",p=e):(t=[t],h=!1),this.each(function(){var y=this,x=t.length;l=y.p.rownumbers===!0?1:0,s=y.p.multiselect===!0?1:0,o=y.p.subGrid===!0?1:0,h||(void 0!==e?e=String(e):(e=$.jgrid.randId(),y.p.keyIndex!==!1&&(p=y.p.colModel[y.p.keyIndex+s+o+l].name,void 0!==t[0][p]&&(e=t[0][p])))),f=y.p.altclass;for(var w=0,k="",j={},C=!!$.isFunction(y.p.afterInsertRow);w<x;){if(g=t[w],a=[],h){try{e=g[p],void 0===e&&(e=$.jgrid.randId())}catch(D){e=$.jgrid.randId()}k=y.p.altRows===!0&&(y.rows.length-1)%2===0?f:""}for(v=e,e=y.p.idPrefix+e,l&&(_=y.formatCol(0,1,"",null,e,!0),a[a.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+_+">0</td>"),s&&(c='<input role="checkbox" type="checkbox" id="jqg_'+y.p.id+"_"+e+'" class="cbox"/>',_=y.formatCol(l,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+_+">"+c+"</td>"),o&&(a[a.length]=$(y).jqGrid("addSubGridCell",s+l,1)),u=s+o+l;u<y.p.colModel.length;u++)m=y.p.colModel[u],n=m.name,j[n]=g[n],c=y.formatter(e,$.jgrid.getAccessor(g,n),u,g),_=y.formatCol(u,1,c,g,e,j),a[a.length]='<td role="gridcell" '+_+">"+c+"</td>";if(a.unshift(y.constructTr(e,!1,k,j,g,!1)),a[a.length]="</tr>",0===y.rows.length)$("table:first",y.grid.bDiv).append(a.join(""));else switch(i){case"last":$(y.rows[y.rows.length-1]).after(a.join("")),d=y.rows.length-1;break;case"first":$(y.rows[0]).after(a.join("")),d=1;break;case"after":d=y.rows.namedItem(r),d&&($(y.rows[d.rowIndex+1]).hasClass("ui-subgrid")?$(y.rows[d.rowIndex+1]).after(a):$(d).after(a.join(""))),d++;break;case"before":d=y.rows.namedItem(r),d&&($(d).before(a.join("")),d=d.rowIndex),d--}y.p.subGrid===!0&&$(y).jqGrid("addSubGrid",s+l,d),y.p.records++,y.p.reccount++,$(y).triggerHandler("jqGridAfterInsertRow",[e,g,g]),C&&y.p.afterInsertRow.call(y,e,g,g),w++,"local"==y.p.datatype&&(j[y.p.localReader.id]=v,y.p._index[v]=y.p.data.length,y.p.data.push(j),j={})}y.p.altRows!==!0||h||("last"==i?(y.rows.length-1)%2==1&&$(y.rows[y.rows.length-1]).addClass(f):$(y.rows).each(function(e){e%2==1?$(this).addClass(f):$(this).removeClass(f)})),y.updatepager(!0,!0),b=!0})),b},footerData:function(e,t,i){function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var n,a,s=!1,o={};return void 0===e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var l,d=this;return!(!d.grid||!d.p.footerrow)&&(("set"!=e||!r(t))&&(s=!0,void $(this.p.colModel).each(function(r){n=this.name,"set"==e?void 0!==t[n]&&(l=i?d.formatter("",t[n],r,t,"edit"):t[n],a=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+r+")",d.grid.sDiv).html(l).attr(a),s=!0):"get"==e&&(o[n]=$("tr.footrow td:eq("+r+")",d.grid.sDiv).html())})))}),"get"==e?o:s},showHideCol:function(e,t){return this.each(function(){var i,r=this,n=!1,a=$.jgrid.cell_width?0:r.p.cellLayout;if(r.grid){"string"==typeof e&&(e=[e]),t="none"!=t?"":"none";var s=""===t,o=r.p.groupHeader&&("object"==typeof r.p.groupHeader||$.isFunction(r.p.groupHeader));o&&$(r).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(o){if($.inArray(this.name,e)!==-1&&this.hidden===s){if(r.p.frozenColumns===!0&&this.frozen===!0)return!0;$("tr",r.grid.hDiv).each(function(){$(this.cells[o]).css("display",t)}),$(r.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[o]).css("display",t)}),r.p.footerrow&&$("tr.footrow td:eq("+o+")",r.grid.sDiv).css("display",t),i=parseInt(this.width,10),"none"===t?r.p.tblwidth-=i+a:r.p.tblwidth+=i+a,this.hidden=!s,n=!0,$(r).triggerHandler("jqGridShowHideCol",[s,this.name,o])}}),n===!0&&(r.p.shrinkToFit!==!0||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),$(r).jqGrid("setGridWidth",r.p.shrinkToFit===!0?r.p.tblwidth:r.p.width)),o&&$(r).jqGrid("setGroupHeaders",r.p.groupHeader)}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(e,t,i){function r(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(e,function(e){t[e]=i[this]})}function n(t,i){$(">tr"+(i||""),t).each(function(){var t=this,i=$.makeArray(t.cells);$.each(e,function(){var e=i[this];e&&t.appendChild(e)})})}var a=this.get(0);r(a.p.colModel),r(a.p.colNames),r(a.grid.headers),n($("thead:first",a.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&n($("#"+$.jgrid.jqID(a.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),a.p.footerrow&&n($("tbody:first",a.grid.sDiv)),a.p.remapColumns&&(a.p.remapColumns.length?r(a.p.remapColumns):a.p.remapColumns=$.makeArray(e)),a.p.lastsort=$.inArray(a.p.lastsort,e),a.p.treeGrid&&(a.p.expColInd=$.inArray(a.p.expColInd,e)),$(a).triggerHandler("jqGridRemapColumns",[e,t,i])},setGridWidth:function(e,t){return this.each(function(){if(this.grid){var i,r,n,a,s=this,o=0,l=$.jgrid.cell_width?0:s.p.cellLayout,d=0,u=!1,c=s.p.scrollOffset,h=0,p=0;if("boolean"!=typeof t&&(t=s.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),s.grid.width=s.p.width=e,$("#gbox_"+$.jgrid.jqID(s.p.id)).css("width",e+"px"),$("#gview_"+$.jgrid.jqID(s.p.id)).css("width",e+"px"),$(s.grid.bDiv).css("width",e+"px"),$(s.grid.hDiv).css("width",e+"px"),s.p.pager&&$(s.p.pager).css("width",e+"px"),s.p.toppager&&$(s.p.toppager).css("width",e+"px"),s.p.toolbar[0]===!0&&($(s.grid.uDiv).css("width",e+"px"),"both"==s.p.toolbar[1]&&$(s.grid.ubDiv).css("width",e+"px")),s.p.footerrow&&$(s.grid.sDiv).css("width",e+"px"),t===!1&&s.p.forceFit===!0&&(s.p.forceFit=!1),t===!0){if($.each(s.p.colModel,function(){this.hidden===!1&&(i=this.widthOrg,o+=i+l,this.fixed?h+=i+l:d++,p++)}),0===d)return;s.p.tblwidth=o,n=e-l*d-h,isNaN(s.p.height)||($(s.grid.bDiv)[0].clientHeight<$(s.grid.bDiv)[0].scrollHeight||1===s.rows.length)&&(u=!0,n-=c),o=0;var f=s.grid.cols.length>0;if($.each(s.p.colModel,function(e){if(this.hidden===!1&&!this.fixed){if(i=this.widthOrg,i=Math.round(n*i/(s.p.tblwidth-l*d-h)),i<0)return;this.width=i,o+=i,s.grid.headers[e].width=i,s.grid.headers[e].el.style.width=i+"px",s.p.footerrow&&(s.grid.footers[e].style.width=i+"px"),f&&(s.grid.cols[e].style.width=i+"px"),r=e}}),!r)return;if(a=0,u?e-h-(o+l*d)!==c&&(a=e-h-(o+l*d)-c):1!==Math.abs(e-h-(o+l*d))&&(a=e-h-(o+l*d)),s.p.colModel[r].width+=a,s.p.tblwidth=o+a+l*d+h,s.p.tblwidth>e){var g=s.p.tblwidth-parseInt(e,10);s.p.tblwidth=e,i=s.p.colModel[r].width=s.p.colModel[r].width-g}else i=s.p.colModel[r].width;s.grid.headers[r].width=i,s.grid.headers[r].el.style.width=i+"px",f&&(s.grid.cols[r].style.width=i+"px"),s.p.footerrow&&(s.grid.footers[r].style.width=i+"px")}s.p.tblwidth&&($("table:first",s.grid.bDiv).css("width",s.p.tblwidth+"px"),$("table:first",s.grid.hDiv).css("width",s.p.tblwidth+"px"),s.grid.hDiv.scrollLeft=s.grid.bDiv.scrollLeft,s.p.footerrow&&$("table:first",s.grid.sDiv).css("width",s.p.tblwidth+"px"))}}})},setGridHeight:function(e){return this.each(function(){var t=this;if(t.grid){var i=$(t.grid.bDiv);i.css({height:e+(isNaN(e)?"":"px")}),t.p.frozenColumns===!0&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(i.height()-16),t.p.height=e,t.p.scroll&&t.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show()})},setLabel:function(e,t,i,r){return this.each(function(){var n=this,a=-1;if(n.grid&&void 0!==e&&($(n.p.colModel).each(function(t){if(this.name==e)return a=t,!1}),a>=0)){var s=$("tr.ui-jqgrid-labels th:eq("+a+")",n.grid.hDiv);if(t){var o=$(".s-ico",s);$("[id^=jqgh_]",s).empty().html(t).append(o),n.p.colNames[a]=t}i&&("string"==typeof i?$(s).addClass(i):$(s).css(i)),"object"==typeof r&&$(s).attr(r)}})},setCell:function(e,t,i,r,n,a){return this.each(function(){var s,o,l=this,d=-1;if(l.grid&&(isNaN(t)?$(l.p.colModel).each(function(e){if(this.name==t)return d=e,!1}):d=parseInt(t,10),d>=0)){var u=l.rows.namedItem(e);if(u){var c=$("td:eq("+d+")",u);if((""!==i||a===!0)&&(s=l.formatter(e,i,d,u,"edit"),o=l.p.colModel[d].title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid&&$(".tree-wrap",$(c)).length>0?$("span",$(c)).html(s).attr(o):$(c).html(s).attr(o),"local"==l.p.datatype)){var h,p=l.p.colModel[d];i=p.formatter&&"string"==typeof p.formatter&&"date"==p.formatter?$.unformat.date.call(l,i,p):i,h=l.p._index[e],void 0!==h&&(l.p.data[h][p.name]=i)}"string"==typeof r?$(c).addClass(r):r&&$(c).css(r),"object"==typeof n&&$(c).attr(n)}}})},getCell:function(e,t){var i=!1;return this.each(function(){var r=this,n=-1;if(r.grid&&(isNaN(t)?$(r.p.colModel).each(function(e){if(this.name===t)return n=e,!1}):n=parseInt(t,10),n>=0)){var a=r.rows.namedItem(e);if(a)try{i=$.unformat.call(r,$("td:eq("+n+")",a),{rowId:a.id,colModel:r.p.colModel[n]},n)}catch(s){i=$.jgrid.htmlDecode($("td:eq("+n+")",a).html())}}}),i},getCol:function(e,t,i){var r,n,a,s,o=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each(function(){var d=this,u=-1;if(d.grid&&(isNaN(e)?$(d.p.colModel).each(function(t){if(this.name===e)return u=t,!1}):u=parseInt(e,10),u>=0)){var c=d.rows.length,h=0;if(c&&c>0){for(;h<c;){if($(d.rows[h]).hasClass("jqgrow")){try{r=$.unformat.call(d,$(d.rows[h].cells[u]),{rowId:d.rows[h].id,colModel:d.p.colModel[u]},u)}catch(p){r=$.jgrid.htmlDecode(d.rows[h].cells[u].innerHTML)}i?(s=parseFloat(r),l+=s,void 0===a&&(a=n=s),n=Math.min(n,s),a=Math.max(a,s)):t?o.push({id:d.rows[h].id,value:r}):o.push(r)}h++}if(i)switch(i.toLowerCase()){case"sum":o=l;break;case"avg":o=l/c;break;case"count":o=c;break;case"min":o=n;break;case"max":o=a}}}}),o},clearGridData:function(e){return this.each(function(){var t=this;if(t.grid){if("boolean"!=typeof e&&(e=!1),t.p.deepempty)$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove();else{var i=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(i)}t.p.footerrow&&e&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1)}})},getInd:function(e,t){var i,r=!1;return this.each(function(){i=this.rows.namedItem(e),i&&(r=t===!0?i:i.rowIndex)}),r},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this;$("body").is("[role]")||$("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,$(e).keydown(function(i){var r,n,a,s=$(e).find("tr[tabindex=0]")[0],o=e.p.treeReader.expanded_field;if(s)if(a=e.p._index[s.id],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(n=s.previousSibling,r="",n)if($(n).is(":hidden")){for(;n;)if(n=n.previousSibling,!$(n).is(":hidden")&&$(n).hasClass("jqgrow")){r=n.id;break}}else r=n.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}if(40===i.keyCode){if(n=s.nextSibling,r="",n)if($(n).is(":hidden")){for(;n;)if(n=n.nextSibling,!$(n).is(":hidden")&&$(n).hasClass("jqgrow")){r=n.id;break}}else r=n.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}37===i.keyCode&&(e.p.treeGrid&&e.p.data[a][o]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),$.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===i.keyCode&&(e.p.treeGrid&&!e.p.data[a][o]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),$.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else 13===i.keyCode?($(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),$.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===i.keyCode&&($(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),$.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&(t=this.p._index[e],t>=0&&(i=this.p.data[t]))}),i}})}(jQuery),function(e){"use strict";e.jgrid.extend({getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var r,n=i.p.colModel;for(r=0;r<n.length;r++)if(n[r].name==e){t=n[r];break}return t},setColProp:function(t,i){return this.each(function(){if(this.grid&&i){var r,n=this.p.colModel;for(r=0;r<n.length;r++)if(n[r].name==t){e.extend(!0,this.p.colModel[r],i);break}}})},sortGrid:function(e,t,i){return this.each(function(){var r,n=this,a=-1;if(n.grid){for(e||(e=n.p.sortname),r=0;r<n.p.colModel.length;r++)if(n.p.colModel[r].index==e||n.p.colModel[r].name==e){a=r;break}if(a!=-1){var s=n.p.colModel[a].sortable;"boolean"!=typeof s&&(s=!0),"boolean"!=typeof t&&(t=!1),s&&n.sortData("jqgh_"+n.p.id+"_"+e,a,t,i)}}})},clearBeforeUnload:function(){return this.each(function(){var t=this.grid;t.emptyRows.call(this,!0,!0),e(t.hDiv).unbind("mousemove"),e(this).unbind(),t.dragEnd=null,t.dragMove=null,t.dragStart=null,t.emptyRows=null,t.populate=null,t.populateVisible=null,t.scrollGrid=null,t.selectionPreserver=null,t.bDiv=null,t.cDiv=null,t.hDiv=null,t.cols=null;var i,r=t.headers.length;for(i=0;i<r;i++)t.headers[i].el=null;this.formatCol=null,this.sortData=null,this.updatepager=null,this.refreshIndex=null,this.setHeadCheckBox=null,this.constructTr=null,this.formatter=null,this.addXmlData=null,this.addJSONData=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&e(this.p.pager).remove();try{e(this).jqGrid("clearBeforeUnload"),e("#gbox_"+e.jgrid.jqID(this.id)).remove()}catch(t){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var t={id:e(this).attr("id"),cl:e(this).attr("class")};this.p.pager&&e(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var i=document.createElement("table");e(i).attr({id:t.id}),i.className=t.cl;var r=e.jgrid.jqID(this.id);e(i).removeClass("ui-jqgrid-btable"),1===e(this.p.pager).parents("#gbox_"+r).length?(e(i).insertBefore("#gbox_"+r).show(),e(this.p.pager).insertBefore("#gbox_"+r)):e(i).insertBefore("#gbox_"+r).show(),e(this).jqGrid("clearBeforeUnload"),e("#gbox_"+r).remove()}})},setGridState:function(t){return this.each(function(){if(this.grid){var i=this;"hidden"==t?(e(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+e.jgrid.jqID(i.p.id)).slideUp("fast"),i.p.pager&&e(i.p.pager).slideUp("fast"),i.p.toppager&&e(i.p.toppager).slideUp("fast"),i.p.toolbar[0]===!0&&("both"==i.p.toolbar[1]&&e(i.grid.ubDiv).slideUp("fast"),e(i.grid.uDiv).slideUp("fast")),i.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(i.p.id)).slideUp("fast"),e(".ui-jqgrid-titlebar-close span",i.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden"):"visible"==t&&(e(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+e.jgrid.jqID(i.p.id)).slideDown("fast"),i.p.pager&&e(i.p.pager).slideDown("fast"),i.p.toppager&&e(i.p.toppager).slideDown("fast"),i.p.toolbar[0]===!0&&("both"==i.p.toolbar[1]&&e(i.grid.ubDiv).slideDown("fast"),e(i.grid.uDiv).slideDown("fast")),i.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(i.p.id)).slideDown("fast"),e(".ui-jqgrid-titlebar-close span",i.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),i.p.gridstate="visible")}})},filterToolbar:function(t){return t=e.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw"},t||{}),this.each(function(){var i=this;if(!this.ftoolbar){var r,n=function(){var r,n,a,s={},o=0,l={};e.each(i.p.colModel,function(){if(n=this.index||this.name,a=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"==this.stype?"eq":t.defaultSearch,r=e("#gs_"+e.jgrid.jqID(this.name),this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv).val())s[n]=r,l[n]=a,o++;else try{delete i.p.postData[n]}catch(d){}});var d=o>0;if(t.stringResult===!0||"local"==i.p.datatype){var u='{"groupOp":"'+t.groupOp+'","rules":[',c=0;e.each(s,function(e,t){c>0&&(u+=","),u+='{"field":"'+e+'",',u+='"op":"'+l[e]+'",',t+="",u+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',c++}),u+="]}",e.extend(i.p.postData,{filters:u}),e.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else e.extend(i.p.postData,s);var h;i.p.searchurl&&(h=i.p.url,e(i).jqGrid("setGridParam",{url:i.p.searchurl}));var p="stop"===e(i).triggerHandler("jqGridToolbarBeforeSearch");!p&&e.isFunction(t.beforeSearch)&&(p=t.beforeSearch.call(i)),p||e(i).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),h&&e(i).jqGrid("setGridParam",{url:h}),e(i).triggerHandler("jqGridToolbarAfterSearch"),e.isFunction(t.afterSearch)&&t.afterSearch.call(i)},a=function(r){var n,a={},s=0;r="boolean"!=typeof r||r,e.each(i.p.colModel,function(){var t;switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),n=this.index||this.name,this.stype){case"select":if(e("#gs_"+e.jgrid.jqID(this.name)+" option",this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv).each(function(i){if(0===i&&(this.selected=!0),e(this).val()==t)return this.selected=!0,!1}),void 0!==t)a[n]=t,s++;else try{delete i.p.postData[n]}catch(r){}break;case"text":if(e("#gs_"+e.jgrid.jqID(this.name),this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv).val(t),void 0!==t)a[n]=t,s++;else try{delete i.p.postData[n]}catch(o){}}});var o=s>0;if(t.stringResult===!0||"local"==i.p.datatype){var l='{"groupOp":"'+t.groupOp+'","rules":[',d=0;e.each(a,function(e,t){d>0&&(l+=","),l+='{"field":"'+e+'",',l+='"op":"eq",',t+="",l+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',d++}),l+="]}",e.extend(i.p.postData,{filters:l}),e.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else e.extend(i.p.postData,a);var u;i.p.searchurl&&(u=i.p.url,e(i).jqGrid("setGridParam",{url:i.p.searchurl}));var c="stop"===e(i).triggerHandler("jqGridToolbarBeforeClear");!c&&e.isFunction(t.beforeClear)&&(c=t.beforeClear.call(i)),c||r&&e(i).jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[{page:1}]),u&&e(i).jqGrid("setGridParam",{url:u}),e(i).triggerHandler("jqGridToolbarAfterClear"),e.isFunction(t.afterClear)&&t.afterClear()},s=function(){var t=e("tr.ui-search-toolbar",i.grid.hDiv),r=i.p.frozenColumns===!0&&e("tr.ui-search-toolbar",i.grid.fhDiv);"none"==t.css("display")?(t.show(),r&&r.show()):(t.hide(),r&&r.hide())},o=e("<tr class='ui-search-toolbar' role='rowheader'></tr>");e.each(i.p.colModel,function(){var a,s,l,d,u,c=this;if(s=e("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+i.p.direction+"'></th>"),a=e("<div style='position:relative;height:100%;padding-right:0.3em;'></div>"),this.hidden===!0&&e(s).css("display","none"),
this.search=this.search!==!1,void 0===this.stype&&(this.stype="text"),l=e.extend({},this.searchoptions||{}),this.search)switch(this.stype){case"select":if(d=this.surl||l.dataUrl)u=a,e.ajax(e.extend({url:d,dataType:"html",success:function(r){if(void 0!==l.buildSelect){var a=l.buildSelect(r);a&&e(u).append(a)}else e(u).append(r);void 0!==l.defaultValue&&e("select",u).val(l.defaultValue),e("select",u).attr({name:c.index||c.name,id:"gs_"+c.name}),l.attr&&e("select",u).attr(l.attr),e("select",u).css({width:"100%"}),e.jgrid.bindEv(e("select",u)[0],l,i),t.autosearch===!0&&e("select",u).change(function(){return n(),!1}),r=null}},e.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{}));else{var h,p,f;if(c.searchoptions?(h=void 0===c.searchoptions.value?"":c.searchoptions.value,p=void 0===c.searchoptions.separator?":":c.searchoptions.separator,f=void 0===c.searchoptions.delimiter?";":c.searchoptions.delimiter):c.editoptions&&(h=void 0===c.editoptions.value?"":c.editoptions.value,p=void 0===c.editoptions.separator?":":c.editoptions.separator,f=void 0===c.editoptions.delimiter?";":c.editoptions.delimiter),h){var g=document.createElement("select");g.style.width="100%",e(g).attr({name:c.index||c.name,id:"gs_"+c.name});var m,v,b,_,y;if("string"==typeof h)for(m=h.split(f),y=0;y<m.length;y++)v=m[y].split(p),b=document.createElement("option"),b.value=v[0],b.innerHTML=v[1],g.appendChild(b);else if("object"==typeof h)for(_ in h)h.hasOwnProperty(_)&&(b=document.createElement("option"),b.value=_,b.innerHTML=h[_],g.appendChild(b));void 0!==l.defaultValue&&e(g).val(l.defaultValue),l.attr&&e(g).attr(l.attr),e.jgrid.bindEv(g,l,i),e(a).append(g),t.autosearch===!0&&e(g).change(function(){return n(),!1})}}break;case"text":var x=void 0!==l.defaultValue?l.defaultValue:"";e(a).append("<input type='text' style='width:95%;padding:0px;' name='"+(c.index||c.name)+"' id='gs_"+c.name+"' value='"+x+"'/>"),l.attr&&e("input",a).attr(l.attr),e.jgrid.bindEv(e("input",a)[0],l,i),t.autosearch===!0&&(t.searchOnEnter?e("input",a).keypress(function(e){var t=e.charCode||e.keyCode||0;return 13==t?(n(),!1):this}):e("input",a).keydown(function(e){var t=e.which;switch(t){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:r&&clearTimeout(r),r=setTimeout(function(){n()},500)}}))}e(s).append(a),e(o).append(s)}),e("table thead",i.grid.hDiv).append(o),this.ftoolbar=!0,this.triggerToolbar=n,this.clearToolbar=a,this.toggleToolbar=s}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.ftoolbar=!1,e(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var i,r,n,a,s,o,l,d=this,u=d.grid,c=e("table.ui-jqgrid-htable thead",u.hDiv),h=d.p.colModel;if(u){for(e(this).unbind(".setGroupHeaders"),i=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),a=u.headers,r=0,n=a.length;r<n;r++){l=h[r].hidden?"none":"",s=e(a[r].el).width(a[r].width).css("display",l);try{s.removeAttr("rowSpan")}catch(p){s.attr("rowSpan",1)}i.append(s),o=s.children("span.ui-jqgrid-resize"),o.length>0&&(o[0].style.height=""),s.children("div")[0].style.top=""}e(c).children("tr.ui-jqgrid-labels").remove(),e(c).prepend(i),t===!0&&e(d).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(t){return t=e.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){this.p.groupHeader=t;var i,r,n,a,s,o,l,d,u,c,h,p,f,g=this,m=0,v=g.p.colModel,b=v.length,_=g.grid.headers,y=e("table.ui-jqgrid-htable",g.grid.hDiv),x=y.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),w=y.children("thead"),k=y.find(".jqg-first-row-header");void 0===k[0]?k=e("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):k.empty();var j,C=function(e,t){var i,r=t.length;for(i=0;i<r;i++)if(t[i].startColumnName===e)return i;return-1};for(e(g).prepend(w),n=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header"),i=0;i<b;i++)if(s=_[i].el,o=e(s),r=v[i],l={height:"0px",width:_[i].width+"px",display:r.hidden?"none":""},e("<th>",{role:"gridcell"}).css(l).addClass("ui-first-th-"+g.p.direction).appendTo(k),s.style.width="",d=C(r.name,t.groupHeaders),d>=0){for(u=t.groupHeaders[d],c=u.numberOfColumns,h=u.titleText,p=0,d=0;d<c&&i+d<b;d++)v[i+d].hidden||p++;a=e("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+g.p.direction).css({height:"22px","border-top":"0px none"}).html(h),p>0&&a.attr("colspan",String(p)),g.p.headertitles&&a.attr("title",a.text()),0===p&&a.hide(),o.before(a),n.append(s),m=c-1}else 0===m?t.useColSpanStyle?o.attr("rowspan","2"):(e("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+g.p.direction).css({display:r.hidden?"none":"","border-top":"0px none"}).insertBefore(o),n.append(s)):(n.append(s),m--);f=e(g).children("thead"),f.prepend(k),n.insertAfter(x),y.append(f),t.useColSpanStyle&&(y.find("span.ui-jqgrid-resize").each(function(){var t=e(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),y.find("div.ui-jqgrid-sortable").each(function(){var t=e(this),i=t.parent();i.is(":visible")&&i.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(i.height()-t.outerHeight())/2+"px")})),j=f.find("tr.jqg-first-row-header"),e(g).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){j.find("th").eq(i).width(t)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var t=this,i=t.p.colModel,r=0,n=i.length,a=-1,s=!1;if(!(t.p.subGrid===!0||t.p.treeGrid===!0||t.p.cellEdit===!0||t.p.sortable||t.p.scroll||t.p.grouping)){for(t.p.rownumbers&&r++,t.p.multiselect&&r++;r<n&&i[r].frozen===!0;)s=!0,a=r,r++;if(a>=0&&s){var o=t.p.caption?e(t.grid.cDiv).outerHeight():0,l=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).height();t.p.toppager&&(o+=e(t.grid.topDiv).outerHeight()),t.p.toolbar[0]===!0&&"bottom"!=t.p.toolbar[1]&&(o+=e(t.grid.uDiv).outerHeight()),t.grid.fhDiv=e('<div style="position:absolute;left:0px;top:'+o+"px;height:"+l+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>'),t.grid.fbDiv=e('<div style="position:absolute;left:0px;top:'+(parseInt(o,10)+parseInt(l,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fhDiv);var d=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).clone(!0);if(t.p.groupHeader){e("tr.jqg-first-row-header, tr.jqg-third-row-header",d).each(function(){e("th:gt("+a+")",this).remove()});var u=-1,c=-1;e("tr.jqg-second-row-header th",d).each(function(){var t=parseInt(e(this).attr("colspan"),10);if(t&&(u+=t,c++),u===a)return!1}),u!==a&&(c=a),e("tr.jqg-second-row-header",d).each(function(){e("th:gt("+c+")",this).remove()})}else e("tr",d).each(function(){e("th:gt("+a+")",this).remove()});e(d).width(1),e(t.grid.fhDiv).append(d).mousemove(function(e){if(t.grid.resizing)return t.grid.dragMove(e),!1}),e(t).bind("jqGridResizeStop.setFrozenColumns",function(i,r,n){var a=e(".ui-jqgrid-htable",t.grid.fhDiv);e("th:eq("+n+")",a).width(r);var s=e(".ui-jqgrid-btable",t.grid.fbDiv);e("tr:first td:eq("+n+")",s).width(r)}),e(t).bind("jqGridOnSortCol.setFrozenColumns",function(i,r){var n=e("tr.ui-jqgrid-labels:last th:eq("+t.p.lastsort+")",t.grid.fhDiv),a=e("tr.ui-jqgrid-labels:last th:eq("+r+")",t.grid.fhDiv);e("span.ui-grid-ico-sort",n).addClass("ui-state-disabled"),e(n).attr("aria-selected","false"),e("span.ui-icon-"+t.p.sortorder,a).removeClass("ui-state-disabled"),e(a).attr("aria-selected","true"),t.p.viewsortcols[0]||t.p.lastsort!=r&&(e("span.s-ico",n).hide(),e("span.s-ico",a).show())}),e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fbDiv),e(t.grid.bDiv).scroll(function(){e(t.grid.fbDiv).scrollTop(e(this).scrollTop())}),t.p.hoverrows===!0&&e("#"+e.jgrid.jqID(t.p.id)).unbind("mouseover").unbind("mouseout"),e(t).bind("jqGridAfterGridComplete.setFrozenColumns",function(){e("#"+e.jgrid.jqID(t.p.id)+"_frozen").remove(),e(t.grid.fbDiv).height(e(t.grid.bDiv).height()-16);var i=e("#"+e.jgrid.jqID(t.p.id)).clone(!0);e("tr",i).each(function(){e("td:gt("+a+")",this).remove()}),e(i).width(1).attr("id",t.p.id+"_frozen"),e(t.grid.fbDiv).append(i),t.p.hoverrows===!0&&(e("tr.jqgrow",i).hover(function(){e(this).addClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).removeClass("ui-state-hover")}),e("tr.jqgrow","#"+e.jgrid.jqID(t.p.id)).hover(function(){e(this).addClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").removeClass("ui-state-hover")})),i=null}),t.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&this.p.frozenColumns===!0){var t=this;if(e(t.grid.fhDiv).remove(),e(t.grid.fbDiv).remove(),t.grid.fhDiv=null,t.grid.fbDiv=null,e(this).unbind(".setFrozenColumns"),t.p.hoverrows===!0){var i;e("#"+e.jgrid.jqID(t.p.id)).bind("mouseover",function(t){i=e(t.target).closest("tr.jqgrow"),"ui-subgrid"!==e(i).attr("class")&&e(i).addClass("ui-state-hover")}).bind("mouseout",function(t){i=e(t.target).closest("tr.jqgrow"),e(i).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}})}(jQuery),function(e){e.fn.jqm=function(r){var a={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:n,ajaxText:"",target:n,modal:n,toTop:n,onShow:n,onHide:n,onLoad:n};return this.each(function(){return this._jqm?i[this._jqm].c=e.extend({},i[this._jqm].c,r):(t++,this._jqm=t,i[t]={c:e.extend(a,e.jqm.params,r),a:n,w:e(this).addClass("jqmID"+t),s:t},void(a.trigger&&e(this).jqmAddTrigger(a.trigger)))})},e.fn.jqmAddClose=function(e){return d(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return d(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(t,s){var l=i[t],d=l.c,u="."+d.closeClass,c=parseInt(l.w.css("z-index"));c=c>0?c:3e3;var h=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":c-1,opacity:d.overlay/100});if(l.a)return n;if(l.t=s,l.a=!0,l.w.css("z-index",c),d.modal?(r[0]||setTimeout(function(){o("bind")},1),r.push(t)):d.overlay>0?d.closeoverlay&&l.w.jqmAddClose(h):h=n,l.o=h?h.addClass(d.overlayClass).prependTo("body"):n,d.ajax){var p=d.target||l.w,f=d.ajax;p="string"==typeof p?e(p,l.w):e(p),f="@"==f.substr(0,1)?e(s).attr(f.substring(1)):f,p.html(d.ajaxText).load(f,function(){d.onLoad&&d.onLoad.call(this,l),u&&l.w.jqmAddClose(e(u,l.w)),a(l)})}else u&&l.w.jqmAddClose(e(u,l.w));return d.toTop&&l.o&&l.w.before('<span id="jqmP'+l.w[0]._jqm+'"></span>').insertAfter(l.o),d.onShow?d.onShow(l):l.w.show(),a(l),n},close:function(t){var a=i[t];return a.a?(a.a=n,r[0]&&(r.pop(),r[0]||o("unbind")),a.c.toTop&&a.o&&e("#jqmP"+a.w[0]._jqm).after(a.w).remove(),a.c.onHide?a.c.onHide(a):(a.w.hide(),a.o&&a.o.remove()),n):n},params:{}};var t=0,i=e.jqm.hash,r=[],n=!1,a=function(e){s(e)},s=function(t){try{e(":input:visible",t.w)[0].focus()}catch(i){}},o=function(t){e(document)[t]("keypress",l)[t]("keydown",l)[t]("mousedown",l)},l=function(t){var n=i[r[r.length-1]],a=!e(t.target).parents(".jqmID"+n.s)[0];return a&&s(n),!a},d=function(t,r,a){return t.each(function(){var t=this._jqm;e(r).each(function(){this[a]||(this[a]=[],e(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])i[this[e][t]]&&i[this[e][t]].w[e](this);return n})),this[a].push(t)})})}}(jQuery),function(e){e.fn.jqDrag=function(e){return s(this,e,"d")},e.fn.jqResize=function(e,t){return s(this,e,"r",t)},e.jqDnR={dnr:{},e:0,drag:function(e){return"d"==n.k?a.css({left:n.X+e.pageX-n.pX,top:n.Y+e.pageY-n.pY}):(a.css({width:Math.max(e.pageX-n.pX+n.W,0),height:Math.max(e.pageY-n.pY+n.H,0)}),i&&t.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)})),!1},stop:function(){e(document).unbind("mousemove",r.drag).unbind("mouseup",r.stop)}};var t,i,r=e.jqDnR,n=r.dnr,a=r.e,s=function(r,s,d,u){return r.each(function(){s=s?e(s,r):r,s.bind("mousedown",{e:r,k:d},function(r){var s=r.data,d={};if(a=s.e,t=!!u&&e(u),"relative"!=a.css("position"))try{a.position(d)}catch(c){}if(n={X:d.left||o("left")||0,Y:d.top||o("top")||0,W:o("width")||a[0].scrollWidth||0,H:o("height")||a[0].scrollHeight||0,pX:r.pageX,pY:r.pageY,k:s.k},i=!(!t||"d"==s.k)&&{X:d.left||l("left")||0,Y:d.top||l("top")||0,W:t[0].offsetWidth||l("width")||0,H:t[0].offsetHeight||l("height")||0,pX:r.pageX,pY:r.pageY,k:s.k},e("input.hasDatepicker",a[0])[0])try{e("input.hasDatepicker",a[0]).datepicker("hide")}catch(h){}return e(document).mousemove(e.jqDnR.drag).mouseup(e.jqDnR.stop),!1})})},o=function(e){return parseInt(a.css(e),10)||!1},l=function(e){return parseInt(t.css(e),10)||!1}}(jQuery);var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),r=this.toObj(i),n=this.toJson(r,e.nodeName,"\t");return"{\n"+t+(t?n.replace(/\t/g,t):n.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,r=function(e,t,i){var n,a,s="";if(e instanceof Array)if(0===e.length)s+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(n=0,a=e.length;n<a;n+=1){var o=i+r(e[n],t,i+"\t")+"\n";s+=o}else if("object"==typeof e){var l=!1;s+=i+"<"+t;var d;for(d in e)e.hasOwnProperty(d)&&("@"===d.charAt(0)?s+=" "+d.substr(1)+'="'+e[d].toString()+'"':l=!0);if(s+=l?">":"/>",l){for(d in e)e.hasOwnProperty(d)&&("#text"===d?s+=e[d]:"#cdata"===d?s+="<![CDATA["+e[d]+"]]>":"@"!==d.charAt(0)&&(s+=r(e[d],d,i+"\t")));s+=("\n"===s.charAt(s.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?s+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),s+='""'===e.toString()||0===e.toString().length?i+"<"+t+">__EMPTY_STRING_</"+t+">":i+"<"+t+">"+e.toString()+"</"+t+">");return s},n="";for(i in e)e.hasOwnProperty(i)&&(n+=r(e[i],i,""));return t?n.replace(/\t/g,t):n.replace(/\t|\n/g,"")},toObj:function(e){var t={},i=/function/i;if(1===e.nodeType){if(e.attributes.length){var r;for(r=0;r<e.attributes.length;r+=1)t["@"+e.attributes[r].nodeName]=(e.attributes[r].nodeValue||"").toString()}if(e.firstChild){var n,a=0,s=0,o=!1;for(n=e.firstChild;n;n=n.nextSibling)1===n.nodeType?o=!0:3===n.nodeType&&n.nodeValue.match(/[^ \f\n\r\t\v]/)?a+=1:4===n.nodeType&&(s+=1);if(o)if(a<2&&s<2)for(this.removeWhite(e),n=e.firstChild;n;n=n.nextSibling)3===n.nodeType?t["#text"]=this.escape(n.nodeValue):4===n.nodeType?i.test(n.nodeValue)?t[n.nodeName]=[t[n.nodeName],n.nodeValue]:t["#cdata"]=this.escape(n.nodeValue):t[n.nodeName]?t[n.nodeName]instanceof Array?t[n.nodeName][t[n.nodeName].length]=this.toObj(n):t[n.nodeName]=[t[n.nodeName],this.toObj(n)]:t[n.nodeName]=this.toObj(n);else e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):t=this.escape(this.innerXml(e));else if(a)e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):(t=this.escape(this.innerXml(e)),"__EMPTY_ARRAY_"===t?t="[]":"__EMPTY_STRING_"===t&&(t=""));else if(s)if(s>1)t=this.escape(this.innerXml(e));else for(n=e.firstChild;n;n=n.nextSibling){if(i.test(e.firstChild.nodeValue)){t=e.firstChild.nodeValue;break}t["#cdata"]=this.escape(n.nodeValue)}}e.attributes.length||e.firstChild||(t=null)}else 9===e.nodeType?t=this.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,i,r){void 0===r&&(r=!0);var n=t?'"'+t+'"':"",a="\t",s="\n";if(r||(a="",s=""),"[]"===e)n+=t?":[]":"[]";else if(e instanceof Array){var o,l,d=[];for(l=0,o=e.length;l<o;l+=1)d[l]=this.toJson(e[l],"",i+a,r);n+=(t?":[":"[")+(d.length>1?s+i+a+d.join(","+s+i+a)+s+i:d.join(""))+"]"}else if(null===e)n+=(t&&":")+"null";else if("object"==typeof e){var u,c=[];for(u in e)e.hasOwnProperty(u)&&(c[c.length]=this.toJson(e[u],u,i+a,r));n+=(t?":{":"{")+(c.length>1?s+i+a+c.join(","+s+i+a)+s+i:c.join(""))+"}"}else n+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return n},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var i=function(e){var t,r="";if(1===e.nodeType){for(r+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)r+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){r+=">";for(var n=e.firstChild;n;n=n.nextSibling)r+=i(n);r+="</"+e.nodeName+">"}else r+="/>"}else 3===e.nodeType?r+=e.nodeValue:4===e.nodeType&&(r+="<![CDATA["+e.nodeValue+"]]>");return r},r=e.firstChild;r;r=r.nextSibling)t+=i(r);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();var t;for(t=e.firstChild;t;)if(3===t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1===t.nodeType?(this.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};!function(e){"use strict";e.fmatter={},e.extend(e.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t))}}),e.fn.fmatter=function(t,i,r,n,a){var s=i;r=e.extend({},e.jgrid.formatter,r);try{s=e.fn.fmatter[t].call(this,i,r,n,a)}catch(o){}return s},e.fmatter.util={NumberFormat:function(t,i){if(e.fmatter.isNumber(t)||(t*=1),e.fmatter.isNumber(t)){var r,n=t<0,a=String(t),s=i.decimalSeparator||".";if(e.fmatter.isNumber(i.decimalPlaces)){var o=i.decimalPlaces,l=Math.pow(10,o);if(a=String(Math.round(t*l)/l),r=a.lastIndexOf("."),o>0)for(r<0?(a+=s,r=a.length-1):"."!==s&&(a=a.replace(".",s));a.length-1-r<o;)a+="0"}if(i.thousandsSeparator){var d=i.thousandsSeparator;r=a.lastIndexOf(s),r=r>-1?r:a.length;var u,c=a.substring(r),h=-1;for(u=r;u>0;u--)h++,h%3===0&&u!==r&&(!n||u>1)&&(c=d+c),c=a.charAt(u-1)+c;a=c}return a=i.prefix?i.prefix+a:a,a=i.suffix?a+i.suffix:a}return t},DateFormat:function(t,i,r,n){var a,s,o,l=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/[^-+\dA-Z]/g,c=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),h="string"==typeof i?i.match(c):null,p=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},f={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},g=0,m=["i18n"];if(m.i18n={dayNames:n.dayNames,monthNames:n.monthNames},n.masks.hasOwnProperty(t)&&(t=n.masks[t]),isNaN(i-0)||"u"!=String(t).toLowerCase())if(i.constructor===Date)g=i;else if(null!==h){if(g=new Date(parseInt(h[1],10)),h[3]){var v=60*Number(h[5])+Number(h[6]);v*="-"==h[4]?1:-1,v-=g.getTimezoneOffset(),g.setTime(Number(Number(g)+60*v*1e3))}}else{for(i=String(i).split(/[\\\/:_;.,\t\T\s-]/),t=t.split(/[\\\/:_;.,\t\T\s-]/),s=0,o=t.length;s<o;s++)"M"==t[s]&&(a=e.inArray(i[s],m.i18n.monthNames),a!==-1&&a<12&&(i[s]=a+1)),"F"==t[s]&&(a=e.inArray(i[s],m.i18n.monthNames),a!==-1&&a>11&&(i[s]=a+1-12)),i[s]&&(f[t[s].toLowerCase()]=parseInt(i[s],10));if(f.f&&(f.m=f.f),0===f.m&&0===f.y&&0===f.d)return"&#160;";f.m=parseInt(f.m,10)-1;var b=f.y;b>=70&&b<=99?f.y=1900+f.y:b>=0&&b<=69&&(f.y=2e3+f.y),g=new Date(f.y,f.m,f.d,f.h,f.i,f.s,f.u)}else g=new Date(1e3*parseFloat(i));n.masks.hasOwnProperty(r)?r=n.masks[r]:r||(r="Y-m-d");var _=g.getHours(),y=g.getMinutes(),x=g.getDate(),w=g.getMonth()+1,k=g.getTimezoneOffset(),j=g.getSeconds(),C=g.getMilliseconds(),D=g.getDay(),S=g.getFullYear(),T=(D+6)%7+1,I=(new Date(S,w-1,x)-new Date(S,0,1))/864e5,P={d:p(x),D:m.i18n.dayNames[D],j:x,l:m.i18n.dayNames[D+7],N:T,S:n.S(x),w:D,z:I,W:T<5?Math.floor((I+T-1)/7)+1:Math.floor((I+T-1)/7)||((new Date(S-1,0,1).getDay()+6)%7<4?53:52),F:m.i18n.monthNames[w-1+12],m:p(w),M:m.i18n.monthNames[w-1],n:w,t:"?",L:"?",o:"?",Y:S,y:String(S).substring(2),a:_<12?n.AmPm[0]:n.AmPm[1],A:_<12?n.AmPm[2]:n.AmPm[3],B:"?",g:_%12||12,G:_,h:p(_%12||12),H:p(_),i:p(y),s:p(j),u:C,e:"?",I:"?",O:(k>0?"-":"+")+p(100*Math.floor(Math.abs(k)/60)+Math.abs(k)%60,4),P:"?",T:(String(g).match(d)||[""]).pop().replace(u,""),Z:"?",c:"?",r:"?",U:Math.floor(g/1e3)};return r.replace(l,function(e){return P.hasOwnProperty(e)?P[e]:e.substring(1)})}},e.fn.fmatter.defaultFormat=function(t,i){return e.fmatter.isValue(t)&&""!==t?t:i.defaultValue||"&#160;"},e.fn.fmatter.email=function(t,i){return e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"</a>"},e.fn.fmatter.checkbox=function(t,i){var r,n=e.extend({},i.checkbox);void 0===i.colModel||e.fmatter.isUndefined(i.colModel.formatoptions)||(n=e.extend({},n,i.colModel.formatoptions)),r=n.disabled===!0?'disabled="disabled"':"",(e.fmatter.isEmpty(t)||e.fmatter.isUndefined(t))&&(t=e.fn.fmatter.defaultFormat(t,n)),t=String(t),t=t.toLowerCase();var a=t.search(/(false|0|no|n|off)/i)<0?" checked='checked' ":"";return'<input type="checkbox" '+a+' value="'+t+'" offval="no" '+r+"/>"},e.fn.fmatter.link=function(t,i){var r={target:i.target},n="";return void 0===i.colModel||e.fmatter.isUndefined(i.colModel.formatoptions)||(r=e.extend({},r,i.colModel.formatoptions)),r.target&&(n="target="+r.target),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):"<a "+n+' href="'+t+'">'+t+"</a>"},e.fn.fmatter.showlink=function(t,i){var r,n={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},a="";return void 0===i.colModel||e.fmatter.isUndefined(i.colModel.formatoptions)||(n=e.extend({},n,i.colModel.formatoptions)),n.target&&(a="target="+n.target),r=n.baseLinkUrl+n.showAction+"?"+n.idName+"="+i.rowId+n.addParam,e.fmatter.isString(t)||e.fmatter.isNumber(t)?"<a "+a+' href="'+r+'">'+t+"</a>":e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.integer=function(t,i){var r=e.extend({},i.integer);return void 0===i.colModel||e.fmatter.isUndefined(i.colModel.formatoptions)||(r=e.extend({},r,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.number=function(t,i){var r=e.extend({},i.number);return void 0===i.colModel||e.fmatter.isUndefined(i.colModel.formatoptions)||(r=e.extend({},r,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.currency=function(t,i){var r=e.extend({},i.currency);return void 0===i.colModel||e.fmatter.isUndefined(i.colModel.formatoptions)||(r=e.extend({},r,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?r.defaultValue:e.fmatter.util.NumberFormat(t,r)},e.fn.fmatter.date=function(t,i,r,n){var a=e.extend({},i.date);return void 0===i.colModel||e.fmatter.isUndefined(i.colModel.formatoptions)||(a=e.extend({},a,i.colModel.formatoptions)),a.reformatAfterEdit||"edit"!=n?e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.fmatter.util.DateFormat(a.srcformat,t,a.newformat,a):e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.select=function(t,i){t=String(t);var r,n,a=!1,s=[];if(e.fmatter.isUndefined(i.colModel.formatoptions)?e.fmatter.isUndefined(i.colModel.editoptions)||(a=i.colModel.editoptions.value,r=void 0===i.colModel.editoptions.separator?":":i.colModel.editoptions.separator,n=void 0===i.colModel.editoptions.delimiter?";":i.colModel.editoptions.delimiter):(a=i.colModel.formatoptions.value,r=void 0===i.colModel.formatoptions.separator?":":i.colModel.formatoptions.separator,n=void 0===i.colModel.formatoptions.delimiter?";":i.colModel.formatoptions.delimiter),a){var o,l=i.colModel.editoptions.multiple===!0,d=[];if(l&&(d=t.split(","),d=e.map(d,function(t){return e.trim(t)})),e.fmatter.isString(a)){var u,c=a.split(n),h=0;for(u=0;u<c.length;u++)if(o=c[u].split(r),o.length>2&&(o[1]=e.map(o,function(e,t){if(t>0)return e}).join(r)),l)e.inArray(o[0],d)>-1&&(s[h]=o[1],h++);else if(e.trim(o[0])==e.trim(t)){s[0]=o[1];break}}else e.fmatter.isObject(a)&&(l?s=e.map(d,function(e){return a[e]}):s[0]=a[t]||"")}return t=s.join(", "),""===t?e.fn.fmatter.defaultFormat(t,i):t},e.fn.fmatter.rowactions=function(t){var i=e(this).closest("tr.jqgrow"),r=e(this).parent(),n=i.attr("id"),a=e(this).closest("table.ui-jqgrid-btable"),s=a[0],o=s.p,l=o.colModel[e.jgrid.getCellIndex(this)],d={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,mtype:"POST",delOptions:{},editOptions:{}},u=function(t,i){e.isFunction(d.afterSave)&&d.afterSave.call(s,t,i),r.find("div.ui-inline-edit,div.ui-inline-del").show(),r.find("div.ui-inline-save,div.ui-inline-cancel").hide()},c=function(t){e.isFunction(d.afterRestore)&&d.afterRestore.call(s,t),r.find("div.ui-inline-edit,div.ui-inline-del").show(),r.find("div.ui-inline-save,div.ui-inline-cancel").hide()};e.fmatter.isUndefined(l.formatoptions)||(d=e.extend(d,l.formatoptions)),e.fmatter.isUndefined(o.editOptions)||(d.editOptions=o.editOptions),e.fmatter.isUndefined(o.delOptions)||(d.delOptions=o.delOptions),i.hasClass("jqgrid-new-row")&&(d.extraparam[o.prmNames.oper]=o.prmNames.addoper);var h={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:u,errorfunc:d.onError,afterrestorefunc:c,restoreAfterError:d.restoreAfterError,mtype:d.mtype};switch(t){case"edit":a.jqGrid("editRow",n,h),r.find("div.ui-inline-edit,div.ui-inline-del").hide(),r.find("div.ui-inline-save,div.ui-inline-cancel").show(),a.triggerHandler("jqGridAfterGridComplete");break;case"save":a.jqGrid("saveRow",n,h)&&(r.find("div.ui-inline-edit,div.ui-inline-del").show(),r.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":a.jqGrid("restoreRow",n,c),r.find("div.ui-inline-edit,div.ui-inline-del").show(),r.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete");break;case"del":a.jqGrid("delGridRow",n,d.delOptions);break;case"formedit":a.jqGrid("setSelection",n),a.jqGrid("editGridRow",n,d.editOptions)}},e.fn.fmatter.actions=function(t,i){var r,n={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},a=i.rowId,s="";return e.fmatter.isUndefined(i.colModel.formatoptions)||(n=e.extend(n,i.colModel.formatoptions)),void 0===a||e.fmatter.isEmpty(a)?"":(n.editformbutton?(r="onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",s+="<div title='"+e.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='ui-icon ui-icon-pencil'></span></div>"):n.editbutton&&(r="onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ",s+="<div title='"+e.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='ui-icon ui-icon-pencil'></span></div>"),n.delbutton&&(r="onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",s+="<div title='"+e.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+r+"><span class='ui-icon ui-icon-trash'></span></div>"),r="onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",s+="<div title='"+e.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+r+"><span class='ui-icon ui-icon-disk'></span></div>",r="onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",s+="<div title='"+e.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+r+"><span class='ui-icon ui-icon-cancel'></span></div>","<div style='margin-left:8px;'>"+s+"</div>")},e.unformat=function(t,i,r,n){var a,s,o=i.colModel.formatter,l=i.colModel.formatoptions||{},d=/([\.\*\_\'\(\)\{\}\+\?\\])/g,u=i.colModel.unformat||e.fn.fmatter[o]&&e.fn.fmatter[o].unformat;if(void 0!==u&&e.isFunction(u))a=u.call(this,e(t).text(),i,t);else if(!e.fmatter.isUndefined(o)&&e.fmatter.isString(o)){var c,h=e.jgrid.formatter||{};switch(o){case"integer":l=e.extend({},h.integer,l),s=l.thousandsSeparator.replace(d,"\\$1"),c=new RegExp(s,"g"),a=e(t).text().replace(c,"");break;case"number":l=e.extend({},h.number,l),s=l.thousandsSeparator.replace(d,"\\$1"),c=new RegExp(s,"g"),a=e(t).text().replace(c,"").replace(l.decimalSeparator,".");break;case"currency":l=e.extend({},h.currency,l),s=l.thousandsSeparator.replace(d,"\\$1"),c=new RegExp(s,"g"),a=e(t).text(),l.prefix&&l.prefix.length&&(a=a.substr(l.prefix.length)),l.suffix&&l.suffix.length&&(a=a.substr(0,a.length-l.suffix.length)),a=a.replace(c,"").replace(l.decimalSeparator,".");break;case"checkbox":var p=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];a=e("input",t).is(":checked")?p[0]:p[1];break;case"select":a=e.unformat.select(t,i,r,n);break;case"actions":return"";default:a=e(t).text()}}return void 0!==a?a:n===!0?e(t).text():e.jgrid.htmlDecode(e(t).html())},e.unformat.select=function(t,i,r,n){var a=[],s=e(t).text();if(n===!0)return s;var o=e.extend({},e.fmatter.isUndefined(i.colModel.formatoptions)?i.colModel.editoptions:i.colModel.formatoptions),l=void 0===o.separator?":":o.separator,d=void 0===o.delimiter?";":o.delimiter;if(o.value){var u,c=o.value,h=o.multiple===!0,p=[];if(h&&(p=s.split(","),p=e.map(p,function(t){return e.trim(t)})),e.fmatter.isString(c)){var f,g=c.split(d),m=0;for(f=0;f<g.length;f++)if(u=g[f].split(l),u.length>2&&(u[1]=e.map(u,function(e,t){if(t>0)return e}).join(l)),h)e.inArray(u[1],p)>-1&&(a[m]=u[0],m++);else if(e.trim(u[1])==e.trim(s)){a[0]=u[0];break}}else(e.fmatter.isObject(c)||e.isArray(c))&&(h||(p[0]=s),a=e.map(p,function(t){var i;if(e.each(c,function(e,r){if(r==t)return i=e,!1}),void 0!==i)return i}));return a.join(", ")}return s||""},e.unformat.date=function(t,i){var r=e.jgrid.formatter.date||{};return e.fmatter.isUndefined(i.formatoptions)||(r=e.extend({},r,i.formatoptions)),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.fmatter.util.DateFormat(r.newformat,t,r.srcformat,r)}}(jQuery),function(e){"use strict";e.extend(e.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(t,i){if(i=e.extend({jqm:!0,gb:""},i||{}),i.onClose){var r=i.gb&&"string"==typeof i.gb&&"#gbox_"===i.gb.substr(0,6)?i.onClose.call(e("#"+i.gb.substr(6))[0],t):i.onClose(t);if("boolean"==typeof r&&!r)return}if(e.fn.jqm&&i.jqm===!0)e(t).attr("aria-hidden","true").jqmHide();else{if(""!==i.gb)try{e(".jqgrid-overlay:first",i.gb).hide()}catch(n){}e(t).hide().attr("aria-hidden","true")}},findPos:function(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop;while(e=e.offsetParent);return[t,i]},createModal:function(t,i,r,n,a,s,o){r=e.extend(!0,{},e.jgrid.jqModal||{},r);var l,d=document.createElement("div"),u=this;o=e.extend({},o||{}),l="rtl"==e(r.gbox).attr("dir"),d.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",d.id=t.themodal;var c=document.createElement("div");c.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",c.id=t.modalhead,e(c).append("<span class='ui-jqdialog-title'>"+r.caption+"</span>");
var h=e("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");e(c).append(h),l?(d.dir="rtl",e(".ui-jqdialog-title",c).css("float","right"),e(".ui-jqdialog-titlebar-close",c).css("left","0.3em")):(d.dir="ltr",e(".ui-jqdialog-title",c).css("float","left"),e(".ui-jqdialog-titlebar-close",c).css("right","0.3em"));var p=document.createElement("div");e(p).addClass("ui-jqdialog-content ui-widget-content").attr("id",t.modalcontent),e(p).append(i),d.appendChild(p),e(d).prepend(c),s===!0?e("body").append(d):"string"==typeof s?e(s).append(d):e(d).insertBefore(n),e(d).css(o),void 0===r.jqModal&&(r.jqModal=!0);var f={};if(e.fn.jqm&&r.jqModal===!0){if(0===r.left&&0===r.top&&r.overlay){var g=[];g=e.jgrid.findPos(a),r.left=g[0]+4,r.top=g[1]+4}f.top=r.top+"px",f.left=r.left}else 0===r.left&&0===r.top||(f.left=r.left,f.top=r.top+"px");if(e("a.ui-jqdialog-titlebar-close",c).click(function(){var i=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,n=e("#"+e.jgrid.jqID(t.themodal)).data("gbox")||r.gbox;return u.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:n,jqm:r.jqModal,onClose:i}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),!r.zIndex){var m=e(n).parents("*[role=dialog]").filter(":first").css("z-index");m?r.zIndex=parseInt(m,10)+2:r.zIndex=950}var v=0;if(l&&f.left&&!s&&(v=e(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,f.left=parseInt(f.left,10)+parseInt(v,10)),f.left&&(f.left+="px"),e(d).css(e.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},f)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if(e(c).css("cursor","move"),e.fn.jqDrag)e(d).jqDrag(c);else try{e(d).draggable({handle:e("#"+e.jgrid.jqID(c.id))})}catch(b){}if(r.resize)if(e.fn.jqResize)e(d).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"),e("#"+e.jgrid.jqID(t.themodal)).jqResize(".jqResize",!!t.scrollelm&&"#"+e.jgrid.jqID(t.scrollelm));else try{e(d).resizable({handles:"se, sw",alsoResize:!!t.scrollelm&&"#"+e.jgrid.jqID(t.scrollelm)})}catch(_){}r.closeOnEscape===!0&&e(d).keydown(function(i){if(27==i.which){var n=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||r.onClose;u.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:n})}})},viewModal:function(t,i){if(i=e.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:e.jgrid.showModal,onHide:e.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},i||{}),e.fn.jqm&&i.jqm===!0)i.jqM?e(t).attr("aria-hidden","false").jqm(i).jqmShow():e(t).attr("aria-hidden","false").jqmShow();else{""!==i.gbox&&(e(".jqgrid-overlay:first",i.gbox).show(),e(t).data("gbox",i.gbox)),e(t).show().attr("aria-hidden","false");try{e(":input:visible",t)[0].focus()}catch(r){}}},info_dialog:function(t,i,r,n){var a={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};e.extend(!0,a,e.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},n||{});var s=a.jqModal,o=this;e.fn.jqm&&!s&&(s=!1);var l,d="";if(a.buttons.length>0)for(l=0;l<a.buttons.length;l++)void 0===a.buttons[l].id&&(a.buttons[l].id="info_button_"+l),d+="<a href='javascript:void(0)' id='"+a.buttons[l].id+"' class='fm-button ui-state-default ui-corner-all'>"+a.buttons[l].text+"</a>";var u=isNaN(a.dataheight)?a.dataheight:a.dataheight+"px",c="text-align:"+a.align+";",h="<div id='info_id'>";h+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+c+"'>"+i+"</div>",h+=r?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+r+"</a>"+d+"</div>":""!==d?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+d+"</div>":"",h+="</div>";try{"false"==e("#info_dialog").attr("aria-hidden")&&e.jgrid.hideModal("#info_dialog",{jqm:s}),e("#info_dialog").remove()}catch(p){}e.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},h,a,"","",!0),d&&e.each(a.buttons,function(t){e("#"+e.jgrid.jqID(this.id),"#info_id").bind("click",function(){return a.buttons[t].onClick.call(e("#info_dialog")),!1})}),e("#closedialog","#info_id").click(function(){return o.hideModal("#info_dialog",{jqm:s}),!1}),e(".fm-button","#info_dialog").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),e.isFunction(a.beforeOpen)&&a.beforeOpen(),e.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:a.modal,jqm:s}),e.isFunction(a.afterOpen)&&a.afterOpen();try{e("#info_dialog").focus()}catch(f){}},bindEv:function(t,i,r){e.isFunction(i.dataInit)&&i.dataInit.call(r,t),i.dataEvents&&e.each(i.dataEvents,function(){void 0!==this.data?e(t).bind(this.type,this.data,this.fn):e(t).bind(this.type,this.fn)})},createEl:function(t,i,r,n,a){function s(t,i,r){var n=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value"];void 0!==r&&e.isArray(r)&&e.merge(n,r),e.each(i,function(i,r){e.inArray(i,n)===-1&&e(t).attr(i,r)}),i.hasOwnProperty("id")||e(t).attr("id",e.jgrid.randId())}var o="",l=this;switch(t){case"textarea":o=document.createElement("textarea"),n?i.cols||e(o).css({width:"98%"}):i.cols||(i.cols=20),i.rows||(i.rows=2),("&nbsp;"==r||"&#160;"==r||1==r.length&&160==r.charCodeAt(0))&&(r=""),o.value=r,s(o,i),e(o).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(o=document.createElement("input"),o.type="checkbox",i.value){var d=i.value.split(":");r===d[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=d[0],e(o).attr("offval",d[1])}else{var u=r.toLowerCase();u.search(/(false|0|no|off|undefined)/i)<0&&""!==u?(o.checked=!0,o.defaultChecked=!0,o.value=r):o.value="on",e(o).attr("offval","off")}s(o,i,["value"]),e(o).attr("role","checkbox");break;case"select":o=document.createElement("select"),o.setAttribute("role","select");var c,h=[];if(i.multiple===!0?(c=!0,o.multiple="multiple",e(o).attr("aria-multiselectable","true")):c=!1,void 0!==i.dataUrl){var p=i.name?String(i.id).substring(0,String(i.id).length-String(i.name).length-1):String(i.id),f=i.postData||a.postData;l.p&&l.p.idPrefix?p=e.jgrid.stripPref(l.p.idPrefix,p):f=void 0,e.ajax(e.extend({url:i.dataUrl,type:"GET",dataType:"html",data:e.isFunction(f)?f.call(l,p,r,String(i.name)):f,context:{elem:o,options:i,vl:r},success:function(t){var i,r=[],n=this.elem,a=this.vl,o=e.extend({},this.options),d=o.multiple===!0;if(e.isFunction(o.buildSelect)){var u=o.buildSelect.call(l,t);i=e(u).html()}else i=e(t).html();i&&(e(n).append(i),s(n,o),void 0===o.size&&(o.size=d?3:1),d?(r=a.split(","),r=e.map(r,function(t){return e.trim(t)})):r[0]=e.trim(a),setTimeout(function(){e("option",n).each(function(t){0===t&&n.multiple&&(this.selected=!1),e(this).attr("role","option"),(e.inArray(e.trim(e(this).text()),r)>-1||e.inArray(e.trim(e(this).val()),r)>-1)&&(this.selected="selected")})},0))}},a||{}))}else if(i.value){var g;void 0===i.size&&(i.size=c?3:1),c&&(h=r.split(","),h=e.map(h,function(t){return e.trim(t)})),"function"==typeof i.value&&(i.value=i.value());var m,v,b,_=void 0===i.separator?":":i.separator,y=void 0===i.delimiter?";":i.delimiter;if("string"==typeof i.value)for(m=i.value.split(y),g=0;g<m.length;g++)v=m[g].split(_),v.length>2&&(v[1]=e.map(v,function(e,t){if(t>0)return e}).join(_)),b=document.createElement("option"),b.setAttribute("role","option"),b.value=v[0],b.innerHTML=v[1],o.appendChild(b),c||e.trim(v[0])!=e.trim(r)&&e.trim(v[1])!=e.trim(r)||(b.selected="selected"),c&&(e.inArray(e.trim(v[1]),h)>-1||e.inArray(e.trim(v[0]),h)>-1)&&(b.selected="selected");else if("object"==typeof i.value){var x,w=i.value;for(x in w)w.hasOwnProperty(x)&&(b=document.createElement("option"),b.setAttribute("role","option"),b.value=x,b.innerHTML=w[x],o.appendChild(b),c||e.trim(x)!=e.trim(r)&&e.trim(w[x])!=e.trim(r)||(b.selected="selected"),c&&(e.inArray(e.trim(w[x]),h)>-1||e.inArray(e.trim(x),h)>-1)&&(b.selected="selected"))}s(o,i,["value"])}break;case"text":case"password":case"button":var k;k="button"==t?"button":"textbox",o=document.createElement("input"),o.type=t,o.value=r,s(o,i),"button"!=t&&(n?i.size||e(o).css({width:"98%"}):i.size||(i.size=20)),e(o).attr("role",k);break;case"image":case"file":o=document.createElement("input"),o.type=t,s(o,i);break;case"custom":o=document.createElement("span");try{if(!e.isFunction(i.custom_element))throw"e1";var j=i.custom_element.call(l,r,i);if(!j)throw"e2";j=e(j).addClass("customelement").attr({id:i.id,name:i.name}),e(o).empty().append(j)}catch(C){"e1"==C&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"==C?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,"string"==typeof C?C:C.message,e.jgrid.edit.bClose)}}return o},checkDate:function(e,t){var i,r=function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},n=function(e){var t;for(t=1;t<=e;t++)this[t]=31,4!=t&&6!=t&&9!=t&&11!=t||(this[t]=30),2==t&&(this[t]=29);return this},a={};if(e=e.toLowerCase(),i=e.indexOf("/")!=-1?"/":e.indexOf("-")!=-1?"-":e.indexOf(".")!=-1?".":"/",e=e.split(i),t=t.split(i),3!=t.length)return!1;var s,o,l=-1,d=-1,u=-1;for(o=0;o<e.length;o++){var c=isNaN(t[o])?0:parseInt(t[o],10);a[e[o]]=c,s=e[o],s.indexOf("y")!=-1&&(l=o),s.indexOf("m")!=-1&&(u=o),s.indexOf("d")!=-1&&(d=o)}s="y"==e[l]||"yyyy"==e[l]?4:"yy"==e[l]?2:-1;var h,p=n(12);return l!==-1&&(h=a[e[l]].toString(),2==s&&1==h.length&&(s=1),h.length==s&&(0!==a[e[l]]||"00"==t[l])&&(u!==-1&&(h=a[e[u]].toString(),!(h.length<1||a[e[u]]<1||a[e[u]]>12)&&(d!==-1&&(h=a[e[d]].toString(),!(h.length<1||a[e[d]]<1||a[e[d]]>31||2==a[e[u]]&&a[e[d]]>r(a[e[l]])||a[e[d]]>p[a[e[u]]]))))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(t){var i,r=/^(\d{1,2}):(\d{2})([ap]m)?$/;if(!e.jgrid.isEmpty(t)){if(i=t.match(r),!i)return!1;if(i[3]){if(i[1]<1||i[1]>12)return!1}else if(i[1]>23)return!1;if(i[2]>59)return!1}return!0},checkValues:function(t,i,r,n,a){var s,o,l,d,u;if(void 0===n)if("string"==typeof i){for(o=0,u=r.p.colModel.length;o<u;o++)if(r.p.colModel[o].name==i){s=r.p.colModel[o].editrules,i=o;try{l=r.p.colModel[o].formoptions.label}catch(c){}break}}else i>=0&&(s=r.p.colModel[i].editrules);else s=n,l=void 0===a?"_":a;if(s){if(l||(l=r.p.colNames[i]),s.required===!0&&e.jgrid.isEmpty(t))return[!1,l+": "+e.jgrid.edit.msg.required,""];var h=s.required!==!1;if(s.number===!0&&(h!==!1||!e.jgrid.isEmpty(t))&&isNaN(t))return[!1,l+": "+e.jgrid.edit.msg.number,""];if(void 0!==s.minValue&&!isNaN(s.minValue)&&parseFloat(t)<parseFloat(s.minValue))return[!1,l+": "+e.jgrid.edit.msg.minValue+" "+s.minValue,""];if(void 0!==s.maxValue&&!isNaN(s.maxValue)&&parseFloat(t)>parseFloat(s.maxValue))return[!1,l+": "+e.jgrid.edit.msg.maxValue+" "+s.maxValue,""];var p;if(s.email===!0&&!(h===!1&&e.jgrid.isEmpty(t)||(p=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,p.test(t))))return[!1,l+": "+e.jgrid.edit.msg.email,""];if(s.integer===!0&&(h!==!1||!e.jgrid.isEmpty(t))){if(isNaN(t))return[!1,l+": "+e.jgrid.edit.msg.integer,""];if(t%1!==0||t.indexOf(".")!=-1)return[!1,l+": "+e.jgrid.edit.msg.integer,""]}if(s.date===!0&&!(h===!1&&e.jgrid.isEmpty(t)||(d=r.p.colModel[i].formatoptions&&r.p.colModel[i].formatoptions.newformat?r.p.colModel[i].formatoptions.newformat:r.p.colModel[i].datefmt||"Y-m-d",e.jgrid.checkDate(d,t))))return[!1,l+": "+e.jgrid.edit.msg.date+" - "+d,""];if(s.time===!0&&!(h===!1&&e.jgrid.isEmpty(t)||e.jgrid.checkTime(t)))return[!1,l+": "+e.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(s.url===!0&&!(h===!1&&e.jgrid.isEmpty(t)||(p=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,p.test(t))))return[!1,l+": "+e.jgrid.edit.msg.url,""];if(s.custom===!0&&(h!==!1||!e.jgrid.isEmpty(t))){if(e.isFunction(s.custom_func)){var f=s.custom_func.call(r,t,l);return e.isArray(f)?f:[!1,e.jgrid.edit.msg.customarray,""]}return[!1,e.jgrid.edit.msg.customfcheck,""]}}return[!0,"",""]}})}(jQuery),function(e){"use strict";e.fn.jqFilter=function(t){if("string"==typeof t){var i=e.fn.jqFilter[t];if(!i)throw"jqFilter - No such method: "+t;var r=e.makeArray(arguments).slice(1);return i.apply(this,r)}var n=e.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:"LIKE"},{name:"bn",description:"does not begin with",operator:"NOT LIKE"},{name:"in",description:"in",operator:"IN"},{name:"ni",description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:"LIKE"},{name:"en",description:"does not end with",operator:"NOT LIKE"},{name:"cn",description:"contains",operator:"LIKE"},{name:"nc",description:"does not contain",operator:"NOT LIKE"},{name:"nu",description:"is null",operator:"IS NULL"},{name:"nn",description:"is not null",operator:"IS NOT NULL"}],numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],_gridsopt:[],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},e.jgrid.filter,t||{});return this.each(function(){if(!this.filter){this.p=n,null!==this.p.filter&&void 0!==this.p.filter||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]});var t,i,r=this.p.columns.length,a=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p._gridsopt.length)for(t=0;t<this.p._gridsopt.length;t++)this.p.ops[t].description=this.p._gridsopt[t];if(this.p.initFilter=e.extend(!0,{},this.p.filter),r){for(t=0;t<r;t++)i=this.p.columns[t],i.stype?i.inputtype=i.stype:i.inputtype||(i.inputtype="text"),i.sorttype?i.searchtype=i.sorttype:i.searchtype||(i.searchtype="string"),void 0===i.hidden&&(i.hidden=!1),i.label||(i.label=i.name),i.index&&(i.name=i.index),i.hasOwnProperty("searchoptions")||(i.searchoptions={}),i.hasOwnProperty("searchrules")||(i.searchrules={});this.p.showQuery&&e(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var s=function(t,i){var r=[!0,""];if(e.isFunction(i.searchrules))r=i.searchrules(t,i);else if(e.jgrid&&e.jgrid.checkValues)try{r=e.jgrid.checkValues(t,-1,null,i.searchrules,i.label)}catch(a){}r&&r.length&&r[0]===!1&&(n.error=!r[0],n.errmsg=r[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!e.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){e("table.group:first",this).remove();var t=this.createTableForGroup(n.filter,null);e(this).append(t),e.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(t,i){var r,a=this,s=e("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),o="left";"rtl"==this.p.direction&&(o="right",s.attr("dir","rtl")),null===i&&s.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+o+"'></th></tr>");var l=e("<tr></tr>");s.append(l);var d=e("<th colspan='5' align='"+o+"'></th>");if(l.append(d),this.p.ruleButtons===!0){var u=e("<select class='opsel'></select>");d.append(u);var c,h="";for(r=0;r<n.groupOps.length;r++)c=t.groupOp===a.p.groupOps[r].op?" selected='selected'":"",h+="<option value='"+a.p.groupOps[r].op+"'"+c+">"+a.p.groupOps[r].text+"</option>";u.append(h).bind("change",function(){t.groupOp=e(u).val(),a.onchange()})}var p="<span></span>";if(this.p.groupButton&&(p=e("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>"),p.bind("click",function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:n.groupOps[0].op,rules:[],groups:[]}),a.reDraw(),a.onchange(),!1})),d.append(p),this.p.ruleButtons===!0){var f,g=e("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>");g.bind("click",function(){for(void 0===t.rules&&(t.rules=[]),r=0;r<a.p.columns.length;r++){var i=void 0===a.p.columns[r].search||a.p.columns[r].search,n=a.p.columns[r].hidden===!0,s=a.p.columns[r].searchoptions.searchhidden===!0;if(s&&i||i&&!n){f=a.p.columns[r];break}}var o;return o=f.searchoptions.sopt?f.searchoptions.sopt:a.p.sopt?a.p.sopt:e.inArray(f.searchtype,a.p.strarr)!==-1?a.p.stropts:a.p.numopts,t.rules.push({field:f.name,op:o[0],data:""}),a.reDraw(),!1}),d.append(g)}if(null!==i){var m=e("<input type='button' value='-' title='Delete group' class='delete-group'/>");d.append(m),m.bind("click",function(){for(r=0;r<i.groups.length;r++)if(i.groups[r]===t){i.groups.splice(r,1);break}return a.reDraw(),a.onchange(),!1})}if(void 0!==t.groups)for(r=0;r<t.groups.length;r++){var v=e("<tr></tr>");s.append(v);var b=e("<td class='first'></td>");v.append(b);var _=e("<td colspan='4'></td>");_.append(this.createTableForGroup(t.groups[r],t)),v.append(_)}if(void 0===t.groupOp&&(t.groupOp=a.p.groupOps[0].op),void 0!==t.rules)for(r=0;r<t.rules.length;r++)s.append(this.createTableRowForRule(t.rules[r],t));return s},this.createTableRowForRule=function(t,i){var r,s,o,l,d,u=this,c=e("<tr></tr>"),h="";c.append("<td class='first'></td>");var p=e("<td class='columns'></td>");c.append(p);var f,g=e("<select></select>"),m=[];p.append(g),g.bind("change",function(){for(t.field=e(g).val(),o=e(this).parents("tr:first"),r=0;r<u.p.columns.length;r++)if(u.p.columns[r].name===t.field){l=u.p.columns[r];break}if(l){l.searchoptions.id=e.jgrid.randId(),a&&"text"===l.inputtype&&(l.searchoptions.size||(l.searchoptions.size=10));var i=e.jgrid.createEl(l.inputtype,l.searchoptions,"",!0,u.p.ajaxSelectOptions,!0);e(i).addClass("input-elm"),s=l.searchoptions.sopt?l.searchoptions.sopt:u.p.sopt?u.p.sopt:e.inArray(l.searchtype,u.p.strarr)!==-1?u.p.stropts:u.p.numopts;var n="",d=0;for(m=[],e.each(u.p.ops,function(){m.push(this.name)}),r=0;r<s.length;r++)f=e.inArray(s[r],m),f!==-1&&(0===d&&(t.op=u.p.ops[f].name),n+="<option value='"+u.p.ops[f].name+"'>"+u.p.ops[f].description+"</option>",d++);if(e(".selectopts",o).empty().append(n),e(".selectopts",o)[0].selectedIndex=0,e.jgrid.msie&&e.jgrid.msiever()<9){var c=parseInt(e("select.selectopts",o)[0].offsetWidth,10)+1;e(".selectopts",o).width(c),e(".selectopts",o).css("width","auto")}e(".data",o).empty().append(i),e.jgrid.bindEv(i,l.searchoptions,u),e(".input-elm",o).bind("change",function(i){var r=e(this).hasClass("ui-autocomplete-input")?200:0;setTimeout(function(){var r=i.target;t.data="SPAN"===r.nodeName.toUpperCase()&&l.searchoptions&&e.isFunction(l.searchoptions.custom_value)?l.searchoptions.custom_value(e(r).children(".customelement:first"),"get"):r.value,u.onchange()},r)}),setTimeout(function(){t.data=e(i).val(),u.onchange()},0)}});var v=0;for(r=0;r<u.p.columns.length;r++){var b=void 0===u.p.columns[r].search||u.p.columns[r].search,_=u.p.columns[r].hidden===!0,y=u.p.columns[r].searchoptions.searchhidden===!0;(y&&b||b&&!_)&&(d="",t.field===u.p.columns[r].name&&(d=" selected='selected'",v=r),h+="<option value='"+u.p.columns[r].name+"'"+d+">"+u.p.columns[r].label+"</option>")}g.append(h);var x=e("<td class='operators'></td>");c.append(x),l=n.columns[v],l.searchoptions.id=e.jgrid.randId(),a&&"text"===l.inputtype&&(l.searchoptions.size||(l.searchoptions.size=10));var w=e.jgrid.createEl(l.inputtype,l.searchoptions,t.data,!0,u.p.ajaxSelectOptions,!0);"nu"!=t.op&&"nn"!=t.op||(e(w).attr("readonly","true"),e(w).attr("disabled","true"));var k=e("<select class='selectopts'></select>");for(x.append(k),k.bind("change",function(){t.op=e(k).val(),o=e(this).parents("tr:first");var i=e(".input-elm",o)[0];"nu"===t.op||"nn"===t.op?(t.data="",i.value="",i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):(i.removeAttribute("readonly"),i.removeAttribute("disabled")),u.onchange()}),s=l.searchoptions.sopt?l.searchoptions.sopt:u.p.sopt?u.p.sopt:e.inArray(l.searchtype,u.p.strarr)!==-1?u.p.stropts:u.p.numopts,h="",e.each(u.p.ops,function(){m.push(this.name)}),r=0;r<s.length;r++)f=e.inArray(s[r],m),f!==-1&&(d=t.op===u.p.ops[f].name?" selected='selected'":"",h+="<option value='"+u.p.ops[f].name+"'"+d+">"+u.p.ops[f].description+"</option>");k.append(h);var j=e("<td class='data'></td>");c.append(j),j.append(w),e.jgrid.bindEv(w,l.searchoptions,u),e(w).addClass("input-elm").bind("change",function(){t.data="custom"===l.inputtype?l.searchoptions.custom_value(e(this).children(".customelement:first"),"get"):e(this).val(),u.onchange()});var C=e("<td></td>");if(c.append(C),this.p.ruleButtons===!0){var D=e("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>");C.append(D),D.bind("click",function(){for(r=0;r<i.rules.length;r++)if(i.rules[r]===t){i.rules.splice(r,1);break}return u.reDraw(),u.onchange(),!1})}return c},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){i.length>1&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(r){alert(r)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)i.length>1&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(n){alert(n)}return i+=")","()"===i?"":i},this.getStringForRule=function(t){var i,r,a,o,l="",d="",u=["int","integer","float","number","currency"];for(i=0;i<this.p.ops.length;i++)if(this.p.ops[i].name===t.op){l=this.p.ops[i].operator,d=this.p.ops[i].name;break}for(i=0;i<this.p.columns.length;i++)if(this.p.columns[i].name===t.field){r=this.p.columns[i];break}return null==r?"":(o=t.data,"bw"!==d&&"bn"!==d||(o+="%"),"ew"!==d&&"en"!==d||(o="%"+o),"cn"!==d&&"nc"!==d||(o="%"+o+"%"),"in"!==d&&"ni"!==d||(o=" ("+o+")"),n.errorcheck&&s(t.data,r),a=e.inArray(r.searchtype,u)!==-1||"nn"===d||"nu"===d?t.field+" "+l+" "+o:t.field+" "+l+' "'+o+'"')},this.resetFilter=function(){this.p.filter=e.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){e("th.ui-state-error",this).html(""),e("tr.error",this).hide()},this.showError=function(){e("th.ui-state-error",this).html(this.p.errmsg),e("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(n.filter)},this.toString=function(){function e(e){if(i.p.errorcheck){var t,r;for(t=0;t<i.p.columns.length;t++)if(i.p.columns[t].name===e.field){r=i.p.columns[t];break}r&&s(e.data,r)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(i){var r,n="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)n.length>1&&(n+="OR"===i.groupOp?" || ":" && "),n+=t(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++)n.length>1&&(n+="OR"===i.groupOp?" || ":" && "),n+=e(i.rules[r]);return n+=")","()"===n?"":n}var i=this;return t(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},e.extend(e.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=e.jgrid.parse(t)),this.each(function(){this.p.filter=t,this.reDraw(),this.onchange()})}})}(jQuery),function(e){"use strict";e.jgrid.extend({searchGrid:function(t){return t=e.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null},e.jgrid.search,t||{}),this.each(function(){function i(i){a=e(r).triggerHandler("jqGridFilterBeforeShow",[i]),void 0===a&&(a=!0),a&&e.isFunction(t.beforeShowSearch)&&(a=t.beforeShowSearch.call(r,i)),a&&(e.jgrid.viewModal("#"+e.jgrid.jqID(s.themodal),{gbox:"#gbox_"+e.jgrid.jqID(n),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),e(r).triggerHandler("jqGridFilterAfterShow",[i]),e.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(r,i))}var r=this;if(r.grid){var n="fbox_"+r.p.id,a=!0,s={themodal:"searchmod"+n,modalhead:"searchhd"+n,modalcontent:"searchcnt"+n,scrollelm:n},o=r.p.postData[t.sFilter];if("string"==typeof o&&(o=e.jgrid.parse(o)),t.recreateFilter===!0&&e("#"+e.jgrid.jqID(s.themodal)).remove(),void 0!==e("#"+e.jgrid.jqID(s.themodal))[0])i(e("#fbox_"+e.jgrid.jqID(+r.p.id)));else{var l=e("<div><div id='"+n+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+e.jgrid.jqID(r.p.id)),d="left",u="";"rtl"==r.p.direction&&(d="right",u=" style='text-align:left'",l.attr("dir","rtl"));var c,h,p=e.extend([],r.p.colModel),f="<a href='javascript:void(0)' id='"+n+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+t.Find+"</a>",g="<a href='javascript:void(0)' id='"+n+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+t.Reset+"</a>",m="",v="",b=!1,_=-1;if(t.showQuery&&(m="<a href='javascript:void(0)' id='"+n+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>"),t.columns.length?p=t.columns:e.each(p,function(e,t){if(t.label||(t.label=r.p.colNames[e]),!b){var i=void 0===t.search||t.search,n=t.hidden===!0,a=t.searchoptions&&t.searchoptions.searchhidden===!0;(a&&i||i&&!n)&&(b=!0,c=t.index||t.name,_=e)}}),!o&&c||t.multipleSearch===!1){var y="eq";_>=0&&p[_].searchoptions&&p[_].searchoptions.sopt?y=p[_].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(y=t.sopt[0]),o={groupOp:"AND",rules:[{field:c,op:y,data:""}]}}b=!1,t.tmplNames&&t.tmplNames.length&&(b=!0,v=t.tmplLabel,v+="<select class='ui-template'>",v+="<option value='default'>Default</option>",e.each(t.tmplNames,function(e,t){v+="<option value='"+e+"'>"+t+"</option>"}),v+="</select>"),h="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+n+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+d+"'>"+g+v+"</td><td class='EditButton' "+u+">"+m+f+"</td></tr></tbody></table>",n=e.jgrid.jqID(n),e("#"+n).jqFilter({columns:p,filter:t.loadDefaults?o:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,afterRedraw:t.afterRedraw,_gridsopt:e.jgrid.search.odata,ajaxSelectOptions:r.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&e(".query",this).html(this.toUserFriendlyString()),e.isFunction(t.afterChange)&&t.afterChange.call(r,e("#"+n),t)},direction:r.p.direction}),l.append(h),b&&t.tmplFilters&&t.tmplFilters.length&&e(".ui-template",l).bind("change",function(){var i=e(this).val();return"default"==i?e("#"+n).jqFilter("addFilter",o):e("#"+n).jqFilter("addFilter",t.tmplFilters[parseInt(i,10)]),!1}),t.multipleGroup===!0&&(t.multipleSearch=!0),e(r).triggerHandler("jqGridFilterInitialize",[e("#"+n)]),e.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(r,e("#"+n)),t.gbox="#gbox_"+n,t.layer?e.jgrid.createModal(s,l,t,"#gview_"+e.jgrid.jqID(r.p.id),e("#gbox_"+e.jgrid.jqID(r.p.id))[0],"#"+e.jgrid.jqID(t.layer),{position:"relative"}):e.jgrid.createModal(s,l,t,"#gview_"+e.jgrid.jqID(r.p.id),e("#gbox_"+e.jgrid.jqID(r.p.id))[0]),(t.searchOnEnter||t.closeOnEscape)&&e("#"+e.jgrid.jqID(s.themodal)).keydown(function(i){var r=e(i.target);return!t.searchOnEnter||13!==i.which||r.hasClass("add-group")||r.hasClass("add-rule")||r.hasClass("delete-group")||r.hasClass("delete-rule")||r.hasClass("fm-button")&&r.is("[id$=_query]")?t.closeOnEscape&&27===i.which?(e("#"+e.jgrid.jqID(s.modalhead)).find(".ui-jqdialog-titlebar-close").focus().click(),!1):void 0:(e("#"+n+"_search").focus().click(),!1)}),m&&e("#"+n+"_query").bind("click",function(){return e(".queryresult",l).toggle(),!1}),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),e("#"+n+"_search").bind("click",function(){var i,a=e("#"+n),o={},l=a.jqFilter("filterData");if(t.errorcheck&&(a[0].hideError(),t.showQuery||a.jqFilter("toSQLString"),a[0].p.error))return a[0].showError(),!1;if(t.stringResult){try{i=xmlJsonClass.toJson(l,"","",!1)}catch(d){try{i=JSON.stringify(l)}catch(u){}}"string"==typeof i&&(o[t.sFilter]=i,e.each([t.sField,t.sValue,t.sOper],function(){o[this]=""}))}else t.multipleSearch?(o[t.sFilter]=l,e.each([t.sField,t.sValue,t.sOper],function(){o[this]=""})):(o[t.sField]=l.rules[0].field,o[t.sValue]=l.rules[0].data,o[t.sOper]=l.rules[0].op,o[t.sFilter]="");return r.p.search=!0,e.extend(r.p.postData,o),e(r).triggerHandler("jqGridFilterSearch"),e.isFunction(t.onSearch)&&t.onSearch.call(r),e(r).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&e.jgrid.hideModal("#"+e.jgrid.jqID(s.themodal),{gb:"#gbox_"+e.jgrid.jqID(r.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),e("#"+n+"_reset").bind("click",function(){var i={},a=e("#"+n);return r.p.search=!1,t.multipleSearch===!1?i[t.sField]=i[t.sValue]=i[t.sOper]="":i[t.sFilter]="",a[0].resetFilter(),b&&e(".ui-template",l).val("default"),e.extend(r.p.postData,i),e(r).triggerHandler("jqGridFilterReset"),e.isFunction(t.onReset)&&t.onReset.call(r),e(r).trigger("reloadGrid",[{page:1}]),!1}),i(e("#"+n)),e(".fm-button:not(.ui-state-disabled)",l).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}}})},editGridRow:function(t,i){return i=e.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,
reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},e.jgrid.edit,i||{}),rp_ge[e(this)[0].p.id]=i,this.each(function(){function r(){return e(w+" > tbody > tr > td > .FormElement").each(function(){var t=e(".customelement",this);if(t.length){var i=t[0],r=e(i).attr("name");e.each(p.p.colModel,function(){if(this.name===r&&this.editoptions&&e.isFunction(this.editoptions.custom_value)){try{if(f[r]=this.editoptions.custom_value.call(p,e("#"+e.jgrid.jqID(r),w),"get"),void 0===f[r])throw"e1"}catch(t){"e1"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,t.message,e.jgrid.edit.bClose)}return!0}})}else{switch(e(this).get(0).type){case"checkbox":if(e(this).is(":checked"))f[this.name]=e(this).val();else{var n=e(this).attr("offval");f[this.name]=n}break;case"select-one":f[this.name]=e("option:selected",this).val(),g[this.name]=e("option:selected",this).text();break;case"select-multiple":f[this.name]=e(this).val(),f[this.name]?f[this.name]=f[this.name].join(","):f[this.name]="";var a=[];e("option:selected",this).each(function(t,i){a[t]=e(i).text()}),g[this.name]=a.join(",");break;case"password":case"text":case"textarea":case"button":f[this.name]=e(this).val()}p.p.autoencode&&(f[this.name]=e.jgrid.htmlEncode(f[this.name]))}}),!0}function n(t,i,r,n){var a,s,o,l,d,u,c,h=0,f=[],g=!1,m="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",v="";for(c=1;c<=n;c++)v+=m;if("_empty"!=t&&(g=e(i).jqGrid("getInd",t)),e(i.p.colModel).each(function(c){if(a=this.name,s=(!this.editrules||this.editrules.edithidden!==!0)&&this.hidden===!0,d=s?"style='display:none'":"","cb"!==a&&"subgrid"!==a&&this.editable===!0&&"rn"!==a){if(g===!1)l="";else if(a==i.p.ExpandColumn&&i.p.treeGrid===!0)l=e("td[role='gridcell']:eq("+c+")",i.rows[g]).text();else{try{l=e.unformat.call(i,e("td[role='gridcell']:eq("+c+")",i.rows[g]),{rowId:t,colModel:this},c)}catch(m){l=this.edittype&&"textarea"==this.edittype?e("td[role='gridcell']:eq("+c+")",i.rows[g]).text():e("td[role='gridcell']:eq("+c+")",i.rows[g]).html()}(!l||"&nbsp;"==l||"&#160;"==l||1==l.length&&160==l.charCodeAt(0))&&(l="")}var b=e.extend({},this.editoptions||{},{id:a,name:a}),_=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),x=parseInt(_.rowpos,10)||h+1,w=parseInt(2*(parseInt(_.colpos,10)||1),10);if("_empty"==t&&b.defaultValue&&(l=e.isFunction(b.defaultValue)?b.defaultValue.call(p):b.defaultValue),this.edittype||(this.edittype="text"),p.p.autoencode&&(l=e.jgrid.htmlDecode(l)),u=e.jgrid.createEl.call(p,this.edittype,b,l,!1,e.extend({},e.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),""===l&&"checkbox"==this.edittype&&(l=e(u).attr("offval")),""===l&&"select"==this.edittype&&(l=e("option:eq(0)",u).text()),(rp_ge[p.p.id].checkOnSubmit||rp_ge[p.p.id].checkOnUpdate)&&(rp_ge[p.p.id]._savedData[a]=l),e(u).addClass("FormElement"),e.inArray(this.edittype,["text","textarea","password","select"])>-1&&e(u).addClass("ui-widget-content ui-corner-all"),o=e(r).find("tr[rowpos="+x+"]"),_.rowabove){var k=e("<tr><td class='contentinfo' colspan='"+2*n+"'>"+_.rowcontent+"</td></tr>");e(r).append(k),k[0].rp=x}0===o.length&&(o=e("<tr "+d+" rowpos='"+x+"'></tr>").addClass("FormData").attr("id","tr_"+a),e(o).append(v),e(r).append(o),o[0].rp=x),e("td:eq("+(w-2)+")",o[0]).html(void 0===_.label?i.p.colNames[c]:_.label),e("td:eq("+(w-1)+")",o[0]).append(_.elmprefix).append(u).append(_.elmsuffix),e.isFunction(b.custom_value)&&"_empty"!==t&&b.custom_value.call(p,e("#"+a,"#"+y),"set",l),e.jgrid.bindEv(u,b,p),f[h]=c,h++}}),h>0){var b=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+i.p.id+"_id' value='"+t+"'/></td></tr>");b[0].rp=h+999,e(r).append(b),(rp_ge[p.p.id].checkOnSubmit||rp_ge[p.p.id].checkOnUpdate)&&(rp_ge[p.p.id]._savedData[i.p.id+"_id"]=t)}return f}function a(t,i,r){var n,a,s,o,l,d,u=0;(rp_ge[p.p.id].checkOnSubmit||rp_ge[p.p.id].checkOnUpdate)&&(rp_ge[p.p.id]._savedData={},rp_ge[p.p.id]._savedData[i.p.id+"_id"]=t);var c=i.p.colModel;if("_empty"==t)return e(c).each(function(){n=this.name,o=e.extend({},this.editoptions||{}),s=e("#"+e.jgrid.jqID(n),"#"+r),s&&s.length&&null!==s[0]&&(l="",o.defaultValue?(l=e.isFunction(o.defaultValue)?o.defaultValue.call(p):o.defaultValue,"checkbox"==s[0].type?(d=l.toLowerCase(),d.search(/(false|0|no|off|undefined)/i)<0&&""!==d?(s[0].checked=!0,s[0].defaultChecked=!0,s[0].value=l):(s[0].checked=!1,s[0].defaultChecked=!1)):s.val(l)):"checkbox"==s[0].type?(s[0].checked=!1,s[0].defaultChecked=!1,l=e(s).attr("offval")):s[0].type&&"select"==s[0].type.substr(0,6)?s[0].selectedIndex=0:s.val(l),(rp_ge[p.p.id].checkOnSubmit===!0||rp_ge[p.p.id].checkOnUpdate)&&(rp_ge[p.p.id]._savedData[n]=l))}),void e("#id_g","#"+r).val(t);var h=e(i).jqGrid("getInd",t,!0);h&&(e('td[role="gridcell"]',h).each(function(s){if(n=c[s].name,"cb"!==n&&"subgrid"!==n&&"rn"!==n&&c[s].editable===!0){if(n==i.p.ExpandColumn&&i.p.treeGrid===!0)a=e(this).text();else try{a=e.unformat.call(i,e(this),{rowId:t,colModel:c[s]},s)}catch(o){a="textarea"==c[s].edittype?e(this).text():e(this).html()}switch(p.p.autoencode&&(a=e.jgrid.htmlDecode(a)),(rp_ge[p.p.id].checkOnSubmit===!0||rp_ge[p.p.id].checkOnUpdate)&&(rp_ge[p.p.id]._savedData[n]=a),n=e.jgrid.jqID(n),c[s].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"==a||"&#160;"==a||1==a.length&&160==a.charCodeAt(0))&&(a=""),e("#"+n,"#"+r).val(a);break;case"select":var l=a.split(",");l=e.map(l,function(t){return e.trim(t)}),e("#"+n+" option","#"+r).each(function(){c[s].editoptions.multiple||e.trim(a)!=e.trim(e(this).text())&&l[0]!=e.trim(e(this).text())&&l[0]!=e.trim(e(this).val())?c[s].editoptions.multiple&&(e.inArray(e.trim(e(this).text()),l)>-1||e.inArray(e.trim(e(this).val()),l)>-1)?this.selected=!0:this.selected=!1:this.selected=!0});break;case"checkbox":if(a=String(a),c[s].editoptions&&c[s].editoptions.value){var d=c[s].editoptions.value.split(":");d[0]==a?(e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("checked",!0),e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("checked",!1),e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("defaultChecked",!1))}else a=a.toLowerCase(),a.search(/(false|0|no|off|undefined)/i)<0&&""!==a?(e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("checked",!0),e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("checked",!1),e("#"+n,"#"+r)[p.p.useProp?"prop":"attr"]("defaultChecked",!1));break;case"custom":try{if(!c[s].editoptions||!e.isFunction(c[s].editoptions.custom_value))throw"e1";c[s].editoptions.custom_value.call(p,e("#"+n,"#"+r),"set",a)}catch(h){"e1"==h?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,h.message,e.jgrid.edit.bClose)}}u++}}),u>0&&e("#id_g",w).val(t))}function s(){e.each(p.p.colModel,function(e,t){t.editoptions&&t.editoptions.NullIfEmpty===!0&&f.hasOwnProperty(t.name)&&""===f[t.name]&&(f[t.name]="null")})}function o(){var t,r,n,o,l,d,u=[!0,"",""],c={},h=p.p.prmNames,m=e(p).triggerHandler("jqGridAddEditBeforeCheckValues",[e("#"+y),b]);m&&"object"==typeof m&&(f=m),e.isFunction(rp_ge[p.p.id].beforeCheckValues)&&(m=rp_ge[p.p.id].beforeCheckValues.call(p,f,e("#"+y),"_empty"==f[p.p.id+"_id"]?h.addoper:h.editoper),m&&"object"==typeof m&&(f=m));for(o in f)if(f.hasOwnProperty(o)&&(u=e.jgrid.checkValues.call(p,f[o],o,p),u[0]===!1))break;if(s(),u[0]&&(c=e(p).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[p.p.id],f,b]),void 0===c&&e.isFunction(rp_ge[p.p.id].onclickSubmit)&&(c=rp_ge[p.p.id].onclickSubmit.call(p,rp_ge[p.p.id],f)||{}),u=e(p).triggerHandler("jqGridAddEditBeforeSubmit",[f,e("#"+y),b]),void 0===u&&(u=[!0,"",""]),u[0]&&e.isFunction(rp_ge[p.p.id].beforeSubmit)&&(u=rp_ge[p.p.id].beforeSubmit.call(p,f,e("#"+y)))),u[0]&&!rp_ge[p.p.id].processing){if(rp_ge[p.p.id].processing=!0,e("#sData",w+"_2").addClass("ui-state-active"),n=h.oper,r=h.id,f[n]="_empty"==e.trim(f[p.p.id+"_id"])?h.addoper:h.editoper,f[n]!=h.addoper?f[r]=f[p.p.id+"_id"]:void 0===f[r]&&(f[r]=f[p.p.id+"_id"]),delete f[p.p.id+"_id"],f=e.extend(f,rp_ge[p.p.id].editData,c),p.p.treeGrid===!0){if(f[n]==h.addoper){l=e(p).jqGrid("getGridParam","selrow");var v="adjacency"==p.p.treeGridModel?p.p.treeReader.parent_id_field:"parent_id";f[v]=l}for(d in p.p.treeReader)if(p.p.treeReader.hasOwnProperty(d)){var x=p.p.treeReader[d];if(f.hasOwnProperty(x)){if(f[n]==h.addoper&&"parent_id_field"===d)continue;delete f[x]}}}f[r]=e.jgrid.stripPref(p.p.idPrefix,f[r]);var j=e.extend({url:rp_ge[p.p.id].url||e(p).jqGrid("getGridParam","editurl"),type:rp_ge[p.p.id].mtype,data:e.isFunction(rp_ge[p.p.id].serializeEditData)?rp_ge[p.p.id].serializeEditData.call(p,f):f,complete:function(s,o){var d;if(f[r]=p.p.idPrefix+f[r],"success"!=o?(u[0]=!1,u[1]=e(p).triggerHandler("jqGridAddEditErrorTextFormat",[s,b]),e.isFunction(rp_ge[p.p.id].errorTextFormat)?u[1]=rp_ge[p.p.id].errorTextFormat.call(p,s):u[1]=o+" Status: '"+s.statusText+"'. Error code: "+s.status):(u=e(p).triggerHandler("jqGridAddEditAfterSubmit",[s,f,b]),void 0===u&&(u=[!0,"",""]),u[0]&&e.isFunction(rp_ge[p.p.id].afterSubmit)&&(u=rp_ge[p.p.id].afterSubmit.call(p,s,f))),u[0]===!1)e("#FormError>td",w).html(u[1]),e("#FormError",w).show();else if(e.each(p.p.colModel,function(){if(g[this.name]&&this.formatter&&"select"==this.formatter)try{delete g[this.name]}catch(e){}}),f=e.extend(f,g),p.p.autoencode&&e.each(f,function(t,i){f[t]=e.jgrid.htmlDecode(i)}),f[n]==h.addoper?(u[2]||(u[2]=e.jgrid.randId()),f[r]=u[2],rp_ge[p.p.id].closeAfterAdd?(rp_ge[p.p.id].reloadAfterSubmit?e(p).trigger("reloadGrid"):p.p.treeGrid===!0?e(p).jqGrid("addChildNode",u[2],l,f):(e(p).jqGrid("addRowData",u[2],f,i.addedrow),e(p).jqGrid("setSelection",u[2])),e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose})):rp_ge[p.p.id].clearAfterAdd?(rp_ge[p.p.id].reloadAfterSubmit?e(p).trigger("reloadGrid"):p.p.treeGrid===!0?e(p).jqGrid("addChildNode",u[2],l,f):e(p).jqGrid("addRowData",u[2],f,i.addedrow),a("_empty",p,y)):rp_ge[p.p.id].reloadAfterSubmit?e(p).trigger("reloadGrid"):p.p.treeGrid===!0?e(p).jqGrid("addChildNode",u[2],l,f):e(p).jqGrid("addRowData",u[2],f,i.addedrow)):(rp_ge[p.p.id].reloadAfterSubmit?(e(p).trigger("reloadGrid"),rp_ge[p.p.id].closeAfterEdit||setTimeout(function(){e(p).jqGrid("setSelection",f[r])},1e3)):p.p.treeGrid===!0?e(p).jqGrid("setTreeRow",f[r],f):e(p).jqGrid("setRowData",f[r],f),rp_ge[p.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose})),e.isFunction(rp_ge[p.p.id].afterComplete)&&(t=s,setTimeout(function(){e(p).triggerHandler("jqGridAddEditAfterComplete",[t,f,e("#"+y),b]),rp_ge[p.p.id].afterComplete.call(p,t,f,e("#"+y)),t=null},500)),(rp_ge[p.p.id].checkOnSubmit||rp_ge[p.p.id].checkOnUpdate)&&(e("#"+y).data("disabled",!1),"_empty"!=rp_ge[p.p.id]._savedData[p.p.id+"_id"]))for(d in rp_ge[p.p.id]._savedData)rp_ge[p.p.id]._savedData.hasOwnProperty(d)&&f[d]&&(rp_ge[p.p.id]._savedData[d]=f[d]);rp_ge[p.p.id].processing=!1,e("#sData",w+"_2").removeClass("ui-state-active");try{e(":input:visible","#"+y)[0].focus()}catch(c){}}},e.jgrid.ajaxOptions,rp_ge[p.p.id].ajaxEditOptions);if(j.url||rp_ge[p.p.id].useDataProxy||(e.isFunction(p.p.dataProxy)?rp_ge[p.p.id].useDataProxy=!0:(u[0]=!1,u[1]+=" "+e.jgrid.errors.nourl)),u[0])if(rp_ge[p.p.id].useDataProxy){var C=p.p.dataProxy.call(p,j,"set_"+p.p.id);void 0===C&&(C=[!0,""]),C[0]===!1?(u[0]=!1,u[1]=C[1]||"Error deleting the selected row!"):(j.data.oper==h.addoper&&rp_ge[p.p.id].closeAfterAdd&&e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}),j.data.oper==h.editoper&&rp_ge[p.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}))}else e.ajax(j)}u[0]===!1&&(e("#FormError>td",w).html(u[1]),e("#FormError",w).show())}function l(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&e[i]!=t[i]){r=!0;break}return r}function d(){var t=!0;return e("#FormError",w).hide(),rp_ge[p.p.id].checkOnUpdate&&(f={},g={},r(),m=e.extend({},f,g),v=l(m,rp_ge[p.p.id]._savedData),v&&(e("#"+y).data("disabled",!0),e(".confirm","#"+k.themodal).show(),t=!1)),t}function u(){var i;if("_empty"!==t&&void 0!==p.p.savedRow&&p.p.savedRow.length>0&&e.isFunction(e.fn.jqGrid.restoreRow))for(i=0;i<p.p.savedRow.length;i++)if(p.p.savedRow[i].id==t){e(p).jqGrid("restoreRow",t);break}}function c(t,i){var r=i[1].length-1;0===t?e("#pData",w+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?e("#pData",w+"_2").addClass("ui-state-disabled"):e("#pData",w+"_2").removeClass("ui-state-disabled"),t==r?e("#nData",w+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?e("#nData",w+"_2").addClass("ui-state-disabled"):e("#nData",w+"_2").removeClass("ui-state-disabled")}function h(){var t=e(p).jqGrid("getDataIDs"),i=e("#id_g",w).val(),r=e.inArray(i,t);return[r,t]}var p=this;if(p.grid&&t){var f,g,m,v,b,_=p.p.id,y="FrmGrid_"+_,x="TblGrid_"+_,w="#"+e.jgrid.jqID(x),k={themodal:"editmod"+_,modalhead:"edithd"+_,modalcontent:"editcnt"+_,scrollelm:y},j=!!e.isFunction(rp_ge[p.p.id].beforeShowForm)&&rp_ge[p.p.id].beforeShowForm,C=!!e.isFunction(rp_ge[p.p.id].afterShowForm)&&rp_ge[p.p.id].afterShowForm,D=!!e.isFunction(rp_ge[p.p.id].beforeInitData)&&rp_ge[p.p.id].beforeInitData,S=!!e.isFunction(rp_ge[p.p.id].onInitializeForm)&&rp_ge[p.p.id].onInitializeForm,T=!0,I=1,P=0;y=e.jgrid.jqID(y),"new"===t?(t="_empty",b="add",i.caption=rp_ge[p.p.id].addCaption):(i.caption=rp_ge[p.p.id].editCaption,b="edit"),i.recreateForm===!0&&void 0!==e("#"+e.jgrid.jqID(k.themodal))[0]&&e("#"+e.jgrid.jqID(k.themodal)).remove();var A=!0;if(i.checkOnUpdate&&i.jqModal&&!i.modal&&(A=!1),void 0!==e("#"+e.jgrid.jqID(k.themodal))[0]){if(T=e(p).triggerHandler("jqGridAddEditBeforeInitData",[e("#"+e.jgrid.jqID(y)),b]),void 0===T&&(T=!0),T&&D&&(T=D.call(p,e("#"+y))),T===!1)return;u(),e(".ui-jqdialog-title","#"+e.jgrid.jqID(k.modalhead)).html(i.caption),e("#FormError",w).hide(),rp_ge[p.p.id].topinfo?(e(".topinfo",w).html(rp_ge[p.p.id].topinfo),e(".tinfo",w).show()):e(".tinfo",w).hide(),rp_ge[p.p.id].bottominfo?(e(".bottominfo",w+"_2").html(rp_ge[p.p.id].bottominfo),e(".binfo",w+"_2").show()):e(".binfo",w+"_2").hide(),a(t,p,y),"_empty"!=t&&rp_ge[p.p.id].viewPagerButtons?e("#pData, #nData",w+"_2").show():e("#pData, #nData",w+"_2").hide(),rp_ge[p.p.id].processing===!0&&(rp_ge[p.p.id].processing=!1,e("#sData",w+"_2").removeClass("ui-state-active")),e("#"+y).data("disabled")===!0&&(e(".confirm","#"+e.jgrid.jqID(k.themodal)).hide(),e("#"+y).data("disabled",!1)),e(p).triggerHandler("jqGridAddEditBeforeShowForm",[e("#"+y),b]),j&&j.call(p,e("#"+y)),e("#"+e.jgrid.jqID(k.themodal)).data("onClose",rp_ge[p.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(k.themodal),{gbox:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,jqM:!1,overlay:i.overlay,modal:i.modal}),A||e(".jqmOverlay").click(function(){return!!d()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}),!1)}),e(p).triggerHandler("jqGridAddEditAfterShowForm",[e("#"+y),b]),C&&C.call(p,e("#"+y))}else{var M=isNaN(i.dataheight)?i.dataheight:i.dataheight+"px",E=isNaN(i.datawidth)?i.datawidth:i.datawidth+"px",$=e("<form name='FormPost' id='"+y+"' class='FormGrid' onSubmit='return false;' style='width:"+E+";overflow:auto;position:relative;height:"+M+";'></form>").data("disabled",!1),F=e("<table id='"+x+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>");if(T=e(p).triggerHandler("jqGridAddEditBeforeInitData",[e("#"+y),b]),void 0===T&&(T=!0),T&&D&&(T=D.call(p,e("#"+y))),T===!1)return;u(),e(p.p.colModel).each(function(){var e=this.formoptions;I=Math.max(I,e?e.colpos||0:0),P=Math.max(P,e?e.rowpos||0:0)}),e($).append(F);var O=e("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*I+"'></td></tr>");O[0].rp=0,e(F).append(O),O=e("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*I+"'>"+rp_ge[p.p.id].topinfo+"</td></tr>"),O[0].rp=0,e(F).append(O);var q="rtl"==p.p.direction,R=q?"nData":"pData",N=q?"pData":"nData";n(t,p,F,I);var L="<a href='javascript:void(0)' id='"+R+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",z="<a href='javascript:void(0)' id='"+N+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",H="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+i.bSubmit+"</a>",G="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+i.bCancel+"</a>",B="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+x+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(q?z+L:L+z)+"</td><td class='EditButton'>"+H+G+"</td></tr>";if(B+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+rp_ge[p.p.id].bottominfo+"</td></tr>",B+="</tbody></table>",P>0){var Q=[];e.each(e(F)[0].rows,function(e,t){Q[e]=t}),Q.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(Q,function(t,i){e("tbody",F).append(i)})}i.gbox="#gbox_"+e.jgrid.jqID(_);var W=!1;i.closeOnEscape===!0&&(i.closeOnEscape=!1,W=!0);var U=e("<div></div>").append($).append(B);if(e.jgrid.createModal(k,U,i,"#gview_"+e.jgrid.jqID(p.p.id),e("#gbox_"+e.jgrid.jqID(p.p.id))[0]),q&&(e("#pData, #nData",w+"_2").css("float","right"),e(".EditButton",w+"_2").css("text-align","left")),rp_ge[p.p.id].topinfo&&e(".tinfo",w).show(),rp_ge[p.p.id].bottominfo&&e(".binfo",w+"_2").show(),U=null,B=null,e("#"+e.jgrid.jqID(k.themodal)).keydown(function(t){var r=t.target;if(e("#"+y).data("disabled")===!0)return!1;if(rp_ge[p.p.id].savekey[0]===!0&&t.which==rp_ge[p.p.id].savekey[1]&&"TEXTAREA"!=r.tagName)return e("#sData",w+"_2").trigger("click"),!1;if(27===t.which)return!!d()&&(W&&e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}),!1);if(rp_ge[p.p.id].navkeys[0]===!0){if("_empty"==e("#id_g",w).val())return!0;if(t.which==rp_ge[p.p.id].navkeys[1])return e("#pData",w+"_2").trigger("click"),!1;if(t.which==rp_ge[p.p.id].navkeys[2])return e("#nData",w+"_2").trigger("click"),!1}}),i.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span","#"+e.jgrid.jqID(k.themodal)).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(k.themodal)).unbind("click").click(function(){return!!d()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}),!1)})),i.saveicon=e.extend([!0,"left","ui-icon-disk"],i.saveicon),i.closeicon=e.extend([!0,"left","ui-icon-close"],i.closeicon),i.saveicon[0]===!0&&e("#sData",w+"_2").addClass("right"==i.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.saveicon[2]+"'></span>"),i.closeicon[0]===!0&&e("#cData",w+"_2").addClass("right"==i.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.closeicon[2]+"'></span>"),rp_ge[p.p.id].checkOnSubmit||rp_ge[p.p.id].checkOnUpdate){H="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+i.bYes+"</a>",z="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+i.bNo+"</a>",G="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+i.bExit+"</a>";var V=i.zIndex||999;V++,e("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+V+";display:none;'>&#160;</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(V+1)+"'>"+i.saveData+"<br/><br/>"+H+z+G+"</div>").insertAfter("#"+y),e("#sNew","#"+e.jgrid.jqID(k.themodal)).click(function(){return o(),e("#"+y).data("disabled",!1),e(".confirm","#"+e.jgrid.jqID(k.themodal)).hide(),!1}),e("#nNew","#"+e.jgrid.jqID(k.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(k.themodal)).hide(),e("#"+y).data("disabled",!1),setTimeout(function(){e(":input","#"+y)[0].focus()},0),!1}),e("#cNew","#"+e.jgrid.jqID(k.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(k.themodal)).hide(),e("#"+y).data("disabled",!1),e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}),!1})}e(p).triggerHandler("jqGridAddEditInitializeForm",[e("#"+y),b]),S&&S.call(p,e("#"+y)),"_empty"!=t&&rp_ge[p.p.id].viewPagerButtons?e("#pData,#nData",w+"_2").show():e("#pData,#nData",w+"_2").hide(),e(p).triggerHandler("jqGridAddEditBeforeShowForm",[e("#"+y),b]),j&&j.call(p,e("#"+y)),e("#"+e.jgrid.jqID(k.themodal)).data("onClose",rp_ge[p.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(k.themodal),{gbox:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,overlay:i.overlay,modal:i.modal}),A||e(".jqmOverlay").click(function(){return!!d()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}),!1)}),e(p).triggerHandler("jqGridAddEditAfterShowForm",[e("#"+y),b]),C&&C.call(p,e("#"+y)),e(".fm-button","#"+e.jgrid.jqID(k.themodal)).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),e("#sData",w+"_2").click(function(){return f={},g={},e("#FormError",w).hide(),r(),"_empty"==f[p.p.id+"_id"]?o():i.checkOnSubmit===!0?(m=e.extend({},f,g),v=l(m,rp_ge[p.p.id]._savedData),v?(e("#"+y).data("disabled",!0),e(".confirm","#"+e.jgrid.jqID(k.themodal)).show()):o()):o(),!1}),e("#cData",w+"_2").click(function(){return!!d()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(k.themodal),{gb:"#gbox_"+e.jgrid.jqID(_),jqm:i.jqModal,onClose:rp_ge[p.p.id].onClose}),!1)}),e("#nData",w+"_2").click(function(){if(!d())return!1;e("#FormError",w).hide();var t=h();if(t[0]=parseInt(t[0],10),t[0]!=-1&&t[1][t[0]+1]){e(p).triggerHandler("jqGridAddEditClickPgButtons",["next",e("#"+y),t[1][t[0]]]);var r;if(e.isFunction(i.onclickPgButtons)&&(r=i.onclickPgButtons.call(p,"next",e("#"+y),t[1][t[0]]),void 0!==r&&r===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]+1])).hasClass("ui-state-disabled"))return!1;a(t[1][t[0]+1],p,y),e(p).jqGrid("setSelection",t[1][t[0]+1]),e(p).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",e("#"+y),t[1][t[0]]]),e.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons.call(p,"next",e("#"+y),t[1][t[0]+1]),c(t[0]+1,t)}return!1}),e("#pData",w+"_2").click(function(){if(!d())return!1;e("#FormError",w).hide();var t=h();if(t[0]!=-1&&t[1][t[0]-1]){e(p).triggerHandler("jqGridAddEditClickPgButtons",["prev",e("#"+y),t[1][t[0]]]);var r;if(e.isFunction(i.onclickPgButtons)&&(r=i.onclickPgButtons.call(p,"prev",e("#"+y),t[1][t[0]]),void 0!==r&&r===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]-1])).hasClass("ui-state-disabled"))return!1;a(t[1][t[0]-1],p,y),e(p).jqGrid("setSelection",t[1][t[0]-1]),e(p).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",e("#"+y),t[1][t[0]]]),e.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons.call(p,"prev",e("#"+y),t[1][t[0]-1]),c(t[0]-1,t)}return!1})}var K=h();c(K[0],K)}})},viewGridRow:function(t,i){return i=e.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0},e.jgrid.view,i||{}),rp_ge[e(this)[0].p.id]=i,this.each(function(){function r(){rp_ge[l.p.id].closeOnEscape!==!0&&rp_ge[l.p.id].navkeys[0]!==!0||setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(f.modalhead)).focus()},0)}function n(t,r,n,a){var s,o,l,d,u,c,h,p,f,g=0,m=[],v=!1,b="<td class='CaptionTD form-view-label ui-widget-content' width='"+i.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",_="",y="<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>",x=["integer","number","currency"],w=0,k=0;for(c=1;c<=a;c++)_+=1==c?b:y;if(e(r.p.colModel).each(function(){o=(!this.editrules||this.editrules.edithidden!==!0)&&this.hidden===!0,o||"right"!==this.align||(this.formatter&&e.inArray(this.formatter,x)!==-1?w=Math.max(w,parseInt(this.width,10)):k=Math.max(k,parseInt(this.width,10)))}),h=0!==w?w:0!==k?k:0,v=e(r).jqGrid("getInd",t),e(r.p.colModel).each(function(t){if(s=this.name,p=!1,o=(!this.editrules||this.editrules.edithidden!==!0)&&this.hidden===!0,u=o?"style='display:none'":"",f="boolean"!=typeof this.viewable||this.viewable,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&f){d=v===!1?"":s==r.p.ExpandColumn&&r.p.treeGrid===!0?e("td:eq("+t+")",r.rows[v]).text():e("td:eq("+t+")",r.rows[v]).html(),p="right"===this.align&&0!==h;var i=e.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),c=parseInt(i.rowpos,10)||g+1,b=parseInt(2*(parseInt(i.colpos,10)||1),10);if(i.rowabove){var y=e("<tr><td class='contentinfo' colspan='"+2*a+"'>"+i.rowcontent+"</td></tr>");e(n).append(y),y[0].rp=c}l=e(n).find("tr[rowpos="+c+"]"),0===l.length&&(l=e("<tr "+u+" rowpos='"+c+"'></tr>").addClass("FormData").attr("id","trv_"+s),e(l).append(_),e(n).append(l),l[0].rp=c),e("td:eq("+(b-2)+")",l[0]).html("<b>"+(void 0===i.label?r.p.colNames[t]:i.label)+"</b>"),e("td:eq("+(b-1)+")",l[0]).append("<span>"+d+"</span>").attr("id","v_"+s),p&&e("td:eq("+(b-1)+") span",l[0]).css({"text-align":"right",width:h+"px"}),m[g]=t,g++}}),g>0){var j=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>");j[0].rp=g+99,e(n).append(j)}return m}function a(t,i){var r,n,a,s,o,l=0;o=e(i).jqGrid("getInd",t,!0),o&&(e("td",o).each(function(t){r=i.p.colModel[t].name,n=(!i.p.colModel[t].editrules||i.p.colModel[t].editrules.edithidden!==!0)&&i.p.colModel[t].hidden===!0,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&(a=r==i.p.ExpandColumn&&i.p.treeGrid===!0?e(this).text():e(this).html(),s=e.extend({},i.p.colModel[t].editoptions||{}),r=e.jgrid.jqID("v_"+r),e("#"+r+" span","#"+c).html(a),n&&e("#"+r,"#"+c).parents("tr:first").hide(),l++)}),l>0&&e("#id_g","#"+c).val(t))}function s(t,i){var r=i[1].length-1;0===t?e("#pData","#"+c+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?e("#pData",c+"_2").addClass("ui-state-disabled"):e("#pData","#"+c+"_2").removeClass("ui-state-disabled"),t==r?e("#nData","#"+c+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?e("#nData",c+"_2").addClass("ui-state-disabled"):e("#nData","#"+c+"_2").removeClass("ui-state-disabled")}function o(){var t=e(l).jqGrid("getDataIDs"),i=e("#id_g","#"+c).val(),r=e.inArray(i,t);return[r,t]}var l=this;if(l.grid&&t){var d=l.p.id,u="ViewGrid_"+e.jgrid.jqID(d),c="ViewTbl_"+e.jgrid.jqID(d),h="ViewGrid_"+d,p="ViewTbl_"+d,f={themodal:"viewmod"+d,modalhead:"viewhd"+d,modalcontent:"viewcnt"+d,scrollelm:u},g=!!e.isFunction(rp_ge[l.p.id].beforeInitData)&&rp_ge[l.p.id].beforeInitData,m=!0,v=1,b=0;if(void 0!==e("#"+e.jgrid.jqID(f.themodal))[0]){if(g&&(m=g.call(l,e("#"+u)),void 0===m&&(m=!0)),m===!1)return;e(".ui-jqdialog-title","#"+e.jgrid.jqID(f.modalhead)).html(i.caption),e("#FormError","#"+c).hide(),a(t,l),e.isFunction(rp_ge[l.p.id].beforeShowForm)&&rp_ge[l.p.id].beforeShowForm.call(l,e("#"+u)),e.jgrid.viewModal("#"+e.jgrid.jqID(f.themodal),{gbox:"#gbox_"+e.jgrid.jqID(d),jqm:i.jqModal,jqM:!1,overlay:i.overlay,modal:i.modal}),r()}else{var _=isNaN(i.dataheight)?i.dataheight:i.dataheight+"px",y=isNaN(i.datawidth)?i.datawidth:i.datawidth+"px",x=e("<form name='FormPost' id='"+h+"' class='FormGrid' style='width:"+y+";overflow:auto;position:relative;height:"+_+";'></form>"),w=e("<table id='"+p+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");if(g&&(m=g.call(l,e("#"+u)),void 0===m&&(m=!0)),m===!1)return;e(l.p.colModel).each(function(){var e=this.formoptions;v=Math.max(v,e?e.colpos||0:0),b=Math.max(b,e?e.rowpos||0:0)}),e(x).append(w),n(t,l,w,v);var k="rtl"==l.p.direction,j=k?"nData":"pData",C=k?"pData":"nData",D="<a href='javascript:void(0)' id='"+j+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",S="<a href='javascript:void(0)' id='"+C+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",T="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+i.bClose+"</a>";if(b>0){var I=[];e.each(e(w)[0].rows,function(e,t){I[e]=t}),I.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(I,function(t,i){e("tbody",w).append(i)})}i.gbox="#gbox_"+e.jgrid.jqID(d);var P=e("<div></div>").append(x).append("<table border='0' class='EditTable' id='"+c+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+i.labelswidth+"'>"+(k?S+D:D+S)+"</td><td class='EditButton'>"+T+"</td></tr></tbody></table>");e.jgrid.createModal(f,P,i,"#gview_"+e.jgrid.jqID(l.p.id),e("#gview_"+e.jgrid.jqID(l.p.id))[0]),k&&(e("#pData, #nData","#"+c+"_2").css("float","right"),e(".EditButton","#"+c+"_2").css("text-align","left")),i.viewPagerButtons||e("#pData, #nData","#"+c+"_2").hide(),P=null,e("#"+f.themodal).keydown(function(t){if(27===t.which)return rp_ge[l.p.id].closeOnEscape&&e.jgrid.hideModal("#"+e.jgrid.jqID(f.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:i.onClose}),!1;if(i.navkeys[0]===!0){if(t.which===i.navkeys[1])return e("#pData","#"+c+"_2").trigger("click"),!1;if(t.which===i.navkeys[2])return e("#nData","#"+c+"_2").trigger("click"),!1}}),i.closeicon=e.extend([!0,"left","ui-icon-close"],i.closeicon),i.closeicon[0]===!0&&e("#cData","#"+c+"_2").addClass("right"==i.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.closeicon[2]+"'></span>"),e.isFunction(i.beforeShowForm)&&i.beforeShowForm.call(l,e("#"+u)),e.jgrid.viewModal("#"+e.jgrid.jqID(f.themodal),{gbox:"#gbox_"+e.jgrid.jqID(d),jqm:i.jqModal,overlay:i.overlay,modal:i.modal}),e(".fm-button:not(.ui-state-disabled)","#"+c+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),r(),e("#cData","#"+c+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(f.themodal),{gb:"#gbox_"+e.jgrid.jqID(d),jqm:i.jqModal,onClose:i.onClose}),!1}),e("#nData","#"+c+"_2").click(function(){e("#FormError","#"+c).hide();var t=o();return t[0]=parseInt(t[0],10),t[0]!=-1&&t[1][t[0]+1]&&(e.isFunction(i.onclickPgButtons)&&i.onclickPgButtons.call(l,"next",e("#"+u),t[1][t[0]]),a(t[1][t[0]+1],l),e(l).jqGrid("setSelection",t[1][t[0]+1]),e.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons.call(l,"next",e("#"+u),t[1][t[0]+1]),s(t[0]+1,t)),r(),!1}),e("#pData","#"+c+"_2").click(function(){e("#FormError","#"+c).hide();
var t=o();return t[0]!=-1&&t[1][t[0]-1]&&(e.isFunction(i.onclickPgButtons)&&i.onclickPgButtons.call(l,"prev",e("#"+u),t[1][t[0]]),a(t[1][t[0]-1],l),e(l).jqGrid("setSelection",t[1][t[0]-1]),e.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons.call(l,"prev",e("#"+u),t[1][t[0]-1]),s(t[0]-1,t)),r(),!1})}var A=o();s(A[0],A)}})},delGridRow:function(t,i){return i=e.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},e.jgrid.del,i||{}),rp_ge[e(this)[0].p.id]=i,this.each(function(){var r=this;if(r.grid&&t){var n,a,s,o,l=e.isFunction(rp_ge[r.p.id].beforeShowForm),d=e.isFunction(rp_ge[r.p.id].afterShowForm),u=!!e.isFunction(rp_ge[r.p.id].beforeInitData)&&rp_ge[r.p.id].beforeInitData,c=r.p.id,h={},p=!0,f="DelTbl_"+e.jgrid.jqID(c),g="DelTbl_"+c,m={themodal:"delmod"+c,modalhead:"delhd"+c,modalcontent:"delcnt"+c,scrollelm:f};if(e.isArray(t)&&(t=t.join()),void 0!==e("#"+e.jgrid.jqID(m.themodal))[0]){if(u&&(p=u.call(r,e("#"+f)),void 0===p&&(p=!0)),p===!1)return;e("#DelData>td","#"+f).text(t),e("#DelError","#"+f).hide(),rp_ge[r.p.id].processing===!0&&(rp_ge[r.p.id].processing=!1,e("#dData","#"+f).removeClass("ui-state-active")),l&&rp_ge[r.p.id].beforeShowForm.call(r,e("#"+f)),e.jgrid.viewModal("#"+e.jgrid.jqID(m.themodal),{gbox:"#gbox_"+e.jgrid.jqID(c),jqm:rp_ge[r.p.id].jqModal,jqM:!1,overlay:rp_ge[r.p.id].overlay,modal:rp_ge[r.p.id].modal}),d&&rp_ge[r.p.id].afterShowForm.call(r,e("#"+f))}else{var v=isNaN(rp_ge[r.p.id].dataheight)?rp_ge[r.p.id].dataheight:rp_ge[r.p.id].dataheight+"px",b=isNaN(i.datawidth)?i.datawidth:i.datawidth+"px",_="<div id='"+g+"' class='formdata' style='width:"+b+";overflow:auto;position:relative;height:"+v+";'>";_+="<table class='DelTable'><tbody>",_+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>",_+="<tr id='DelData' style='display:none'><td >"+t+"</td></tr>",_+='<tr><td class="delmsg" style="white-space:pre;">'+rp_ge[r.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",_+="</tbody></table></div>";var y="<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+i.bSubmit+"</a>",x="<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+i.bCancel+"</a>";if(_+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+f+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+y+"&#160;"+x+"</td></tr></tbody></table>",i.gbox="#gbox_"+e.jgrid.jqID(c),e.jgrid.createModal(m,_,i,"#gview_"+e.jgrid.jqID(r.p.id),e("#gview_"+e.jgrid.jqID(r.p.id))[0]),u&&(p=u.call(r,e("#"+f)),void 0===p&&(p=!0)),p===!1)return;e(".fm-button","#"+f+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),i.delicon=e.extend([!0,"left","ui-icon-scissors"],rp_ge[r.p.id].delicon),i.cancelicon=e.extend([!0,"left","ui-icon-cancel"],rp_ge[r.p.id].cancelicon),i.delicon[0]===!0&&e("#dData","#"+f+"_2").addClass("right"==i.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.delicon[2]+"'></span>"),i.cancelicon[0]===!0&&e("#eData","#"+f+"_2").addClass("right"==i.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.cancelicon[2]+"'></span>"),e("#dData","#"+f+"_2").click(function(){var t,l=[!0,""],d=e("#DelData>td","#"+f).text();if(h={},e.isFunction(rp_ge[r.p.id].onclickSubmit)&&(h=rp_ge[r.p.id].onclickSubmit.call(r,rp_ge[r.p.id],d)||{}),e.isFunction(rp_ge[r.p.id].beforeSubmit)&&(l=rp_ge[r.p.id].beforeSubmit.call(r,d)),l[0]&&!rp_ge[r.p.id].processing){if(rp_ge[r.p.id].processing=!0,s=r.p.prmNames,n=e.extend({},rp_ge[r.p.id].delData,h),o=s.oper,n[o]=s.deloper,a=s.id,d=String(d).split(","),!d.length)return!1;for(t in d)d.hasOwnProperty(t)&&(d[t]=e.jgrid.stripPref(r.p.idPrefix,d[t]));n[a]=d.join(),e(this).addClass("ui-state-active");var u=e.extend({url:rp_ge[r.p.id].url||e(r).jqGrid("getGridParam","editurl"),type:rp_ge[r.p.id].mtype,data:e.isFunction(rp_ge[r.p.id].serializeDelData)?rp_ge[r.p.id].serializeDelData.call(r,n):n,complete:function(t,a){var s;if("success"!=a?(l[0]=!1,e.isFunction(rp_ge[r.p.id].errorTextFormat)?l[1]=rp_ge[r.p.id].errorTextFormat.call(r,t):l[1]=a+" Status: '"+t.statusText+"'. Error code: "+t.status):e.isFunction(rp_ge[r.p.id].afterSubmit)&&(l=rp_ge[r.p.id].afterSubmit.call(r,t,n)),l[0]===!1)e("#DelError>td","#"+f).html(l[1]),e("#DelError","#"+f).show();else{if(rp_ge[r.p.id].reloadAfterSubmit&&"local"!=r.p.datatype)e(r).trigger("reloadGrid");else{if(r.p.treeGrid===!0)try{e(r).jqGrid("delTreeNode",r.p.idPrefix+d[0])}catch(o){}else for(s=0;s<d.length;s++)e(r).jqGrid("delRowData",r.p.idPrefix+d[s]);r.p.selrow=null,r.p.selarrrow=[]}e.isFunction(rp_ge[r.p.id].afterComplete)&&setTimeout(function(){rp_ge[r.p.id].afterComplete.call(r,t,d)},500)}rp_ge[r.p.id].processing=!1,e("#dData","#"+f+"_2").removeClass("ui-state-active"),l[0]&&e.jgrid.hideModal("#"+e.jgrid.jqID(m.themodal),{gb:"#gbox_"+e.jgrid.jqID(c),jqm:i.jqModal,onClose:rp_ge[r.p.id].onClose})}},e.jgrid.ajaxOptions,rp_ge[r.p.id].ajaxDelOptions);if(u.url||rp_ge[r.p.id].useDataProxy||(e.isFunction(r.p.dataProxy)?rp_ge[r.p.id].useDataProxy=!0:(l[0]=!1,l[1]+=" "+e.jgrid.errors.nourl)),l[0])if(rp_ge[r.p.id].useDataProxy){var p=r.p.dataProxy.call(r,u,"del_"+r.p.id);void 0===p&&(p=[!0,""]),p[0]===!1?(l[0]=!1,l[1]=p[1]||"Error deleting the selected row!"):e.jgrid.hideModal("#"+e.jgrid.jqID(m.themodal),{gb:"#gbox_"+e.jgrid.jqID(c),jqm:i.jqModal,onClose:rp_ge[r.p.id].onClose})}else e.ajax(u)}return l[0]===!1&&(e("#DelError>td","#"+f).html(l[1]),e("#DelError","#"+f).show()),!1}),e("#eData","#"+f+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(m.themodal),{gb:"#gbox_"+e.jgrid.jqID(c),jqm:rp_ge[r.p.id].jqModal,onClose:rp_ge[r.p.id].onClose}),!1}),l&&rp_ge[r.p.id].beforeShowForm.call(r,e("#"+f)),e.jgrid.viewModal("#"+e.jgrid.jqID(m.themodal),{gbox:"#gbox_"+e.jgrid.jqID(c),jqm:rp_ge[r.p.id].jqModal,overlay:rp_ge[r.p.id].overlay,modal:rp_ge[r.p.id].modal}),d&&rp_ge[r.p.id].afterShowForm.call(r,e("#"+f))}rp_ge[r.p.id].closeOnEscape===!0&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(m.modalhead)).focus()},0)}})},navGrid:function(t,i,r,n,a,s,o){return i=e.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},e.jgrid.nav,i||{}),this.each(function(){if(!this.nav){var l,d,u={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},c=this;if(c.grid&&"string"==typeof t){void 0===e("#"+u.themodal)[0]&&(i.alerttop||i.alertleft||(void 0!==window.innerWidth?(i.alertleft=window.innerWidth,i.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(i.alertleft=document.documentElement.clientWidth,i.alerttop=document.documentElement.clientHeight):(i.alertleft=1024,i.alerttop=768),i.alertleft=i.alertleft/2-parseInt(i.alertwidth,10)/2,i.alerttop=i.alerttop/2-25),e.jgrid.createModal(u,"<div>"+i.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqModal:!0,drag:!0,resize:!0,caption:i.alertcap,top:i.alerttop,left:i.alertleft,width:i.alertwidth,height:i.alertheight,closeOnEscape:i.closeOnEscape,zIndex:i.alertzIndex},"#gview_"+e.jgrid.jqID(c.p.id),e("#gbox_"+e.jgrid.jqID(c.p.id))[0],!0));var h,p=1,f=function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},g=function(){e(this).removeClass("ui-state-hover")};for(i.cloneToTop&&c.p.toppager&&(p=2),h=0;h<p;h++){var m,v,b,_=e("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),y="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>";0===h?(v=t,b=c.p.id,v==c.p.toppager&&(b+="_top",p=1)):(v=c.p.toppager,b=c.p.id+"_top"),"rtl"==c.p.direction&&e(_).attr("dir","rtl").css("float","right"),i.add&&(n=n||{},m=e("<td class='ui-pg-button ui-corner-all'></td>"),e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.addicon+"'></span>"+i.addtext+"</div>"),e("tr",_).append(m),e(m,_).attr({title:i.addtitle||"",id:n.id||"add_"+b}).click(function(){return e(this).hasClass("ui-state-disabled")||(e.isFunction(i.addfunc)?i.addfunc.call(c):e(c).jqGrid("editGridRow","new",n)),!1}).hover(f,g),m=null),i.edit&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),r=r||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.editicon+"'></span>"+i.edittext+"</div>"),e("tr",_).append(m),e(m,_).attr({title:i.edittitle||"",id:r.id||"edit_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=c.p.selrow;t?e.isFunction(i.editfunc)?i.editfunc.call(c,t):e(c).jqGrid("editGridRow",t,r):(e.jgrid.viewModal("#"+u.themodal,{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(f,g),m=null),i.view&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),o=o||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.viewicon+"'></span>"+i.viewtext+"</div>"),e("tr",_).append(m),e(m,_).attr({title:i.viewtitle||"",id:o.id||"view_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=c.p.selrow;t?e.isFunction(i.viewfunc)?i.viewfunc.call(c,t):e(c).jqGrid("viewGridRow",t,o):(e.jgrid.viewModal("#"+u.themodal,{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(f,g),m=null),i.del&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),a=a||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.delicon+"'></span>"+i.deltext+"</div>"),e("tr",_).append(m),e(m,_).attr({title:i.deltitle||"",id:a.id||"del_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t;c.p.multiselect?(t=c.p.selarrrow,0===t.length&&(t=null)):t=c.p.selrow,t?e.isFunction(i.delfunc)?i.delfunc.call(c,t):e(c).jqGrid("delGridRow",t,a):(e.jgrid.viewModal("#"+u.themodal,{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(f,g),m=null),(i.add||i.edit||i.del||i.view)&&e("tr",_).append(y),i.search&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),s=s||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.searchicon+"'></span>"+i.searchtext+"</div>"),e("tr",_).append(m),e(m,_).attr({title:i.searchtitle||"",id:s.id||"search_"+b}).click(function(){return e(this).hasClass("ui-state-disabled")||(e.isFunction(i.searchfunc)?i.searchfunc.call(c,s):e(c).jqGrid("searchGrid",s)),!1}).hover(f,g),s.showOnLoad&&s.showOnLoad===!0&&e(m,_).click(),m=null),i.refresh&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.refreshicon+"'></span>"+i.refreshtext+"</div>"),e("tr",_).append(m),e(m,_).attr({title:i.refreshtitle||"",id:"refresh_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){e.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(c),c.p.search=!1;try{var t=c.p.id;c.p.postData.filters="",e("#fbox_"+e.jgrid.jqID(t)).jqFilter("resetFilter"),e.isFunction(c.clearToolbar)&&c.clearToolbar.call(c,!1)}catch(r){}switch(i.refreshstate){case"firstpage":e(c).trigger("reloadGrid",[{page:1}]);break;case"current":e(c).trigger("reloadGrid",[{current:!0}])}e.isFunction(i.afterRefresh)&&i.afterRefresh.call(c)}return!1}).hover(f,g),m=null),d=e(".ui-jqgrid").css("font-size")||"11px",e("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+d+";visibility:hidden;' ></div>"),l=e(_).clone().appendTo("#testpg2").width(),e("#testpg2").remove(),e(v+"_"+i.position,v).append(_),c.p._nvtd&&(l>c.p._nvtd[0]&&(e(v+"_"+i.position,v).width(l),c.p._nvtd[0]=l),c.p._nvtd[1]=l),d=null,l=null,_=null,this.nav=!0}}}})},navButtonAdd:function(t,i){return i=e.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var r=e(".navtable",t)[0],n=this;if(r){if(i.id&&void 0!==e("#"+e.jgrid.jqID(i.id),r)[0])return;var a=e("<td></td>");"NONE"==i.buttonicon.toString().toUpperCase()?e(a).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+i.caption+"</div>"):e(a).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'></span>"+i.caption+"</div>"),i.id&&e(a).attr("id",i.id),"first"==i.position?0===r.rows[0].cells.length?e("tr",r).append(a):e("tr td:eq(0)",r).before(a):e("tr",r).append(a),e(a,r).attr("title",i.title||"").click(function(t){return e(this).hasClass("ui-state-disabled")||e.isFunction(i.onClickButton)&&i.onClickButton.call(n,t),!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(t,i){return i=e.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var r=e(".navtable",t)[0];if(r){var n="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'></span>"+i.sepcontent+"</td>";"first"===i.position?0===r.rows[0].cells.length?e("tr",r).append(n):e("tr td:eq(0)",r).before(n):e("tr",r).append(n)}}})},GridToForm:function(t,i){return this.each(function(){var r,n=this;if(n.grid){var a=e(n).jqGrid("getRowData",t);if(a)for(r in a)a.hasOwnProperty(r)&&(e("[name="+e.jgrid.jqID(r)+"]",i).is("input:radio")||e("[name="+e.jgrid.jqID(r)+"]",i).is("input:checkbox")?e("[name="+e.jgrid.jqID(r)+"]",i).each(function(){e(this).val()==a[r]?e(this)[n.p.useProp?"prop":"attr"]("checked",!0):e(this)[n.p.useProp?"prop":"attr"]("checked",!1)}):e("[name="+e.jgrid.jqID(r)+"]",i).val(a[r]))}})},FormToGrid:function(t,i,r,n){return this.each(function(){var a=this;if(a.grid){r||(r="set"),n||(n="first");var s=e(i).serializeArray(),o={};e.each(s,function(e,t){o[t.name]=t.value}),"add"==r?e(a).jqGrid("addRowData",t,o,n):"set"==r&&e(a).jqGrid("setRowData",t,o)}})}})}(jQuery),function(e){"use strict";e.jgrid.inlineEdit=e.jgrid.inlineEdit||{},e.jgrid.extend({editRow:function(t,i,r,n,a,s,o,l,d){var u={},c=e.makeArray(arguments).slice(1);return"object"===e.type(c[0])?u=c[0]:(void 0!==i&&(u.keys=i),e.isFunction(r)&&(u.oneditfunc=r),e.isFunction(n)&&(u.successfunc=n),void 0!==a&&(u.url=a),void 0!==s&&(u.extraparam=s),e.isFunction(o)&&(u.aftersavefunc=o),e.isFunction(l)&&(u.errorfunc=l),e.isFunction(d)&&(u.afterrestorefunc=d)),u=e.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},e.jgrid.inlineEdit,u),this.each(function(){var i,r,n,a,s,o=this,l=0,d=null,c={};o.grid&&(a=e(o).jqGrid("getInd",t,!0),a!==!1&&(n=e(a).attr("editable")||"0","0"!=n||e(a).hasClass("not-editable-row")||(s=o.p.colModel,e('td[role="gridcell"]',a).each(function(n){i=s[n].name;var a=o.p.treeGrid===!0&&i==o.p.ExpandColumn;if(a)r=e("span:first",this).html();else try{r=e.unformat.call(o,this,{rowId:t,colModel:s[n]},n)}catch(u){r=s[n].edittype&&"textarea"==s[n].edittype?e(this).text():e(this).html()}if("cb"!=i&&"subgrid"!=i&&"rn"!=i&&(o.p.autoencode&&(r=e.jgrid.htmlDecode(r)),c[i]=r,s[n].editable===!0)){null===d&&(d=n),a?e("span:first",this).html(""):e(this).html("");var h=e.extend({},s[n].editoptions||{},{id:t+"_"+i,name:i});s[n].edittype||(s[n].edittype="text"),("&nbsp;"==r||"&#160;"==r||1==r.length&&160==r.charCodeAt(0))&&(r="");var p=e.jgrid.createEl.call(o,s[n].edittype,h,r,!0,e.extend({},e.jgrid.ajaxOptions,o.p.ajaxSelectOptions||{}));e(p).addClass("editable"),a?e("span:first",this).append(p):e(this).append(p),e.jgrid.bindEv(p,h,o),"select"==s[n].edittype&&void 0!==s[n].editoptions&&s[n].editoptions.multiple===!0&&void 0===s[n].editoptions.dataUrl&&e.jgrid.msie&&e(p).width(e(p).width()),l++}}),l>0&&(c.id=t,o.p.savedRow.push(c),e(a).attr("editable","1"),e("td:eq("+d+") input",a).focus(),u.keys===!0&&e(a).bind("keydown",function(i){if(27===i.keyCode){if(e(o).jqGrid("restoreRow",t,u.afterrestorefunc),o.p._inlinenav)try{e(o).jqGrid("showAddEditButtons")}catch(r){}return!1}if(13===i.keyCode){var n=i.target;if("TEXTAREA"==n.tagName)return!0;if(e(o).jqGrid("saveRow",t,u)&&o.p._inlinenav)try{e(o).jqGrid("showAddEditButtons")}catch(a){}return!1}}),e(o).triggerHandler("jqGridInlineEditRow",[t,u]),e.isFunction(u.oneditfunc)&&u.oneditfunc.call(o,t)))))})},saveRow:function(t,i,r,n,a,s,o){var l=e.makeArray(arguments).slice(1),d={};"object"===e.type(l[0])?d=l[0]:(e.isFunction(i)&&(d.successfunc=i),void 0!==r&&(d.url=r),void 0!==n&&(d.extraparam=n),e.isFunction(a)&&(d.aftersavefunc=a),e.isFunction(s)&&(d.errorfunc=s),e.isFunction(o)&&(d.afterrestorefunc=o)),d=e.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},e.jgrid.inlineEdit,d);var u,c,h,p,f,g=!1,m=this[0],v={},b={},_={};if(!m.grid)return g;if(f=e(m).jqGrid("getInd",t,!0),f===!1)return g;if(c=e(f).attr("editable"),d.url=d.url||m.p.editurl,"1"===c){var y;if(e('td[role="gridcell"]',f).each(function(t){if(y=m.p.colModel[t],u=y.name,"cb"!=u&&"subgrid"!=u&&y.editable===!0&&"rn"!=u&&!e(this).hasClass("not-editable-cell")){switch(y.edittype){case"checkbox":var i=["Yes","No"];y.editoptions&&(i=y.editoptions.value.split(":")),v[u]=e("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":v[u]=e("input, textarea",this).val();break;case"select":if(y.editoptions.multiple){var r=e("select",this),n=[];v[u]=e(r).val(),v[u]?v[u]=v[u].join(","):v[u]="",e("select option:selected",this).each(function(t,i){n[t]=e(i).text()}),b[u]=n.join(",")}else v[u]=e("select option:selected",this).val(),b[u]=e("select option:selected",this).text();y.formatter&&"select"==y.formatter&&(b={});break;case"custom":try{if(!y.editoptions||!e.isFunction(y.editoptions.custom_value))throw"e1";if(v[u]=y.editoptions.custom_value.call(m,e(".customelement",this),"get"),void 0===v[u])throw"e2"}catch(a){"e1"==a&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"==a?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,a.message,e.jgrid.edit.bClose)}}if(p=e.jgrid.checkValues(v[u],t,m),p[0]===!1)return p[1]=v[u]+" "+p[1],!1;m.p.autoencode&&(v[u]=e.jgrid.htmlEncode(v[u])),"clientArray"!==d.url&&y.editoptions&&y.editoptions.NullIfEmpty===!0&&""===v[u]&&(_[u]="null")}}),p[0]===!1){try{var x=e.jgrid.findPos(e("#"+e.jgrid.jqID(t),m.grid.bDiv)[0]);e.jgrid.info_dialog(e.jgrid.errors.errcap,p[1],e.jgrid.edit.bClose,{left:x[0],top:x[1]})}catch(w){alert(p[1])}return g}var k,j=m.p.prmNames,C=t;if(k=m.p.keyIndex===!1?j.id:m.p.colModel[m.p.keyIndex+(m.p.rownumbers===!0?1:0)+(m.p.multiselect===!0?1:0)+(m.p.subGrid===!0?1:0)].name,v){if(v[j.oper]=j.editoper,void 0===v[k])v[k]=t;else if(f.id!==m.p.idPrefix+v[k]){var D=e.jgrid.stripPref(m.p.idPrefix,t);if(void 0!==m.p._index[D]&&(m.p._index[v[k]]=m.p._index[D],delete m.p._index[D]),t=m.p.idPrefix+v[k],e(f).attr("id",t),m.p.selrow===C&&(m.p.selrow=t),e.isArray(m.p.selarrrow)){var S=e.inArray(C,m.p.selarrrow);S>=0&&(m.p.selarrrow[S]=t)}if(m.p.multiselect){var T="jqg_"+m.p.id+"_"+t;e("input.cbox",f).attr("id",T).attr("name",T)}}void 0===m.p.inlineData&&(m.p.inlineData={}),v=e.extend({},v,m.p.inlineData,d.extraparam)}if("clientArray"==d.url){v=e.extend({},v,b),m.p.autoencode&&e.each(v,function(t,i){v[t]=e.jgrid.htmlDecode(i)});var I,P=e(m).jqGrid("setRowData",t,v);for(e(f).attr("editable","0"),I=0;I<m.p.savedRow.length;I++)if(m.p.savedRow[I].id==C){h=I;break}h>=0&&m.p.savedRow.splice(h,1),e(m).triggerHandler("jqGridInlineAfterSaveRow",[t,P,v,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(m,t,P,d),g=!0,e(f).unbind("keydown")}else e("#lui_"+e.jgrid.jqID(m.p.id)).show(),_=e.extend({},v,_),_[k]=e.jgrid.stripPref(m.p.idPrefix,_[k]),e.ajax(e.extend({url:d.url,data:e.isFunction(m.p.serializeRowData)?m.p.serializeRowData.call(m,_):_,type:d.mtype,async:!1,complete:function(i,r){if(e("#lui_"+e.jgrid.jqID(m.p.id)).hide(),"success"===r){var n,a,s=!0;if(n=e(m).triggerHandler("jqGridInlineSuccessSaveRow",[i,t,d]),e.isArray(n)||(n=[!0,v]),n[0]&&e.isFunction(d.successfunc)&&(n=d.successfunc.call(m,i)),e.isArray(n)?(s=n[0],v=n[1]||v):s=n,s===!0){for(m.p.autoencode&&e.each(v,function(t,i){v[t]=e.jgrid.htmlDecode(i)}),v=e.extend({},v,b),e(m).jqGrid("setRowData",t,v),e(f).attr("editable","0"),a=0;a<m.p.savedRow.length;a++)if(m.p.savedRow[a].id==t){h=a;break}h>=0&&m.p.savedRow.splice(h,1),e(m).triggerHandler("jqGridInlineAfterSaveRow",[t,i,v,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(m,t,i),g=!0,e(f).unbind("keydown")}else e(m).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,null,d]),e.isFunction(d.errorfunc)&&d.errorfunc.call(m,t,i,r,null),d.restoreAfterError===!0&&e(m).jqGrid("restoreRow",t,d.afterrestorefunc)}},error:function(i,r,n){if(e("#lui_"+e.jgrid.jqID(m.p.id)).hide(),e(m).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,n,d]),e.isFunction(d.errorfunc))d.errorfunc.call(m,t,i,r,n);else{var a=i.responseText||i.statusText;try{e.jgrid.info_dialog(e.jgrid.errors.errcap,'<div class="ui-state-error">'+a+"</div>",e.jgrid.edit.bClose,{buttonalign:"right"})}catch(s){alert(a)}}d.restoreAfterError===!0&&e(m).jqGrid("restoreRow",t,d.afterrestorefunc)}},e.jgrid.ajaxOptions,m.p.ajaxRowOptions||{}))}return g},restoreRow:function(t,i){var r=e.makeArray(arguments).slice(1),n={};return"object"===e.type(r[0])?n=r[0]:e.isFunction(i)&&(n.afterrestorefunc=i),n=e.extend(!0,e.jgrid.inlineEdit,n),this.each(function(){var i,r,a,s=this,o={};if(s.grid&&(r=e(s).jqGrid("getInd",t,!0),r!==!1)){for(a=0;a<s.p.savedRow.length;a++)if(s.p.savedRow[a].id==t){i=a;break}if(i>=0){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker","#"+e.jgrid.jqID(r.id)).datepicker("hide")}catch(l){}e.each(s.p.colModel,function(){this.editable===!0&&s.p.savedRow[i].hasOwnProperty(this.name)&&(o[this.name]=s.p.savedRow[i][this.name])}),e(s).jqGrid("setRowData",t,o),e(r).attr("editable","0").unbind("keydown"),s.p.savedRow.splice(i,1),e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(s.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){e(s).jqGrid("delRowData",t)},0)}e(s).triggerHandler("jqGridInlineAfterRestoreRow",[t]),e.isFunction(n.afterrestorefunc)&&n.afterrestorefunc.call(s,t)}})},addRow:function(t){return t=e.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){if(this.grid){var i=this;if(t.rowID=e.isFunction(t.rowID)?t.rowID.call(i,t):null!=t.rowID?t.rowID:e.jgrid.randId(),t.useDefValues===!0&&e(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var r=this.editoptions.defaultValue,n=e.isFunction(r)?r.call(i):r;t.initdata[this.name]=n}}),e(i).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=i.p.idPrefix+t.rowID,e("#"+e.jgrid.jqID(t.rowID),"#"+e.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),t.useFormatter)e("#"+e.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+e.jgrid.jqID(i.p.id)).click();else{var r=i.p.prmNames,n=r.oper;t.addRowParams.extraparam[n]=r.addoper,e(i).jqGrid("editRow",t.rowID,t.addRowParams),e(i).jqGrid("setSelection",t.rowID)}}})},inlineNav:function(t,i){return i=e.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{},editParams:{},restoreAfterSelect:!0},e.jgrid.nav,i||{}),this.each(function(){if(this.grid){var r,n=this,a=e.jgrid.jqID(n.p.id);if(n.p._inlinenav=!0,i.addParams.useFormatter===!0){var s,o=n.p.colModel;for(s=0;s<o.length;s++)if(o[s].formatter&&"actions"===o[s].formatter){if(o[s].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},d=e.extend(l,o[s].formatoptions);i.addParams.addRowParams={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:d.afterSavef,errorfunc:d.onError,afterrestorefunc:d.afterRestore}}break}}i.add&&e(n).jqGrid("navButtonAdd",t,{caption:i.addtext,title:i.addtitle,buttonicon:i.addicon,id:n.p.id+"_iladd",onClickButton:function(){e(n).jqGrid("addRow",i.addParams),i.addParams.useFormatter||(e("#"+a+"_ilsave").removeClass("ui-state-disabled"),e("#"+a+"_ilcancel").removeClass("ui-state-disabled"),e("#"+a+"_iladd").addClass("ui-state-disabled"),e("#"+a+"_iledit").addClass("ui-state-disabled"))}}),i.edit&&e(n).jqGrid("navButtonAdd",t,{caption:i.edittext,title:i.edittitle,buttonicon:i.editicon,id:n.p.id+"_iledit",onClickButton:function(){var t=e(n).jqGrid("getGridParam","selrow");t?(e(n).jqGrid("editRow",t,i.editParams),e("#"+a+"_ilsave").removeClass("ui-state-disabled"),e("#"+a+"_ilcancel").removeClass("ui-state-disabled"),e("#"+a+"_iladd").addClass("ui-state-disabled"),e("#"+a+"_iledit").addClass("ui-state-disabled")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus())}}),i.save&&(e(n).jqGrid("navButtonAdd",t,{caption:i.savetext||"",title:i.savetitle||"Save row",buttonicon:i.saveicon,id:n.p.id+"_ilsave",onClickButton:function(){var t=n.p.savedRow[0].id;if(t){var r=n.p.prmNames,s=r.oper;i.editParams.extraparam||(i.editParams.extraparam={}),e("#"+e.jgrid.jqID(t),"#"+a).hasClass("jqgrid-new-row")?i.editParams.extraparam[s]=r.addoper:i.editParams.extraparam[s]=r.editoper,e(n).jqGrid("saveRow",t,i.editParams)&&e(n).jqGrid("showAddEditButtons")}else e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus()}}),e("#"+a+"_ilsave").addClass("ui-state-disabled")),i.cancel&&(e(n).jqGrid("navButtonAdd",t,{caption:i.canceltext||"",title:i.canceltitle||"Cancel row editing",buttonicon:i.cancelicon,id:n.p.id+"_ilcancel",onClickButton:function(){var t=n.p.savedRow[0].id;t?(e(n).jqGrid("restoreRow",t,i.editParams),e(n).jqGrid("showAddEditButtons")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus())}}),e("#"+a+"_ilcancel").addClass("ui-state-disabled")),i.restoreAfterSelect===!0&&(r=!!e.isFunction(n.p.beforeSelectRow)&&n.p.beforeSelectRow,n.p.beforeSelectRow=function(t,a){var s=!0;return n.p.savedRow.length>0&&n.p._inlinenav===!0&&t!==n.p.selrow&&null!==n.p.selrow&&(n.p.selrow==i.addParams.rowID?e(n).jqGrid("delRowData",n.p.selrow):e(n).jqGrid("restoreRow",n.p.selrow,i.editParams),e(n).jqGrid("showAddEditButtons")),r&&(s=r.call(n,t,a)),s})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=e.jgrid.jqID(this.p.id);e("#"+t+"_ilsave").addClass("ui-state-disabled"),e("#"+t+"_ilcancel").addClass("ui-state-disabled"),e("#"+t+"_iladd").removeClass("ui-state-disabled"),e("#"+t+"_iledit").removeClass("ui-state-disabled")}})}})}(jQuery),function(e){"use strict";e.jgrid.extend({editCell:function(t,i,r){return this.each(function(){var n,a,s,o,l=this;if(l.grid&&l.p.cellEdit===!0){if(i=parseInt(i,10),l.p.selrow=l.rows[t].id,l.p.knv||e(l).jqGrid("GridNav"),l.p.savedRow.length>0){if(r===!0&&t==l.p.iRow&&i==l.p.iCol)return;e(l).jqGrid("saveCell",l.p.savedRow[0].id,l.p.savedRow[0].ic)}else window.setTimeout(function(){e("#"+e.jgrid.jqID(l.p.knv)).attr("tabindex","-1").focus()},0);if(o=l.p.colModel[i],n=o.name,"subgrid"!=n&&"cb"!=n&&"rn"!=n){if(s=e("td:eq("+i+")",l.rows[t]),o.editable!==!0||r!==!0||s.hasClass("not-editable-cell"))parseInt(l.p.iCol,10)>=0&&parseInt(l.p.iRow,10)>=0&&(e("td:eq("+l.p.iCol+")",l.rows[l.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(l.rows[l.p.iRow]).removeClass("selected-row ui-state-hover")),s.addClass("edit-cell ui-state-highlight"),e(l.rows[t]).addClass("selected-row ui-state-hover"),a=s.html().replace(/\&#160\;/gi,""),e(l).triggerHandler("jqGridSelectCell",[l.rows[t].id,n,a,t,i]),e.isFunction(l.p.onSelectCell)&&l.p.onSelectCell.call(l,l.rows[t].id,n,a,t,i);else{parseInt(l.p.iCol,10)>=0&&parseInt(l.p.iRow,10)>=0&&(e("td:eq("+l.p.iCol+")",l.rows[l.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(l.rows[l.p.iRow]).removeClass("selected-row ui-state-hover")),e(s).addClass("edit-cell ui-state-highlight"),e(l.rows[t]).addClass("selected-row ui-state-hover");try{a=e.unformat.call(l,s,{rowId:l.rows[t].id,colModel:o},i)}catch(d){a=o.edittype&&"textarea"==o.edittype?e(s).text():e(s).html()}if(l.p.autoencode&&(a=e.jgrid.htmlDecode(a)),o.edittype||(o.edittype="text"),l.p.savedRow.push({id:t,ic:i,name:n,v:a}),("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),e.isFunction(l.p.formatCell)){var u=l.p.formatCell.call(l,l.rows[t].id,n,a,t,i);void 0!==u&&(a=u)}var c=e.extend({},o.editoptions||{},{id:t+"_"+n,name:n}),h=e.jgrid.createEl.call(l,o.edittype,c,a,!0,e.extend({},e.jgrid.ajaxOptions,l.p.ajaxSelectOptions||{}));e(l).triggerHandler("jqGridBeforeEditCell",[l.rows[t].id,n,a,t,i]),e.isFunction(l.p.beforeEditCell)&&l.p.beforeEditCell.call(l,l.rows[t].id,n,a,t,i),e(s).html("").append(h).attr("tabindex","0"),e.jgrid.bindEv(h,c,l),window.setTimeout(function(){e(h).focus()},0),e("input, select, textarea",s).bind("keydown",function(r){if(27===r.keyCode&&(e("input.hasDatepicker",s).length>0?e(".ui-datepicker").is(":hidden")?e(l).jqGrid("restoreCell",t,i):e("input.hasDatepicker",s).datepicker("hide"):e(l).jqGrid("restoreCell",t,i)),13===r.keyCode)return e(l).jqGrid("saveCell",t,i),!1;if(9===r.keyCode){if(l.grid.hDiv.loading)return!1;r.shiftKey?e(l).jqGrid("prevCell",t,i):e(l).jqGrid("nextCell",t,i)}r.stopPropagation()}),e(l).triggerHandler("jqGridAfterEditCell",[l.rows[t].id,n,a,t,i]),e.isFunction(l.p.afterEditCell)&&l.p.afterEditCell.call(l,l.rows[t].id,n,a,t,i)}l.p.iCol=i,l.p.iRow=t}}})},saveCell:function(t,i){return this.each(function(){var r,n=this;if(n.grid&&n.p.cellEdit===!0){if(r=n.p.savedRow.length>=1?0:null,null!==r){var a,s,o=e("td:eq("+i+")",n.rows[t]),l=n.p.colModel[i],d=l.name,u=e.jgrid.jqID(d);switch(l.edittype){case"select":if(l.editoptions.multiple){var c=e("#"+t+"_"+u,n.rows[t]),h=[];a=e(c).val(),a?a.join(","):a="",e("option:selected",c).each(function(t,i){h[t]=e(i).text()}),s=h.join(",")}else a=e("#"+t+"_"+u+" option:selected",n.rows[t]).val(),s=e("#"+t+"_"+u+" option:selected",n.rows[t]).text();l.formatter&&(s=a);break;case"checkbox":var p=["Yes","No"];l.editoptions&&(p=l.editoptions.value.split(":")),a=e("#"+t+"_"+u,n.rows[t]).is(":checked")?p[0]:p[1],s=a;break;case"password":case"text":case"textarea":case"button":a=e("#"+t+"_"+u,n.rows[t]).val(),s=a;break;case"custom":try{if(!l.editoptions||!e.isFunction(l.editoptions.custom_value))throw"e1";if(a=l.editoptions.custom_value.call(n,e(".customelement",o),"get"),void 0===a)throw"e2";s=a}catch(f){"e1"==f&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"==f?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,f.message,e.jgrid.edit.bClose)}}if(s!==n.p.savedRow[r].v){var g=e(n).triggerHandler("jqGridBeforeSaveCell",[n.rows[t].id,d,a,t,i]);if(g&&(a=g,s=g),e.isFunction(n.p.beforeSaveCell)){var m=n.p.beforeSaveCell.call(n,n.rows[t].id,d,a,t,i);
m&&(a=m,s=m)}var v=e.jgrid.checkValues(a,i,n);if(v[0]===!0){var b=e(n).triggerHandler("jqGridBeforeSubmitCell",[n.rows[t].id,d,a,t,i])||{};if(e.isFunction(n.p.beforeSubmitCell)&&(b=n.p.beforeSubmitCell.call(n,n.rows[t].id,d,a,t,i),b||(b={})),e("input.hasDatepicker",o).length>0&&e("input.hasDatepicker",o).datepicker("hide"),"remote"==n.p.cellsubmit)if(n.p.cellurl){var _={};n.p.autoencode&&(a=e.jgrid.htmlEncode(a)),_[d]=a;var y,x,w;w=n.p.prmNames,y=w.id,x=w.oper,_[y]=e.jgrid.stripPref(n.p.idPrefix,n.rows[t].id),_[x]=w.editoper,_=e.extend(b,_),e("#lui_"+e.jgrid.jqID(n.p.id)).show(),n.grid.hDiv.loading=!0,e.ajax(e.extend({url:n.p.cellurl,data:e.isFunction(n.p.serializeCellData)?n.p.serializeCellData.call(n,_):_,type:"POST",complete:function(r,l){if(e("#lui_"+n.p.id).hide(),n.grid.hDiv.loading=!1,"success"==l){var u=e(n).triggerHandler("jqGridAfterSubmitCell",[n,r,_.id,d,a,t,i])||[!0,""];u[0]===!0&&e.isFunction(n.p.afterSubmitCell)&&(u=n.p.afterSubmitCell.call(n,r,_.id,d,a,t,i)),u[0]===!0?(e(o).empty(),e(n).jqGrid("setCell",n.rows[t].id,i,s,!1,!1,!0),e(o).addClass("dirty-cell"),e(n.rows[t]).addClass("edited"),e(n).triggerHandler("jqGridAfterSaveCell",[n.rows[t].id,d,a,t,i]),e.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell.call(n,n.rows[t].id,d,a,t,i),n.p.savedRow.splice(0,1)):(e.jgrid.info_dialog(e.jgrid.errors.errcap,u[1],e.jgrid.edit.bClose),e(n).jqGrid("restoreCell",t,i))}},error:function(r,a,s){e("#lui_"+e.jgrid.jqID(n.p.id)).hide(),n.grid.hDiv.loading=!1,e(n).triggerHandler("jqGridErrorCell",[r,a,s]),e.isFunction(n.p.errorCell)?(n.p.errorCell.call(n,r,a,s),e(n).jqGrid("restoreCell",t,i)):(e.jgrid.info_dialog(e.jgrid.errors.errcap,r.status+" : "+r.statusText+"<br/>"+a,e.jgrid.edit.bClose),e(n).jqGrid("restoreCell",t,i))}},e.jgrid.ajaxOptions,n.p.ajaxCellOptions||{}))}else try{e.jgrid.info_dialog(e.jgrid.errors.errcap,e.jgrid.errors.nourl,e.jgrid.edit.bClose),e(n).jqGrid("restoreCell",t,i)}catch(f){}"clientArray"==n.p.cellsubmit&&(e(o).empty(),e(n).jqGrid("setCell",n.rows[t].id,i,s,!1,!1,!0),e(o).addClass("dirty-cell"),e(n.rows[t]).addClass("edited"),e(n).triggerHandler("jqGridAfterSaveCell",[n.rows[t].id,d,a,t,i]),e.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell.call(n,n.rows[t].id,d,a,t,i),n.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){e.jgrid.info_dialog(e.jgrid.errors.errcap,a+" "+v[1],e.jgrid.edit.bClose)},100),e(n).jqGrid("restoreCell",t,i)}catch(f){}}else e(n).jqGrid("restoreCell",t,i)}window.setTimeout(function(){e("#"+e.jgrid.jqID(n.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,i){return this.each(function(){var r,n=this;if(n.grid&&n.p.cellEdit===!0){if(r=n.p.savedRow.length>=1?0:null,null!==r){var a=e("td:eq("+i+")",n.rows[t]);if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker",a).datepicker("hide")}catch(s){}e(a).empty().attr("tabindex","-1"),e(n).jqGrid("setCell",n.rows[t].id,i,n.p.savedRow[r].v,!1,!1,!0),e(n).triggerHandler("jqGridAfterRestoreCell",[n.rows[t].id,n.p.savedRow[r].v,t,i]),e.isFunction(n.p.afterRestoreCell)&&n.p.afterRestoreCell.call(n,n.rows[t].id,n.p.savedRow[r].v,t,i),n.p.savedRow.splice(0,1)}window.setTimeout(function(){e("#"+n.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var r,n=this,a=!1;if(n.grid&&n.p.cellEdit===!0){for(r=i+1;r<n.p.colModel.length;r++)if(n.p.colModel[r].editable===!0){a=r;break}a!==!1?e(n).jqGrid("editCell",t,a,!0):n.p.savedRow.length>0&&e(n).jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var r,n=this,a=!1;if(n.grid&&n.p.cellEdit===!0){for(r=i-1;r>=0;r--)if(n.p.colModel[r].editable===!0){a=r;break}a!==!1?e(n).jqGrid("editCell",t,a,!0):n.p.savedRow.length>0&&e(n).jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function t(t,i,n){if("v"==n.substr(0,1)){var a=e(r.grid.bDiv)[0].clientHeight,s=e(r.grid.bDiv)[0].scrollTop,o=r.rows[t].offsetTop+r.rows[t].clientHeight,l=r.rows[t].offsetTop;"vd"==n&&o>=a&&(e(r.grid.bDiv)[0].scrollTop=e(r.grid.bDiv)[0].scrollTop+r.rows[t].clientHeight),"vu"==n&&l<s&&(e(r.grid.bDiv)[0].scrollTop=e(r.grid.bDiv)[0].scrollTop-r.rows[t].clientHeight)}if("h"==n){var d=e(r.grid.bDiv)[0].clientWidth,u=e(r.grid.bDiv)[0].scrollLeft,c=r.rows[t].cells[i].offsetLeft+r.rows[t].cells[i].clientWidth,h=r.rows[t].cells[i].offsetLeft;c>=d+parseInt(u,10)?e(r.grid.bDiv)[0].scrollLeft=e(r.grid.bDiv)[0].scrollLeft+r.rows[t].cells[i].clientWidth:h<u&&(e(r.grid.bDiv)[0].scrollLeft=e(r.grid.bDiv)[0].scrollLeft-r.rows[t].cells[i].clientWidth)}}function i(e,t){var i,n;if("lft"==t)for(i=e+1,n=e;n>=0;n--)if(r.p.colModel[n].hidden!==!0){i=n;break}if("rgt"==t)for(i=e-1,n=e;n<r.p.colModel.length;n++)if(r.p.colModel[n].hidden!==!0){i=n;break}return i}var r=this;if(r.grid&&r.p.cellEdit===!0){r.p.knv=r.p.id+"_kn";var n,a,s=e("<div style='position:fixed;top:-1000000px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+r.p.knv+"'></div></div>");e(s).insertBefore(r.grid.cDiv),e("#"+r.p.knv).focus().keydown(function(s){switch(a=s.keyCode,"rtl"==r.p.direction&&(37===a?a=39:39===a&&(a=37)),a){case 38:r.p.iRow-1>0&&(t(r.p.iRow-1,r.p.iCol,"vu"),e(r).jqGrid("editCell",r.p.iRow-1,r.p.iCol,!1));break;case 40:r.p.iRow+1<=r.rows.length-1&&(t(r.p.iRow+1,r.p.iCol,"vd"),e(r).jqGrid("editCell",r.p.iRow+1,r.p.iCol,!1));break;case 37:r.p.iCol-1>=0&&(n=i(r.p.iCol-1,"lft"),t(r.p.iRow,n,"h"),e(r).jqGrid("editCell",r.p.iRow,n,!1));break;case 39:r.p.iCol+1<=r.p.colModel.length-1&&(n=i(r.p.iCol+1,"rgt"),t(r.p.iRow,n,"h"),e(r).jqGrid("editCell",r.p.iRow,n,!1));break;case 13:parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&e(r).jqGrid("editCell",r.p.iRow,r.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(t){var i=[];return t||(t="all"),this.each(function(){var r,n=this;n.grid&&n.p.cellEdit===!0&&e(n.rows).each(function(a){var s={};e(this).hasClass("edited")&&(e("td",this).each(function(i){if(r=n.p.colModel[i].name,"cb"!==r&&"subgrid"!==r)if("dirty"==t){if(e(this).hasClass("dirty-cell"))try{s[r]=e.unformat.call(n,this,{rowId:n.rows[a].id,colModel:n.p.colModel[i]},i)}catch(o){s[r]=e.jgrid.htmlDecode(e(this).html())}}else try{s[r]=e.unformat.call(n,this,{rowId:n.rows[a].id,colModel:n.p.colModel[i]},i)}catch(o){s[r]=e.jgrid.htmlDecode(e(this).html())}}),s.id=this.id,i.push(s))})}),i}})}(jQuery),function(e){"use strict";e.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,i,r=this,n={plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,reloadOnExpand:!0};if(r.p.subGridOptions=e.extend(n,r.p.subGridOptions||{}),r.p.colNames.unshift(""),r.p.colModel.unshift({name:"subgrid",width:e.jgrid.cell_width?r.p.subGridWidth+r.p.cellLayout:r.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=r.p.subGridModel,t[0])for(t[0].align=e.extend([],t[0].align||[]),i=0;i<t[0].name.length;i++)t[0].align[i]=t[0].align[i]||"left"})},addSubGridCell:function(e,t){var i,r,n="";return this.each(function(){n=this.formatCol(e,t),r=this.p.id,i=this.p.subGridOptions.plusicon}),'<td role="gridcell" aria-describedby="'+r+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+n+"><a href='javascript:void(0);'><span class='ui-icon "+i+"'></span></a></td>"},addSubGrid:function(t,i){return this.each(function(){var r=this;if(r.grid){var n,a,s,o,l,d=function(t,i,n){var a=e("<td align='"+r.p.subGridModel[0].align[n]+"'></td>").html(i);e(t).append(a)},u=function(t,i){var n,a,s,o=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),l=e("<tr></tr>");for(a=0;a<r.p.subGridModel[0].name.length;a++)n=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'></th>"),e(n).html(r.p.subGridModel[0].name[a]),e(n).width(r.p.subGridModel[0].width[a]),e(l).append(n);e(o).append(l),t&&(s=r.p.xmlReader.subgrid,e(s.root+" "+s.row,t).each(function(){if(l=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),s.repeatitems===!0)e(s.cell,this).each(function(t){d(l,e(this).text()||"&#160;",t)});else{var t=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(t)for(a=0;a<t.length;a++)d(l,e(t[a],this).text()||"&#160;",a)}e(o).append(l)}));var u=e("table:first",r.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(u+i)).append(o),r.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(r.p.id)).hide(),!1},c=function(t,i){var n,a,s,o,l,u,c=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),h=e("<tr></tr>");for(s=0;s<r.p.subGridModel[0].name.length;s++)n=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'></th>"),e(n).html(r.p.subGridModel[0].name[s]),e(n).width(r.p.subGridModel[0].width[s]),e(h).append(n);if(e(c).append(h),t&&(l=r.p.jsonReader.subgrid,a=e.jgrid.getAccessor(t,l.root),void 0!==a))for(s=0;s<a.length;s++){if(o=a[s],h=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),l.repeatitems===!0)for(l.cell&&(o=o[l.cell]),u=0;u<o.length;u++)d(h,o[u]||"&#160;",u);else{var p=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(p.length)for(u=0;u<p.length;u++)d(h,o[p[u]]||"&#160;",u)}e(c).append(h)}var f=e("table:first",r.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(f+i)).append(c),r.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(r.p.id)).hide(),!1},h=function(t){var i,n,a,s;if(i=e(t).attr("id"),n={nd_:(new Date).getTime()},n[r.p.prmNames.subgridid]=i,!r.p.subGridModel[0])return!1;if(r.p.subGridModel[0].params)for(s=0;s<r.p.subGridModel[0].params.length;s++)for(a=0;a<r.p.colModel.length;a++)r.p.colModel[a].name===r.p.subGridModel[0].params[s]&&(n[r.p.colModel[a].name]=e("td:eq("+a+")",t).text().replace(/\&#160\;/gi,""));if(!r.grid.hDiv.loading)switch(r.grid.hDiv.loading=!0,e("#load_"+e.jgrid.jqID(r.p.id)).show(),r.p.subgridtype||(r.p.subgridtype=r.p.datatype),e.isFunction(r.p.subgridtype)?r.p.subgridtype.call(r,n):r.p.subgridtype=r.p.subgridtype.toLowerCase(),r.p.subgridtype){case"xml":case"json":e.ajax(e.extend({type:r.p.mtype,url:r.p.subGridUrl,dataType:r.p.subgridtype,data:e.isFunction(r.p.serializeSubGridData)?r.p.serializeSubGridData.call(r,n):n,complete:function(t){"xml"===r.p.subgridtype?u(t.responseXML,i):c(e.jgrid.parse(t.responseText),i),t=null}},e.jgrid.ajaxOptions,r.p.ajaxSubgridOptions||{}))}return!1},p=0;e.each(r.p.colModel,function(){this.hidden!==!0&&"rn"!==this.name&&"cb"!==this.name||p++});var f=r.rows.length,g=1;for(void 0!==i&&i>0&&(g=i,f=i+1);g<f;)e(r.rows[g]).hasClass("jqgrow")&&e(r.rows[g].cells[t]).bind("click",function(){var i=e(this).parent("tr")[0];if(l=i.nextSibling,e(this).hasClass("sgcollapsed")){if(a=r.p.id,n=i.id,r.p.subGridOptions.reloadOnExpand===!0||r.p.subGridOptions.reloadOnExpand===!1&&!e(l).hasClass("ui-subgrid")){if(s=t>=1?"<td colspan='"+t+"'>&#160;</td>":"",o=e(r).triggerHandler("jqGridSubGridBeforeExpand",[a+"_"+n,n]),o=o!==!1&&"stop"!==o,o&&e.isFunction(r.p.subGridBeforeExpand)&&(o=r.p.subGridBeforeExpand.call(r,a+"_"+n,n)),o===!1)return!1;e(i).after("<tr role='row' class='ui-subgrid'>"+s+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+r.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(r.p.colNames.length-1-p,10)+"' class='ui-widget-content subgrid-data'><div id="+a+"_"+n+" class='tablediv'></div></td></tr>"),e(r).triggerHandler("jqGridSubGridRowExpanded",[a+"_"+n,n]),e.isFunction(r.p.subGridRowExpanded)?r.p.subGridRowExpanded.call(r,a+"_"+n,n):h(i)}else e(l).show();e(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),r.p.subGridOptions.selectOnExpand&&e(r).jqGrid("setSelection",n)}else if(e(this).hasClass("sgexpanded")){if(o=e(r).triggerHandler("jqGridSubGridRowColapsed",[a+"_"+n,n]),o=o!==!1&&"stop"!==o,o&&e.isFunction(r.p.subGridRowColapsed)&&(n=i.id,o=r.p.subGridRowColapsed.call(r,a+"_"+n,n)),o===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0?e(l).remove(".ui-subgrid"):e(l).hasClass("ui-subgrid")&&e(l).hide(),e(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed")}return!1}),g++;r.p.subGridOptions.expandOnLoad===!0&&e(r.rows).filter(".jqgrow").each(function(t,i){e(i.cells[0]).click()}),r.subGridXml=function(e,t){u(e,t)},r.subGridJson=function(e,t){c(e,t)}}})},expandSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&i.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var n=e("td.sgcollapsed",r)[0];n&&e(n).trigger("click")}}})},collapseSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&i.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var n=e("td.sgexpanded",r)[0];n&&e(n).trigger("click")}}})},toggleSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&i.p.subGrid===!0){var r=e(this).jqGrid("getInd",t,!0);if(r){var n=e("td.sgcollapsed",r)[0];n?e(n).trigger("click"):(n=e("td.sgexpanded",r)[0],n&&e(n).trigger("click"))}}})}})}(jQuery),function(e){"use strict";e.jgrid.extend({setTreeNode:function(t,i){return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)for(var n,a,s,o,l,d,u,c,h=r.p.expColInd,p=r.p.treeReader.expanded_field,f=r.p.treeReader.leaf_field,g=r.p.treeReader.level_field,m=r.p.treeReader.icon_field,v=r.p.treeReader.loaded;t<i;){var b,_=r.rows[t].id,y=r.p._index[_];if(u=r.p.data[y],"nested"==r.p.treeGridModel&&(u[f]||(n=parseInt(u[r.p.treeReader.left_field],10),a=parseInt(u[r.p.treeReader.right_field],10),u[f]=a===n+1?"true":"false",r.rows[t].cells[r.p._treeleafpos].innerHTML=u[f])),void 0!==u){if(s=parseInt(u[g],10),0===r.p.tree_root_level?(o=s+1,l=s):(o=s,l=s-1),d="<div class='tree-wrap tree-wrap-"+r.p.direction+"' style='width:"+18*o+"px;'>",d+="<div style='"+("rtl"==r.p.direction?"right:":"left:")+18*l+"px;' class='ui-icon ",void 0!==u[v]&&("true"==u[v]||u[v]===!0?u[v]=!0:u[v]=!1),"true"==u[f]||u[f]===!0?(d+=(void 0!==u[m]&&""!==u[m]?u[m]:r.p.treeIcons.leaf)+" tree-leaf treeclick",u[f]=!0,c="leaf"):(u[f]=!1,c=""),u[p]=("true"==u[p]||u[p]===!0)&&(u[v]||void 0===u[v]),d+=u[p]===!1?u[f]===!0?"'":r.p.treeIcons.plus+" tree-plus treeclick'":u[f]===!0?"'":r.p.treeIcons.minus+" tree-minus treeclick'",d+="></div></div>",e(r.rows[t].cells[h]).wrapInner("<span class='cell-wrapper"+c+"'></span>").prepend(d),s!==parseInt(r.p.tree_root_level,10)){var x=e(r).jqGrid("getNodeParent",u);b=!x||!x.hasOwnProperty(p)||x[p],b||e(r.rows[t]).css("display","none")}e(r.rows[t].cells[h]).find("div.treeclick").bind("click",function(t){var i=t.target||t.srcElement,n=e(i,r.rows).closest("tr.jqgrow")[0].id,a=r.p._index[n];return r.p.data[a][f]||(r.p.data[a][p]?(e(r).jqGrid("collapseRow",r.p.data[a]),e(r).jqGrid("collapseNode",r.p.data[a])):(e(r).jqGrid("expandRow",r.p.data[a]),e(r).jqGrid("expandNode",r.p.data[a]))),!1}),r.p.ExpandColClick===!0&&e(r.rows[t].cells[h]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var i=t.target||t.srcElement,n=e(i,r.rows).closest("tr.jqgrow")[0].id,a=r.p._index[n];return r.p.data[a][f]||(r.p.data[a][p]?(e(r).jqGrid("collapseRow",r.p.data[a]),e(r).jqGrid("collapseNode",r.p.data[a])):(e(r).jqGrid("expandRow",r.p.data[a]),e(r).jqGrid("expandNode",r.p.data[a]))),e(r).jqGrid("setSelection",n),!1}),t++}else t++,i++}})},setTreeGrid:function(){return this.each(function(){var t,i,r,n,a=this,s=0,o=!1,l=[];if(a.p.treeGrid){a.p.treedatatype||e.extend(a.p,{treedatatype:a.p.datatype}),a.p.subGrid=!1,a.p.altRows=!1,a.p.pgbuttons=!1,a.p.pginput=!1,a.p.gridview=!0,null===a.p.rowTotal&&(a.p.rowNum=1e4),a.p.multiselect=!1,a.p.rowList=[],a.p.expColInd=0,t="ui-icon-triangle-1-"+("rtl"==a.p.direction?"w":"e"),a.p.treeIcons=e.extend({plus:t,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},a.p.treeIcons||{}),"nested"==a.p.treeGridModel?a.p.treeReader=e.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader):"adjacency"==a.p.treeGridModel&&(a.p.treeReader=e.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader));for(r in a.p.colModel)if(a.p.colModel.hasOwnProperty(r)){i=a.p.colModel[r].name,i!=a.p.ExpandColumn||o||(o=!0,a.p.expColInd=s),s++;for(n in a.p.treeReader)a.p.treeReader.hasOwnProperty(n)&&a.p.treeReader[n]==i&&l.push(i)}e.each(a.p.treeReader,function(t,i){i&&e.inArray(i,l)===-1&&("leaf_field"===t&&(a.p._treeleafpos=s),s++,a.p.colNames.push(i),a.p.colModel.push({name:i,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=e(i).jqGrid("getNodeChildren",t),n=i.p.treeReader.expanded_field,a=i.rows;e(r).each(function(){var t=e.jgrid.getAccessor(this,i.p.localReader.id);e(a.namedItem(t)).css("display",""),this[n]&&e(i).jqGrid("expandRow",this)})}})},collapseRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=e(i).jqGrid("getNodeChildren",t),n=i.p.treeReader.expanded_field,a=i.rows;e(r).each(function(){var t=e.jgrid.getAccessor(this,i.p.localReader.id);e(a.namedItem(t)).css("display","none"),this[n]&&e(i).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var t=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.level_field;e(i.p.data).each(function(){parseInt(this[r],10)===parseInt(i.p.tree_root_level,10)&&t.push(this)});break;case"adjacency":var n=i.p.treeReader.parent_id_field;e(i.p.data).each(function(){null!==this[n]&&"null"!=String(this[n]).toLowerCase()||t.push(this)})}}),t},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this;switch(r.p.treeGridModel){case"nested":var n=r.p.treeReader.level_field;i=parseInt(t[n],10)-parseInt(r.p.tree_root_level,10);break;case"adjacency":i=e(r).jqGrid("getNodeAncestors",t).length}}}),i},getNodeParent:function(t){var i=null;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)switch(r.p.treeGridModel){case"nested":var n=r.p.treeReader.left_field,a=r.p.treeReader.right_field,s=r.p.treeReader.level_field,o=parseInt(t[n],10),l=parseInt(t[a],10),d=parseInt(t[s],10);e(this.p.data).each(function(){if(parseInt(this[s],10)===d-1&&parseInt(this[n],10)<o&&parseInt(this[a],10)>l)return i=this,!1});break;case"adjacency":var u=r.p.treeReader.parent_id_field,c=r.p.localReader.id;e(this.p.data).each(function(){if(this[c]==t[u])return i=this,!1})}}),i},getNodeChildren:function(t){var i=[];return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)switch(r.p.treeGridModel){case"nested":var n=r.p.treeReader.left_field,a=r.p.treeReader.right_field,s=r.p.treeReader.level_field,o=parseInt(t[n],10),l=parseInt(t[a],10),d=parseInt(t[s],10);e(this.p.data).each(function(){parseInt(this[s],10)===d+1&&parseInt(this[n],10)>o&&parseInt(this[a],10)<l&&i.push(this)});break;case"adjacency":var u=r.p.treeReader.parent_id_field,c=r.p.localReader.id;e(this.p.data).each(function(){this[u]==t[c]&&i.push(this)})}}),i},getFullTreeNode:function(t){var i=[];return this.each(function(){var r,n=this;if(n.grid&&n.p.treeGrid)switch(n.p.treeGridModel){case"nested":var a=n.p.treeReader.left_field,s=n.p.treeReader.right_field,o=n.p.treeReader.level_field,l=parseInt(t[a],10),d=parseInt(t[s],10),u=parseInt(t[o],10);e(this.p.data).each(function(){parseInt(this[o],10)>=u&&parseInt(this[a],10)>=l&&parseInt(this[a],10)<=d&&i.push(this)});break;case"adjacency":if(t){i.push(t);var c=n.p.treeReader.parent_id_field,h=n.p.localReader.id;e(this.p.data).each(function(e){for(r=i.length,e=0;e<r;e++)if(i[e][h]==this[c]){i.push(this);break}})}}}),i},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var r=e(this).jqGrid("getNodeParent",t);r;)i.push(r),r=e(this).jqGrid("getNodeParent",r)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid){var n=e(r).jqGrid("getNodeAncestors",t),a=r.p.treeReader.expanded_field;e(n).each(function(){if(i=i&&this[a],!i)return!1})}}),i},isNodeLoaded:function(t){var i;return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid){var n=r.p.treeReader.leaf_field;i=void 0!==t&&(void 0!==t.loaded?t.loaded:!!(t[n]||e(r).jqGrid("getNodeChildren",t).length>0))}}),i},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field,r=this.p.treeReader.parent_id_field,n=this.p.treeReader.loaded,a=this.p.treeReader.level_field,s=this.p.treeReader.left_field,o=this.p.treeReader.right_field;if(!t[i]){var l=e.jgrid.getAccessor(t,this.p.localReader.id),d=e("#"+e.jgrid.jqID(l),this.grid.bDiv)[0],u=this.p._index[l];e(this).jqGrid("isNodeLoaded",this.p.data[u])?(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=d.rowIndex,this.p.datatype=this.p.treedatatype,"nested"==this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:l,n_left:t[s],n_right:t[o],n_level:t[a]}}):e(this).jqGrid("setGridParam",{postData:{nodeid:l,parentid:t[r],n_level:t[a]}}),e(this).trigger("reloadGrid"),t[n]=!0,"nested"==this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field;if(t[i]){t[i]=!1;var r=e.jgrid.getAccessor(t,this.p.localReader.id),n=e("#"+e.jgrid.jqID(r),this.grid.bDiv)[0];e("div.treeclick",n).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus")}}})},SortTree:function(t,i,r,n){return this.each(function(){if(this.grid&&this.p.treeGrid){var a,s,o,l,d,u=[],c=this,h=e(this).jqGrid("getRootNodes");for(l=e.jgrid.from(h),l.orderBy(t,i,r,n),d=l.select(),a=0,s=d.length;a<s;a++)o=d[a],u.push(o),e(this).jqGrid("collectChildrenSortTree",u,o,t,i,r,n);e.each(u,function(t){var i=e.jgrid.getAccessor(this,c.p.localReader.id);e("#"+e.jgrid.jqID(c.p.id)+" tbody tr:eq("+t+")").after(e("tr#"+e.jgrid.jqID(i),c.grid.bDiv))}),l=null,d=null,u=null}})},collectChildrenSortTree:function(t,i,r,n,a,s){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,l,d,u,c,h;for(u=e(this).jqGrid("getNodeChildren",i),c=e.jgrid.from(u),c.orderBy(r,n,a,s),h=c.select(),o=0,l=h.length;o<l;o++)d=h[o],t.push(d),e(this).jqGrid("collectChildrenSortTree",t,d,r,n,a,s)}})},setTreeRow:function(t,i){var r=!1;return this.each(function(){var n=this;n.grid&&n.p.treeGrid&&(r=e(n).jqGrid("setRowData",t,i))}),r},delTreeNode:function(t){return this.each(function(){var i,r,n,a,s,o=this,l=o.p.localReader.id,d=o.p.treeReader.left_field,u=o.p.treeReader.right_field;if(o.grid&&o.p.treeGrid){var c=o.p._index[t];if(void 0!==c){r=parseInt(o.p.data[c][u],10),n=r-parseInt(o.p.data[c][d],10)+1;var h=e(o).jqGrid("getFullTreeNode",o.p.data[c]);if(h.length>0)for(i=0;i<h.length;i++)e(o).jqGrid("delRowData",h[i][l]);if("nested"===o.p.treeGridModel){if(a=e.jgrid.from(o.p.data).greater(d,r,{stype:"integer"}).select(),a.length)for(s in a)a.hasOwnProperty(s)&&(a[s][d]=parseInt(a[s][d],10)-n);if(a=e.jgrid.from(o.p.data).greater(u,r,{stype:"integer"}).select(),a.length)for(s in a)a.hasOwnProperty(s)&&(a[s][u]=parseInt(a[s][u],10)-n)}}}})},addChildNode:function(t,i,r,n){var a=this[0];if(r){var s,o,l,d,u,c,h,p,f=a.p.treeReader.expanded_field,g=a.p.treeReader.leaf_field,m=a.p.treeReader.level_field,v=a.p.treeReader.parent_id_field,b=a.p.treeReader.left_field,_=a.p.treeReader.right_field,y=a.p.treeReader.loaded,x=0,w=i;if(void 0===n&&(n=!1),void 0===t||null===t){if(u=a.p.data.length-1,u>=0)for(;u>=0;)x=Math.max(x,parseInt(a.p.data[u][a.p.localReader.id],10)),u--;t=x+1}var k=e(a).jqGrid("getInd",i);if(h=!1,void 0===i||null===i||""===i)i=null,w=null,s="last",d=a.p.tree_root_level,u=a.p.data.length+1;else{s="after",o=a.p._index[i],l=a.p.data[o],i=l[a.p.localReader.id],d=parseInt(l[m],10)+1;var j=e(a).jqGrid("getFullTreeNode",l);j.length?(u=j[j.length-1][a.p.localReader.id],w=u,u=e(a).jqGrid("getInd",w)+1):u=e(a).jqGrid("getInd",i)+1,l[g]&&(h=!0,l[f]=!0,e(a.rows[k]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(a.p.treeIcons.leaf+" tree-leaf").addClass(a.p.treeIcons.minus+" tree-minus"),a.p.data[o][g]=!1,l[y]=!0)}if(c=u+1,void 0===r[f]&&(r[f]=!1),void 0===r[y]&&(r[y]=!1),r[m]=d,void 0===r[g]&&(r[g]=!0),"adjacency"===a.p.treeGridModel&&(r[v]=i),"nested"===a.p.treeGridModel){var C,D,S;if(null!==i){if(p=parseInt(l[_],10),C=e.jgrid.from(a.p.data),C=C.greaterOrEquals(_,p,{stype:"integer"}),D=C.select(),D.length)for(S in D)D.hasOwnProperty(S)&&(D[S][b]=D[S][b]>p?parseInt(D[S][b],10)+2:D[S][b],D[S][_]=D[S][_]>=p?parseInt(D[S][_],10)+2:D[S][_]);r[b]=p,r[_]=p+1}else{if(p=parseInt(e(a).jqGrid("getCol",_,!1,"max"),10),D=e.jgrid.from(a.p.data).greater(b,p,{stype:"integer"}).select(),D.length)for(S in D)D.hasOwnProperty(S)&&(D[S][b]=parseInt(D[S][b],10)+2);if(D=e.jgrid.from(a.p.data).greater(_,p,{stype:"integer"}).select(),D.length)for(S in D)D.hasOwnProperty(S)&&(D[S][_]=parseInt(D[S][_],10)+2);r[b]=p+1,r[_]=p+2}}(null===i||e(a).jqGrid("isNodeLoaded",l)||h)&&(e(a).jqGrid("addRowData",t,r,s,w),e(a).jqGrid("setTreeNode",u,c)),l&&!l[f]&&n&&e(a.rows[k]).find("div.treeclick").click()}}})}(jQuery),function(e){"use strict";e.extend(e.jgrid,{template:function(t){var i,r=e.makeArray(arguments).slice(1),n=r.length;return null==t&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,a){if(!isNaN(parseInt(a,10)))return r[parseInt(a,10)];for(i=0;i<n;i++)if(e.isArray(r[i]))for(var s=r[i],o=s.length;o--;)if(a===s[o].nm)return s[o].v})}}),e.jgrid.extend({groupingSetup:function(){return this.each(function(){var t,i,r,n=this,a=n.p.colModel,s=n.p.groupingView;if(null===s||"object"!=typeof s&&!e.isFunction(s))n.p.grouping=!1;else if(s.groupField.length){for(void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s.groups=[],s.counters=[],t=0;t<s.groupField.length;t++)s.groupOrder[t]||(s.groupOrder[t]="asc"),s.groupText[t]||(s.groupText[t]="{0}"),"boolean"!=typeof s.groupColumnShow[t]&&(s.groupColumnShow[t]=!0),"boolean"!=typeof s.groupSummary[t]&&(s.groupSummary[t]=!1),s.groupColumnShow[t]===!0?(s.visibiltyOnNextGrouping[t]=!0,e(n).jqGrid("showCol",s.groupField[t])):(s.visibiltyOnNextGrouping[t]=e("#"+e.jgrid.jqID(n.p.id+"_"+s.groupField[t])).is(":visible"),e(n).jqGrid("hideCol",s.groupField[t]));for(s.summary=[],i=0,r=a.length;i<r;i++)a[i].summaryType&&s.summary.push({nm:a[i].name,st:a[i].summaryType,v:"",sr:a[i].summaryRound,srt:a[i].summaryRoundType||"round"})}else n.p.grouping=!1})},groupingPrepare:function(t,i,r,n){return this.each(function(){var a,s,o,l,d,u=this.p.groupingView,c=this,h=u.groupField.length,p=0;for(a=0;a<h;a++)s=u.groupField[a],l=u.displayField[a],o=r[s],d=null==l?null:r[l],null==d&&(d=o),void 0!==o&&(0===n?(u.groups.push({idx:a,dataIndex:s,value:o,displayValue:d,startRow:n,cnt:1,summary:[]}),u.lastvalues[a]=o,u.counters[a]={cnt:1,pos:u.groups.length-1,summary:e.extend(!0,[],u.summary)},e.each(u.counters[a].summary,function(){e.isFunction(this.st)?this.v=this.st.call(c,this.v,this.nm,r):this.v=e(c).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,r)}),u.groups[u.counters[a].pos].summary=u.counters[a].summary):"object"!=typeof o&&u.lastvalues[a]!==o?(u.groups.push({idx:a,dataIndex:s,value:o,displayValue:d,startRow:n,cnt:1,summary:[]}),u.lastvalues[a]=o,p=1,u.counters[a]={cnt:1,pos:u.groups.length-1,summary:e.extend(!0,[],u.summary)},e.each(u.counters[a].summary,function(){e.isFunction(this.st)?this.v=this.st.call(c,this.v,this.nm,r):this.v=e(c).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,r)}),u.groups[u.counters[a].pos].summary=u.counters[a].summary):1===p?(u.groups.push({idx:a,dataIndex:s,value:o,displayValue:d,startRow:n,cnt:1,summary:[]}),u.lastvalues[a]=o,u.counters[a]={cnt:1,pos:u.groups.length-1,summary:e.extend(!0,[],u.summary)},e.each(u.counters[a].summary,function(){e.isFunction(this.st)?this.v=this.st.call(c,this.v,this.nm,r):this.v=e(c).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,r)}),u.groups[u.counters[a].pos].summary=u.counters[a].summary):(u.counters[a].cnt+=1,u.groups[u.counters[a].pos].cnt=u.counters[a].cnt,e.each(u.counters[a].summary,function(){e.isFunction(this.st)?this.v=this.st.call(c,this.v,this.nm,r):this.v=e(c).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,r)}),u.groups[u.counters[a].pos].summary=u.counters[a].summary));i.push(t)}),i},groupingToggle:function(t){return this.each(function(){var i=this,r=i.p.groupingView,n=t.split("_"),a=parseInt(n[n.length-2],10);n.splice(n.length-2,2);var s,o=n.join("_"),l=r.minusicon,d=r.plusicon,u=e("#"+e.jgrid.jqID(t)),c=u.length?u[0].nextSibling:null,h=e("#"+e.jgrid.jqID(t)+" span.tree-wrap-"+i.p.direction),p=!1;if(h.hasClass(l)){if(r.showSummaryOnHide){if(c)for(;c;){if(e(c).hasClass("jqfoot")){var f=parseInt(e(c).attr("jqfootlevel"),10);if(f<=a)break}e(c).hide(),c=c.nextSibling}}else if(c)for(;c&&!e(c).hasClass(o+"_"+String(a))&&!e(c).hasClass(o+"_"+String(a-1));)e(c).hide(),c=c.nextSibling;h.removeClass(l).addClass(d),p=!0}else{if(c)for(;c&&!e(c).hasClass(o+"_"+String(a))&&!e(c).hasClass(o+"_"+String(a-1));)e(c).show(),s=e(c).find("span.tree-wrap-"+i.p.direction),s&&e(s).hasClass(d)&&e(s).removeClass(d).addClass(l),c=c.nextSibling;h.removeClass(d).addClass(l)}e(i).triggerHandler("jqGridGroupingClickGroup",[t,p]),e.isFunction(i.p.onClickGroup)&&i.p.onClickGroup.call(i,t,p)}),!1},groupingRender:function(t,i){return this.each(function(){function r(e,t,i){var r,n=!1;if(0===t)n=i[e];else{var a=i[e].idx;if(0===a)n=i[e];else for(r=e;r>=0;r--)if(i[r].idx===a-t){n=i[r];break}}return n}var n,a,s,o=this,l=o.p.groupingView,d="",u="",c=l.groupCollapse?l.plusicon:l.minusicon,h=[],p=l.groupField.length;c+=" tree-wrap-"+o.p.direction,e.each(o.p.colModel,function(e,t){var i;for(i=0;i<p;i++)if(l.groupField[i]===t.name){h[i]=e;break}});var f=0,g=e.makeArray(l.groupSummary);g.reverse(),e.each(l.groups,function(m,v){f++,a=o.p.id+"ghead_"+v.idx,n=a+"_"+m,u="<span style='cursor:pointer;' class='ui-icon "+c+"' onclick=\"jQuery('#"+e.jgrid.jqID(o.p.id)+"').jqGrid('groupingToggle','"+n+"');return false;\"></span>";try{s=o.formatter(n,v.displayValue,h[v.idx],v.value)}catch(b){s=v.displayValue}d+='<tr id="'+n+'" role="row" class= "ui-widget-content jqgroup ui-row-'+o.p.direction+" "+a+'"><td style="padding-left:'+12*v.idx+'px;" colspan="'+i+'">'+u+e.jgrid.template(l.groupText[v.idx],s,v.cnt,v.summary)+"</td></tr>";var _=p-1===v.idx;if(_){var y,x,w,k=l.groups[m+1],j=void 0!==k?l.groups[m+1].startRow:t.length;for(x=v.startRow;x<j;x++)d+=t[x].join("");var C;if(void 0!==k){for(C=0;C<l.groupField.length&&k.dataIndex!==l.groupField[C];C++);f=l.groupField.length-C}for(w=0;w<f;w++)if(g[w]){var D="";l.groupCollapse&&!l.showSummaryOnHide&&(D=' style="display:none;"'),d+="<tr"+D+' jqfootlevel="'+(v.idx-w)+'" role="row" class="ui-widget-content jqfoot ui-row-'+o.p.direction+'">';var S,T=r(m,w,l.groups),I=o.p.colModel,P=T.cnt;for(y=0;y<i;y++){var A="<td "+o.formatCol(y,1,"")+">&#160;</td>",M="{0}";e.each(T.summary,function(){if(this.nm===I[y].name){I[y].summaryTpl&&(M=I[y].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&this.v&&P>0&&(this.v=this.v/P);try{S=o.formatter("",this.v,y,this)}catch(t){S=this.v}return A="<td "+o.formatCol(y,1,"")+">"+e.jgrid.format(M,S)+"</td>",!1}}),d+=A}d+="</tr>"}f=C}}),e("#"+e.jgrid.jqID(o.p.id)+" tbody:first").append(d),
d=null})},groupingGroupBy:function(t,i){return this.each(function(){var r=this;"string"==typeof t&&(t=[t]);var n=r.p.groupingView;r.p.grouping=!0,void 0===n.visibiltyOnNextGrouping&&(n.visibiltyOnNextGrouping=[]);var a;for(a=0;a<n.groupField.length;a++)!n.groupColumnShow[a]&&n.visibiltyOnNextGrouping[a]&&e(r).jqGrid("showCol",n.groupField[a]);for(a=0;a<t.length;a++)n.visibiltyOnNextGrouping[a]=e("#"+e.jgrid.jqID(r.p.id)+"_"+e.jgrid.jqID(t[a])).is(":visible");r.p.groupingView=e.extend(r.p.groupingView,i||{}),n.groupField=t,e(r).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){var i=this;if(void 0===t&&(t=!0),i.p.grouping=!1,t===!0){var r,n=i.p.groupingView;for(r=0;r<n.groupField.length;r++)!n.groupColumnShow[r]&&n.visibiltyOnNextGrouping[r]&&e(i).jqGrid("showCol",n.groupField);e("tr.jqgroup, tr.jqfoot","#"+e.jgrid.jqID(i.p.id)+" tbody:first").remove(),e("tr.jqgrow:hidden","#"+e.jgrid.jqID(i.p.id)+" tbody:first").show()}else e(i).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,n,a){var s={sum:function(){return parseFloat(t||0)+parseFloat(a[i]||0)},min:function(){return""===t?parseFloat(a[i]||0):Math.min(parseFloat(t),parseFloat(a[i]||0))},max:function(){return""===t?parseFloat(a[i]||0):Math.max(parseFloat(t),parseFloat(a[i]||0))},count:function(){return""===t&&(t=0),a.hasOwnProperty(i)?t+1:0},avg:function(){return s.sum()}};if(!s[e])throw"jqGrid Grouping No such method: "+e;var o=s[e]();if(null!=r)if("fixed"==n)o=o.toFixed(r);else{var l=Math.pow(10,r);o=Math.round(o*l)/l}return o}}})}(jQuery),function(e){"use strict";e.jgrid.extend({jqGridImport:function(t){return t=e.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{}),this.each(function(){var i=this,r=function(t,r){var n,a,s,o=e(r.xmlGrid.config,t)[0],l=e(r.xmlGrid.data,t)[0];if(xmlJsonClass.xml2json&&e.jgrid.parse){n=xmlJsonClass.xml2json(o," "),n=e.jgrid.parse(n);for(s in n)n.hasOwnProperty(s)&&(a=n[s]);if(l){var d=n.grid.datatype;n.grid.datatype="xmlstring",n.grid.datastr=t,e(i).jqGrid(a).jqGrid("setGridParam",{datatype:d})}else e(i).jqGrid(a);n=null,a=null}else alert("xml2json or parse are not present")},n=function(t,r){if(t&&"string"==typeof t){var n=!1;e.jgrid.useJSON&&(e.jgrid.useJSON=!1,n=!0);var a=e.jgrid.parse(t);n&&(e.jgrid.useJSON=!0);var s=a[r.jsonGrid.config],o=a[r.jsonGrid.data];if(o){var l=s.datatype;s.datatype="jsonstring",s.datastr=o,e(i).jqGrid(s).jqGrid("setGridParam",{datatype:l})}else e(i).jqGrid(s)}};switch(t.imptype){case"xml":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(n,a){"success"==a&&(r(n.responseXML,t),e(i).triggerHandler("jqGridImportComplete",[n,t]),e.isFunction(t.importComplete)&&t.importComplete(n)),n=null}},t.ajaxOptions));break;case"xmlstring":if(t.impstring&&"string"==typeof t.impstring){var a=e.jgrid.stringToDoc(t.impstring);a&&(r(a,t),e(i).triggerHandler("jqGridImportComplete",[a,t]),e.isFunction(t.importComplete)&&t.importComplete(a),t.impstring=null),a=null}break;case"json":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(r){try{n(r.responseText,t),e(i).triggerHandler("jqGridImportComplete",[r,t]),e.isFunction(t.importComplete)&&t.importComplete(r)}catch(a){}r=null}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(n(t.impstring,t),e(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),e.isFunction(t.importComplete)&&t.importComplete(t.impstring),t.impstring=null)}})},jqGridExport:function(t){t=e.extend({exptype:"xmlstring",root:"grid",ident:"\t"},t||{});var i=null;return this.each(function(){if(this.grid){var r,n=e.extend(!0,{},e(this).jqGrid("getGridParam"));if(n.rownumbers&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.multiselect&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.subGrid&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.knv=null,n.treeGrid)for(r in n.treeReader)n.treeReader.hasOwnProperty(r)&&(n.colNames.splice(n.colNames.length-1),n.colModel.splice(n.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+xmlJsonClass.json2xml(n,t.ident)+"</"+t.root+">";break;case"jsonstring":i="{"+xmlJsonClass.toJson(n,t.root,t.ident,!1)+"}",void 0!==n.postData.filters&&(i=i.replace(/filters":"/,'filters":'),i=i.replace(/}]}"/,"}]}"))}}}),i},excelExport:function(t){return t=e.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if(this.grid){var i;if("remote"==t.exptype){var r=e.extend({},this.p.postData);r[t.oper]=t.tag;var n=jQuery.param(r);i=t.url.indexOf("?")!=-1?t.url+"&"+n:t.url+"?"+n,window.location=i}}})}})}(jQuery),function($){"use strict";if($.jgrid.msie&&8==$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"==e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var r=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.p.disableClick=!0}var i=this,r=$.jgrid.jqID(i.p.id),n={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){var t=$(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return t},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var r=$(t.item).parent(),n=$(">th",r),a=i.p.colModel,s={},o=i.p.id+"_";$.each(a,function(e){s[this.name]=e});var l=[];n.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,"");s.hasOwnProperty(e)&&l.push(s[e])}),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(i.p.sortable.update)&&i.p.sortable.update(l),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?$.extend(n,i.p.sortable.options):$.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),n.start){var a=n.start;n.start=function(e,i){t(),a.call(this,e,i)}}else n.start=t;i.p.sortable.exclude&&(n.items+=":not("+i.p.sortable.exclude+")"),e.sortable(n).data("sortable").floating=!0})},columnChooser:function(e){function t(e,t,i){if(t>=0){var r=e.slice(),n=r.splice(t,Math.max(e.length-t,t));return t>e.length&&(t=e.length),r[t]=i,r.concat(n)}}function i(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r=this;if(!$("#colchooser_"+$.jgrid.jqID(r[0].p.id)).length){var n=$('<div id="colchooser_'+r[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),a=$("select",n);if(e=$.extend({width:420,height:240,classname:null,done:function(e){e&&r.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+20},e.dialog_opts||{})},apply_perm:function(){$("option",a).each(function(){this.selected?r.jqGrid("showCol",s[this.value].name):r.jqGrid("hideCol",s[this.value].name)});var i=[];$("option:selected",a).each(function(){i.push(parseInt(this.value,10))}),$.each(i,function(){delete l[s[parseInt(this,10)].name]}),$.each(l,function(){var e=parseInt(this,10);i=t(i,e,e)}),e.done&&e.done.call(r,i)},cleanup:function(t){i(e.dlog,n,"destroy"),i(e.msel,a,"destroy"),n.remove(),t&&e.done&&e.done.call(r)},msel_opts:{}},$.jgrid.col,e||{}),$.ui&&$.ui.multiselect&&"multiselect"==e.msel){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($.ui.multiselect.defaults,e.msel_opts)}e.caption&&n.attr("title",e.caption),e.classname&&(n.addClass(e.classname),a.addClass(e.classname)),e.width&&($(">div",n).css({width:e.width,margin:"0 auto"}),a.css("width",e.width)),e.height&&($(">div",n).css("height",e.height),a.css("height",e.height-10));var s=r.jqGrid("getGridParam","colModel"),o=r.jqGrid("getGridParam","colNames"),l={},d=[];a.empty(),$.each(s,function(e){return l[this.name]=e,this.hidedlg?void(this.hidden||d.push(e)):void a.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(o[e])+"</option>")});var u=$.isFunction(e.dlog_opts)?e.dlog_opts.call(r,e):e.dlog_opts;i(e.dlog,n,u);var c=$.isFunction(e.msel_opts)?e.msel_opts.call(r,e):e.msel_opts;i(e.msel,a,c)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&(t.p.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:".jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,r){if($(r.item).css("border-width","0px"),$("td",r.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var n=$(r.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",n)}catch(a){}}e._start_&&e._start_.apply(this,[i,r])},e.update=function(i,r){$(r.item).css("border-width",""),t.p.rownumbers===!0&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))}),e._update_&&e._update_.apply(this,[i,r])},$("tbody:first",t).sortable(e),$("tbody:first",t).disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(n,"dnd");$("tr.jqgrow:not(.ui-draggable)",n).draggable($.isFunction(e.drag)?e.drag.call($(n),e):e.drag)}var i,r,n=this;if(n.grid&&!n.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var a="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(a),"string"==typeof e&&"updateDnD"==e&&n.p.jqgdnd===!0)return void t();if(e=$.extend({drag:function(e){return $.extend({start:function(t,i){var r,a;if(n.p.subGrid){a=$(i.helper).attr("id");try{$(n).jqGrid("collapseSubGridRow",a)}catch(s){}}for(r=0;r<$.data(n,"dnd").connectWith.length;r++)"0"==$($.data(n,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(n,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=n.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(n),t,i)},stop:function(t,i){var r,a;for(i.helper.dropped&&!e.dragcopy&&(a=$(i.helper).attr("id"),void 0===a&&(a=$(this).attr("id")),$(n).jqGrid("delRowData",a)),r=0;r<$.data(n,"dnd").connectWith.length;r++)$($.data(n,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(n),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return $.inArray("#"+$.jgrid.jqID(this.id),i)!=-1}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var r=$(i.draggable).attr("id"),a=i.draggable.parent().parent().jqGrid("getRowData",r);if(!e.dropbyname){var s,o,l=0,d={},u=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(o in a)a.hasOwnProperty(o)&&(s=u[l].name,"cb"!=s&&"rn"!=s&&"subgrid"!=s&&a.hasOwnProperty(o)&&u[l]&&(d[s]=a[o]),l++);a=d}catch(c){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var h=e.beforedrop.call(this,t,i,a,$("#"+$.jgrid.jqID(n.p.id)),$(this));void 0!==h&&null!==h&&"object"==typeof h&&(a=h)}if(i.helper.dropped){var p;e.autoid&&($.isFunction(e.autoid)?p=e.autoid.call(this,a):(p=Math.ceil(1e3*Math.random()),p=e.autoidprefix+p)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",p,a,e.droppos)}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(n,"dnd",e),"0"==n.p.reccount||n.p.jqgdnd||t(),n.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++)r=e.connectWith[i],$(r).droppable($.isFunction(e.drop)?e.drop.call($(n),e):e.drop)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id);if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t)},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}})}(jQuery);var rp_ge={};!function(e){jQuery.jgrid.fluid={fluidWidth:function(t){var i=e(this),r=e.extend({fluidBaseLayer:"#gbox_"+i.attr("id"),fluidOffset:0,minWidth:null,maxWidth:null},t||{}),n=function(t,n){var a=t.width(),s=e(t).data("previousWidth"),o=a;n!==!0&&a==s||(e(t).data("previousWidth",a),o=null!==r.minWidth&&a<r.minWidth?r.minWidth:o,o=null!==r.maxWidth&&a>r.maxWidth?r.maxWidth:o,i.trigger("fluidWidth.resize",[s,o-r.fluidOffset]))};e(r.fluidBaseLayer).data("fluidWidth")!==!0&&(e(r.fluidBaseLayer).data("fluidWidth",!0),setInterval(function(){n(e(r.fluidBaseLayer),!1)},100)),n(e(r.fluidBaseLayer),!0)}}}(jQuery),jQuery.fn.extend({fluidWidth:jQuery.jgrid.fluid.fluidWidth}),function(e){"function"==typeof define&&define.amd?define([],e):e(jQuery)}(function(e){function t(e){for(var r,n=[],a=e.firstChild;a;){if(a.nodeName.match(/INPUT|SELECT|TEXTAREA|HIDDEN/i)||jQuery(a).is("[ruptype='tree']")){var s=i(a);if(jQuery(a).is("select")&&a.multiple||jQuery(a).is("[ruptype='tree']")){var o=jQuery(a).attr("name").split(".");r=o.length>1?o.slice(0,o.length-1).join("."):o[0]}else r=jQuery(a).attr("name");null!==s&&n.push({name:r,value:s})}else{var l=t(a);n=n.concat(l)}a=a.nextSibling}return n}function i(e){var t=jQuery(e).attr("ruptype");if(t)return jQuery(e)["rup_"+t]("getRupValue");switch(e.nodeName){case"HIDDEN":case"INPUT":case"TEXTAREA":switch(e.type.toLowerCase()){case"radio":case"checkbox":if(e.checked)return e.value;break;case"button":case"reset":case"submit":case"image":return"";default:return e.value}break;case"SELECT":return r(e)}return null}function r(e){var t=e.multiple;if(!t)return e.value;for(var i=[],r=e.getElementsByTagName("option"),n=0,a=r.length;n<a;n++){var s=e.name.split(".");if(s[s.length-1],r[n].selected){var o={};o[s[s.length-1]]=r[n].value,i.push(o)}}return i}window.form2object=function(e,i,r){"undefined"!=typeof r&&null!=r||(r=!0),"undefined"!=typeof i&&null!=i||(i="."),e="string"==typeof e?document.getElementById(e):e;for(var n=t(e),a={},s={},o=0;o<n.length;o++){var l=n[o].value;if(!r||""!==l){var d=n[o].name;if(d)for(var u=d.split(i),c=a,h=0;h<u.length;h++){var p,f=u[h];if(f.indexOf("[]")>-1&&h==u.length-1)p=f.substr(0,f.indexOf("[")),c[p]||(c[p]=[]),c[p].push(l);else if(f.indexOf("[")>-1){p=f.substr(0,f.indexOf("["));var g=f.replace(/^[a-z]+\[|\]$/gi,"");s[p]||(s[p]={}),c[p]||(c[p]=[]),h==u.length-1?c[p].push(l):s[p][g]||(c[p].push({}),s[p][g]=c[p][c[p].length-1]),c=s[p][g]}else h<u.length-1?(c[f]||(c[f]={}),c=c[f]):c[f]=l}}}return a},window.form2json=window.form2object}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(i))}function i(t){var i=t.target,r=e(i);if(!r.is("[type=submit],[type=image]")){var n=r.closest("[type=submit]");if(0===n.length)return;i=n[0]}var a=this;if(a.clk=i,"image"==i.type)if(void 0!==t.offsetX)a.clk_x=t.offsetX,a.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var s=r.offset();a.clk_x=t.pageX-s.left,a.clk_y=t.pageY-s.top}else a.clk_x=t.pageX-i.offsetLeft,a.clk_y=t.pageY-i.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(i){var r,n,a=e.param(i,t.traditional).split("&"),s=a.length,o=[];for(r=0;r<s;r++)a[r]=a[r].replace(/\+/g," "),n=a[r].split("="),o.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return o}function s(r){for(var n=new FormData,a=0;a<r.length;a++)n.append(r[a].name,r[a].value);if(t.extraData){var s=i(t.extraData);for(a=0;a<s.length;a++)s[a]&&n.append(s[a][0],s[a][1])}t.data=null;var o=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(o.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(e){var i=0,r=e.loaded||e.position,n=e.total;e.lengthComputable&&(i=Math.ceil(r/n*100)),t.uploadProgress(e,r,n,i)},!1),i}),o.data=null;var d=o.beforeSend;return o.beforeSend=function(e,i){t.formData?i.data=t.formData:i.data=n,d&&d.call(this,e,i)},e.ajax(o)}function o(i){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(i){r("cannot get iframe.contentWindow document: "+i)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){r("cannot get iframe.contentDocument: "+i),t=e.document}return t}function s(){function t(){try{var e=n(v).readyState;r("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(i){r("Server abort: ",i," (",i.name,")"),o(D),w&&clearTimeout(w),w=void 0}}var i=c.attr2("target"),a=c.attr2("action"),s="multipart/form-data",d=c.attr("enctype")||c.attr("encoding")||s;k.setAttribute("target",f),l&&!/post/i.test(l)||k.setAttribute("method","POST"),a!=h.url&&k.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(w=setTimeout(function(){x=!0,o(C)},h.timeout));var u=[];try{if(h.extraData)for(var p in h.extraData)h.extraData.hasOwnProperty(p)&&(e.isPlainObject(h.extraData[p])&&h.extraData[p].hasOwnProperty("name")&&h.extraData[p].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+h.extraData[p].name+'">').val(h.extraData[p].value).appendTo(k)[0]):u.push(e('<input type="hidden" name="'+p+'">').val(h.extraData[p]).appendTo(k)[0]));h.iframeTarget||m.appendTo("body"),v.attachEvent?v.attachEvent("onload",o):v.addEventListener("load",o,!1),setTimeout(t,15);try{k.submit()}catch(g){var b=document.createElement("form").submit;b.apply(k)}}finally{k.setAttribute("action",a),k.setAttribute("enctype",d),i?k.setAttribute("target",i):c.removeAttr("target"),e(u).remove()}}function o(t){if(!b.aborted&&!A){if(P=n(v),P||(r("cannot access response document"),t=D),t===C&&b)return b.abort("timeout"),void j.reject(b,"timeout");if(t==D&&b)return b.abort("server abort"),void j.reject(b,"error","server abort");if(P&&P.location.href!=h.iframeSrc||x){v.detachEvent?v.detachEvent("onload",o):v.removeEventListener("load",o,!1);var i,a="success";try{if(x)throw"timeout";var s="xml"==h.dataType||P.XMLDocument||e.isXMLDoc(P);if(r("isXml="+s),!s&&window.opera&&(null===P.body||!P.body.innerHTML)&&--M)return r("requeing onLoad callback, DOM not available"),void setTimeout(o,250);var l=P.body?P.body:P.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=P.XMLDocument?P.XMLDocument:P,s&&(h.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var d=(h.dataType||"").toLowerCase(),u=/(json|script|text)/.test(d);if(u||h.textarea){var c=P.getElementsByTagName("textarea")[0];if(c)b.responseText=c.value,b.status=Number(c.getAttribute("status"))||b.status,b.statusText=c.getAttribute("statusText")||b.statusText;else if(u){var f=P.getElementsByTagName("pre")[0],g=P.getElementsByTagName("body")[0];f?b.responseText=f.textContent?f.textContent:f.innerText:g&&(b.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==d&&!b.responseXML&&b.responseText&&(b.responseXML=E(b.responseText));try{I=F(b,d,h)}catch(_){a="parsererror",b.error=i=_||a}}catch(_){r("error caught: ",_),a="error",b.error=i=_||a}b.aborted&&(r("upload aborted"),a=null),b.status&&(a=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===a?(h.success&&h.success.call(h.context,I,"success",b),j.resolve(b.responseText,"success",b),p&&e.event.trigger("ajaxSuccess",[b,h])):a&&(void 0===i&&(i=b.statusText),h.error&&h.error.call(h.context,b,a,i),j.reject(b,"error",i),p&&e.event.trigger("ajaxError",[b,h,i])),p&&e.event.trigger("ajaxComplete",[b,h]),p&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,b,a),A=!0,h.timeout&&clearTimeout(w),setTimeout(function(){h.iframeTarget?m.attr("src",h.iframeSrc):m.remove(),b.responseXML=null},100)}}}var d,u,h,p,f,m,v,b,_,y,x,w,k=c[0],j=e.Deferred();if(j.abort=function(e){b.abort(e)},i)for(u=0;u<g.length;u++)d=e(g[u]),a?d.prop("disabled",!1):d.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,f="jqFormIO"+(new Date).getTime(),h.iframeTarget?(m=e(h.iframeTarget),y=m.attr2("name"),y?f=y:m.attr2("name",f)):(m=e('<iframe name="'+f+'" src="'+h.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=m[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";r("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(n){}m.attr("src",h.iframeSrc),b.error=i,h.error&&h.error.call(h.context,b,i,t),p&&e.event.trigger("ajaxError",[b,h,i]),h.complete&&h.complete.call(h.context,b,i)}},p=h.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[b,h]),h.beforeSend&&h.beforeSend.call(h.context,b,h)===!1)return h.global&&e.active--,j.reject(),j;if(b.aborted)return j.reject(),j;_=k.clk,_&&(y=_.name,y&&!_.disabled&&(h.extraData=h.extraData||{},h.extraData[y]=_.value,"image"==_.type&&(h.extraData[y+".x"]=k.clk_x,h.extraData[y+".y"]=k.clk_y)));var C=1,D=2,S=e("meta[name=csrf-token]").attr("content"),T=e("meta[name=csrf-param]").attr("content");T&&S&&(h.extraData=h.extraData||{},h.extraData[T]=S),h.forceSync?s():setTimeout(s,10);var I,P,A,M=50,E=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},$=e.parseJSON||function(e){return window.eval("("+e+")")},F=function(t,i,r){var n=t.getResponseHeader("content-type")||"",a="xml"===i||!i&&n.indexOf("xml")>=0,s=a?t.responseXML:t.responseText;return a&&"parsererror"===s.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(s=r.dataFilter(s,i)),"string"==typeof s&&("json"===i||!i&&n.indexOf("json")>=0?s=$(s):("script"===i||!i&&n.indexOf("javascript")>=0)&&e.globalEval(s)),s};return j}if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var l,d,u,c=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),d=t.url||this.attr2("action"),u="string"==typeof d?e.trim(d):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var f,g=[],m=this.formToArray(t.semantic,g);if(t.data&&(t.extraData=t.data,f=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(m,this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,t,h]),h.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(m,p);f&&(v=v?v+"&"+f:f),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var b=[];if(t.resetForm&&b.push(function(){c.resetForm()}),t.clearForm&&b.push(function(){c.clearForm(t.includeHidden)}),!t.dataType&&t.target){var _=t.success||function(){};b.push(function(i){var r=t.replaceTarget?"replaceWith":"html";e(t.target)[r](i).each(_,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,i,r){for(var n=t.context||this,a=0,s=b.length;a<s;a++)b[a].apply(n,[e,i,r||c,c])},t.error){var y=t.error;t.error=function(e,i,r){var n=t.context||this;y.apply(n,[e,i,r,c])}}if(t.complete){var x=t.complete;t.complete=function(e,i){var r=t.context||this;x.apply(r,[e,i,c])}}var w=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),k=w.length>0,j="multipart/form-data",C=c.attr("enctype")==j||c.attr("encoding")==j,D=n.fileapi&&n.formdata;r("fileAPI :"+D);var S,T=(k||C)&&!D;t.iframe!==!1&&(t.iframe||T)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){S=o(m)}):S=o(m):S=(k||C)&&D?s(m):e.ajax(t),c.removeData("jqxhr").data("jqxhr",S);for(var I=0;I<g.length;I++)g[I]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!e.isReady&&a.s?(r("DOM not ready, queuing ajaxForm"),e(function(){e(a.s,a.c).ajaxForm(n)}),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var r=[];if(0===this.length)return r;var a,s=this[0],o=this.attr("id"),l=t?s.getElementsByTagName("*"):s.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=e(l).get()),o&&(a=e(":input[form="+o+"]").get(),a.length&&(l=(l||[]).concat(a))),!l||!l.length)return r;var d,u,c,h,p,f,g;for(d=0,f=l.length;d<f;d++)if(p=l[d],c=p.name,c&&!p.disabled)if(t&&s.clk&&"image"==p.type)s.clk==p&&(r.push({name:c,value:e(p).val(),type:p.type}),r.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}));else if(h=e.fieldValue(p,!0),h&&h.constructor==Array)for(i&&i.push(p),u=0,g=h.length;u<g;u++)r.push({name:c,value:h[u]});else if(n.fileapi&&"file"==p.type){i&&i.push(p);var m=p.files;if(m.length)for(u=0;u<m.length;u++)r.push({name:c,value:m[u],type:p.type});else r.push({name:c,value:"",type:p.type})}else null!==h&&"undefined"!=typeof h&&(i&&i.push(p),r.push({name:c,value:h,type:p.type,required:p.required}));if(!t&&s.clk){var v=e(s.clk),b=v[0];c=b.name,c&&!b.disabled&&"image"==b.type&&(r.push({name:c,value:v.val()}),r.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var r=this.name;if(r){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var a=0,s=n.length;a<s;a++)i.push({name:r,value:n[a]});else null!==n&&"undefined"!=typeof n&&i.push({name:this.name,value:n})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],r=0,n=this.length;r<n;r++){var a=this[r],s=e.fieldValue(a,t);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(i,s):i.push(s))}return i},e.fieldValue=function(t,i){var r=t.name,n=t.type,a=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!r||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==a&&t.selectedIndex==-1))return null;if("select"==a){var s=t.selectedIndex;if(s<0)return null;for(var o=[],l=t.options,d="select-one"==n,u=d?s+1:l.length,c=d?s:0;c<u;c++){var h=l[c];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),d)return p;o.push(p)}}return o}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,n=this.tagName.toLowerCase();i.test(r)||"textarea"==n?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),function(){"use strict";function e(e){function t(t,r){var a,g,m=t==window,v=r&&void 0!==r.message?r.message:void 0;if(r=e.extend({},e.blockUI.defaults,r||{}),!r.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(r.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,r.overlayCSS||{}),
a=e.extend({},e.blockUI.defaults.css,r.css||{}),r.onOverlayClick&&(r.overlayCSS.cursor="pointer"),g=e.extend({},e.blockUI.defaults.themedCSS,r.themedCSS||{}),v=void 0===v?r.message:v,m&&p&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,_={};e(t).data("blockUI.history",_),_.el=b,_.parent=b.parentNode,_.display=b.style.display,_.position=b.style.position,_.parent&&_.parent.removeChild(b)}e(t).data("blockUI.onUnblock",r.onUnblock);var y,x,w,k,j=r.baseZ;y=e(u||r.forceIframe?'<iframe class="blockUI" style="z-index:'+j++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+r.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),x=e(r.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+j++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+j++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),r.theme&&m?(k='<div class="blockUI '+r.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(j+10)+';display:none;position:fixed">',r.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):r.theme?(k='<div class="blockUI '+r.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(j+10)+';display:none;position:absolute">',r.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):k=m?'<div class="blockUI '+r.blockMsgClass+' blockPage" style="z-index:'+(j+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+r.blockMsgClass+' blockElement" style="z-index:'+(j+10)+';display:none;position:absolute"></div>',w=e(k),v&&(r.theme?(w.css(g),w.addClass("ui-widget-content")):w.css(a)),r.theme||x.css(r.overlayCSS),x.css("position",m?"fixed":"absolute"),(u||r.forceIframe)&&y.css("opacity",0);var C=[y,x,w],D=e(m?"body":t);e.each(C,function(){this.appendTo(D)}),r.theme&&r.draggable&&e.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var S=h&&(!e.support.boxModel||e("object,embed",m?null:t).length>0);if(c||S){if(m&&r.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(c||!e.support.boxModel)&&!m)var T=l(t,"borderTopWidth"),I=l(t,"borderLeftWidth"),P=T?"(0 - "+T+")":0,A=I?"(0 - "+I+")":0;e.each(C,function(e,t){var i=t[0].style;if(i.position="absolute",e<2)m?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+r.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),A&&i.setExpression("left",A),P&&i.setExpression("top",P);else if(r.centerY)m&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!r.centerY&&m){var n=r.css&&r.css.top?parseInt(r.css.top,10):0,a="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+n+') + "px"';i.setExpression("top",a)}})}if(v&&(r.theme?w.find(".ui-widget-content").append(v):w.append(v),(v.jquery||v.nodeType)&&e(v).show()),(u||r.forceIframe)&&r.showOverlay&&y.show(),r.fadeIn){var M=r.onBlock?r.onBlock:d,E=r.showOverlay&&!v?M:d,$=v?M:d;r.showOverlay&&x._fadeIn(r.fadeIn,E),v&&w._fadeIn(r.fadeIn,$)}else r.showOverlay&&x.show(),v&&w.show(),r.onBlock&&r.onBlock.bind(w)();if(n(1,t,r),m?(p=w[0],f=e(r.focusableElements,p),r.focusInput&&setTimeout(s,20)):o(w[0],r.centerX,r.centerY),r.timeout){var F=setTimeout(function(){m?e.unblockUI(r):e(t).unblock(r)},r.timeout);e(t).data("blockUI.timeout",F)}}}function i(t,i){var a,s=t==window,o=e(t),l=o.data("blockUI.history"),d=o.data("blockUI.timeout");d&&(clearTimeout(d),o.removeData("blockUI.timeout")),i=e.extend({},e.blockUI.defaults,i||{}),n(0,t,i),null===i.onUnblock&&(i.onUnblock=o.data("blockUI.onUnblock"),o.removeData("blockUI.onUnblock"));var u;u=s?e("body").children().filter(".blockUI").add("body > .blockUI"):o.find(">.blockUI"),i.cursorReset&&(u.length>1&&(u[1].style.cursor=i.cursorReset),u.length>2&&(u[2].style.cursor=i.cursorReset)),s&&(p=f=null),i.fadeOut?(a=u.length,u.stop().fadeOut(i.fadeOut,function(){0===--a&&r(u,l,i,t)})):r(u,l,i,t)}function r(t,i,r,n){var a=e(n);if(!a.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),a.removeData("blockUI.history")),a.data("blockUI.static")&&a.css("position","static"),"function"==typeof r.onUnblock&&r.onUnblock(n,r);var s=e(document.body),o=s.width(),l=s[0].style.width;s.width(o-1).width(o),s[0].style.width=l}}function n(t,i,r){var n=i==window,s=e(i);if((t||(!n||p)&&(n||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",t),n&&r.bindEvents&&(!t||r.showOverlay))){var o="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(o,r,a):e(document).unbind(o,a)}}function a(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var i=f,r=!t.shiftKey&&t.target===i[i.length-1],n=t.shiftKey&&t.target===i[0];if(r||n)return setTimeout(function(){s(n)},10),!1}var a=t.data,o=e(t.target);return o.hasClass("blockOverlay")&&a.onOverlayClick&&a.onOverlayClick(t),o.parents("div."+a.blockMsgClass).length>0||0===o.parents().children().filter("div.blockUI").length}function s(e){if(f){var t=f[e===!0?f.length-1:0];t&&t.focus()}}function o(e,t,i){var r=e.parentNode,n=e.style,a=(r.offsetWidth-e.offsetWidth)/2-l(r,"borderLeftWidth"),s=(r.offsetHeight-e.offsetHeight)/2-l(r,"borderTopWidth");t&&(n.left=a>0?a+"px":"0"),i&&(n.top=s>0?s+"px":"0")}function l(t,i){return parseInt(e.css(t,i),10)||0}e.fn._fadeIn=e.fn.fadeIn;var d=e.noop||function(){},u=/MSIE/.test(navigator.userAgent),c=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),h=(document.documentMode||0,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){i(window,e)},e.growlUI=function(t,i,r,n){var a=e('<div class="growlUI"></div>');t&&a.append("<h1>"+t+"</h1>"),i&&a.append("<h2>"+i+"</h2>"),void 0===r&&(r=3e3);var s=function(t){t=t||{},e.blockUI({message:a,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:r,centerY:!1,showOverlay:!1,onUnblock:n,css:e.blockUI.defaults.growlCSS})};s();a.css("opacity");a.mouseover(function(){s({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(i){if(this[0]===window)return e.blockUI(i),this;var r=e.extend({},e.blockUI.defaults,i||{});return this.each(function(){var t=e(this);r.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,i)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){i(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(),function(e){"use strict";var t=function(e,i){var r=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return i?r(i,t):function(e){return r(e,t)}};t.cache={},t.load=function(e){return document.getElementById(e).innerHTML},t.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(e,t,i,r,n,a){return t?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[t]||"\\"+t:i?"="===i?"'+_e("+r+")+'":"'+("+r+"==null?'':"+r+")+'":n?"';":a?"_s+='":void 0},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return(null==e?"":""+e).replace(t.encReg,function(e){return t.encMap[e]||""})},t.arg="o",t.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.tmpl=t}(this),function(e){"use strict";var t=function(e,i,r){var n,a,s=document.createElement("img");if(s.onerror=i,s.onload=function(){!a||r&&r.noRevoke||t.revokeObjectURL(a),i&&i(t.scale(s,r))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))n=a=t.createObjectURL(e),s._type=e.type;else{if("string"!=typeof e)return!1;n=e,r&&r.crossOrigin&&(s.crossOrigin=r.crossOrigin)}return n?(s.src=n,s):t.readFile(e,function(e){var t=e.target;t&&t.result?s.src=t.result:i&&i(e)})},i=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var i,r,n,a,s=t.aspectRatio;if(!s)return t;i={};for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i.crop=!0,n=e.naturalWidth||e.width,a=e.naturalHeight||e.height,n/a>s?(i.maxWidth=a*s,i.maxHeight=a):(i.maxWidth=n,i.maxHeight=n/s),i},t.renderImageToCanvas=function(e,t,i,r,n,a,s,o,l,d){return e.getContext("2d").drawImage(t,i,r,n,a,s,o,l,d),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},t.scale=function(e,i){function r(){var e=Math.max((o||y)/y,(l||x)/x);e>1&&(y*=e,x*=e)}function n(){var e=Math.min((a||y)/y,(s||x)/x);e<1&&(y*=e,x*=e)}i=i||{};var a,s,o,l,d,u,c,h,p,f,g,m=document.createElement("canvas"),v=e.getContext||t.hasCanvasOption(i)&&m.getContext,b=e.naturalWidth||e.width,_=e.naturalHeight||e.height,y=b,x=_;if(v&&(i=t.getTransformedOptions(e,i),c=i.left||0,h=i.top||0,i.sourceWidth?(d=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(c=b-d-i.right)):d=b-c-(i.right||0),i.sourceHeight?(u=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(h=_-u-i.bottom)):u=_-h-(i.bottom||0),y=d,x=u),a=i.maxWidth,s=i.maxHeight,o=i.minWidth,l=i.minHeight,v&&a&&s&&i.crop?(y=a,x=s,g=d/u-a/s,g<0?(u=s*d/a,void 0===i.top&&void 0===i.bottom&&(h=(_-u)/2)):g>0&&(d=a*u/s,void 0===i.left&&void 0===i.right&&(c=(b-d)/2))):((i.contain||i.cover)&&(o=a=a||o,l=s=s||l),i.cover?(n(),r()):(r(),n())),v){if(p=i.pixelRatio,p>1&&(m.style.width=y+"px",m.style.height=x+"px",y*=p,x*=p,m.getContext("2d").scale(p,p)),f=i.downsamplingRatio,f>0&&f<1&&y<d&&x<u)for(;d*f>y;)m.width=d*f,m.height=u*f,t.renderImageToCanvas(m,e,c,h,d,u,0,0,m.width,m.height),d=m.width,u=m.height,e=document.createElement("canvas"),e.width=d,e.height=u,t.renderImageToCanvas(e,m,0,0,d,u,0,0,d,u);return m.width=y,m.height=x,t.transformCoordinates(m,i),t.renderImageToCanvas(m,e,c,h,d,u,0,0,y,x)}return e.width=y,e.height=x,e},t.createObjectURL=function(e){return!!i&&i.createObjectURL(e)},t.revokeObjectURL=function(e){return!!i&&i.revokeObjectURL(e)},t.readFile=function(e,t,i){if(window.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,i=i||"readAsDataURL",r[i])return r[i](e),r}return!1},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,i,r){r=r||{};var n=this,a=r.maxMetaDataSize||262144,s={},o=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!o&&e.readFile(e.blobSlice.call(t,0,a),function(t){if(t.target.error)return console.log(t.target.error),void i(s);var a,o,l,d,u=t.target.result,c=new DataView(u),h=2,p=c.byteLength-4,f=h;if(65496===c.getUint16(0)){for(;h<p&&(a=c.getUint16(h),a>=65504&&a<=65519||65534===a);){if(o=c.getUint16(h+2)+2,h+o>c.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[a])for(d=0;d<l.length;d+=1)l[d].call(n,c,h,o,s,r);h+=o,f=h}!r.disableImageHead&&f>6&&(u.slice?s.imageHead=u.slice(0,f):s.imageHead=new Uint8Array(u).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");i(s)},"readAsArrayBuffer")||i(s)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,i){var r,n,a;if(!i||t+i>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(r=[],n=0;n<i;n+=1)a=e.getUint8(t+n),r.push((a<16?"0":"")+a.toString(16));return"data:image/jpeg,%"+r.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,r,n,a,s){var o,l,d,u,c,h,p=e.exifTagTypes[n];if(!p)return void console.log("Invalid Exif data: Invalid tag type.");if(o=p.size*a,l=o>4?i+t.getUint32(r+8,s):r+8,l+o>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===a)return p.getValue(t,l,s);for(d=[],u=0;u<a;u+=1)d[u]=p.getValue(t,l+u*p.size,s);if(p.ascii){for(c="",u=0;u<d.length&&(h=d[u],"\0"!==h);u+=1)c+=h;return c}return d},e.parseExifTag=function(t,i,r,n,a){var s=t.getUint16(r,n);a.exif[s]=e.getExifValue(t,i,r,t.getUint16(r+2,n),t.getUint32(r+4,n),n)},e.parseExifTags=function(e,t,i,r,n){var a,s,o;if(i+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(a=e.getUint16(i,r),s=i+2+12*a,s+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(o=0;o<a;o+=1)this.parseExifTag(e,t,i+2+12*o,r,n);return e.getUint32(s,r)},e.parseExifData=function(t,i,r,n,a){if(!a.disableExif){var s,o,l,d=i+10;if(1165519206===t.getUint32(i+4)){if(d+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(d)){case 18761:s=!0;break;case 19789:s=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(d+2,s))return void console.log("Invalid Exif data: Missing TIFF marker.");o=t.getUint32(d+4,s),n.exif=new e.ExifMap,o=e.parseExifTags(t,d,d+o,s,n),o&&!a.disableExifThumbnail&&(l={exif:{}},o=e.parseExifTags(t,d,d+o,s,l),l.exif[513]&&(n.exif.Thumbnail=e.getExifThumbnail(t,d+l.exif[513],l.exif[514]))),n.exif[34665]&&!a.disableExifSub&&e.parseExifTags(t,d,d+n.exif[34665],s,n),n.exif[34853]&&!a.disableExifGps&&e.parseExifTags(t,d,d+n.exif[34853],s,n)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var i="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var n=r.dataTransfer;n&&e.inArray("Files",n.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),i&&(n.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){return!t.isDefaultPrevented()&&void((i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var r=e-this.timestamp;return(!this.bitrate||!i||r>i)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var r,n=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&n-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=n,r=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=r-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=r,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(n,r,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,i._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,r=this,n=t.files[0],a=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),a&&!t.blob&&this._isInstanceOf("File",n)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),a?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:s,value:t.blob}):e.each(t.files,function(r,n){i.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||s,value:n})})):(r._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(s,t.blob,n.name):e.each(t.files,function(n,a){(r._isInstanceOf("File",a)||r._isInstanceOf("Blob",a))&&i.append("array"===e.type(t.paramName)&&t.paramName[n]||s,a,a.uploadName||a.name)})),t.data=i):(t.contentType=n.type||"application/octet-stream",t.data=t.blob||n),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)r.push(i),n-=1}),r.length||(r=[i.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,r){var n=e.Deferred(),a=n.promise();return i=i||this.options.context||a,t===!0?n.resolveWith(i,r):t===!1&&n.rejectWith(i,r),a.abort=n.promise,this._enhancePromise(a)},_addConvenienceMethods:function(t,i){var r=this,n=function(t){return e.Deferred().resolveWith(r,t).promise()};i.process=function(t,a){return(t||a)&&(i._processQueue=this._processQueue=(this._processQueue||n([this])).then(function(){return i.errorThrown?e.Deferred().rejectWith(r,[i]).promise():n(arguments)}).then(t,a)),this._processQueue||n([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},i.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),r=i&&i.length>1&&parseInt(i[1],10);return r&&r+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var r,n,a=this,s=t.files[0],o=s.size,l=t.uploadedBytes,d=t.maxChunkSize||o,u=this._blobSlice,c=e.Deferred(),h=c.promise();return!(!(this._isXHRUpload(t)&&u&&(l||d<o))||t.data)&&(!!i||(l>=o?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(n=function(){var i=e.extend({},t),h=i._progress.loaded;i.blob=u.call(s,l,l+d,s.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+o,a._initXHRData(i),a._initProgressListener(i),r=(a._trigger("chunksend",null,i)!==!1&&e.ajax(i)||a._getXHRPromise(!1,i.context)).done(function(r,s,d){l=a._getUploadedBytes(d)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&a._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=r,i.textStatus=s,i.jqXHR=d,a._trigger("chunkdone",null,i),a._trigger("chunkalways",null,i),l<o?n():c.resolveWith(i.context,[r,s,d])}).fail(function(e,t,r){i.jqXHR=e,i.textStatus=t,i.errorThrown=r,a._trigger("chunkfail",null,i),a._trigger("chunkalways",null,i),c.rejectWith(i.context,[e,t,r])})},this._enhancePromise(h),h.abort=function(){return r.abort()},n(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,r,n){var a=n._progress.total,s=n._response;n._progress.loaded<a&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:a,total:a}),n),s.result=n.result=t,s.textStatus=n.textStatus=i,s.jqXHR=n.jqXHR=r,this._trigger("done",null,n)},_onFail:function(e,t,i,r){var n=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),n.jqXHR=r.jqXHR=e,n.textStatus=r.textStatus=t,n.errorThrown=r.errorThrown=i,this._trigger("fail",null,r)},_onAlways:function(e,t,i,r){this._trigger("always",null,r)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var r,n,a,s,o=this,l=o._getAJAXSettings(i),d=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,r=r||((n||o._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&o._getXHRPromise(!1,l.context,n)||o._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){o._onDone(e,t,i,l)}).fail(function(e,t,i){o._onFail(e,t,i,l)}).always(function(e,t,i){if(o._onAlways(e,t,i,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var r=o._slots.shift();r;){if("pending"===o._getDeferredState(r)){r.resolve();break}r=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=e.Deferred(),this._slots.push(a),s=a.then(d)):(this._sequence=this._sequence.then(d,d),s=this._sequence),s.abort=function(){return n=[void 0,"abort","abort"],r?r.abort():(a&&a.rejectWith(l.context,n),d())},this._enhancePromise(s)):d()},_onAdd:function(t,i){var r,n,a,s,o=this,l=!0,d=e.extend({},this.options,i),u=i.files,c=u.length,h=d.limitMultiFileUploads,p=d.limitMultiFileUploadSize,f=d.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(d),v=0;if(!c)return!1;if(p&&void 0===u[0].size&&(p=void 0),(d.singleFileUploads||h||p)&&this._isXHRUpload(d))if(d.singleFileUploads||p||!h)if(!d.singleFileUploads&&p)for(a=[],r=[],s=0;s<c;s+=1)g+=u[s].size+f,(s+1===c||g+u[s+1].size+f>p||h&&s+1-v>=h)&&(a.push(u.slice(v,s+1)),n=m.slice(v,s+1),n.length||(n=m),r.push(n),v=s+1,g=0);else r=m;else for(a=[],r=[],s=0;s<c;s+=h)a.push(u.slice(s,s+h)),n=m.slice(s,s+h),n.length||(n=m),r.push(n);else a=[u],r=[m];return i.originalFiles=u,e.each(a||u,function(n,s){var d=e.extend({},i);return d.files=a?s:[s],d.paramName=r[n],o._initResponseObject(d),o._initProgressObject(d),o._addConvenienceMethods(t,d),l=o._trigger("add",e.Event("add",{delegatedEvent:t}),d)}),l},_replaceFileInput:function(t){var i=t.fileInput,r=i.clone(!0),n=i.is(document.activeElement);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),i.after(r).detach(),n&&r.focus(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?r[0]:t}),i[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,i){var r,n=this,a=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),a.resolve([e])},o=function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){a.resolve(e)}).fail(s)},l=function(){r.readEntries(function(e){e.length?(d=d.concat(e),l()):o(d)},s)},d=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,a.resolve(t._file)):t.file(function(e){e.relativePath=i,a.resolve(e)},s):t.isDirectory?(r=t.createReader(),l()):a.resolve([]),a.promise()},_handleFileTreeEntries:function(t,i){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,i)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,r,n=t.prop("webkitEntries")||t.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();i=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(n){r.files=n,i.options.replaceFileInput&&i._replaceFileInput(r),i._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&i._onAdd(t,r)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={
files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&r.files.push(i)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,r=t.dataTransfer,n={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){n.files=r,i._trigger("drop",e.Event("drop",{delegatedEvent:t}),n)!==!1&&i._onAdd(t,n)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,i),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,r=this.element.data();e.each(this.element[0].attributes,function(e,n){var a,s=n.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),a=r[s],t._isRegExpOption(s,a)&&(a=t._getRegExp(a)),i[s]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,r,n=this,a=e.Deferred(),s=a.promise();return s.abort=function(){return r=!0,i?i.abort():(a.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void a.reject();t.files=e,i=n._onSend(null,t),i.then(function(e,t,i){a.resolve(e,t,i)},function(e,t,i){a.reject(e,t,i)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],e):"object"==typeof exports?e(require("jquery"),require("tmpl")):e(window.jQuery,window.tmpl)}(function(e,t){"use strict";e.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId"),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!1,dataType:"json",messages:{unknownError:"Unknown error"},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(t){return t.result&&e.isArray(t.result.files)?t.result.files:[]},add:function(t,i){if(t.isDefaultPrevented())return!1;var r=e(this),n=r.data("blueimp-fileupload")||r.data("fileupload"),a=n.options;i.context=n._renderUpload(i.files).data("data",i).addClass("processing"),a.filesContainer[a.prependFiles?"prepend":"append"](i.context),n._forceReflow(i.context),n._transition(i.context),i.process(function(){return r.fileupload("process",i)}).always(function(){i.context.each(function(t){e(this).find(".size").text(n._formatFileSize(i.files[t].size))}).removeClass("processing"),n._renderPreviews(i)}).done(function(){i.context.find(".start").prop("disabled",!1),n._trigger("added",t,i)!==!1&&(a.autoUpload||i.autoUpload)&&i.autoUpload!==!1&&i.submit()}).fail(function(){i.files.error&&i.context.each(function(t){var r=i.files[t].error;r&&e(this).find(".error").text(r)})})},send:function(t,i){if(t.isDefaultPrevented())return!1;var r=e(this).data("blueimp-fileupload")||e(this).data("fileupload");return i.context&&i.dataType&&"iframe"===i.dataType.substr(0,6)&&i.context.find(".progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),r._trigger("sent",t,i)},done:function(t,i){if(t.isDefaultPrevented())return!1;var r,n,a=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),s=i.getFilesFromResponse||a.options.getFilesFromResponse,o=s(i);i.context?i.context.each(function(s){var l=o[s]||{error:"Empty file upload result"};n=a._addFinishedDeferreds(),a._transition(e(this)).done(function(){var s=e(this);r=a._renderDownload([l]).replaceAll(s),a._forceReflow(r),a._transition(r).done(function(){i.context=e(this),a._trigger("completed",t,i),a._trigger("finished",t,i),n.resolve()})})}):(r=a._renderDownload(o)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer),a._forceReflow(r),n=a._addFinishedDeferreds(),a._transition(r).done(function(){i.context=e(this),a._trigger("completed",t,i),a._trigger("finished",t,i),n.resolve()}))},fail:function(t,i){if(t.isDefaultPrevented())return!1;var r,n,a=e(this).data("blueimp-fileupload")||e(this).data("fileupload");i.context?i.context.each(function(s){if("abort"!==i.errorThrown){var o=i.files[s];o.error=o.error||i.errorThrown||i.i18n("unknownError"),n=a._addFinishedDeferreds(),a._transition(e(this)).done(function(){var s=e(this);r=a._renderDownload([o]).replaceAll(s),a._forceReflow(r),a._transition(r).done(function(){i.context=e(this),a._trigger("failed",t,i),a._trigger("finished",t,i),n.resolve()})})}else n=a._addFinishedDeferreds(),a._transition(e(this)).done(function(){e(this).remove(),a._trigger("failed",t,i),a._trigger("finished",t,i),n.resolve()})}):"abort"!==i.errorThrown?(i.context=a._renderUpload(i.files)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer).data("data",i),a._forceReflow(i.context),n=a._addFinishedDeferreds(),a._transition(i.context).done(function(){i.context=e(this),a._trigger("failed",t,i),a._trigger("finished",t,i),n.resolve()})):(a._trigger("failed",t,i),a._trigger("finished",t,i),a._addFinishedDeferreds().resolve())},progress:function(t,i){if(t.isDefaultPrevented())return!1;var r=Math.floor(i.loaded/i.total*100);i.context&&i.context.each(function(){e(this).find(".progress").attr("aria-valuenow",r).children().first().css("width",r+"%")})},progressall:function(t,i){if(t.isDefaultPrevented())return!1;var r=e(this),n=Math.floor(i.loaded/i.total*100),a=r.find(".fileupload-progress"),s=a.find(".progress-extended");s.length&&s.html((r.data("blueimp-fileupload")||r.data("fileupload"))._renderExtendedProgress(i)),a.find(".progress").attr("aria-valuenow",n).children().first().css("width",n+"%")},start:function(t){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload");i._resetFinishedDeferreds(),i._transition(e(this).find(".fileupload-progress")).done(function(){i._trigger("started",t)})},stop:function(t){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),r=i._addFinishedDeferreds();e.when.apply(e,i._getFinishedDeferreds()).done(function(){i._trigger("stopped",t)}),i._transition(e(this).find(".fileupload-progress")).done(function(){e(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%"),e(this).find(".progress-extended").html("&nbsp;"),r.resolve()})},processstart:function(t){return!t.isDefaultPrevented()&&void e(this).addClass("fileupload-processing")},processstop:function(t){return!t.isDefaultPrevented()&&void e(this).removeClass("fileupload-processing")},destroy:function(t,i){if(t.isDefaultPrevented())return!1;var r=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),n=function(){r._transition(i.context).done(function(){e(this).remove(),r._trigger("destroyed",t,i)})};i.url?(i.dataType=i.dataType||r.options.dataType,e.ajax(i).done(n).fail(function(){r._trigger("destroyfailed",t,i)})):n()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=e.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var t=e(this),i=t.prop("href"),r=t.prop("download"),n="application/octet-stream";t.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[n,r,i].join(":"))}catch(t){}})},_formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),i=Math.floor(e/86400);return i=i?i+"d ":"",i+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(t,i){if(!t)return e();var r=t({files:i,formatFileSize:this._formatFileSize,options:this.options});return r instanceof e?r:e(this.options.templatesContainer).html(r).children()},_renderPreviews:function(t){t.context.find(".preview").each(function(i,r){e(r).append(t.files[i].preview)})},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var i=e(t.currentTarget),r=i.closest(".template-upload"),n=r.data("data");i.prop("disabled",!0),n&&n.submit&&n.submit()},_cancelHandler:function(t){t.preventDefault();var i=e(t.currentTarget).closest(".template-upload,.template-download"),r=i.data("data")||{};r.context=r.context||i,r.abort?r.abort():(r.errorThrown="abort",this._trigger("fail",t,r))},_deleteHandler:function(t){t.preventDefault();var i=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:i.closest(".template-download"),type:"DELETE"},i.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var i=e.Deferred();return e.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(e.support.transition.end,function(r){r.target===t[0]&&(t.unbind(e.support.transition.end),i.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),i.resolveWith(t)),i},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),i=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),i.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),i.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),i.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){i.find(".toggle").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),e.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(i,r){var n=e(this);r.process(function(){return n.fileupload("process",r)}),t.call(this,i,r)}},processActions:{},_processFile:function(t,i){var r=this,n=e.Deferred().resolveWith(r,[t]),a=n.promise();return this._trigger("process",null,t),e.each(t.processQueue,function(t,n){var s=function(t){return i.errorThrown?e.Deferred().rejectWith(r,[i]).promise():r.processActions[n.action].call(r,t,n)};a=a.then(s,n.always&&s)}),a.done(function(){r._trigger("processdone",null,t),r._trigger("processalways",null,t)}).fail(function(){r._trigger("processfail",null,t),r._trigger("processalways",null,t)}),a},_transformProcessQueue:function(t){var i=[];e.each(t.processQueue,function(){var r={},n=this.action,a=this.prefix===!0?n:this.prefix;e.each(this,function(i,n){"string"===e.type(n)&&"@"===n.charAt(0)?r[i]=t[n.slice(1)||(a?a+i.charAt(0).toUpperCase()+i.slice(1):i)]:r[i]=n}),i.push(r)}),t.processQueue=i},processing:function(){return this._processing},process:function(t){var i=this,r=e.extend({},this.options,t);return r.processQueue&&r.processQueue.length&&(this._transformProcessQueue(r),0===this._processing&&this._trigger("processstart"),e.each(t.files,function(n){var a=n?e.extend({},r):r,s=function(){return t.errorThrown?e.Deferred().rejectWith(i,[t]).promise():i._processFile(a,t)};a.index=n,i._processing+=1,i._processingQueue=i._processingQueue.then(s,s).always(function(){i._processing-=1,0===i._processing&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("blueimp-load-image/js/load-image-meta"),require("blueimp-load-image/js/load-image-exif"),require("blueimp-canvas-to-blob"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(i,r){if(r.disabled)return i;var n=this,a=i.files[i.index],s=e.Deferred();return"number"===e.type(r.maxFileSize)&&a.size>r.maxFileSize||r.fileTypes&&!r.fileTypes.test(a.type)||!t(a,function(e){e.src&&(i.img=e),s.resolveWith(n,[i])},r)?i:s.promise()},resizeImage:function(i,r){if(r.disabled||!i.canvas&&!i.img)return i;r=e.extend({canvas:!0},r);var n,a=this,s=e.Deferred(),o=r.canvas&&i.canvas||i.img,l=function(e){e&&(e.width!==o.width||e.height!==o.height||r.forceResize)&&(i[e.getContext?"canvas":"img"]=e),i.preview=e,s.resolveWith(a,[i])};if(i.exif){if(r.orientation===!0&&(r.orientation=i.exif.get("Orientation")),r.thumbnail&&(n=i.exif.get("Thumbnail")))return t(n,l,r),s.promise();i.orientation?delete r.orientation:i.orientation=r.orientation}return o?(l(t.scale(o,r)),s.promise()):i},saveImage:function(t,i){if(!t.canvas||i.disabled)return t;var r=this,n=t.files[t.index],a=e.Deferred();return t.canvas.toBlob?(t.canvas.toBlob(function(e){e.name||(n.type===e.type?e.name=n.name:n.name&&(e.name=n.name.replace(/\.\w+$/,"."+e.type.substr(6)))),n.type!==e.type&&delete t.imageHead,t.files[t.index]=e,a.resolveWith(r,[t])},i.type||n.type,i.quality),a.promise()):t},loadImageMetaData:function(i,r){if(r.disabled)return i;var n=this,a=e.Deferred();return t.parseMetaData(i.files[i.index],function(t){e.extend(i,t),a.resolveWith(n,[i])},r),a.promise()},saveImageMetaData:function(e,t){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||t.disabled)return e;var i=e.files[e.index],r=new Blob([e.imageHead,this._blobSlice.call(i,20)],{type:i.type});return r.name=i.name,e.files[e.index]=r,e},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(i,r){if(r.disabled)return i;var n,a,s=i.files[i.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(s.type)&&("number"!==e.type(r.maxFileSize)||s.size<=r.maxFileSize)&&(!r.fileTypes||r.fileTypes.test(s.type))&&(n=t.createObjectURL(s))?(a=this._audioElement.cloneNode(!1),a.src=n,a.controls=!0,i.audio=a,i):i},setAudio:function(e,t){return e.audio&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.audio),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(i,r){if(r.disabled)return i;var n,a,s=i.files[i.index];return this._videoElement.canPlayType&&this._videoElement.canPlayType(s.type)&&("number"!==e.type(r.maxFileSize)||s.size<=r.maxFileSize)&&(!r.fileTypes||r.fileTypes.test(s.type))&&(n=t.createObjectURL(s))?(a=this._videoElement.cloneNode(!1),a.src=n,a.controls=!0,i.video=a,i):i},setVideo:function(e,t){return e.video&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.video),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(t,i){if(i.disabled)return t;var r,n=e.Deferred(),a=this.options,s=t.files[t.index];return(i.minFileSize||i.maxFileSize)&&(r=s.size),"number"===e.type(i.maxNumberOfFiles)&&(a.getNumberOfFiles()||0)+t.files.length>i.maxNumberOfFiles?s.error=a.i18n("maxNumberOfFiles"):!i.acceptFileTypes||i.acceptFileTypes.test(s.type)||i.acceptFileTypes.test(s.name)?r>i.maxFileSize?s.error=a.i18n("maxFileSize"):"number"===e.type(r)&&r<i.minFileSize?s.error=a.i18n("minFileSize"):delete s.error:s.error=a.i18n("acceptFileTypes"),s.error||t.files.error?(t.files.error=!0,n.rejectWith(this,[t])):n.resolveWith(this,[t]),n.promise()}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(i){if(i.async){var r,n,a,s=i.initialIframeSrc||"javascript:false;";return{send:function(o,l){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",i.formAcceptCharset),a=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+a+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+a+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+a+"_method=PATCH",i.type="POST"),t+=1,n=e('<iframe src="'+s+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,a=e.isArray(i.paramName)?i.paramName:[i.paramName];n.unbind("load").bind("load",function(){var t;try{if(t=n.contents(),!t.length||!t[0].firstChild)throw new Error}catch(i){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+s+'"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",n.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&e.each(i.formData,function(t,i){e('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(r)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(t=i.fileInput.clone(),i.fileInput.after(function(e){return t[e]}),i.paramName&&i.fileInput.each(function(t){e(this).prop("name",a[t]||i.paramName)}),r.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),r.submit(),t&&t.length&&i.fileInput.each(function(i,r){var n=e(t[i]);e(r).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(r)})}),r.append(n).appendTo(document.body)},abort:function(){n&&n.unbind("load").prop("src",s),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&e.isXMLDoc(i)?i:e.parseXML(i.XMLDocument&&i.XMLDocument.xml||e(i.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){$.toJSON=function(e){if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(e);var t=typeof e;if(null===e)return"null";if("undefined"!=t){if("number"==t||"boolean"==t)return e+"";if("string"==t)return $.quoteString(e);if("object"==t){if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if(e.constructor===Date){var i=e.getUTCMonth()+1;i<10&&(i="0"+i);var r=e.getUTCDate();r<10&&(r="0"+r);var n=e.getUTCFullYear(),a=e.getUTCHours();a<10&&(a="0"+a);var s=e.getUTCMinutes();s<10&&(s="0"+s);var o=e.getUTCSeconds();o<10&&(o="0"+o);var l=e.getUTCMilliseconds();return l<100&&(l="0"+l),l<10&&(l="0"+l),'"'+n+"-"+i+"-"+r+"T"+a+":"+s+":"+o+"."+l+'Z"'}if(e.constructor===Array){for(var d=[],u=0;u<e.length;u++)d.push($.toJSON(e[u])||"null");return"["+d.join(",")+"]"}var c=[];for(var h in e){var p,t=typeof h;if("number"==t)p='"'+h+'"';else{if("string"!=t)continue;p=$.quoteString(h)}if("function"!=typeof e[h]){var f=$.toJSON(e[h]);c.push(p+":"+f)}}return"{"+c.join(", ")+"}"}}},$.evalJSON=function(src){return"object"==typeof JSON&&JSON.parse?JSON.parse(src):eval("("+src+")")},$.secureEvalJSON=function(src){if("object"==typeof JSON&&JSON.parse)return JSON.parse(src);var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(_escapeable)?'"'+e.replace(_escapeable,function(e){var t=_meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,_meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.fn.numeric=function(t,i){t=t===!1?"":t||".",i="function"==typeof i?i:function(){};var r=e(this);return this.bind("paste",function(e){setTimeout(function(){var e=r.val();if(""===t)var i=/[^\d]/;else var i=new RegExp("[^\\d"+t+"]");i.test(e)&&r.val("")},0)}),this.data("numeric.decimal",t).data("numeric.callback",i).keypress(e.fn.numeric.keypress).blur(e.fn.numeric.blur)},e.fn.numeric.keypress=function(t){var i=e.data(this,"numeric.decimal"),r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(13==r&&"input"==this.nodeName.toLowerCase())return!0;if(13==r)return!1;var n=!1;if(t.ctrlKey&&97==r||t.ctrlKey&&65==r)return!0;if(t.ctrlKey&&120==r||t.ctrlKey&&88==r)return!0;if(t.ctrlKey&&99==r||t.ctrlKey&&67==r)return!0;if(t.ctrlKey&&122==r||t.ctrlKey&&90==r)return!0;if(t.ctrlKey&&118==r||t.ctrlKey&&86==r||t.shiftKey&&45==r)return!0;if(r<48||r>57){if(45==r&&0==this.value.length)return!0;i&&r==i.charCodeAt(0)&&this.value.indexOf(i)!=-1&&(n=!1),8!=r&&9!=r&&13!=r&&35!=r&&36!=r&&37!=r&&39!=r&&46!=r?n=!1:"undefined"!=typeof t.charCode&&(t.keyCode==t.which&&0!=t.which?(n=!0,46==t.which&&(n=!1)):0!=t.keyCode&&0==t.charCode&&0==t.which&&(n=!0)),i&&r==i.charCodeAt(0)&&(n=this.value.indexOf(i)==-1)}else n=!0;return n},e.fn.numeric.blur=function(){var t=e.data(this,"numeric.decimal"),i=e.data(this,"numeric.callback"),r=e(this).val();if(""!=r){var n=new RegExp("^\\d+$|\\d*"+t+"\\d+");n.exec(r)||i.apply(this)}},e.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.callback",null).unbind("keypress",e.fn.numeric.keypress).unbind("blur",e.fn.numeric.blur)}}),function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(r){"use strict";function n(e,t,i,n){this.id=i,this.target=e,this.tooltip=A,this.elements={target:e},this._id=B+"-"+i,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:r(),disabled:P,attr:n,onTooltip:P,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=P}function a(e){return e===A||"object"!==r.type(e)}function s(e){return!(r.isFunction(e)||e&&e.attr||e.length||"object"===r.type(e)&&(e.jquery||e.then))}function o(e){var t,i,n,o;return a(e)?P:(a(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(t=e.content,a(t)||t.jquery||t.done?(i=s(t)?P:t,t=e.content={text:i}):i=t.text,"ajax"in t&&(n=t.ajax,o=n&&n.once!==P,delete t.ajax,t.text=function(e,t){var a=i||r(this).attr(t.options.content.attr)||"Loading...",s=r.ajax(r.extend({},n,{context:t})).then(n.success,A,n.error).then(function(e){return e&&o&&t.set("content.text",e),e},function(e,i,r){t.destroyed||0===e.status||t.set("content.text",i+": "+r)});return o?a:(t.set("content.text",a),s)}),"title"in t&&(r.isPlainObject(t.title)&&(t.button=t.title.button,t.title=t.title.text),s(t.title||P)&&(t.title=P))),"position"in e&&a(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&a(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===I?{ready:I}:{event:e.show}),"hide"in e&&a(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&a(e.style)&&(e.style={classes:e.style}),r.each(G,function(){this.sanitize&&this.sanitize(e)}),e)}function l(e,t){for(var i,r=0,n=e,a=t.split(".");n=n[a[r++]];)r<a.length&&(i=n);return[i||e,a.pop()]}function d(e,t){var i,r,n;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(r in this.checks[i])this.checks[i].hasOwnProperty(r)&&(n=new RegExp(r,"i").exec(e))&&(t.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][r].apply(this.plugins[i]||this,t))}function u(e){return U.concat("").join(e?"-"+e+" ":" ")}function c(e,t){return t>0?setTimeout(r.proxy(e,this),t):void e.call(this)}function h(e){this.tooltip.hasClass(ee)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=c.call(this,function(){this.toggle(I,e)},this.options.show.delay))}function p(e){if(!this.tooltip.hasClass(ee)&&!this.destroyed){var t=r(e.relatedTarget),i=t.closest(V)[0]===this.tooltip[0],n=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||n))try{e.preventDefault(),e.stopImmediatePropagation()}catch(a){}else this.timers.hide=c.call(this,function(){this.toggle(P,e)},this.options.hide.delay,this)}}function f(e){
!this.tooltip.hasClass(ee)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=c.call(this,function(){this.hide(e)},this.options.hide.inactive))}function g(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function m(e,i,n){r(t.body).delegate(e,(i.split?i:i.join("."+B+" "))+"."+B,function(){var e=j.api[r.attr(this,W)];e&&!e.disabled&&n.apply(e,arguments)})}function v(e,i,a){var s,l,d,u,c,h=r(t.body),p=e[0]===t?h:e,f=e.metadata?e.metadata(a.metadata):A,g="html5"===a.metadata.type&&f?f[a.metadata.name]:A,m=e.data(a.metadata.name||"qtipopts");try{m="string"==typeof m?r.parseJSON(m):m}catch(v){}if(u=r.extend(I,{},j.defaults,a,"object"==typeof m?o(m):A,o(g||f)),l=u.position,u.id=i,"boolean"==typeof u.content.text){if(d=e.attr(u.content.attr),u.content.attr===P||!d)return P;u.content.text=d}if(l.container.length||(l.container=h),l.target===P&&(l.target=p),u.show.target===P&&(u.show.target=p),u.show.solo===I&&(u.show.solo=l.container.closest("body")),u.hide.target===P&&(u.hide.target=p),u.position.viewport===I&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new D(l.at,I),l.my=new D(l.my),e.data(B))if(u.overwrite)e.qtip("destroy",!0);else if(u.overwrite===P)return P;return e.attr(Q,i),u.suppress&&(c=e.attr("title"))&&e.removeAttr("title").attr(ie,c).attr("title",""),s=new n(e,u,i,(!!d)),e.data(B,s),s}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function _(e,t){var r,n,a=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+xe.join(a+" ")+a).split(" "),o=0;if(ye[t])return e.css(ye[t]);for(;r=s[o++];)if((n=e.css(r))!==i)return ye[t]=r,n}function y(e,t){return Math.ceil(parseFloat(_(e,t)))}function x(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.qtip=e,this.init(e)}function w(e,t){this.options=t,this._ns="-modal",this.qtip=e,this.init(e)}function k(e){this._ns="ie6",this.qtip=e,this.init(e)}var j,C,D,S,T,I=!0,P=!1,A=null,M="x",E="y",$="width",F="height",O="top",q="left",R="bottom",N="right",L="center",z="flipinvert",H="shift",G={},B="qtip",Q="data-hasqtip",W="data-qtip-id",U=["ui-widget","ui-tooltip"],V="."+B,K="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Y=B+"-fixed",X=B+"-default",J=B+"-focus",Z=B+"-hover",ee=B+"-disabled",te="_replacedByqTip",ie="oldtitle",re={ie:function(){var e,i;for(e=4,i=t.createElement("div");(i.innerHTML="<!--[if gt IE "+e+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];e+=1);return e>4?e:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||P};C=n.prototype,C._when=function(e){return r.when.apply(r,e)},C.render=function(e){if(this.rendered||this.destroyed)return this;var t=this,i=this.options,n=this.cache,a=this.elements,s=i.content.text,o=i.content.title,l=i.content.button,d=i.position,u=[];return r.attr(this.target[0],"aria-describedby",this._id),n.posClass=this._createPosClass((this.position={my:d.my,at:d.at}).my),this.tooltip=a.tooltip=r("<div/>",{id:this._id,"class":[B,X,i.style.classes,n.posClass].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":P,"aria-describedby":this._id+"-content","aria-hidden":I}).toggleClass(ee,this.disabled).attr(W,this.id).data(B,this).appendTo(d.container).append(a.content=r("<div />",{"class":B+"-content",id:this._id+"-content","aria-atomic":I})),this.rendered=-1,this.positioning=I,o&&(this._createTitle(),r.isFunction(o)||u.push(this._updateTitle(o,P))),l&&this._createButton(),r.isFunction(s)||u.push(this._updateContent(s,P)),this.rendered=I,this._setWidget(),r.each(G,function(e){var i;"render"===this.initialize&&(i=this(t))&&(t.plugins[e]=i)}),this._unassignEvents(),this._assignEvents(),this._when(u).then(function(){t._trigger("render"),t.positioning=P,t.hiddenDuringWait||!i.show.ready&&!e||t.toggle(I,n.event,P),t.hiddenDuringWait=P}),j.api[this.id]=this,this},C.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=I;var e,t=this.target,i=t.attr(ie);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),r.each(this.plugins,function(){this.destroy&&this.destroy()});for(e in this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);t.removeData(B).removeAttr(W).removeAttr(Q).removeAttr("aria-describedby"),this.options.suppress&&i&&t.attr("title",i).removeAttr(ie),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=A,delete j.api[this.id]}}return this.destroyed?this.target:(e===I&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",r.proxy(t,this)),!this.triggering&&this.hide()),this.target)},S=C.checks={builtin:{"^id$":function(e,t,i,n){var a=i===I?j.nextid:i,s=B+"-"+a;a!==P&&a.length>0&&!r("#"+s).length?(this._id=s,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=n},"^prerender":function(e,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,i){this._updateContent(i)},"^content.attr$":function(e,t,i,r){this.options.content.text===this.target.attr(r)&&this._updateContent(this.target.attr(i))},"^content.title$":function(e,t,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(e,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(e,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(this.position[t]=e[t]=new D(i,"at"===t))},"^position.container$":function(e,t,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(e,t,i){i&&(!this.rendered&&this.render(I)||this.toggle(I))},"^style.classes$":function(e,t,i,r){this.rendered&&this.tooltip.removeClass(r).addClass(i)},"^style.(width|height)":function(e,t,i){this.rendered&&this.tooltip.css(t,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,i){this.rendered&&this.tooltip.toggleClass(X,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){this.rendered&&this.tooltip[(r.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},C.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),i=t[0][t[1]];return i.precedance?i.string():i};var ne=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ae=/^prerender|show\.ready/i;C.set=function(e,t){if(this.destroyed)return this;var i,n=this.rendered,a=P,s=this.options;return"string"==typeof e?(i=e,e={},e[i]=t):e=r.extend({},e),r.each(e,function(t,i){if(n&&ae.test(t))return void delete e[t];var o,d=l(s,t.toLowerCase());o=d[0][d[1]],d[0][d[1]]=i&&i.nodeType?r(i):i,a=ne.test(t)||a,e[t]=[d[0],d[1],i,o]}),o(s),this.positioning=I,r.each(e,r.proxy(d,this)),this.positioning=P,this.rendered&&this.tooltip[0].offsetWidth>0&&a&&this.reposition("mouse"===s.position.target?A:this.cache.event),this},C._update=function(e,t){var i=this,n=this.cache;return this.rendered&&e?(r.isFunction(e)&&(e=e.call(this.elements.target,n.event,this)||""),r.isFunction(e.then)?(n.waiting=I,e.then(function(e){return n.waiting=P,i._update(e,t)},A,function(e){return i._update(e,t)})):e===P||!e&&""!==e?P:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then(function(e){i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(n.event,!e.length)}))):P},C._waitForContent=function(e){var t=this.cache;return t.waiting=I,(r.fn.imagesLoaded?e.imagesLoaded():(new r.Deferred).resolve([])).done(function(){t.waiting=P}).promise()},C._updateContent=function(e,t){this._update(e,this.elements.content,t)},C._updateTitle=function(e,t){this._update(e,this.elements.title,t)===P&&this._removeTitle(P)},C._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=r("<div />",{"class":B+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(e.title=r("<div />",{id:t,"class":B+"-title","aria-atomic":I})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){r(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){r(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},C._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=A,e!==P&&this.reposition())},C._createPosClass=function(e){return B+"-pos-"+(e||this.options.position.my).abbrev()},C.reposition=function(i,n){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=I;var a,s,o,l,d=this.cache,u=this.tooltip,c=this.options.position,h=c.target,p=c.my,f=c.at,g=c.viewport,m=c.container,v=c.adjust,b=v.method.split(" "),_=u.outerWidth(P),y=u.outerHeight(P),x=0,w=0,k=u.css("position"),j={left:0,top:0},C=u[0].offsetWidth>0,D=i&&"scroll"===i.type,S=r(e),T=m[0].ownerDocument,A=this.mouse;if(r.isArray(h)&&2===h.length)f={x:q,y:O},j={left:h[0],top:h[1]};else if("mouse"===h)f={x:q,y:O},(!v.mouse||this.options.hide.distance)&&d.origin&&d.origin.pageX?i=d.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=d.event:A&&A.pageX&&(i=A),"static"!==k&&(j=m.offset()),T.body.offsetWidth!==(e.innerWidth||T.documentElement.clientWidth)&&(s=r(t.body).offset()),j={left:i.pageX-j.left+(s&&s.left||0),top:i.pageY-j.top+(s&&s.top||0)},v.mouse&&D&&A&&(j.left-=(A.scrollX||0)-S.scrollLeft(),j.top-=(A.scrollY||0)-S.scrollTop());else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?d.target=r(i.target):i.target||(d.target=this.elements.target):"event"!==h&&(d.target=r(h.jquery?h:this.elements.target)),h=d.target,h=r(h).eq(0),0===h.length)return this;h[0]===t||h[0]===e?(x=re.iOS?e.innerWidth:h.width(),w=re.iOS?e.innerHeight:h.height(),h[0]===e&&(j={top:(g||h).scrollTop(),left:(g||h).scrollLeft()})):G.imagemap&&h.is("area")?a=G.imagemap(this,h,f,G.viewport?b:P):G.svg&&h&&h[0].ownerSVGElement?a=G.svg(this,h,f,G.viewport?b:P):(x=h.outerWidth(P),w=h.outerHeight(P),j=h.offset()),a&&(x=a.width,w=a.height,s=a.offset,j=a.position),j=this.reposition.offset(h,j,m),(re.iOS>3.1&&re.iOS<4.1||re.iOS>=4.3&&re.iOS<4.33||!re.iOS&&"fixed"===k)&&(j.left-=S.scrollLeft(),j.top-=S.scrollTop()),(!a||a&&a.adjustable!==P)&&(j.left+=f.x===N?x:f.x===L?x/2:0,j.top+=f.y===R?w:f.y===L?w/2:0)}return j.left+=v.x+(p.x===N?-_:p.x===L?-_/2:0),j.top+=v.y+(p.y===R?-y:p.y===L?-y/2:0),G.viewport?(o=j.adjusted=G.viewport(this,j,c,x,w,_,y),s&&o.left&&(j.left+=s.left),s&&o.top&&(j.top+=s.top),o.my&&(this.position.my=o.my)):j.adjusted={left:0,top:0},d.posClass!==(l=this._createPosClass(this.position.my))&&(d.posClass=l,u.removeClass(d.posClass).addClass(l)),this._trigger("move",[j,g.elem||g],i)?(delete j.adjusted,n===P||!C||isNaN(j.left)||isNaN(j.top)||"mouse"===h||!r.isFunction(c.effect)?u.css(j):r.isFunction(c.effect)&&(c.effect.call(u,this,r.extend({},j)),u.queue(function(e){r(this).css({opacity:"",height:""}),re.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=P,this):this},C.reposition.offset=function(e,i,n){function a(e,t){i.left+=t*e.scrollLeft(),i.top+=t*e.scrollTop()}if(!n[0])return i;var s,o,l,d,u=r(e[0].ownerDocument),c=!!re.ie&&"CSS1Compat"!==t.compatMode,h=n[0];do"static"!==(o=r.css(h,"position"))&&("fixed"===o?(l=h.getBoundingClientRect(),a(u,-1)):(l=r(h).position(),l.left+=parseFloat(r.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(r.css(h,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(r.css(h,"marginLeft"))||0),i.top-=l.top+(parseFloat(r.css(h,"marginTop"))||0),s||"hidden"===(d=r.css(h,"overflow"))||"visible"===d||(s=r(h)));while(h=h.offsetParent);return s&&(s[0]!==u[0]||c)&&a(s,1),i};var se=(D=C.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,L).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var i=e.charAt(0);this.precedance="t"===i||"b"===i?E:M}).prototype;se.invert=function(e,t){this[e]=this[e]===q?N:this[e]===N?q:t||this[e]},se.string=function(e){var t=this.x,i=this.y,r=t!==i?"center"===t||"center"!==i&&(this.precedance===E||this.forceY)?[i,t]:[t,i]:[t];return e!==!1?r.join(" "):r},se.abbrev=function(){var e=this.string(!1);return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},se.clone=function(){return new D(this.string(),this.forceY)},C.toggle=function(e,i){var n=this.cache,a=this.options,s=this.tooltip;if(i){if(/over|enter/.test(i.type)&&n.event&&/out|leave/.test(n.event.type)&&a.show.target.add(i.target).length===a.show.target.length&&s.has(i.relatedTarget).length)return this;n.event=r.event.fix(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=I),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var o,l,d,u=e?"show":"hide",c=this.options[u],h=this.options.position,p=this.options.content,f=this.tooltip.css("width"),g=this.tooltip.is(":visible"),m=e||1===c.target.length,v=!i||c.target.length<2||n.target[0]===i.target;return(typeof e).search("boolean|number")&&(e=!g),o=!s.is(":animated")&&g===e&&v,l=o?A:!!this._trigger(u,[90]),this.destroyed?this:(l!==P&&e&&this.focus(i),!l||o?this:(r.attr(s[0],"aria-hidden",!e),e?(this.mouse&&(n.origin=r.event.fix(this.mouse)),r.isFunction(p.text)&&this._updateContent(p.text,P),r.isFunction(p.title)&&this._updateTitle(p.title,P),!T&&"mouse"===h.target&&h.adjust.mouse&&(r(t).bind("mousemove."+B,this._storeMouse),T=I),f||s.css("width",s.outerWidth(P)),this.reposition(i,arguments[2]),f||s.css("width",""),c.solo&&("string"==typeof c.solo?r(c.solo):r(V,c.solo)).not(s).not(c.target).qtip("hide",new r.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete n.origin,T&&!r(V+'[tracking="true"]:visible',c.solo).not(s).length&&(r(t).unbind("mousemove."+B),T=P),this.blur(i)),d=r.proxy(function(){e?(re.ie&&s[0].style.removeAttribute("filter"),s.css("overflow",""),"string"==typeof c.autofocus&&r(this.options.show.autofocus,s).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):s.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),c.effect===P||m===P?(s[u](),d()):r.isFunction(c.effect)?(s.stop(1,1),c.effect.call(s,this),s.queue("fx",function(e){d(),e()})):s.fadeTo(90,e?1:0,d),e&&c.target.trigger("qtip-"+this.id+"-inactive"),this))},C.show=function(e){return this.toggle(I,e)},C.hide=function(e){return this.toggle(P,e)},C.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=r(V),i=this.tooltip,n=parseInt(i[0].style.zIndex,10),a=j.zindex+t.length;return i.hasClass(J)||this._trigger("focus",[a],e)&&(n!==a&&(t.each(function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+J).qtip("blur",e)),i.addClass(J)[0].style.zIndex=a),this},C.blur=function(e){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(J),this._trigger("blur",[this.tooltip.css("zIndex")],e),this)},C.disable=function(e){return this.destroyed?this:("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(ee):this.disabled):"boolean"!=typeof e&&(e=I),this.rendered&&this.tooltip.toggleClass(ee,e).attr("aria-disabled",e),this.disabled=!!e,this)},C.enable=function(){return this.disable(P)},C._createButton=function(){var e=this,t=this.elements,i=t.tooltip,n=this.options.content.button,a="string"==typeof n,s=a?n:"Close tooltip";t.button&&t.button.remove(),n.jquery?t.button=n:t.button=r("<a />",{"class":"qtip-close "+(this.options.style.widget?"":B+"-icon"),title:s,"aria-label":s}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||i).attr("role","button").click(function(t){return i.hasClass(ee)||e.hide(t),P})},C._updateButton=function(e){if(!this.rendered)return P;var t=this.elements.button;e?this._createButton():t.remove()},C._setWidget=function(){var e=this.options.style.widget,t=this.elements,i=t.tooltip,r=i.hasClass(ee);i.removeClass(ee),ee=e?"ui-state-disabled":"qtip-disabled",i.toggleClass(ee,r),i.toggleClass("ui-helper-reset "+u(),e).toggleClass(X,this.options.style.def&&!e),t.content&&t.content.toggleClass(u("content"),e),t.titlebar&&t.titlebar.toggleClass(u("header"),e),t.button&&t.button.toggleClass(B+"-icon",!e)},C._storeMouse=function(e){return(this.mouse=r.event.fix(e)).type="mousemove",this},C._bind=function(e,t,i,n,a){if(e&&i&&t.length){var s="."+this._id+(n?"-"+n:"");return r(e).bind((t.split?t:t.join(s+" "))+s,r.proxy(i,a||this)),this}},C._unbind=function(e,t){return e&&r(e).unbind("."+this._id+(t?"-"+t:"")),this},C._trigger=function(e,t,i){var n=new r.Event("tooltip"+e);return n.originalEvent=i&&r.extend({},i)||this.cache.event||A,this.triggering=e,this.tooltip.trigger(n,[this].concat(t||[])),this.triggering=P,!n.isDefaultPrevented()},C._bindEvents=function(e,t,i,n,a,s){var o=i.filter(n).add(n.filter(i)),l=[];o.length&&(r.each(t,function(t,i){var n=r.inArray(i,e);n>-1&&l.push(e.splice(n,1)[0])}),l.length&&(this._bind(o,l,function(e){var t=!!this.rendered&&this.tooltip[0].offsetWidth>0;(t?s:a).call(this,e)}),i=i.not(o),n=n.not(o))),this._bind(i,e,a),this._bind(n,t,s)},C._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?P:(this.cache.event=e&&r.event.fix(e),this.cache.target=e&&r(e.target),clearTimeout(this.timers.show),void(this.timers.show=c.call(this,function(){this.render("object"==typeof e||i.show.ready)},i.prerender?0:i.show.delay)))}var i=this.options,n=i.show.target,a=i.hide.target,s=i.show.event?r.trim(""+i.show.event).split(" "):[],o=i.hide.event?r.trim(""+i.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&o.push("mouseleave"),this._bind(n,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=I}),this._bindEvents(s,o,n,a,t,function(){return this.timers?void clearTimeout(this.timers.show):P}),(i.show.ready||i.prerender)&&t.call(this,e)},C._assignEvents=function(){var i=this,n=this.options,a=n.position,s=this.tooltip,o=n.show.target,l=n.hide.target,d=a.container,u=a.viewport,c=r(t),m=r(e),v=n.show.event?r.trim(""+n.show.event).split(" "):[],b=n.hide.event?r.trim(""+n.hide.event).split(" "):[];r.each(n.events,function(e,t){i._bind(s,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,s)}),/mouse(out|leave)/i.test(n.hide.event)&&"window"===n.hide.leave&&this._bind(c,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),n.hide.fixed?l=l.add(s.addClass(Y)):/mouse(over|enter)/i.test(n.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+n.hide.event).indexOf("unfocus")>-1&&this._bind(d.closest("html"),["mousedown","touchstart"],function(e){var t=r(e.target),i=this.rendered&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0,n=t.parents(V).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||n||this.target.has(t[0]).length||!i||this.hide(e)}),"number"==typeof n.hide.inactive&&(this._bind(o,"qtip-"+this.id+"-inactive",f,"inactive"),this._bind(l.add(s),j.inactiveEvents,f)),this._bindEvents(v,b,o,l,h,p),this._bind(o.add(s),"mousemove",function(e){if("number"==typeof n.hide.distance){var t=this.cache.origin||{},i=this.options.hide.distance,r=Math.abs;(r(e.pageX-t.pageX)>=i||r(e.pageY-t.pageY)>=i)&&this.hide(e)}this._storeMouse(e)}),"mouse"===a.target&&a.adjust.mouse&&(n.hide.event&&this._bind(o,["mouseenter","mouseleave"],function(e){return this.cache?void(this.cache.onTarget="mouseenter"===e.type):P}),this._bind(c,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})),(a.adjust.resize||u.length)&&this._bind(r.event.special.resize?u:m,"resize",g),a.adjust.scroll&&this._bind(m.add(a.container),"scroll",g)},C._unassignEvents=function(){var i=this.options,n=i.show.target,a=i.hide.target,s=r.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],e,t],function(e){return"object"==typeof e});n&&n.toArray&&(s=s.concat(n.toArray())),a&&a.toArray&&(s=s.concat(a.toArray())),this._unbind(s)._unbind(s,"destroy")._unbind(s,"inactive")},r(function(){m(V,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,i=r(e.currentTarget),n=r(e.relatedTarget||e.target),a=this.options;t?(this.focus(e),i.hasClass(Y)&&!i.hasClass(ee)&&clearTimeout(this.timers.hide)):"mouse"===a.position.target&&a.position.adjust.mouse&&a.hide.event&&a.show.target&&!n.closest(a.show.target[0]).length&&this.hide(e),i.toggleClass(Z,t)}),m("["+W+"]",K,f)}),j=r.fn.qtip=function(e,t,n){var a=(""+e).toLowerCase(),s=A,l=r.makeArray(arguments).slice(1),d=l[l.length-1],u=this[0]?r.data(this[0],B):A;return!arguments.length&&u||"api"===a?u:"string"==typeof e?(this.each(function(){var e=r.data(this,B);if(!e)return I;if(d&&d.timeStamp&&(e.cache.event=d),!t||"option"!==a&&"options"!==a)e[a]&&e[a].apply(e,l);else{if(n===i&&!r.isPlainObject(t))return s=e.get(t),P;e.set(t,n)}}),s!==A?s:this):"object"!=typeof e&&arguments.length?void 0:(u=o(r.extend(I,{},e)),this.each(function(e){var t,i;return i=r.isArray(u.id)?u.id[e]:u.id,i=!i||i===P||i.length<1||j.api[i]?j.nextid++:i,t=v(r(this),i,u),t===P?I:(j.api[i]=t,r.each(G,function(){"initialize"===this.initialize&&this(t)}),void t._assignInitialEvents(d))}))},r.qtip=n,j.api={},r.each({attr:function(e,t){if(this.length){var i=this[0],n="title",a=r.data(i,"qtip");if(e===n&&a&&a.options&&"object"==typeof a&&"object"==typeof a.options&&a.options.suppress)return arguments.length<2?r.attr(i,ie):(a&&a.options.content.attr===n&&a.cache.attr&&a.set("content.text",t),this.attr(ie,t))}return r.fn["attr"+te].apply(this,arguments)},clone:function(e){var t=r.fn["clone"+te].apply(this,arguments);return e||t.filter("["+ie+"]").attr("title",function(){return r.attr(this,ie)}).removeAttr(ie),t}},function(e,t){if(!t||r.fn[e+te])return I;var i=r.fn[e+te]=r.fn[e];r.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),r.ui||(r["cleanData"+te]=r.cleanData,r.cleanData=function(e){for(var t,i=0;(t=r(e[i])).length;i++)if(t.attr(Q))try{t.triggerHandler("removeqtip")}catch(n){}r["cleanData"+te].apply(this,arguments)}),j.version="3.0.3",j.nextid=0,j.inactiveEvents=K,j.zindex=15e3,j.defaults={prerender:P,id:P,overwrite:I,suppress:I,content:{text:I,attr:"title",title:P,button:P},position:{my:"top left",at:"bottom right",target:P,container:P,viewport:P,adjust:{x:0,y:0,mouse:I,scroll:I,resize:I,method:"flipinvert flipinvert"},effect:function(e,t){r(this).animate(t,{duration:200,queue:P})}},show:{target:P,event:"mouseenter",effect:I,delay:90,solo:P,ready:P,autofocus:P},hide:{target:P,event:"mouseleave",effect:I,delay:0,fixed:P,inactive:P,leave:"window",distance:P},style:{classes:"",widget:P,width:P,height:P,def:I},events:{render:A,move:A,show:A,hide:A,toggle:A,visible:A,hidden:A,focus:A,blur:A}};var oe,le,de,ue,ce,he="margin",pe="border",fe="color",ge="background-color",me="transparent",ve=" !important",be=!!t.createElement("canvas").getContext,_e=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,ye={},xe=["Webkit","O","Moz","ms"];be?(ue=e.devicePixelRatio||1,ce=function(){var e=t.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),de=ue/ce):le=function(e,t,i){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},r.extend(x.prototype,{init:function(e){var t,i;i=this.element=e.elements.tip=r("<div />",{"class":B+"-tip"}).prependTo(e.tooltip),be?(t=r("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=1e5,t.save()):(t=le("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(r("*",i).add(i),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===O||e.y===L&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(I))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===P||t===P?e=P:e===I?e=new D(t.string()):e.string||(e=new D(e),e.fixed=I),e},_parseWidth:function(e,t,i){var r=this.qtip.elements,n=pe+b(t)+"Width";return(i?y(i,n):y(r.content,n)||y(this._useTitle(e)&&r.titlebar||r.content,n)||y(r.tooltip,n))||0},_parseRadius:function(e){var t=this.qtip.elements,i=pe+b(e.y)+b(e.x)+"Radius";return re.ie<9?0:y(this._useTitle(e)&&t.titlebar||t.content,i)||y(t.tooltip,i)||0},_invalidColour:function(e,t,i){var r=e.css(t);return!r||i&&r===e.css(i)||_e.test(r)?P:r},_parseColours:function(e){var t=this.qtip.elements,i=this.element.css("cssText",""),n=pe+b(e[e.precedance])+b(fe),a=this._useTitle(e)&&t.titlebar||t.content,s=this._invalidColour,o=[];return o[0]=s(i,ge)||s(a,ge)||s(t.content,ge)||s(t.tooltip,ge)||i.css(ge),o[1]=s(i,n,fe)||s(a,n,fe)||s(t.content,n,fe)||s(t.tooltip,n,fe)||t.tooltip.css(n),r("*",i).add(i).css("cssText",ge+":"+me+ve+";"+pe+":0"+ve+";"),o},_calculateSize:function(e){var t,i,r,n=e.precedance===E,a=this.options.width,s=this.options.height,o="c"===e.abbrev(),l=(n?a:s)*(o?.5:1),d=Math.pow,u=Math.round,c=Math.sqrt(d(l,2)+d(s,2)),h=[this.border/l*c,this.border/s*c];return h[2]=Math.sqrt(d(h[0],2)-d(this.border,2)),h[3]=Math.sqrt(d(h[1],2)-d(this.border,2)),t=c+h[2]+h[3]+(o?0:h[0]),i=t/c,r=[u(i*a),u(i*s)],n?r:r.reverse()},_calculateTip:function(e,t,i){i=i||1,t=t||this.size;var r=t[0]*i,n=t[1]*i,a=Math.ceil(r/2),s=Math.ceil(n/2),o={br:[0,0,r,n,r,0],bl:[0,0,r,0,0,n],tr:[0,n,r,0,r,n],tl:[0,0,0,n,r,n],tc:[0,n,a,0,r,n],bc:[0,0,r,0,a,n],rc:[0,0,r,s,0,n],lc:[r,0,r,n,0,s]};return o.lt=o.br,o.rt=o.bl,o.lb=o.tr,o.rb=o.tl,o[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(be||re.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,i){if(!this.enabled)return this;var n,a,s,o,l,d,u,c,h=this.qtip.elements,p=this.element,f=p.children(),g=this.options,m=this.size,v=g.mimic,b=Math.round;t||(t=this.qtip.cache.corner||this.corner),v===P?v=t:(v=new D(v),v.precedance=t.precedance,"inherit"===v.x?v.x=t.x:"inherit"===v.y?v.y=t.y:v.x===v.y&&(v[t.precedance]=t[t.precedance])),a=v.precedance,t.precedance===M?this._swapDimensions():this._resetDimensions(),n=this.color=this._parseColours(t),n[1]!==me?(c=this.border=this._parseWidth(t,t[t.precedance]),g.border&&c<1&&!_e.test(n[1])&&(n[0]=n[1]),this.border=c=g.border!==I?g.border:c):this.border=c=0,u=this.size=this._calculateSize(t),p.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),d=t.precedance===E?[b(v.x===q?c:v.x===N?u[0]-m[0]-c:(u[0]-m[0])/2),b(v.y===O?u[1]-m[1]:0)]:[b(v.x===q?u[0]-m[0]:0),b(v.y===O?c:v.y===R?u[1]-m[1]-c:(u[1]-m[1])/2)],be?(s=f[0].getContext("2d"),s.restore(),s.save(),s.clearRect(0,0,6e3,6e3),o=this._calculateTip(v,m,de),l=this._calculateTip(v,this.size,de),f.attr($,u[0]*de).attr(F,u[1]*de),f.css($,u[0]).css(F,u[1]),this._drawCoords(s,l),s.fillStyle=n[1],s.fill(),s.translate(d[0]*de,d[1]*de),this._drawCoords(s,o),s.fillStyle=n[0],s.fill()):(o=this._calculateTip(v),o="m"+o[0]+","+o[1]+" l"+o[2]+","+o[3]+" "+o[4]+","+o[5]+" xe",d[2]=c&&/^(r|b)/i.test(t.string())?8===re.ie?2:1:0,f.css({coordsize:u[0]+c+" "+u[1]+c,antialias:""+(v.string().indexOf(L)>-1),left:d[0]-d[2]*Number(a===M),top:d[1]-d[2]*Number(a===E),width:u[0]+c,height:u[1]+c}).each(function(e){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:u[0]+c+" "+u[1]+c,path:o,fillcolor:n[0],filled:!!e,stroked:!e}).toggle(!(!c&&!e)),!e&&t.html(le("stroke",'weight="'+2*c+'px" color="'+n[1]+'" miterlimit="1000" joinstyle="miter"'))})),e.opera&&setTimeout(function(){h.tip.css({display:"inline-block",visibility:"visible"})},1),i!==P&&this.calculate(t,u)},calculate:function(e,t){if(!this.enabled)return P;var i,n,a=this,s=this.qtip.elements,o=this.element,l=this.options.offset,d={};return e=e||this.corner,i=e.precedance,t=t||this._calculateSize(e),n=[e.x,e.y],i===M&&n.reverse(),r.each(n,function(r,n){var o,u,c;n===L?(o=i===E?q:O,d[o]="50%",d[he+"-"+o]=-Math.round(t[i===E?0:1]/2)+l):(o=a._parseWidth(e,n,s.tooltip),u=a._parseWidth(e,n,s.content),c=a._parseRadius(e),d[n]=Math.max(-a.border,r?u:l+(c>o?c:-o)))}),d[e[i]]-=t[i===M?0:1],o.css({margin:"",top:"",bottom:"",left:"",right:""}).css(d),d},reposition:function(e,t,r){function n(e,t,i,r,n){e===H&&d.precedance===t&&u[r]&&d[i]!==L?d.precedance=d.precedance===M?E:M:e!==H&&u[r]&&(d[t]=d[t]===L?u[r]>0?r:n:d[t]===r?n:r)}function a(e,t,n){d[e]===L?g[he+"-"+t]=f[e]=s[he+"-"+t]-u[t]:(o=s[n]!==i?[u[t],-s[t]]:[-u[t],s[t]],(f[e]=Math.max(o[0],o[1]))>o[0]&&(r[t]-=u[t],f[t]=P),g[s[n]!==i?n:t]=f[e])}if(this.enabled){var s,o,l=t.cache,d=this.corner.clone(),u=r.adjusted,c=t.options.position.adjust.method.split(" "),h=c[0],p=c[1]||c[0],f={left:P,top:P,x:0,y:0},g={};this.corner.fixed!==I&&(n(h,M,E,q,N),n(p,E,M,O,R),d.string()===l.corner.string()&&l.cornerTop===u.top&&l.cornerLeft===u.left||this.update(d,P)),s=this.calculate(d),s.right!==i&&(s.left=-s.right),s.bottom!==i&&(s.top=-s.bottom),s.user=this.offset,f.left=h===H&&!!u.left,f.left&&a(M,q,N),f.top=p===H&&!!u.top,f.top&&a(E,O,R),this.element.css(g).toggle(!(f.x&&f.y||d.x===L&&f.y||d.y===L&&f.x)),r.left-=s.left.charAt?s.user:h!==H||f.top||!f.left&&!f.top?s.left+this.border:0,r.top-=s.top.charAt?s.user:p!==H||f.left||!f.left&&!f.top?s.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=d.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),oe=G.tip=function(e){return new x(e,e.options.style.tip)},oe.initialize="render",oe.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=I)}},S.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},r.extend(I,j.defaults,{style:{tip:{corner:I,mimic:P,width:6,height:6,border:I,offset:0}}});var we,ke,je="qtip-modal",Ce="."+je;ke=function(){function e(e){if(r.expr[":"].focusable)return r.expr[":"].focusable;var t,i,n,a=!isNaN(r.attr(e,"tabindex")),s=e.nodeName&&e.nodeName.toLowerCase();return"area"===s?(t=e.parentNode,i=t.name,!(!e.href||!i||"map"!==t.nodeName.toLowerCase())&&(n=r("img[usemap=#"+i+"]")[0],!!n&&n.is(":visible"))):/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||a:a}function i(e){d.length<1&&e.length?e.not("body").blur():d.first().focus()}function n(e){if(o.is(":visible")){
var t,n=r(e.target),s=a.tooltip,l=n.closest(V);t=l.length<1?P:parseInt(l[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10),t||n.closest(V)[0]===s[0]||i(n)}}var a,s,o,l=this,d={};r.extend(l,{init:function(){return o=l.elem=r("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return P}}).hide(),r(t.body).bind("focusin"+Ce,n),r(t).bind("keydown"+Ce,function(e){a&&a.options.show.modal.escape&&27===e.keyCode&&a.hide(e)}),o.bind("click"+Ce,function(e){a&&a.options.show.modal.blur&&a.hide(e)}),l},update:function(t){a=t,d=t.options.show.modal.stealfocus!==P?t.tooltip.find("*").filter(function(){return e(this)}):[]},toggle:function(e,n,d){var u=e.tooltip,c=e.options.show.modal,h=c.effect,p=n?"show":"hide",f=o.is(":visible"),g=r(Ce).filter(":visible:not(:animated)").not(u);return l.update(e),n&&c.stealfocus!==P&&i(r(":focus")),o.toggleClass("blurs",c.blur),n&&o.appendTo(t.body),o.is(":animated")&&f===n&&s!==P||!n&&g.length?l:(o.stop(I,P),r.isFunction(h)?h.call(o,n):h===P?o[p]():o.fadeTo(parseInt(d,10)||90,n?1:0,function(){n||o.hide()}),n||o.queue(function(e){o.css({left:"",top:""}),r(Ce).length||o.detach(),e()}),s=n,a.destroyed&&(a=A),l)}}),l.init()},ke=new ke,r.extend(w.prototype,{init:function(e){var t=e.tooltip;return this.options.on?(e.elements.overlay=ke.elem,t.addClass(je).css("z-index",j.modal_zindex+r(Ce).length),e._bind(t,["tooltipshow","tooltiphide"],function(e,i,n){var a=e.originalEvent;if(e.target===t[0])if(a&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(a.type)&&r(a.relatedTarget).closest(ke.elem[0]).length)try{e.preventDefault()}catch(s){}else(!a||a&&"tooltipsolo"!==a.type)&&this.toggle(e,"tooltipshow"===e.type,n)},this._ns,this),e._bind(t,"tooltipfocus",function(e,i){if(!e.isDefaultPrevented()&&e.target===t[0]){var n=r(Ce),a=j.modal_zindex+n.length,s=parseInt(t[0].style.zIndex,10);ke.elem[0].style.zIndex=a-1,n.each(function(){this.style.zIndex>s&&(this.style.zIndex-=1)}),n.filter("."+J).qtip("blur",e.originalEvent),t.addClass(J)[0].style.zIndex=a,ke.update(i);try{e.preventDefault()}catch(o){}}},this._ns,this),void e._bind(t,"tooltiphide",function(e){e.target===t[0]&&r(Ce).filter(":visible").not(t).last().qtip("focus",e)},this._ns,this)):this},toggle:function(e,t,i){return e&&e.isDefaultPrevented()?this:void ke.toggle(this.qtip,!!t,i)},destroy:function(){this.qtip.tooltip.removeClass(je),this.qtip._unbind(this.qtip.tooltip,this._ns),ke.toggle(this.qtip,P),delete this.qtip.elements.overlay}}),we=G.modal=function(e){return new w(e,e.options.show.modal)},we.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:"undefined"==typeof e.show.modal.on&&(e.show.modal.on=I))},j.modal_zindex=j.zindex-200,we.initialize="render",S.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},r.extend(I,j.defaults,{show:{modal:{on:P,effect:I,blur:I,stealfocus:I,escape:I}}}),G.viewport=function(i,r,n,a,s,o,l){function d(e,t,i,n,a,s,o,l,d){var u=r[a],b=y[e],_=x[e],w=i===H,k=b===a?d:b===s?-d:-d/2,j=_===a?l:_===s?-l:-l/2,C=m[a]+v[a]-(p?0:h[a]),D=C-u,S=u+d-(o===$?f:g)-C,T=k-(y.precedance===e||b===y[t]?j:0)-(_===L?l/2:0);return w?(T=(b===a?1:-1)*k,r[a]+=D>0?D:S>0?-S:0,r[a]=Math.max(-h[a]+v[a],u-T,Math.min(Math.max(-h[a]+v[a]+(o===$?f:g),u+T),r[a],"center"===b?u-k:1e9))):(n*=i===z?2:0,D>0&&(b!==a||S>0)?(r[a]-=T+n,c.invert(e,a)):S>0&&(b!==s||D>0)&&(r[a]-=(b===L?-T:T)+n,c.invert(e,s)),r[a]<m[a]&&-r[a]>S&&(r[a]=u,c=y.clone())),r[a]-u}var u,c,h,p,f,g,m,v,b=n.target,_=i.elements.tooltip,y=n.my,x=n.at,w=n.adjust,k=w.method.split(" "),j=k[0],C=k[1]||k[0],D=n.viewport,S=n.container,T={left:0,top:0};return D.jquery&&b[0]!==e&&b[0]!==t.body&&"none"!==w.method?(h=S.offset()||T,p="static"===S.css("position"),u="fixed"===_.css("position"),f=D[0]===e?D.width():D.outerWidth(P),g=D[0]===e?D.height():D.outerHeight(P),m={left:u?0:D.scrollLeft(),top:u?0:D.scrollTop()},v=D.offset()||T,"shift"===j&&"shift"===C||(c=y.clone()),T={left:"none"!==j?d(M,E,j,w.x,q,N,$,a,o):0,top:"none"!==C?d(E,M,C,w.y,O,R,F,s,l):0,my:c}):T},G.polys={polygon:function(e,t){var i,r,n,a={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:P},s=0,o=[],l=1,d=1,u=0,c=0;for(s=e.length;s--;)i=[parseInt(e[--s],10),parseInt(e[s+1],10)],i[0]>a.position.right&&(a.position.right=i[0]),i[0]<a.position.left&&(a.position.left=i[0]),i[1]>a.position.bottom&&(a.position.bottom=i[1]),i[1]<a.position.top&&(a.position.top=i[1]),o.push(i);if(r=a.width=Math.abs(a.position.right-a.position.left),n=a.height=Math.abs(a.position.bottom-a.position.top),"c"===t.abbrev())a.position={left:a.position.left+a.width/2,top:a.position.top+a.height/2};else{for(;r>0&&n>0&&l>0&&d>0;)for(r=Math.floor(r/2),n=Math.floor(n/2),t.x===q?l=r:t.x===N?l=a.width-r:l+=Math.floor(r/2),t.y===O?d=n:t.y===R?d=a.height-n:d+=Math.floor(n/2),s=o.length;s--&&!(o.length<2);)u=o[s][0]-a.position.left,c=o[s][1]-a.position.top,(t.x===q&&u>=l||t.x===N&&u<=l||t.x===L&&(u<l||u>a.width-l)||t.y===O&&c>=d||t.y===R&&c<=d||t.y===L&&(c<d||c>a.height-d))&&o.splice(s,1);a.position={left:o[0][0],top:o[0][1]}}return a},rect:function(e,t,i,r){return{width:Math.abs(i-e),height:Math.abs(r-t),position:{left:Math.min(e,i),top:Math.min(t,r)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,i,r,n){var a=G.polys._angles[n.abbrev()],s=0===a?0:i*Math.cos(a*Math.PI),o=r*Math.sin(a*Math.PI);return{width:2*i-Math.abs(s),height:2*r-Math.abs(o),position:{left:e+s,top:t+o},adjustable:P}},circle:function(e,t,i,r){return G.polys.ellipse(e,t,i,i,r)}},G.svg=function(e,i,n){for(var a,s,o,l,d,u,c,h,p,f=i[0],g=r(f.ownerSVGElement),m=f.ownerDocument,v=(parseInt(i.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return P;switch(f.nodeName){case"ellipse":case"circle":h=G.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+v,(f.ry||f.r).baseVal.value+v,n);break;case"line":case"polygon":case"polyline":for(c=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}],h=[],u=-1,l=c.numberOfItems||c.length;++u<l;)d=c.getItem?c.getItem(u):c[u],h.push.apply(h,[d.x,d.y]);h=G.polys.polygon(h,n);break;default:h=f.getBBox(),h={width:h.width,height:h.height,position:{left:h.x,top:h.y}}}return p=h.position,g=g[0],g.createSVGPoint&&(s=f.getScreenCTM(),c=g.createSVGPoint(),c.x=p.left,c.y=p.top,o=c.matrixTransform(s),p.left=o.x,p.top=o.y),m!==t&&"mouse"!==e.position.target&&(a=r((m.defaultView||m.parentWindow).frameElement).offset(),a&&(p.left+=a.left,p.top+=a.top)),m=r(m),p.left+=m.scrollLeft(),p.top+=m.scrollTop(),h},G.imagemap=function(e,t,i){t.jquery||(t=r(t));var n,a,s,o,l,d=(t.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),u=r('img[usemap="#'+t.parent("map").attr("name")+'"]'),c=r.trim(t.attr("coords")),h=c.replace(/,$/,"").split(",");if(!u.length)return P;if("polygon"===d)o=G.polys.polygon(h,i);else{if(!G.polys[d])return P;for(s=-1,l=h.length,a=[];++s<l;)a.push(parseInt(h[s],10));o=G.polys[d].apply(this,a.concat(i))}return n=u.offset(),n.left+=Math.ceil((u.outerWidth(P)-u.width())/2),n.top+=Math.ceil((u.outerHeight(P)-u.height())/2),o.position.left+=n.left,o.position.top+=n.top,o};var De,Se='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';r.extend(k.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=r(e).scrollTop()+"px")},init:function(i){var n=i.tooltip;r("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=r(Se).appendTo(n),i._bind(n,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=r("<div/>",{id:B+"-rcontainer"}).appendTo(t.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(e,["scroll","resize"],this._scroll,this._ns,this),i._bind(n,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,i=this.qtip.tooltip,r={height:i.outerHeight(P),width:i.outerWidth(P)},n=this.qtip.plugins.tip,a=this.qtip.elements.tip;t=parseInt(i.css("borderLeftWidth"),10)||0,t={left:-t,top:-t},n&&a&&(e="x"===n.corner.precedance?[$,q]:[F,O],t[e[1]]-=a[e[0]]()),this.bgiframe.css(t).css(r)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var e,t,i,r,n=this.qtip.tooltip,a=this.qtip.options.style,s=this.qtip.options.position.container;return this.qtip.drawing=1,a.height&&n.css(F,a.height),a.width?n.css($,a.width):(n.css($,"").appendTo(this.redrawContainer),t=n.width(),t%2<1&&(t+=1),i=n.css("maxWidth")||"",r=n.css("minWidth")||"",e=(i+r).indexOf("%")>-1?s.width()/100:0,i=(i.indexOf("%")>-1?e:1*parseInt(i,10))||t,r=(r.indexOf("%")>-1?e:1*parseInt(r,10))||0,t=i+r?Math.min(Math.max(t,r),i):t,n.css($,Math.round(t)).appendTo(s)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),De=G.ie6=function(e){return 6===re.ie?new k(e):P},De.initialize="render",S.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),function(e,t){function i(e,t){for(var i=decodeURI(e),r=o[t?"strict":"loose"].exec(i),n={attr:{},param:{},seg:{}},s=14;s--;)n.attr[a[s]]=r[s]||"";return n.param.query={},n.param.fragment={},n.attr.query.replace(l,function(e,t,i){t&&(n.param.query[t]=i)}),n.attr.fragment.replace(d,function(e,t,i){t&&(n.param.fragment[t]=i)}),n.seg.path=n.attr.path.replace(/^\/+|\/+$/g,"").split("/"),n.seg.fragment=n.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),n.attr.base=n.attr.host?n.attr.protocol+"://"+n.attr.host+(n.attr.port?":"+n.attr.port:""):"",n}function r(e){var i=e.tagName;return i!==t?n[i.toLowerCase()]:i}var n={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],s={anchor:"fragment"},o={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},l=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,d=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;e.fn.url=function(t){var i="";return this.length&&(i=e(this).attr(r(this[0]))||""),e.url(i,t)},e.url=function(e,r){return 1===arguments.length&&e===!0&&(r=!0,e=t),r=r||!1,e=e||window.location.toString(),{data:i(e,r),attr:function(e){return e=s[e]||e,e!==t?this.data.attr[e]:this.data.attr},param:function(e){return e!==t?this.data.param.query[e]:this.data.param.query},fparam:function(e){return e!==t?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return e===t?this.data.seg.path:(e=e<0?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return e===t?this.data.seg.fragment:(e=e<0?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var r,n;return!i.settings.submitHandler||(i.submitButton&&(r=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),n=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),void 0!==n&&n)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return e(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=e(this[0].form).validate(),this.each(function(){t=i.element(this)&&t,t||(r=r.concat(i.errorList))}),i.errorList=r),t},rules:function(t,i){var r,n,a,s,o,l,d=this[0];if(null!=d&&null!=d.form){if(t)switch(r=e.data(d.form,"validator").settings,n=r.rules,a=e.validator.staticRules(d),t){case"add":e.extend(a,e.validator.normalizeRule(i)),delete a.messages,n[d.name]=a,i.messages&&(r.messages[d.name]=e.extend(r.messages[d.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(t,i){l[i]=a[i],delete a[i],"required"===i&&e(d).removeAttr("aria-required")}),l):(delete n[d.name],a)}return s=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),s.required&&(o=s.required,delete s.required,s=e.extend({required:o},s),e(d).attr("aria-required","true")),s.remote&&(o=s.remote,delete s.remote,s=e.extend(s,{remote:o})),s}}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(t)||e.inArray(i.keyCode,r)!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):e(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):e(t).removeClass(i).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]);var i=e.data(this.form,"validator"),r="on"+t.type.replace(/^validate/,""),n=i.settings;n[r]&&!e(this).is(n.ignore)&&n[r].call(i,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,r=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){r[i]=t})}),i=this.settings.rules,e.each(i,function(t,r){i[t]=e.validator.normalizeRule(r)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,r,n=this.clean(t),a=this.validationTargetFor(n),s=this,o=!0;return void 0===a?delete this.invalid[n.name]:(this.prepareElement(a),this.currentElements=e(a),r=this.groups[a.name],r&&e.each(this.groups,function(e,t){t===r&&e!==a.name&&(n=s.validationTargetFor(s.clean(s.findByName(e))),n&&n.name in s.invalid&&(s.currentElements.push(n),o=s.check(n)&&o))}),i=this.check(a)!==!1,o=o&&i,i?this.invalid[a.name]=!1:this.invalid[a.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),o},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||e(this).attr("name");return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),!(r in i||!t.objectLength(e(this).rules()))&&(i[r]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,r,n=e(t),a=t.type;return"radio"===a||"checkbox"===a?this.findByName(t.name).filter(":checked").val():"number"===a&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":n.val():(i=t.hasAttribute("contenteditable")?n.text():n.val(),"file"===a?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(r=i.lastIndexOf("/"),r>=0?i.substr(r+1):(r=i.lastIndexOf("\\"),r>=0?i.substr(r+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,n,a=e(t).rules(),s=e.map(a,function(e,t){return t}).length,o=!1,l=this.elementValue(t);if("function"==typeof a.normalizer){if(l=a.normalizer.call(t,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete a.normalizer}for(r in a){n={method:r,parameters:a[r]};try{if(i=e.validator.methods[r].call(this,l,t,n.parameters),"dependency-mismatch"===i&&1===s){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,n),!1}catch(d){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",d),d instanceof TypeError&&(d.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),d}}if(!o)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var r=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,i.parameters,t):n.test(r)&&(r=e.validator.format(r.replace(n,"{$1}"),i.parameters)),r},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r,n,a,s,o=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(o=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),r=o,this.settings.wrapper&&(r=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement.call(this,r,e(t)):r.insertAfter(t),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(a=o.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(d+=" "+a):d=a,e(t).attr("aria-describedby",d),n=this.groups[t.name],n&&(s=this,e.each(s.groups,function(t,i){i===n&&e("[name='"+s.escapeCssMeta(t)+"']",s.currentForm).attr("aria-describedby",o.attr("id"))})))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),r=e(t).attr("aria-describedby"),n="label[for='"+i+"'], label[for='"+i+"'] *";return r&&(n=n+", #"+this.escapeCssMeta(r).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{"boolean":function(e){return e},string:function(t,i){return!!e(t,i.form).length},"function":function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,r){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0)),r||0===r?e[i]=r:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,r,n={},a=e(t),s=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(r=t.getAttribute(i),""===r&&(r=!0),r=!!r):r=a.attr(i),this.normalizeAttributeRule(n,s,i,r);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var i,r,n={},a=e(t),s=t.getAttribute("type");for(i in e.validator.methods)r=a.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(n,s,i,r);return n},staticRules:function(t){var i={},r=e.data(t.form,"validator");return r.settings.rules&&(i=e.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(r,n){if(n===!1)return void delete t[r];if(n.param||n.depends){var a=!0;switch(typeof n.depends){case"string":a=!!e(n.depends,i.form).length;break;case"function":a=n.depends.call(i,i)}a?t[r]=void 0===n.param||n.param:(e.data(i.form,"validator").resetElements(e(i)),delete t[r])}}),e.each(t,function(r,n){t[r]=e.isFunction(n)&&"normalizer"!==r?n(i):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==r?r:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var n=e(i).val();return n&&n.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,r){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=r},maxlength:function(t,i,r){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n<=r},rangelength:function(t,i,r){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=r[0]&&n<=r[1]},min:function(e,t,i){
return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,r){var n,a=e(i).attr("type"),s="Step attribute on input type "+a+" is not supported.",o=["text","number","range"],l=new RegExp("\\b"+a+"\\b"),d=a&&!l.test(o.join()),u=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},c=function(e){return Math.round(e*Math.pow(10,n))},h=!0;if(d)throw new Error(s);return n=u(r),(u(t)>n||c(t)%c(r)!==0)&&(h=!1),this.optional(i)||h},equalTo:function(t,i,r){var n=e(r);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===n.val()},remote:function(t,i,r,n){if(this.optional(i))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var a,s,o,l=this.previousValue(i,n);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][n],this.settings.messages[i.name][n]=l.message,r="string"==typeof r&&{url:r}||r,o=e.param(e.extend({data:t},r.data)),l.old===o?l.valid:(l.old=o,a=this,this.startRequest(i),s={},s[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:a.currentForm,success:function(e){var r,s,o,d=e===!0||"true"===e;a.settings.messages[i.name][n]=l.originalMessage,d?(o=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(i),a.formSubmitted=o,a.successList.push(i),a.invalid[i.name]=!1,a.showErrors()):(r={},s=e||a.defaultMessage(i,{method:n,parameters:t}),r[i.name]=l.message=s,a.invalid[i.name]=!0,a.showErrors(r)),l.valid=d,a.stopRequest(i,d)}},r)),"pending")}}});var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,r){var n=e.port;"abort"===e.mode&&(i[n]&&i[n].abort(),i[n]=r)}):(t=e.ajax,e.ajax=function(r){var n=("mode"in r?r:e.ajaxSettings).mode,a=("port"in r?r:e.ajaxSettings).port;return"abort"===n?(i[a]&&i[a].abort(),i[a]=t.apply(this,arguments),i[a]):t.apply(this,arguments)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){!function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}e.validator.addMethod("maxWords",function(e,i,r){return this.optional(i)||t(e).match(/\b\w+\b/g).length<=r},e.validator.format("Please enter {0} words or less.")),e.validator.addMethod("minWords",function(e,i,r){return this.optional(i)||t(e).match(/\b\w+\b/g).length>=r},e.validator.format("Please enter at least {0} words.")),e.validator.addMethod("rangeWords",function(e,i,r){var n=t(e),a=/\b\w+\b/g;return this.optional(i)||n.match(a).length>=r[0]&&n.match(a).length<=r[1]},e.validator.format("Please enter between {0} and {1} words."))}(),e.validator.addMethod("accept",function(t,i,r){var n,a,s,o="string"==typeof r?r.replace(/\s/g,""):"image/*",l=this.optional(i);if(l)return l;if("file"===e(i).attr("type")&&(o=o.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(s=new RegExp(".?("+o+")$","i"),n=0;n<i.files.length;n++)if(a=i.files[n],!a.type.match(s))return!1;return!0},e.validator.format("Please enter a value with a valid mimetype.")),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var i,r,n,a=e.replace(/ /g,""),s=0,o=a.length;for(i=0;i<o;i++)r=o-i,n=a.substring(i,i+1),s+=r*n;return s%11===0},"Please specify a valid bank account number"),e.validator.addMethod("bankorgiroaccountNL",function(t,i){return this.optional(i)||e.validator.methods.bankaccountNL.call(this,t,i)||e.validator.methods.giroaccountNL.call(this,t,i)},"Please specify a valid bank or giro account number"),e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),e.validator.addMethod("cifES",function(e){"use strict";var t,i,r,n,a,s,o=[];if(e=e.toUpperCase(),!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(r=0;r<9;r++)o[r]=parseInt(e.charAt(r),10);for(i=o[2]+o[4]+o[6],n=1;n<8;n+=2)a=(2*o[n]).toString(),s=a.charAt(1),i+=parseInt(a.charAt(0),10)+(""===s?0:parseInt(s,10));return!!/^[ABCDEFGHJNPQRSUVW]{1}/.test(e)&&(i+="",t=10-parseInt(i.charAt(i.length-1),10),e+=t,o[8].toString()===String.fromCharCode(64+t)||o[8].toString()===e.charAt(e.length-1))},"Please specify a valid CIF number."),e.validator.addMethod("cpfBR",function(e){if(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==e.length)return!1;var t,i,r,n,a=0;if(t=parseInt(e.substring(9,10),10),i=parseInt(e.substring(10,11),10),r=function(e,t){var i=10*e%11;return 10!==i&&11!==i||(i=0),i===t},""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(n=1;n<=9;n++)a+=parseInt(e.substring(n-1,n),10)*(11-n);if(r(a,t)){for(a=0,n=1;n<=10;n++)a+=parseInt(e.substring(n-1,n),10)*(12-n);return r(a,i)}return!1},"Please specify a valid CPF number"),e.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,r,n=0,a=0,s=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)r=e.charAt(i),a=parseInt(r,10),s&&(a*=2)>9&&(a-=9),n+=a,s=!s;return n%10===0},"Please enter a valid credit card number."),e.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var r=0;return i.mastercard&&(r|=1),i.visa&&(r|=2),i.amex&&(r|=4),i.dinersclub&&(r|=8),i.enroute&&(r|=16),i.discover&&(r|=32),i.jcb&&(r|=64),i.unknown&&(r|=128),i.all&&(r=255),1&r&&/^(5[12345])/.test(e)?16===e.length:2&r&&/^(4)/.test(e)?16===e.length:4&r&&/^(3[47])/.test(e)?15===e.length:8&r&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&r&&/^(2(014|149))/.test(e)?15===e.length:32&r&&/^(6011)/.test(e)?16===e.length:64&r&&/^(3)/.test(e)?16===e.length:64&r&&/^(2131|1800)/.test(e)?15===e.length:!!(128&r)},"Please enter a valid credit card number."),e.validator.addMethod("currency",function(e,t,i){var r,n="string"==typeof i,a=n?i:i[0],s=!!n||i[1];return a=a.replace(/,/g,""),a=s?a+"]":a+"]?",r="^["+a+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",r=new RegExp(r),this.optional(t)||r.test(e)},"Please specify a valid currency"),e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},e.validator.messages.date),e.validator.addMethod("dateITA",function(e,t){var i,r,n,a,s,o=!1,l=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return l.test(e)?(i=e.split("/"),r=parseInt(i[0],10),n=parseInt(i[1],10),a=parseInt(i[2],10),s=new Date(Date.UTC(a,n-1,r,12,0,0,0)),o=s.getUTCFullYear()===a&&s.getUTCMonth()===n-1&&s.getUTCDate()===r):o=!1,this.optional(t)||o},e.validator.messages.date),e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},e.validator.messages.date),e.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},e.validator.format("Please enter a value with a valid extension.")),e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),e.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,r,n,a,s,o,l,d,u,c=e.replace(/ /g,"").toUpperCase(),h="",p=!0,f="",g="",m=5;if(c.length<m)return!1;if(i=c.substring(0,2),o={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},s=o[i],"undefined"!=typeof s&&(l=new RegExp("^[A-Z]{2}\\d{2}"+s+"$",""),!l.test(c)))return!1;for(r=c.substring(4,c.length)+c.substring(0,4),d=0;d<r.length;d++)n=r.charAt(d),"0"!==n&&(p=!1),p||(h+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(u=0;u<h.length;u++)a=h.charAt(u),g=""+f+a,f=g%97;return 1===f},"Please specify a valid IBAN"),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),e.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),e.validator.addMethod("nieES",function(e){"use strict";return e=e.toUpperCase(),!!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[T]{1}/.test(e)?e[8]===/^[T]{1}[A-Z0-9]{8}$/.test(e):!!/^[XYZ]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23))},"Please specify a valid NIE number."),e.validator.addMethod("nifES",function(e){"use strict";return e=e.toUpperCase(),!!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),e.validator.addMethod("notEqualTo",function(t,i,r){return this.optional(i)||!e.validator.methods.equalTo.call(this,t,i,r)},"Please enter a different value, values must not be the same."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),e.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),e.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),e.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),e.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido."),e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),e.validator.addMethod("require_from_group",function(t,i,r){var n=e(r[1],i.form),a=n.eq(0),s=a.data("valid_req_grp")?a.data("valid_req_grp"):e.extend({},this),o=n.filter(function(){return s.elementValue(this)}).length>=r[0];return a.data("valid_req_grp",s),e(i).data("being_validated")||(n.data("being_validated",!0),n.each(function(){s.element(this)}),n.data("being_validated",!1)),o},e.validator.format("Please fill at least {0} of these fields.")),e.validator.addMethod("skip_or_fill_minimum",function(t,i,r){var n=e(r[1],i.form),a=n.eq(0),s=a.data("valid_skip")?a.data("valid_skip"):e.extend({},this),o=n.filter(function(){return s.elementValue(this)}).length,l=0===o||o>=r[0];return a.data("valid_skip",s),e(i).data("being_validated")||(n.data("being_validated",!0),n.each(function(){s.element(this)}),n.data("being_validated",!1)),l},e.validator.format("Please either skip these fields or fill at least {0} of them.")),e.validator.addMethod("stateUS",function(e,t,i){var r,n="undefined"==typeof i,a=!n&&"undefined"!=typeof i.caseSensitive&&i.caseSensitive,s=!n&&"undefined"!=typeof i.includeTerritories&&i.includeTerritories,o=!n&&"undefined"!=typeof i.includeMilitary&&i.includeMilitary;return r=s||o?s&&o?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":s?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",r=a?new RegExp(r):new RegExp(r,"i"),this.optional(t)||r.test(e)},"Please specify a valid state"),e.validator.addMethod("strippedminlength",function(t,i,r){return e(t).text().length>=r},e.validator.format("Please enter at least {0} characters")),e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url),e.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,i,r,n,a,s,o=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],d=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],u=0;for(t=0;t<17;t++){if(n=d[t],r=e.slice(t,t+1),8===t&&(s=r),isNaN(r)){for(i=0;i<o.length;i++)if(r.toUpperCase()===o[i]){r=l[i],r*=n,isNaN(s)&&8===i&&(s=o[i]);break}}else r*=n;u+=r}return a=u%11,10===a&&(a="X"),a===s},"The specified vehicle identification number (VIN) is invalid."),e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")}),function(e){"use strict";window.XDomainRequest&&jQuery.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var t;return{send:function(i,r){function n(e,i,n,a){t.onload=t.onerror=t.ontimeout=jQuery.noop,t=null,r(e,i,n,a)}t=new XDomainRequest,"DELETE"===e.type?(e.url=e.url+(/\?/.test(e.url)?"&":"?")+"_method=DELETE",e.type="POST"):"PUT"===e.type&&(e.url=e.url+(/\?/.test(e.url)?"&":"?")+"_method=PUT",e.type="POST"),t.open(e.type,e.url),t.onload=function(){n(200,"OK",{text:t.responseText},"Content-Type: "+t.contentType)},t.onerror=function(){n(404,"Not Found")},e.xdrTimeout&&(t.ontimeout=function(){n(0,"timeout")},t.timeout=e.xdrTimeout),t.send(e.hasContent&&e.data||null)},abort:function(){t&&(t.onerror=jQuery.noop(),t.abort())}}}})}(jQuery),function(e){e.fn.xBreadcrumbs=function(t){function i(){if(t.collapsible){var i=s.children("LI").length;s.children("LI").children("A").css("white-space","nowrap").css("float","left"),s.children("LI").children("A").each(function(r,n){r!=i-1&&(e(this).css("overflow","hidden"),e(this).attr("init-width",e(this).width()),e(this).width(t.collapsedWidth))})}s.children("LI").mouseenter(function(){if(!e(this).hasClass("hover")&&(r(),a(e(this)))){var i=e(this).children("UL");if(n(i,!0),t.collapsible&&!e(this).hasClass("current")){var s=e(this).children("A").attr("init-width");e(this).children("A").animate({width:s},"normal")}}}),s.children("LI").mouseleave(function(){var i=e(this).children("UL");n(i,!1),t.collapsible&&!e(this).hasClass("current")&&e(this).children("A").animate({width:t.collapsedWidth},"fast")})}function r(){s.children("LI").children("UL").each(function(){e(this).hide(),e(this).parent().removeClass("hover")})}function n(i,r){if(r){if(i.parent().addClass("hover"),e.browser.msie){var n=i.parent().position();i.css("left",parseInt(n.left))}""!=t.showSpeed?i.fadeIn(t.showSpeed):i.show()}else i.parent().removeClass("hover"),""!=t.hideSpeed?i.fadeOut(t.hideSpeed):i.hide()}function a(e){return e.children("UL").length>0}var s=e(this),t=e.extend({},e.fn.xBreadcrumbs.defaults,t);i()},e.fn.xBreadcrumbs.defaults={showSpeed:"fast",hideSpeed:"",collapsible:!1,collapsedWidth:10}}(jQuery),function(){if(!jQuery||!jQuery.jstree){var e=!1,t=!1,i=!1;!function(r){r.vakata={},r.vakata.css={get_css:function(e,t,i){e=e.toLowerCase();var r=i.cssRules||i.rules,n=0;do{if(r.length&&n>r.length+5)return!1;if(r[n].selectorText&&r[n].selectorText.toLowerCase()==e)return t===!0?(i.removeRule&&i.removeRule(n),i.deleteRule&&i.deleteRule(n),!0):r[n]}while(r[++n]);return!1},add_css:function(e,t){return!r.jstree.css.get_css(e,!1,t)&&(t.insertRule?t.insertRule(e+" { }",0):t.addRule(e,null,0),r.vakata.css.get_css(e))},remove_css:function(e,t){return r.vakata.css.get_css(e,!0,t)},add_sheet:function(e){var t=!1,i=!0;if(e.str)return e.title&&(t=r("style[id='"+e.title+"-stylesheet']")[0]),t?i=!1:(t=document.createElement("style"),t.setAttribute("type","text/css"),e.title&&t.setAttribute("id",e.title+"-stylesheet")),t.styleSheet?i?(document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet.cssText=e.str):t.styleSheet.cssText=t.styleSheet.cssText+" "+e.str:(t.appendChild(document.createTextNode(e.str)),document.getElementsByTagName("head")[0].appendChild(t)),t.sheet||t.styleSheet;if(e.url){if(!document.createStyleSheet)return t=document.createElement("link"),t.rel="stylesheet",t.type="text/css",t.media="all",t.href=e.url,document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet;try{t=document.createStyleSheet(e.url)}catch(n){}}}};var n=[],a=-1,s={},o={};r.fn.jstree=function(e){var t="string"==typeof e,i=Array.prototype.slice.call(arguments,1),a=this;if(t){if("_"==e.substring(0,1))return a;this.each(function(){var t=n[r.data(this,"jstree_instance_id")],s=t&&r.isFunction(t[e])?t[e].apply(t,i):t;if("undefined"!=typeof s&&(0===e.indexOf("is_")||s!==!0&&s!==!1))return a=s,!1})}else this.each(function(){var t=r.data(this,"jstree_instance_id"),a=[],o=e?r.extend({},!0,e):{},l=r(this),d=!1,u=[];a=a.concat(i),l.data("jstree")&&a.push(l.data("jstree")),o=a.length?r.extend.apply(null,[!0,o].concat(a)):o,"undefined"!=typeof t&&n[t]&&n[t].destroy(),t=parseInt(n.push({}),10)-1,r.data(this,"jstree_instance_id",t),o.plugins=r.isArray(o.plugins)?o.plugins:r.jstree.defaults.plugins.slice(),o.plugins.unshift("core"),o.plugins=o.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),d=r.extend(!0,{},r.jstree.defaults,o),d.plugins=o.plugins,r.each(s,function(e,t){r.inArray(e,d.plugins)===-1?(d[e]=null,delete d[e]):u.push(e)}),d.plugins=u,n[t]=new r.jstree._instance(t,r(this).addClass("jstree jstree-"+t),d),r.each(n[t]._get_settings().plugins,function(e,i){n[t].data[i]={}}),r.each(n[t]._get_settings().plugins,function(e,i){s[i]&&s[i].__init.apply(n[t])}),setTimeout(function(){n[t]&&n[t].init()},0)});return a},r.jstree={defaults:{plugins:[]},_focused:function(){return n[a]||null},_reference:function(e){if(n[e])return n[e];var t=r(e);return t.length||"string"!=typeof e||(t=r("#"+e)),t.length?n[t.closest(".jstree").data("jstree_instance_id")]||null:null},_instance:function(e,t,i){this.data={core:{}},this.get_settings=function(){return r.extend(!0,{},i)},this._get_settings=function(){return i},this.get_index=function(){return e},this.get_container=function(){return t},this.get_container_ul=function(){return t.children("ul:eq(0)")},this._set_settings=function(e){i=r.extend(!0,{},i,e)}},_fn:{},plugin:function(e,t){t=r.extend({},{__init:r.noop,__destroy:r.noop,_fn:{},defaults:!1},t),s[e]=t,r.jstree.defaults[e]=t.defaults,r.each(t._fn,function(t,i){i.plugin=e,i.old=r.jstree._fn[t],r.jstree._fn[t]=function(){var e,n=i,a=Array.prototype.slice.call(arguments),s=new r.Event("before.jstree"),o=!1;if(this.data.core.locked!==!0||"unlock"===t||"is_locked"===t){do{if(n&&n.plugin&&r.inArray(n.plugin,this._get_settings().plugins)!==-1)break;n=n.old}while(n);if(n){if(0===t.indexOf("_"))e=n.apply(this,a);else{if(e=this.get_container().triggerHandler(s,{func:t,inst:this,args:a,plugin:n.plugin}),e===!1)return;"undefined"!=typeof e&&(a=e),e=n.apply(r.extend({},this,{__callback:function(e){this.get_container().triggerHandler(t+".jstree",{inst:this,args:a,rslt:e,rlbk:o})},__rollback:function(){return o=this.get_rollback()},__call_old:function(e){return n.old.apply(this,e?Array.prototype.slice.call(arguments,1):a)}}),a)}return e}}},r.jstree._fn[t].old=i.old,r.jstree._fn[t].plugin=e})},rollback:function(e){e&&(r.isArray(e)||(e=[e]),r.each(e,function(e,t){n[t.i].set_rollback(t.h,t.d)}))}},r.jstree._fn=r.jstree._instance.prototype={},r(function(){var n=navigator.userAgent.toLowerCase(),a=(n.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],s=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(/msie/.test(n)&&6==parseInt(a,10)){e=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(o){}s+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(n)&&7==parseInt(a,10)&&(t=!0,s+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "),!/compatible/.test(n)&&/mozilla/.test(n)&&parseFloat(a,10)<1.9&&(i=!0,s+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } "),r.vakata.css.add_sheet({str:s,title:"jstree"})}),r.jstree.plugin("core",{__init:function(){this.data.core.locked=!1,this.data.core.to_open=this.get_settings().core.initially_open,this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus(),this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl"),this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>"),this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18,this.get_container().delegate("li > ins","click.jstree",r.proxy(function(e){var t=r(e.target);this.toggle_node(t)},this)).bind("mousedown.jstree",r.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(e){var t;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(i){}}}),this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",r.proxy(function(e,t){var i=this._get_node(t.rslt.obj),n=this;i===-1&&(i=this.get_container_ul()),i.length&&i.find("li").each(function(){var e=r(this);e.data("jstree")&&r.each(e.data("jstree"),function(t,i){n.data[t]&&r.isFunction(n["_"+t+"_notify"])&&n["_"+t+"_notify"].call(n,e,i)})})},this)),this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",r.proxy(function(e,t){var i=this._get_node(t.rslt.obj),n=this;i===-1&&(i=this.get_container_ul()),i.length&&i.find("li.jstree-open:not(:has(ul))").each(function(){n.load_node(this,r.noop,r.noop)})},this)),this.__callback(),this.load_node(-1,function(){this.loaded(),this.reload_nodes()})},destroy:function(){var e,t=this.get_index(),i=this._get_settings(),o=this;if(r.each(i.plugins,function(e,t){try{s[t].__destroy.apply(o)}catch(i){}}),this.__callback(),this.is_focused())for(e in n)if(n.hasOwnProperty(e)&&e!=t){n[e].set_focus();break}t===a&&(a=-1),this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),r(document).unbind(".jstree-"+t).undelegate(".jstree-"+t),n[t]=null,delete n[t]},_core_notify:function(e,t){t.opened&&this.open_node(e,!1,!0)},lock:function(){this.data.core.locked=!0,this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7"),this.__callback({})},unlock:function(){this.data.core.locked=!1,this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1"),this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var e=this;this.data.core.to_open=[],this.get_container_ul().find("li.jstree-open").each(function(){this.id&&e.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(e.data.core.to_open)},save_loaded:function(){},reload_nodes:function(e){var t=this,i=!0,n=[],a=[];e||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=r.map(r.makeArray(this.data.core.to_open),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");
}),this.data.core.to_load=r.map(r.makeArray(this.data.core.to_load),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open))),this.data.core.to_load.length&&(r.each(this.data.core.to_load,function(e,t){return"#"==t||void(r(t).length?n.push(t):a.push(t))}),n.length&&(this.data.core.to_load=a,r.each(n,function(e,r){t._is_loaded(r)||(t.load_node(r,function(){t.reload_nodes(!0)},function(){t.reload_nodes(!0)}),i=!1)}))),this.data.core.to_open.length&&r.each(this.data.core.to_open,function(e,i){t.open_node(i,!1,!0)}),i&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){t.__callback({},t)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var e=this;this.data.core.to_open.length&&r.each(this.data.core.to_open,function(t,i){e.open_node(i,!1,!0)}),this.__callback({})},refresh:function(e){var t=this;this.save_opened(),e||(e=-1),e=this._get_node(e),e||(e=-1),e!==-1?e.children("UL").remove():this.get_container_ul().empty(),this.load_node(e,function(){t.__callback({obj:e}),t.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var e=r.jstree._focused();e&&e.unset_focus(),this.get_container().addClass("jstree-focused"),a=this.get_index(),this.__callback()}},is_focused:function(){return a==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),a=-1),this.__callback()},_get_node:function(e){var t=r(e,this.get_container());return t.is(".jstree")||e==-1?-1:(t=t.closest("li",this.get_container()),!!t.length&&t)},_get_next:function(e,t){return e=this._get_node(e),e===-1?this.get_container().find("> ul > li:first-child"):!!e.length&&(t?e.nextAll("li").size()>0&&e.nextAll("li:eq(0)"):e.hasClass("jstree-open")?e.find("li:eq(0)"):e.nextAll("li").size()>0?e.nextAll("li:eq(0)"):e.parentsUntil(".jstree","li").next("li").eq(0))},_get_prev:function(e,t){if(e=this._get_node(e),e===-1)return this.get_container().find("> ul > li:last-child");if(!e.length)return!1;if(t)return e.prevAll("li").length>0&&e.prevAll("li:eq(0)");if(e.prev("li").length){for(e=e.prev("li").eq(0);e.hasClass("jstree-open");)e=e.children("ul:eq(0)").children("li:last");return e}var i=e.parentsUntil(".jstree","li:eq(0)");return!!i.length&&i},_get_parent:function(e){if(e=this._get_node(e),e==-1||!e.length)return!1;var t=e.parentsUntil(".jstree","li:eq(0)");return t.length?t:-1},_get_children:function(e){return e=this._get_node(e),e===-1?this.get_container().children("ul:eq(0)").children("li"):!!e.length&&e.children("ul:eq(0)").children("li")},get_path:function(e,t){var i=[],r=this;return e=this._get_node(e),!(e===-1||!e||!e.length)&&(e.parentsUntil(".jstree","li").each(function(){i.push(t?this.id:r.get_text(this))}),i.reverse(),i.push(t?e.attr("id"):this.get_text(e)),i)},_get_string:function(e){return this._get_settings().core.strings[e]||e},is_open:function(e){return e=this._get_node(e),e&&e!==-1&&e.hasClass("jstree-open")},is_closed:function(e){return e=this._get_node(e),e&&e!==-1&&e.hasClass("jstree-closed")},is_leaf:function(e){return e=this._get_node(e),e&&e!==-1&&e.hasClass("jstree-leaf")},correct_state:function(e){return e=this._get_node(e),!(!e||e===-1)&&(e.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove(),void this.__callback({obj:e}))},open_node:function(t,i,r){if(t=this._get_node(t),!t.length)return!1;if(!t.hasClass("jstree-closed"))return i&&i.call(),!1;var n=r||e?0:this._get_settings().core.animation,a=this;this._is_loaded(t)?(this._get_settings().core.open_parents&&t.parentsUntil(".jstree",".jstree-closed").each(function(){a.open_node(this,!1,!0)}),n&&t.children("ul").css("display","none"),t.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),n?t.children("ul").stop(!0,!0).slideDown(n,function(){this.style.display="",a.after_open(t)}):a.after_open(t),this.__callback({obj:t}),i&&i.call()):(t.children("a").addClass("jstree-loading"),this.load_node(t,function(){a.open_node(t,i,r)},i))},after_open:function(e){this.__callback({obj:e})},close_node:function(t,i){t=this._get_node(t);var r=i||e?0:this._get_settings().core.animation,n=this;return!(!t.length||!t.hasClass("jstree-open"))&&(r&&t.children("ul").attr("style","display:block !important"),t.removeClass("jstree-open").addClass("jstree-closed"),r?t.children("ul").stop(!0,!0).slideUp(r,function(){this.style.display="",n.after_close(t)}):n.after_close(t),void this.__callback({obj:t}))},after_close:function(e){this.__callback({obj:e})},toggle_node:function(e){return e=this._get_node(e),e.hasClass("jstree-closed")?this.open_node(e):e.hasClass("jstree-open")?this.close_node(e):void 0},open_all:function(e,t,i){e=e?this._get_node(e):-1,e&&e!==-1||(e=this.get_container_ul()),i?e=e.find("li.jstree-closed"):(i=e,e=e.is(".jstree-closed")?e.find("li.jstree-closed").andSelf():e.find("li.jstree-closed"));var r=this;e.each(function(){var e=this;r._is_loaded(this)?r.open_node(this,!1,!t):r.open_node(this,function(){r.open_all(e,t,i)},!t)}),0===i.find("li.jstree-closed").length&&this.__callback({obj:i})},close_all:function(e,t){var i=this;e=e?this._get_node(e):this.get_container(),e&&e!==-1||(e=this.get_container_ul()),e.find("li.jstree-open").andSelf().each(function(){i.close_node(this,!t)}),this.__callback({obj:e})},clean_node:function(e){e=e&&e!=-1?r(e):this.get_container_ul(),e=e.is("li")?e.find("li").andSelf():e.find("li"),e.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed"),e.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:e})},get_rollback:function(){return this.__callback(),{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(e,t){this.get_container().empty().append(e),this.data=t,this.__callback()},load_node:function(e,t,i){this.__callback({obj:e})},_is_loaded:function(e){return!0},create_node:function(e,t,i,n,a){e=this._get_node(e),t="undefined"==typeof t?"last":t;var s,o=r("<li />"),l=this._get_settings().core;if(e!==-1&&!e.length)return!1;if(!a&&!this._is_loaded(e))return this.load_node(e,function(){this.create_node(e,t,i,n,!0)}),!1;switch(this.__rollback(),"string"==typeof i&&(i={data:i}),i||(i={}),i.attr&&o.attr(i.attr),i.metadata&&o.data(i.metadata),i.state&&o.addClass("jstree-"+i.state),i.data||(i.data=this._get_string("new_node")),r.isArray(i.data)||(s=i.data,i.data=[],i.data.push(s)),r.each(i.data,function(e,t){s=r("<a />"),r.isFunction(t)&&(t=t.call(this,i)),"string"==typeof t?s.attr("href","#")[l.html_titles?"html":"text"](t):(t.attr||(t.attr={}),t.attr.href||(t.attr.href="#"),s.attr(t.attr)[l.html_titles?"html":"text"](t.title),t.language&&s.addClass(t.language)),s.prepend("<ins class='jstree-icon'>&#160;</ins>"),!t.icon&&i.icon&&(t.icon=i.icon),t.icon&&(t.icon.indexOf("/")===-1?s.children("ins").addClass(t.icon):s.children("ins").css("background","url('"+t.icon+"') center center no-repeat")),o.append(s)}),o.prepend("<ins class='jstree-icon'>&#160;</ins>"),e===-1&&(e=this.get_container(),"before"===t&&(t="first"),"after"===t&&(t="last")),t){case"before":e.before(o),s=this._get_parent(e);break;case"after":e.after(o),s=this._get_parent(e);break;case"inside":case"first":e.children("ul").length||e.append("<ul />"),e.children("ul").prepend(o),s=e;break;case"last":e.children("ul").length||e.append("<ul />"),e.children("ul").append(o),s=e;break;default:e.children("ul").length||e.append("<ul />"),t||(t=0),s=e.children("ul").children("li").eq(t),s.length?s.before(o):e.children("ul").append(o),s=e}return s!==-1&&s.get(0)!==this.get_container().get(0)||(s=-1),this.clean_node(s),this.__callback({obj:o,parent:s}),n&&n.call(this,o),o},get_text:function(e){if(e=this._get_node(e),!e.length)return!1;var t=this._get_settings().core.html_titles;return e=e.children("a:eq(0)"),t?(e=e.clone(),e.children("INS").remove(),e.html()):(e=e.contents().filter(function(){return 3==this.nodeType})[0],e.nodeValue)},set_text:function(e,t){if(e=this._get_node(e),!e.length)return!1;if(e=e.children("a:eq(0)"),this._get_settings().core.html_titles){var i=e.children("INS").clone();return e.html(t).prepend(i),this.__callback({obj:e,name:t}),!0}return e=e.contents().filter(function(){return 3==this.nodeType})[0],this.__callback({obj:e,name:t}),e.nodeValue=t},rename_node:function(e,t){e=this._get_node(e),this.__rollback(),e&&e.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&this.__callback({obj:e,name:t})},delete_node:function(e){if(e=this._get_node(e),!e.length)return!1;this.__rollback();var t=this._get_parent(e),i=r([]),n=this;return e.each(function(){i=i.add(n._get_prev(this))}),e=e.detach(),t!==-1&&0===t.find("> ul > li").length&&t.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),this.clean_node(t),this.__callback({obj:e,prev:i,parent:t}),e},prepare_move:function(e,t,i,n,a){var s={};if(s.ot=r.jstree._reference(e)||this,s.o=s.ot._get_node(e),s.r=t===-1?-1:this._get_node(t),s.p="undefined"==typeof i||i===!1?"last":i,!a&&o.o&&o.o[0]===s.o[0]&&o.r[0]===s.r[0]&&o.p===s.p)return this.__callback(o),void(n&&n.call(this,o));if(s.ot=r.jstree._reference(s.o)||this,s.rt=r.jstree._reference(s.r)||this,s.r!==-1&&s.r){if(!/^(before|after)$/.test(s.p)&&!this._is_loaded(s.r))return this.load_node(s.r,function(){this.prepare_move(e,t,i,n,!0)});switch(s.p){case"before":s.cp=s.r.index(),s.cr=s.rt._get_parent(s.r);break;case"after":s.cp=s.r.index()+1,s.cr=s.rt._get_parent(s.r);break;case"inside":case"first":s.cp=0,s.cr=s.r;break;case"last":s.cp=s.r.find(" > ul > li").length,s.cr=s.r;break;default:s.cp=s.p,s.cr=s.r}}else switch(s.cr=-1,s.p){case"first":case"before":case"inside":s.cp=0;break;case"after":case"last":s.cp=s.rt.get_container().find(" > ul > li").length;break;default:s.cp=s.p}s.np=s.cr==-1?s.rt.get_container():s.cr,s.op=s.ot._get_parent(s.o),s.cop=s.o.index(),s.op===-1&&(s.op=s.ot?s.ot.get_container():this.get_container()),!/^(before|after)$/.test(s.p)&&s.op&&s.np&&s.op[0]===s.np[0]&&s.o.index()<s.cp&&s.cp++,s.or=s.np.find(" > ul > li:nth-child("+(s.cp+1)+")"),o=s,this.__callback(o),n&&n.call(this,o)},check_move:function(){var e=o,t=!0,i=e.r===-1?this.get_container():e.r;if(!e||!e.o||e.or[0]===e.o[0])return!1;if(!e.cy){if(e.op&&e.np&&e.op[0]===e.np[0]&&e.cp-1===e.o.index())return!1;e.o.each(function(){if(i.parentsUntil(".jstree","li").andSelf().index(this)!==-1)return t=!1,!1})}return t},move_node:function(e,t,i,n,a,s){if(!a)return this.prepare_move(e,t,i,function(e){this.move_node(e,!1,!1,n,!0,s)});if(n&&(o.cy=!0),!s&&!this.check_move())return!1;this.__rollback();var l=!1;n?(l=e.o.clone(!0),l.find("*[id]").andSelf().each(function(){this.id&&(this.id="copy_"+this.id)})):l=e.o,e.or.length?e.or.before(l):(e.np.children("ul").length||r("<ul />").appendTo(e.np),e.np.children("ul:eq(0)").append(l));try{e.ot.clean_node(e.op),e.rt.clean_node(e.np),e.op.find("> ul > li").length||e.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(d){}return n&&(o.cy=!0,o.oc=l),this.__callback(o),o},_get_move:function(){return o}}})}(jQuery),function(e){var t,i,r;e(function(){/msie/.test(navigator.userAgent.toLowerCase())?(i=e('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),r=e('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),t=i.width()-r.width(),i.add(r).remove()):(i=e("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),t=100-i.width(),i.parent().remove())}),e.jstree.plugin("ui",{__init:function(){this.data.ui.selected=e(),this.data.ui.last_selected=!1,this.data.ui.hovered=null,this.data.ui.to_select=this.get_settings().ui.initially_select,this.get_container().delegate("a","click.jstree",e.proxy(function(t){t.preventDefault(),t.currentTarget.blur(),e(t.currentTarget).hasClass("jstree-loading")||this.select_node(t.currentTarget,!0,t)},this)).delegate("a","mouseenter.jstree",e.proxy(function(t){e(t.currentTarget).hasClass("jstree-loading")||this.hover_node(t.target)},this)).delegate("a","mouseleave.jstree",e.proxy(function(t){e(t.currentTarget).hasClass("jstree-loading")||this.dehover_node(t.target)},this)).bind("reopen.jstree",e.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",e.proxy(function(){this.dehover_node(),this.save_selected()},this)).bind("set_rollback.jstree",e.proxy(function(){this.reselect()},this)).bind("close_node.jstree",e.proxy(function(t,i){var r=this._get_settings().ui,n=this._get_node(i.rslt.obj),a=n&&n.length?n.children("ul").find("a.jstree-clicked"):e(),s=this;r.selected_parent_close!==!1&&a.length&&a.each(function(){s.deselect_node(this),"select_parent"===r.selected_parent_close&&s.select_node(n)})},this)).bind("delete_node.jstree",e.proxy(function(e,t){var i=this._get_settings().ui.select_prev_on_delete,r=this._get_node(t.rslt.obj),n=r&&r.length?r.find("a.jstree-clicked"):[],a=this;n.each(function(){a.deselect_node(this)}),i&&n.length&&t.rslt.prev.each(function(){if(this.parentNode)return a.select_node(this),!1})},this)).bind("move_node.jstree",e.proxy(function(e,t){t.rslt.cy&&t.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(t,i){if("undefined"==typeof t||null===t)return i?this.data.ui.selected:this.data.ui.last_selected;var r=e(t,this.get_container());return r.is(".jstree")||t==-1?-1:(r=r.closest("li",this.get_container()),!!r.length&&r)},_ui_notify:function(e,t){t.selected&&this.select_node(e,!1)},save_selected:function(){var e=this;this.data.ui.to_select=[],this.data.ui.selected.each(function(){this.id&&e.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(this.data.ui.to_select)},reselect:function(){var t=this,i=this.data.ui.to_select;i=e.map(e.makeArray(i),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),e.each(i,function(e,i){i&&"#"!==i&&t.select_node(i)}),this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode}),this.__callback()},refresh:function(e){return this.save_selected(),this.__call_old()},hover_node:function(e){return e=this._get_node(e),!!e.length&&(e.hasClass("jstree-hovered")||this.dehover_node(),this.data.ui.hovered=e.children("a").addClass("jstree-hovered").parent(),this._fix_scroll(e),void this.__callback({obj:e}))},dehover_node:function(){var e,t=this.data.ui.hovered;return!(!t||!t.length)&&(e=t.children("a").removeClass("jstree-hovered").parent(),this.data.ui.hovered[0]===e[0]&&(this.data.ui.hovered=null),void this.__callback({obj:t}))},select_node:function(e,t,i){if(e=this._get_node(e),e==-1||!e||!e.length)return!1;var r=this._get_settings().ui,n="on"==r.select_multiple_modifier||r.select_multiple_modifier!==!1&&i&&i[r.select_multiple_modifier+"Key"],a=r.select_range_modifier!==!1&&i&&i[r.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==e[0]&&this.data.ui.last_selected.parent()[0]===e.parent()[0],s=this.is_selected(e),o=!0,l=this;if(t){if(r.disable_selecting_children&&n&&(e.parentsUntil(".jstree","li").children("a.jstree-clicked").length||e.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;switch(o=!1,!0){case a:this.data.ui.last_selected.addClass("jstree-last-selected"),e=e[e.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf(),r.select_limit==-1||e.length<r.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==l.data.ui.last_selected[0]&&l.deselect_node(this)}),s=!1,o=!0):o=!1;break;case s&&!n:this.deselect_all(),s=!1,o=!0;break;case!s&&!n:(r.select_limit==-1||r.select_limit>0)&&(this.deselect_all(),o=!0);break;case s&&n:this.deselect_node(e);break;case!s&&n:(r.select_limit==-1||this.data.ui.selected.length+1<=r.select_limit)&&(o=!0)}}o&&!s&&(a||(this.data.ui.last_selected=e),e.children("a").addClass("jstree-clicked"),r.selected_parent_open&&e.parents(".jstree-closed").each(function(){l.open_node(this,!1,!0)}),this.data.ui.selected=this.data.ui.selected.add(e),this._fix_scroll(e.eq(0)),this.__callback({obj:e,e:i}))},_fix_scroll:function(e){var i,r=this.get_container()[0];if(r.scrollHeight>r.offsetHeight){if(e=this._get_node(e),!e||e===-1||!e.length||!e.is(":visible"))return;i=e.offset().top-this.get_container().offset().top,i<0&&(r.scrollTop=r.scrollTop+i-1),i+this.data.core.li_height+(r.scrollWidth>r.offsetWidth?t:0)>r.offsetHeight&&(r.scrollTop=r.scrollTop+(i-r.offsetHeight+this.data.core.li_height+1+(r.scrollWidth>r.offsetWidth?t:0)))}},deselect_node:function(e){return e=this._get_node(e),!!e.length&&void(this.is_selected(e)&&(e.children("a").removeClass("jstree-clicked"),this.data.ui.selected=this.data.ui.selected.not(e),this.data.ui.last_selected.get(0)===e.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:e})))},toggle_select:function(e){return e=this._get_node(e),!!e.length&&void(this.is_selected(e)?this.deselect_node(e):this.select_node(e))},is_selected:function(e){return this.data.ui.selected.index(this._get_node(e))>=0},get_selected:function(t){return t?e(t).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(t){var i=t?e(t).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();i.children("a.jstree-clicked").removeClass("jstree-clicked"),this.data.ui.selected=e([]),this.data.ui.last_selected=!1,this.__callback({obj:i})}}}),e.jstree.defaults.plugins.push("ui")}(jQuery),function(e){e.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",e.proxy(function(e,t){if(this._get_settings().crrm.move.open_onmove){var i=this;t.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){i.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(e){return!0}}},_fn:{_show_input:function(t,i){t=this._get_node(t);var r=this._get_settings().core.rtl,n=this._get_settings().crrm.input_width_limit,a=t.children("ins").width(),s=t.find("> a:visible > ins").width()*t.find("> a:visible > ins").length,o=this.get_text(t),l=e("<div />",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),d=t.css("position","relative").append(e("<input />",{value:o,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:r?"auto":a+s+4+"px",right:r?a+s+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:e.proxy(function(){var e=t.children(".jstree-rename-input"),r=e.val();""===r&&(r=o),l.remove(),e.remove(),this.set_text(t,o),this.rename_node(t,r),i.call(this,t,r,o),t.css("position","")},this),keyup:function(e){var t=e.keyCode||e.which;return 27==t?(this.value=o,void this.blur()):13==t?void this.blur():void d.width(Math.min(l.text("pW"+this.value).width(),n))},keypress:function(e){var t=e.keyCode||e.which;if(13==t)return!1}})).children(".jstree-rename-input");this.set_text(t,""),l.css({fontFamily:d.css("fontFamily")||"",fontSize:d.css("fontSize")||"",fontWeight:d.css("fontWeight")||"",fontStyle:d.css("fontStyle")||"",fontStretch:d.css("fontStretch")||"",fontVariant:d.css("fontVariant")||"",letterSpacing:d.css("letterSpacing")||"",wordSpacing:d.css("wordSpacing")||""}),d.width(Math.min(l.text("pW"+d[0].value).width(),n))[0].select()},rename:function(e){e=this._get_node(e),this.__rollback();var t=this.__callback;this._show_input(e,function(e,i,r){t.call(this,{obj:e,new_name:i,old_name:r})})},create:function(t,i,r,n,a){var s,o=this;return t=this._get_node(t),t||(t=-1),this.__rollback(),s=this.create_node(t,i,r,function(t){var i=this._get_parent(t),r=e(t).index();n&&n.call(this,t),i.length&&i.hasClass("jstree-closed")&&this.open_node(i,!1,!0),a?o.__callback({obj:t,name:this.get_text(t),parent:i,position:r}):this._show_input(t,function(e,t,n){o.__callback({obj:e,name:t,parent:i,position:r})})})},remove:function(e){e=this._get_node(e,!0);var t=this._get_parent(e),i=this._get_prev(e);this.__rollback(),e=this.delete_node(e),e!==!1&&this.__callback({obj:e,prev:i,parent:t})},check_move:function(){if(!this.__call_old())return!1;var e=this._get_settings().crrm.move;return!!e.check_move.call(this,this._get_move())},move_node:function(e,t,i,r,n,a){var s=this._get_settings().crrm.move;return n?((s.always_copy===!0||"multitree"===s.always_copy&&e.rt.get_index()!==e.ot.get_index())&&(r=!0),void this.__call_old(!0,e,t,i,r,!0,a)):("undefined"==typeof i&&(i=s.default_position),"inside"!==i||s.default_position.match(/^(before|after)$/)||(i=s.default_position),this.__call_old(!0,e,t,i,r,!1,a))},cut:function(e){return e=this._get_node(e,!0),!(!e||!e.length)&&(this.data.crrm.cp_nodes=!1,this.data.crrm.ct_nodes=e,void this.__callback({obj:e}))},copy:function(e){return e=this._get_node(e,!0),!(!e||!e.length)&&(this.data.crrm.ct_nodes=!1,this.data.crrm.cp_nodes=e,void this.__callback({obj:e}))},paste:function(e){if(e=this._get_node(e),!e||!e.length)return!1;var t=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;return!(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)&&(this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,e),this.data.crrm.ct_nodes=!1),this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,e,!1,!0),void this.__callback({obj:e,nodes:t}))}}})}(jQuery),function(e){var t=[];e.jstree._themes=!1,e.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",e.proxy(function(){var e=this._get_settings().themes;this.data.themes.dots=e.dots,this.data.themes.icons=e.icons,this.set_theme(e.theme,e.url)},this)).bind("loaded.jstree",e.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(i,r){return!!i&&(r||(r=e.jstree._themes+i+"/style.css"),e.inArray(r,t)==-1&&(e.vakata.css.add_sheet({url:r}),t.push(r)),this.data.themes.theme!=i&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=i),this.get_container().addClass("jstree-"+i),this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons(),void this.__callback())},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0,this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1,this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0,this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1,this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()}}}),e(function(){e.jstree._themes===!1&&e("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/))return e.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1}),e.jstree._themes===!1&&(e.jstree._themes="themes/")}),e.jstree.defaults.plugins.push("themes")}(jQuery),function(e){function t(t,i){var r,n=e.jstree._focused();if(n&&n.data&&n.data.hotkeys&&n.data.hotkeys.enabled&&(r=n._get_settings().hotkeys[t]))return r.call(n,i)}var i=[];e.jstree.plugin("hotkeys",{__init:function(){if("undefined"==typeof e.hotkeys)throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";e.each(this._get_settings().hotkeys,function(r,n){n!==!1&&e.inArray(r,i)==-1&&(e(document).bind("keydown",r,function(e){return t(r,e)}),i.push(r))}),this.get_container().bind("lock.jstree",e.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=!0)},this)).bind("unlock.jstree",e.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this)),this.enable_hotkeys()},defaults:{up:function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},"ctrl+up":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},"shift+up":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},down:function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},"ctrl+down":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},"shift+down":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},left:function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},"ctrl+left":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},"shift+left":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},right:function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},"ctrl+right":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},"shift+right":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},space:function(){return this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click(),!1},"ctrl+space":function(e){return e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},"shift+space":function(e){return e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}})}(jQuery),function(e){e.jstree.plugin("json_data",{__init:function(){var e=this._get_settings().json_data;e.progressive_unload&&this.get_container().bind("after_close.jstree",function(e,t){t.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(e,t,i){var r=this;this.load_node_json(e,function(){r.__callback({obj:r._get_node(e)}),t.call(this)},i)},_is_loaded:function(t){var i=this._get_settings().json_data;return t=this._get_node(t),t==-1||!t||!i.ajax&&!i.progressive_render&&!e.isFunction(i.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").length>0},refresh:function(t){t=this._get_node(t);var i=this._get_settings().json_data;return t&&t!==-1&&i.progressive_unload&&(e.isFunction(i.data)||i.ajax)&&t.removeData("jstree_children"),this.__call_old()},load_node_json:function(t,i,r){var n,a=this.get_settings().json_data,s=function(){},o=function(){};if(t=this._get_node(t),t&&t!==-1&&(a.progressive_render||a.progressive_unload)&&!t.is(".jstree-open, .jstree-leaf")&&0===t.children("ul").children("li").length&&t.data("jstree_children"))return n=this._parse_json(t.data("jstree_children"),t),n&&(t.append(n),a.progressive_unload||t.removeData("jstree_children")),this.clean_node(t),void(i&&i.call(this));if(t&&t!==-1){if(t.data("jstree_is_loading"))return;t.data("jstree_is_loading",!0)}switch(!0){case!a.data&&!a.ajax:throw"Neither data nor ajax settings supplied.";case e.isFunction(a.data):a.data.call(this,t,e.proxy(function(e){e=this._parse_json(e,t),e?(t!==-1&&t?(t.append(e).children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(e.children()),this.clean_node(t),i&&i.call(this)):(t!==-1&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),a.correct_state&&this.correct_state(t)):a.correct_state&&this.get_container().children("ul").empty(),r&&r.call(this))},this));break;case!!a.data&&!a.ajax||!!a.data&&!!a.ajax&&(!t||t===-1):t&&t!=-1||(n=this._parse_json(a.data,t),n?(this.get_container().children("ul").empty().append(n.children()),this.clean_node()):a.correct_state&&this.get_container().children("ul").empty()),i&&i.call(this);break;case!a.data&&!!a.ajax||!!a.data&&!!a.ajax&&t&&t!==-1:s=function(e,i,n){var s=this.get_settings().json_data.ajax.error;s&&s.call(this,e,i,n),t!=-1&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),"success"===i&&a.correct_state&&this.correct_state(t)):"success"===i&&a.correct_state&&this.get_container().children("ul").empty(),r&&r.call(this)},o=function(r,n,o){var l=this.get_settings().json_data.ajax.success;return l&&(r=l.call(this,r,n,o)||r),""===r||r&&r.toString&&""===r.toString().replace(/^[\s\n]+$/,"")||!e.isArray(r)&&!e.isPlainObject(r)?s.call(this,o,n,""):(r=this._parse_json(r,t),void(r?(t!==-1&&t?(t.append(r).children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(r.children()),this.clean_node(t),i&&i.call(this)):t!==-1&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),a.correct_state&&(this.correct_state(t),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this))))},a.ajax.context=this,a.ajax.error=s,a.ajax.success=o,a.ajax.dataType||(a.ajax.dataType="json"),e.isFunction(a.ajax.url)&&(a.ajax.url=a.ajax.url.call(this,t)),e.isFunction(a.ajax.data)&&(a.ajax.data=a.ajax.data.call(this,t)),e.ajax(a.ajax)}},_parse_json:function(t,i,r){var n,a,s,o,l,d=!1,u=this._get_settings(),c=u.json_data,h=u.core.html_titles;if(!t)return d;if(c.progressive_unload&&i&&i!==-1&&i.data("jstree_children",d),e.isArray(t)){if(d=e(),!t.length)return!1;for(a=0,s=t.length;a<s;a++)n=this._parse_json(t[a],i,!0),n.length&&(d=d.add(n))}else{if("string"==typeof t&&(t={data:t}),!t.data&&""!==t.data)return d;d=e("<li />"),t.attr&&d.attr(t.attr),t.metadata&&d.data(t.metadata),t.state&&d.addClass("jstree-"+t.state),e.isArray(t.data)||(n=t.data,t.data=[],t.data.push(n)),e.each(t.data,function(i,r){n=e("<a />"),e.isFunction(r)&&(r=r.call(this,t)),"string"==typeof r?n.attr("href","#")[h?"html":"text"](r):(r.attr||(r.attr={}),r.attr.href||(r.attr.href="#"),
n.attr(r.attr)[h?"html":"text"](r.title),r.language&&n.addClass(r.language)),n.prepend("<ins class='jstree-icon'>&#160;</ins>"),!r.icon&&t.icon&&(r.icon=t.icon),r.icon&&(r.icon.indexOf("/")===-1?n.children("ins").addClass(r.icon):n.children("ins").css("background","url('"+r.icon+"') center center no-repeat")),d.append(n)}),d.prepend("<ins class='jstree-icon'>&#160;</ins>"),t.children&&(c.progressive_render&&"open"!==t.state?d.addClass("jstree-closed").data("jstree_children",t.children):(c.progressive_unload&&d.data("jstree_children",t.children),e.isArray(t.children)&&t.children.length&&(n=this._parse_json(t.children,i,!0),n.length&&(l=e("<ul />"),l.append(n),d.append(l)))))}return r||(o=e("<ul />"),o.append(d),d=o),d},get_json:function(t,i,r,n){var a,s,o,l,d,u,c=[],h=this._get_settings(),p=this;return t=this._get_node(t),t&&t!==-1||(t=this.get_container().find("> ul > li")),i=e.isArray(i)?i:["id","class"],!n&&this.data.types&&i.push(h.types.type_attr),r=e.isArray(r)?r:[],t.each(function(){o=e(this),a={data:[]},i.length&&(a.attr={}),e.each(i,function(e,t){s=o.attr(t),s&&s.length&&s.replace(/jstree[^ ]*/gi,"").length&&(a.attr[t]=(" "+s).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))}),o.hasClass("jstree-open")&&(a.state="open"),o.hasClass("jstree-closed")&&(a.state="closed"),o.data()&&(a.metadata=o.data()),l=o.children("a"),l.each(function(){d=e(this),r.length||e.inArray("languages",h.plugins)!==-1||d.children("ins").get(0).style.backgroundImage.length||d.children("ins").get(0).className&&d.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").length?(u=!1,e.inArray("languages",h.plugins)!==-1&&e.isArray(h.languages)&&h.languages.length&&e.each(h.languages,function(e,t){if(d.hasClass(t))return u=t,!1}),s={attr:{},title:p.get_text(d,u)},e.each(r,function(e,t){s.attr[t]=(" "+(d.attr(t)||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")}),e.inArray("languages",h.plugins)!==-1&&e.isArray(h.languages)&&h.languages.length&&e.each(h.languages,function(e,t){if(d.hasClass(t))return s.language=t,!0}),d.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(s.icon=d.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")),d.children("ins").get(0).style.backgroundImage.length&&(s.icon=d.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):s=p.get_text(d),l.length>1?a.data.push(s):a.data=s}),o=o.find("> ul > li"),o.length&&(a.children=p.get_json(o,i,r,!0)),c.push(a)}),c}}})}(jQuery),function(e){var t=!1;e.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(i){var r=this._get_settings().languages,n=!1,a=".jstree-"+this.get_index()+" a";if(!e.isArray(r)||0===r.length)return!1;if(e.inArray(i,r)==-1){if(!r[i])return!1;i=r[i]}return i==this.data.languages.current_language||(n=e.vakata.css.get_css(a+"."+this.data.languages.current_language,!1,t),n!==!1&&(n.style.display="none"),n=e.vakata.css.get_css(a+"."+i,!1,t),n!==!1&&(n.style.display=""),this.data.languages.current_language=i,this.__callback(i),!0)},get_lang:function(){return this.data.languages.current_language},_get_string:function(t,i){var r=this._get_settings().languages,n=this._get_settings().core.strings;return e.isArray(r)&&r.length&&(i=i&&e.inArray(i,r)!=-1?i:this.data.languages.current_language),n[i]&&n[i][t]?n[i][t]:n[t]?n[t]:t},get_text:function(t,i){if(t=this._get_node(t)||this.data.ui.last_selected,!t.size())return!1;var r=this._get_settings().languages,n=this._get_settings().core.html_titles;return e.isArray(r)&&r.length?(i=i&&e.inArray(i,r)!=-1?i:this.data.languages.current_language,t=t.children("a."+i)):t=t.children("a:eq(0)"),n?(t=t.clone(),t.children("INS").remove(),t.html()):(t=t.contents().filter(function(){return 3==this.nodeType})[0],t.nodeValue)},set_text:function(t,i,r){if(t=this._get_node(t)||this.data.ui.last_selected,!t.size())return!1;var n,a=this._get_settings().languages,s=this._get_settings().core.html_titles;return e.isArray(a)&&a.length?(r=r&&e.inArray(r,a)!=-1?r:this.data.languages.current_language,t=t.children("a."+r)):t=t.children("a:eq(0)"),s?(n=t.children("INS").clone(),t.html(i).prepend(n),this.__callback({obj:t,name:i,lang:r}),!0):(t=t.contents().filter(function(){return 3==this.nodeType})[0],this.__callback({obj:t,name:i,lang:r}),t.nodeValue=i)},_load_css:function(){var i,r=this._get_settings().languages,n="/* languages css */",a=".jstree-"+this.get_index()+" a";if(e.isArray(r)&&r.length){for(this.data.languages.current_language=r[0],i=0;i<r.length;i++)n+=a+"."+r[i]+" {",r[i]!=this.data.languages.current_language&&(n+=" display:none; "),n+=" } ";t=e.vakata.css.add_sheet({str:n,title:"jstree-languages"})}},create_node:function(t,i,r,n){var a=this.__call_old(!0,t,i,r,function(t){var i,r=this._get_settings().languages,a=t.children("a");if(e.isArray(r)&&r.length){for(i=0;i<r.length;i++)a.is("."+r[i])||t.append(a.eq(0).clone().removeClass(r.join(" ")).addClass(r[i]));a.not("."+r.join(", .")).remove()}n&&n.call(this,t)});return a}}})}(jQuery),function(e){e.jstree.plugin("cookies",{__init:function(){if("undefined"==typeof e.cookie)throw"jsTree cookie: jQuery cookie plugin not included.";var t,i=this._get_settings().cookies;i.save_loaded&&(t=e.cookie(i.save_loaded),t&&t.length&&(this.data.core.to_load=t.split(","))),i.save_opened&&(t=e.cookie(i.save_opened),t&&t.length&&(this.data.core.to_open=t.split(","))),i.save_selected&&(t=e.cookie(i.save_selected),t&&t.length&&this.data.ui&&(this.data.ui.to_select=t.split(","))),this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",e.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",e.proxy(function(e){this._get_settings().cookies.auto_save&&this.save_cookie((e.handleObj.namespace+e.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(t){if(!this.data.core.refreshing){var i=this._get_settings().cookies;if(!t)return i.save_loaded&&(this.save_loaded(),e.cookie(i.save_loaded,this.data.core.to_load.join(","),i.cookie_options)),i.save_opened&&(this.save_opened(),e.cookie(i.save_opened,this.data.core.to_open.join(","),i.cookie_options)),void(i.save_selected&&this.data.ui&&(this.save_selected(),e.cookie(i.save_selected,this.data.ui.to_select.join(","),i.cookie_options)));switch(t){case"open_node":case"close_node":i.save_opened&&(this.save_opened(),e.cookie(i.save_opened,this.data.core.to_open.join(","),i.cookie_options)),i.save_loaded&&(this.save_loaded(),e.cookie(i.save_loaded,this.data.core.to_load.join(","),i.cookie_options));break;case"select_node":case"deselect_node":i.save_selected&&this.data.ui&&(this.save_selected(),e.cookie(i.save_selected,this.data.ui.to_select.join(","),i.cookie_options))}}}}})}(jQuery),function(e){e.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",e.proxy(function(e,t){var i=this._get_node(t.rslt.obj);i=i===-1?this.get_container().children("ul"):i.children("ul"),this.sort(i)},this)).bind("rename_node.jstree create_node.jstree create.jstree",e.proxy(function(e,t){this.sort(t.rslt.obj.parent())},this)).bind("move_node.jstree",e.proxy(function(e,t){var i=t.rslt.np==-1?this.get_container():t.rslt.np;this.sort(i.children("ul"))},this))},defaults:function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},_fn:{sort:function(t){var i=this._get_settings().sort,r=this;t.append(e.makeArray(t.children("li")).sort(e.proxy(i,r))),t.find("> li > ul").each(function(){r.sort(e(this))}),this.clean_node(t)}}})}(jQuery),function(e){var t=!1,i=!1,r=!1,n=!1,a=!1,s=!1,o=!1,l=!1,d=!1;e.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(t,i,r){e.vakata.dnd.is_drag&&e.vakata.drag_stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.MozUserSelect="none")}catch(n){}return e.vakata.dnd.init_x=t.pageX,e.vakata.dnd.init_y=t.pageY,e.vakata.dnd.user_data=i,e.vakata.dnd.is_down=!0,e.vakata.dnd.helper=e("<div id='vakata-dragged' />").html(r),e(document).bind("mousemove",e.vakata.dnd.drag),e(document).bind("mouseup",e.vakata.dnd.drag_stop),!1},drag:function(t){if(e.vakata.dnd.is_down){if(!e.vakata.dnd.is_drag){if(!(Math.abs(t.pageX-e.vakata.dnd.init_x)>5||Math.abs(t.pageY-e.vakata.dnd.init_y)>5))return;e.vakata.dnd.helper.appendTo("body"),e.vakata.dnd.is_drag=!0,e(document).triggerHandler("drag_start.vakata",{event:t,data:e.vakata.dnd.user_data})}if("mousemove"===t.type){var i=e(document),r=i.scrollTop(),n=i.scrollLeft();t.pageY-r<20?(s&&"down"===o&&(clearInterval(s),s=!1),s||(o="up",s=setInterval(function(){e(document).scrollTop(e(document).scrollTop()-e.vakata.dnd.scroll_spd)},150))):s&&"up"===o&&(clearInterval(s),s=!1),e(window).height()-(t.pageY-r)<20?(s&&"up"===o&&(clearInterval(s),s=!1),s||(o="down",s=setInterval(function(){e(document).scrollTop(e(document).scrollTop()+e.vakata.dnd.scroll_spd)},150))):s&&"down"===o&&(clearInterval(s),s=!1),t.pageX-n<20?(a&&"right"===l&&(clearInterval(a),a=!1),a||(l="left",a=setInterval(function(){e(document).scrollLeft(e(document).scrollLeft()-e.vakata.dnd.scroll_spd)},150))):a&&"left"===l&&(clearInterval(a),a=!1),e(window).width()-(t.pageX-n)<20?(a&&"left"===l&&(clearInterval(a),a=!1),a||(l="right",a=setInterval(function(){e(document).scrollLeft(e(document).scrollLeft()+e.vakata.dnd.scroll_spd)},150))):a&&"right"===l&&(clearInterval(a),a=!1)}e.vakata.dnd.helper.css({left:t.pageX+e.vakata.dnd.helper_left+"px",top:t.pageY+e.vakata.dnd.helper_top+"px"}),e(document).triggerHandler("drag.vakata",{event:t,data:e.vakata.dnd.user_data})}},drag_stop:function(t){a&&clearInterval(a),s&&clearInterval(s),e(document).unbind("mousemove",e.vakata.dnd.drag),e(document).unbind("mouseup",e.vakata.dnd.drag_stop),e(document).triggerHandler("drag_stop.vakata",{event:t,data:e.vakata.dnd.user_data}),e.vakata.dnd.helper.remove(),e.vakata.dnd.init_x=0,e.vakata.dnd.init_y=0,e.vakata.dnd.user_data={},e.vakata.dnd.is_down=!1,e.vakata.dnd.is_drag=!1}},e(function(){var t="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";e.vakata.css.add_sheet({str:t,title:"vakata"})}),e.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1},this.get_container().bind("mouseenter.jstree",e.proxy(function(i){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(this.data.themes&&(r.attr("class","jstree-"+this.data.themes.theme),n&&n.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),i.currentTarget===i.target&&e.vakata.dnd.user_data.obj&&e(e.vakata.dnd.user_data.obj).length&&e(e.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==i.target)){var a,s=e.jstree._reference(i.target);s.data.dnd.foreign?(a=s._get_settings().dnd.drag_check.call(this,{o:t,r:s.get_container(),is_root:!0}),a!==!0&&a.inside!==!0&&a.before!==!0&&a.after!==!0||e.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(s.prepare_move(t,s.get_container(),"last"),s.check_move()&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))}},this)).bind("mouseup.jstree",e.proxy(function(i){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&i.currentTarget===i.target&&e.vakata.dnd.user_data.obj&&e(e.vakata.dnd.user_data.obj).length&&e(e.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==i.target){var r,n=e.jstree._reference(i.currentTarget);n.data.dnd.foreign?(r=n._get_settings().dnd.drag_check.call(this,{o:t,r:n.get_container(),is_root:!0}),r!==!0&&r.inside!==!0&&r.before!==!0&&r.after!==!0||n._get_settings().dnd.drag_finish.call(this,{o:t,r:n.get_container(),is_root:!0})):n.move_node(t,n.get_container(),"last",i[n._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",e.proxy(function(t){return(!t.relatedTarget||!t.relatedTarget.id||"jstree-marker-line"!==t.relatedTarget.id)&&void(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),e.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")))},this)).bind("mousemove.jstree",e.proxy(function(t){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree){var i=this.get_container()[0];t.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(e.proxy(function(){this.scrollLeft+=e.vakata.dnd.scroll_spd},i),100)):t.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(e.proxy(function(){this.scrollLeft-=e.vakata.dnd.scroll_spd},i),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1),t.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(e.proxy(function(){this.scrollTop+=e.vakata.dnd.scroll_spd},i),100)):t.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(e.proxy(function(){this.scrollTop-=e.vakata.dnd.scroll_spd},i),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&r&&n&&(r.hide(),n.hide())},this)).delegate("a","mousedown.jstree",e.proxy(function(e){if(1===e.which)return this.start_drag(e.currentTarget,e),!1},this)).delegate("a","mouseenter.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&this.dnd_enter(t.currentTarget)},this)).delegate("a","mousemove.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(i&&i.length&&i.children("a")[0]===t.currentTarget||this.dnd_enter(t.currentTarget),"undefined"==typeof this.data.dnd.off.top&&(this.data.dnd.off=e(t.target).offset()),this.data.dnd.w=(t.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,this.data.dnd.w<0&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",e.proxy(function(t){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree){if(t.relatedTarget&&t.relatedTarget.id&&"jstree-marker-line"===t.relatedTarget.id)return!1;r&&r.hide(),n&&n.hide(),this.data.dnd.mto=setTimeout(function(e){return function(){e.dnd_leave(t)}}(this),0)}},this)).delegate("a","mouseup.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&this.dnd_finish(t)},this)),e(document).bind("drag_stop.vakata",e.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,this.data.dnd.off=!1,this.data.dnd.prepared=!1,this.data.dnd.w=!1,this.data.dnd.to1=!1,this.data.dnd.to2=!1,this.data.dnd.i1=!1,this.data.dnd.i2=!1,this.data.dnd.active=!1,this.data.dnd.foreign=!1,r&&r.css({top:"-2000px"}),n&&n.css({top:"-2000px"})},this)).bind("drag_start.vakata",e.proxy(function(t,i){if(i.data.jstree){var r=e(i.event.target);r.closest(".jstree").hasClass("jstree-"+this.get_index())&&this.dnd_enter(r)}},this));var a=this._get_settings().dnd;a.drag_target&&e(document).delegate(a.drag_target,"mousedown.jstree-"+this.get_index(),e.proxy(function(i){t=i.target,e.vakata.dnd.drag_start(i,{jstree:!0,obj:i.target},"<ins class='jstree-icon'></ins>"+e(i.target).text()),this.data.themes&&(r&&r.attr("class","jstree-"+this.data.themes.theme),n&&n.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var a=this.get_container();this.data.dnd.cof=a.offset(),this.data.dnd.cw=parseInt(a.width(),10),this.data.dnd.ch=parseInt(a.height(),10),this.data.dnd.foreign=!0,i.preventDefault()},this)),a.drop_target&&e(document).delegate(a.drop_target,"mouseenter.jstree-"+this.get_index(),e.proxy(function(i){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:t,r:e(i.target),e:i})&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(a.drop_target,"mouseleave.jstree-"+this.get_index(),e.proxy(function(t){this.data.dnd.active&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(a.drop_target,"mouseup.jstree-"+this.get_index(),e.proxy(function(i){this.data.dnd.active&&e.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:t,r:e(i.target),e:i})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(e){return!0},drop_finish:e.noop,drag_target:".jstree-draggable",drag_finish:e.noop,drag_check:function(e){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(i&&i.length){if(this.data.dnd.off=i.offset(),this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+i.width()),this.data.dnd.foreign){var e=this._get_settings().dnd.drag_check.call(this,{o:t,r:i});return this.data.dnd.after=e.after,this.data.dnd.before=e.before,this.data.dnd.inside=e.inside,this.data.dnd.prepared=!0,this.dnd_show()}return this.prepare_move(t,i,"before"),this.data.dnd.before=this.check_move(),this.prepare_move(t,i,"after"),this.data.dnd.after=this.check_move(),this._is_loaded(i)?(this.prepare_move(t,i,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1,this.data.dnd.prepared=!0,this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var t,i=["before","inside","after"],a=!1,s=this._get_settings().core.rtl;switch(i=this.data.dnd.w<this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=2*this.data.core.li_height/3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"],e.each(i,e.proxy(function(t,i){if(this.data.dnd[i])return e.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),a=i,!1},this)),a===!1&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),t=s?this.data.dnd.off.right-18:this.data.dnd.off.left+10,a){case"before":r.css({left:t+"px",top:this.data.dnd.off.top-6+"px"}).show(),n&&n.css({left:t+8+"px",top:this.data.dnd.off.top-1+"px"}).show();break;case"after":r.css({left:t+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show(),n&&n.css({left:t+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case"inside":r.css({left:t+(s?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show(),n&&n.hide();break;default:r.hide(),n&&n.hide()}return d=a,a}},dnd_open:function(){this.data.dnd.to2=!1,this.open_node(i,e.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(e){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:t,r:i,p:d}):(this.dnd_prepare(),this.move_node(t,i,d,e[this._get_settings().dnd.copy_modifier+"Key"])),t=!1,i=!1,r.hide(),n&&n.hide()},dnd_enter:function(t){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1);var r=this._get_settings().dnd;this.data.dnd.prepared=!1,i=this._get_node(t),r.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(e.proxy(this.dnd_prepare,this),r.check_timeout)):this.dnd_prepare(),r.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),i&&i.length&&i.hasClass("jstree-closed")&&(this.data.dnd.to2=setTimeout(e.proxy(this.dnd_open,this),r.open_timeout))):i&&i.length&&i.hasClass("jstree-closed")&&this.dnd_open()},dnd_leave:function(t){this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),r.hide(),n&&n.hide(),i&&i[0]===t.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(i,a){t=this._get_node(i),this.data.ui&&this.is_selected(t)&&(t=this._get_node(null,!0));var s=t.length>1?this._get_string("multiple_selection"):this.get_text(t),o=this.get_container();this._get_settings().core.html_titles||(s=s.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")),e.vakata.dnd.drag_start(a,{jstree:!0,obj:t},"<ins class='jstree-icon'></ins>"+s),this.data.themes&&(r&&r.attr("class","jstree-"+this.data.themes.theme),n&&n.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),this.data.dnd.cof=o.offset(),this.data.dnd.cw=parseInt(o.width(),10),this.data.dnd.ch=parseInt(o.height(),10),this.data.dnd.active=!0}}}),e(function(){var t="#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }";e.vakata.css.add_sheet({str:t,title:"jstree"}),r=e("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(e){return r.hide(),n.hide(),e.preventDefault(),e.stopImmediatePropagation(),!1}).appendTo("body"),n=e("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(e){if(i&&i.length)return i.children("a").trigger(e),e.preventDefault(),e.stopImmediatePropagation(),!1}).bind("mouseleave",function(t){var a=e(t.relatedTarget);if((a.is(".jstree")||0===a.closest(".jstree").length)&&i&&i.length)return i.children("a").trigger(t),r.hide(),n.hide(),t.preventDefault(),t.stopImmediatePropagation(),!1}).appendTo("body"),e(document).bind("drag_start.vakata",function(e,t){t.data.jstree&&(r.show(),n&&n.show())}),e(document).bind("drag_stop.vakata",function(e,t){t.data.jstree&&(r.hide(),n&&n.hide())})})}(jQuery),function(e){e.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui,this.data.ui&&this.data.checkbox.noui&&(this.select_node=this.deselect_node=this.deselect_all=e.noop,this.get_selected=this.get_checked),this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",e.proxy(function(e,t){this._prepare_checkboxes(t.rslt.obj)},this)).bind("loaded.jstree",e.proxy(function(e){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",e.proxy(function(e){return e.preventDefault(),this._get_node(e.target).hasClass("jstree-checked")?this.uncheck_node(e.target):this.check_node(e.target),this.data.ui&&this.data.checkbox.noui?(this.save_selected(),void(this.data.cookies&&this.save_cookie("select_node"))):(e.stopImmediatePropagation(),!1)},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(e){return["check_"+(e[0].id||Math.ceil(1e4*Math.random())),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},_fn:{_checkbox_notify:function(e,t){t.checked&&this.check_node(e,!1)},_prepare_checkboxes:function(t){if(t=t&&t!=-1?this._get_node(t):this.get_container().find("> ul > li"),t!==!1){var i,r,n=this,a=this._get_settings().checkbox.two_state,s=this._get_settings().checkbox.real_checkboxes,o=this._get_settings().checkbox.real_checkboxes_names;t.each(function(){r=e(this),i=r.is("li")&&(r.hasClass("jstree-checked")||s&&r.children(":checked").length)?"jstree-checked":"jstree-unchecked",r.find("li").andSelf().each(function(){var t,r=e(this);r.children("a"+(n.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(a?"jstree-unchecked":i),s&&(r.children(":checkbox").length?r.children(":checkbox").addClass("jstree-real-checkbox"):(t=o.call(n,r),r.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+t[0]+"' name='"+t[0]+"' value='"+t[1]+"' />"))),a?(r.hasClass("jstree-checked")||r.children(":checked").length)&&r.addClass("jstree-checked").children(":checkbox").prop("checked",!0):("jstree-checked"===i||r.hasClass("jstree-checked")||r.children(":checked").length)&&r.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",!0)})}),a||t.find(".jstree-checked").parent().parent().each(function(){n._repair_state(this)})}},change_state:function(t,i){t=this._get_node(t);var r=!1,n=this._get_settings().checkbox.real_checkboxes;if(!t||t===-1)return!1;if(i=i===!1||i===!0?i:t.hasClass("jstree-checked"),this._get_settings().checkbox.two_state)i?(t.removeClass("jstree-checked").addClass("jstree-unchecked"),n&&t.children(":checkbox").prop("checked",!1)):(t.removeClass("jstree-unchecked").addClass("jstree-checked"),n&&t.children(":checkbox").prop("checked",!0));else{if(i){if(r=t.find("li").andSelf(),!r.filter(".jstree-checked, .jstree-undetermined").length)return!1;r.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),n&&r.children(":checkbox").prop("checked",!1)}else{if(r=t.find("li").andSelf(),!r.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;r.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),n&&r.children(":checkbox").prop("checked",!0),this.data.ui&&(this.data.ui.last_selected=t),this.data.checkbox.last_selected=t}t.parentsUntil(".jstree","li").each(function(){var t=e(this);if(i){if(t.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return t.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),n&&t.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1),!1;t.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),n&&t.children(":checkbox").prop("checked",!1)}else{if(t.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return t.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),n&&t.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1),!1;t.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),n&&t.children(":checkbox").prop("checked",!0)}})}return this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked()),this.__callback(t),!0},check_node:function(e){if(this.change_state(e,!1)){if(e=this._get_node(e),this._get_settings().checkbox.checked_parent_open){var t=this;e.parents(".jstree-closed").each(function(){t.open_node(this,!1,!0)})}this.__callback({obj:e})}},uncheck_node:function(e){this.change_state(e,!0)&&this.__callback({obj:this._get_node(e)})},check_all:function(){var e=this,t=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");t.each(function(){e.change_state(this,!1)}),this.__callback()},uncheck_all:function(){var e=this,t=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");t.each(function(){e.change_state(this,!0)}),this.__callback()},is_checked:function(e){return e=this._get_node(e),!!e.length&&e.is(".jstree-checked")},get_checked:function(e,t){return e=e&&e!==-1?this._get_node(e):this.get_container(),t||this._get_settings().checkbox.two_state?e.find(".jstree-checked"):e.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(e,t){return e=e&&e!==-1?this._get_node(e):this.get_container(),t||this._get_settings().checkbox.two_state?e.find(".jstree-unchecked"):e.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(e){if(e=this._get_node(e),e.length){if(this._get_settings().checkbox.two_state)return void e.find("li").andSelf().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",!0);var t=this._get_settings().checkbox.real_checkboxes,i=e.find("> ul > .jstree-checked").length,r=e.find("> ul > .jstree-undetermined").length,n=e.find("> ul > li").length;0===n?e.hasClass("jstree-undetermined")&&this.change_state(e,!1):0===i&&0===r?this.change_state(e,!0):i===n?this.change_state(e,!1):(e.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),t&&e.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1))}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var t=this,i=this.data.ui.to_select;i=e.map(e.makeArray(i),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.deselect_all(),e.each(i,function(e,i){t.check_node(i)}),this.__callback()}else this.__call_old()},save_loaded:function(){var e=this;this.data.core.to_load=[],this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&e.data.core.to_load.push("#"+this.id)})}}}),e(function(){var t=".jstree .jstree-real-checkbox { display:none; } ";e.vakata.css.add_sheet({str:t,title:"jstree"})})}(jQuery),function(e){e.vakata.xslt=function(t,i,r){var n,a,s,o=!1;if(o===!1&&window.ActiveXObject)try{o=new ActiveXObject("Msxml2.XSLTemplate"),a=new ActiveXObject("Msxml2.DOMDocument"),a.loadXML(t),s=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),s.loadXML(i),o.stylesheet=s,n=o.createProcessor(),n.input=a,n.transform(),o=n.output}catch(l){}t=e.parseXML(t),i=e.parseXML(i),o===!1&&"undefined"!=typeof XSLTProcessor&&(n=new XSLTProcessor,n.importStylesheet(i),o=n.transformToFragment(t,document),o=e("<div />").append(o).html()),o===!1&&"undefined"!=typeof t.transformNode&&(o=t.transformNode(i)),r.call(null,o)};var t={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">\t<xsl:call-template name="nodes">\t\t<xsl:with-param name="node" select="/root" />\t</xsl:call-template></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<ul>\t<xsl:for-each select="$node/item">\t\t<xsl:variable name="children" select="count(./item) &gt; 0" />\t\t<li>\t\t\t<xsl:attribute name="class">\t\t\t\t<xsl:if test="position() = last()">jstree-last </xsl:if>\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t\t\t</xsl:choose>\t\t\t\t<xsl:value-of select="@class" />\t\t\t</xsl:attribute>\t\t\t<xsl:for-each select="@*">\t\t\t\t<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t</xsl:if>\t\t\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t\t\t<xsl:for-each select="content/name">\t\t\t\t<a>\t\t\t\t<xsl:attribute name="href">\t\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t\t\t</xsl:choose>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t\t\t<xsl:for-each select="@*">\t\t\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t\t</xsl:if>\t\t\t\t</xsl:for-each>\t\t\t\t\t<ins>\t\t\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t\t\t</xsl:attribute>\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t\t\t</ins>\t\t\t\t\t<xsl:copy-of select="./child::node()" />\t\t\t\t</a>\t\t\t</xsl:for-each>\t\t\t<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>\t\t</li>\t</xsl:for-each>\t</ul></xsl:template></xsl:stylesheet>',
flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">\t<ul>\t<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">\t\t<xsl:call-template name="nodes">\t\t\t<xsl:with-param name="node" select="." />\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t</xsl:call-template>\t</xsl:for-each>\t</ul></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<xsl:param name="is_last" />\t<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />\t<li>\t<xsl:attribute name="class">\t\t<xsl:if test="$is_last = true()">jstree-last </xsl:if>\t\t<xsl:choose>\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t</xsl:choose>\t\t<xsl:value-of select="@class" />\t</xsl:attribute>\t<xsl:for-each select="@*">\t\t<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t</xsl:if>\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t<xsl:for-each select="content/name">\t\t<a>\t\t<xsl:attribute name="href">\t\t\t<xsl:choose>\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t</xsl:choose>\t\t</xsl:attribute>\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t<xsl:for-each select="@*">\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t</xsl:if>\t\t</xsl:for-each>\t\t\t<ins>\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t</ins>\t\t\t<xsl:copy-of select="./child::node()" />\t\t</a>\t</xsl:for-each>\t<xsl:if test="$children">\t\t<ul>\t\t<xsl:for-each select="//item[@parent_id=$node/attribute::id]">\t\t\t<xsl:call-template name="nodes">\t\t\t\t<xsl:with-param name="node" select="." />\t\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t\t</xsl:call-template>\t\t</xsl:for-each>\t\t</ul>\t</xsl:if>\t</li></xsl:template></xsl:stylesheet>'},i=function(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};e.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(e,t,i){var r=this;this.load_node_xml(e,function(){r.__callback({obj:r._get_node(e)}),t.call(this)},i)},_is_loaded:function(t){var i=this._get_settings().xml_data;return t=this._get_node(t),t==-1||!t||!i.ajax&&!e.isFunction(i.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").size()>0},load_node_xml:function(t,i,r){var n=this.get_settings().xml_data,a=function(){},s=function(){};if(t=this._get_node(t),t&&t!==-1){if(t.data("jstree_is_loading"))return;t.data("jstree_is_loading",!0)}switch(!0){case!n.data&&!n.ajax:throw"Neither data nor ajax settings supplied.";case e.isFunction(n.data):n.data.call(this,t,e.proxy(function(r){this.parse_xml(r,e.proxy(function(r){r&&(r=r.replace(/ ?xmlns="[^"]*"/gi,""),r.length>10?(r=e(r),t!==-1&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(r),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(r.children()),n.clean_node&&this.clean_node(t),i&&i.call(this)):t&&t!==-1?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),n.correct_state&&(this.correct_state(t),i&&i.call(this))):n.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)))},this))},this));break;case!!n.data&&!n.ajax||!!n.data&&!!n.ajax&&(!t||t===-1):t&&t!=-1||this.parse_xml(n.data,e.proxy(function(r){r?(r=r.replace(/ ?xmlns="[^"]*"/gi,""),r.length>10&&(r=e(r),this.get_container().children("ul").empty().append(r.children()),n.clean_node&&this.clean_node(t),i&&i.call(this))):n.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this))},this));break;case!n.data&&!!n.ajax||!!n.data&&!!n.ajax&&t&&t!==-1:a=function(e,i,a){var s=this.get_settings().xml_data.ajax.error;s&&s.call(this,e,i,a),t!==-1&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),"success"===i&&n.correct_state&&this.correct_state(t)):"success"===i&&n.correct_state&&this.get_container().children("ul").empty(),r&&r.call(this)},s=function(r,s,o){r=o.responseText;var l=this.get_settings().xml_data.ajax.success;return l&&(r=l.call(this,r,s,o)||r),""===r||r&&r.toString&&""===r.toString().replace(/^[\s\n]+$/,"")?a.call(this,o,s,""):void this.parse_xml(r,e.proxy(function(r){r&&(r=r.replace(/ ?xmlns="[^"]*"/gi,""),r.length>10?(r=e(r),t!==-1&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(r),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(r.children()),n.clean_node&&this.clean_node(t),i&&i.call(this)):t&&t!==-1?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),n.correct_state&&(this.correct_state(t),i&&i.call(this))):n.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)))},this))},n.ajax.context=this,n.ajax.error=a,n.ajax.success=s,n.ajax.dataType||(n.ajax.dataType="xml"),e.isFunction(n.ajax.url)&&(n.ajax.url=n.ajax.url.call(this,t)),e.isFunction(n.ajax.data)&&(n.ajax.data=n.ajax.data.call(this,t)),e.ajax(n.ajax)}},parse_xml:function(i,r){var n=this._get_settings().xml_data;e.vakata.xslt(i,t[n.xsl],r)},get_xml:function(t,r,n,a,s){var o,l,d,u,c,h="",p=this._get_settings(),f=this;return t||(t="flat"),s||(s=0),r=this._get_node(r),r&&r!==-1||(r=this.get_container().find("> ul > li")),n=e.isArray(n)?n:["id","class"],!s&&this.data.types&&e.inArray(p.types.type_attr,n)===-1&&n.push(p.types.type_attr),a=e.isArray(a)?a:[],s||(p.xml_data.get_include_preamble&&(h+='<?xml version="1.0" encoding="UTF-8"?>'),h+="<root>"),r.each(function(){h+="<item",d=e(this),e.each(n,function(e,t){var r=d.attr(t);p.xml_data.get_skip_empty&&"undefined"==typeof r||(h+=" "+t+'="'+i((" "+(r||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),d.hasClass("jstree-open")&&(h+=' state="open"'),d.hasClass("jstree-closed")&&(h+=' state="closed"'),"flat"===t&&(h+=' parent_id="'+i(s)+'"'),h+=">",h+="<content>",u=d.children("a"),u.each(function(){o=e(this),c=!1,h+="<name",e.inArray("languages",p.plugins)!==-1&&e.each(p.languages,function(e,t){if(o.hasClass(t))return h+=' lang="'+i(t)+'"',c=t,!1}),a.length&&e.each(a,function(e,t){var r=o.attr(t);p.xml_data.get_skip_empty&&"undefined"==typeof r||(h+=" "+t+'="'+i((" "+r||"").replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(h+=' icon="'+i(o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"'),o.children("ins").get(0).style.backgroundImage.length&&(h+=' icon="'+i(o.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/gi,"").replace(/"/gi,""))+'"'),h+=">",h+="<![CDATA["+f.get_text(o,c)+"]]>",h+="</name>"}),h+="</content>",l=d[0].id||!0,d=d.find("> ul > li"),l=d.length?f.get_xml(t,d,n,a,l):"","nest"==t&&(h+=l),h+="</item>","flat"==t&&(h+=l)}),s||(h+="</root>"),h}}})}(jQuery),function(e){e().jquery.split(".")[1]>=8?(e.expr[":"].jstree_contains=e.expr.createPseudo(function(e){return function(t){return(t.textContent||t.innerText||"").toLowerCase().indexOf(e.toLowerCase())>=0}}),e.expr[":"].jstree_title_contains=e.expr.createPseudo(function(e){return function(t){return(t.getAttribute("title")||"").toLowerCase().indexOf(e.toLowerCase())>=0}})):(e.expr[":"].jstree_contains=function(e,t,i){return(e.textContent||e.innerText||"").toLowerCase().indexOf(i[3].toLowerCase())>=0},e.expr[":"].jstree_title_contains=function(e,t,i){return(e.getAttribute("title")||"").toLowerCase().indexOf(i[3].toLowerCase())>=0}),e.jstree.plugin("search",{__init:function(){this.data.search.str="",this.data.search.result=e(),this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",function(t,i){e(this).children("ul").find("li").hide().removeClass("jstree-last"),i.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){e(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){e(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(t,i){if(""===e.trim(t))return void this.clear_search();var r=this.get_settings().search,n=this,a=function(){},s=function(){};return this.data.search.str=t,!i&&r.ajax!==!1&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0?(this.search.supress_callback=!0,a=function(){},s=function(e,t,i){var r=this.get_settings().search.ajax.success;r&&(e=r.call(this,e,t,i)||e),this.data.search.to_open=e,this._search_open()},r.ajax.context=this,r.ajax.error=a,r.ajax.success=s,e.isFunction(r.ajax.url)&&(r.ajax.url=r.ajax.url.call(this,t)),e.isFunction(r.ajax.data)&&(r.ajax.data=r.ajax.data.call(this,t)),r.ajax.data||(r.ajax.data={search_string:t}),r.ajax.dataType&&!/^json/.exec(r.ajax.dataType)||(r.ajax.dataType="json"),void e.ajax(r.ajax)):(this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+r.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){n.open_node(this,!1,!0)}),void this.__callback({nodes:this.data.search.result,str:t}))},clear_search:function(t){this.data.search.result.removeClass("jstree-search"),this.__callback(this.data.search.result),this.data.search.result=e()},_search_open:function(t){var i=this,r=!0,n=[],a=[];this.data.search.to_open.length&&(e.each(this.data.search.to_open,function(t,i){return"#"==i||void(e(i).length&&e(i).is(".jstree-closed")?n.push(i):a.push(i))}),n.length&&(this.data.search.to_open=a,e.each(n,function(e,t){i.open_node(t,function(){i._search_open(!0)})}),r=!1)),r&&this.search(this.data.search.str,!0)}}})}(jQuery),function(e){e.vakata.context={hide_on_mouseleave:!1,cnt:e("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(t,i,r,n,a,s,o){e.vakata.context.rtl=!!o;var l,d,u=e.vakata.context.parse(t);u&&(e.vakata.context.vis=!0,e.vakata.context.tgt=i,e.vakata.context.par=s||i||null,e.vakata.context.data=a||null,e.vakata.context.cnt.html(u).css({visibility:"hidden",display:"block",left:0,top:0}),e.vakata.context.hide_on_mouseleave&&e.vakata.context.cnt.one("mouseleave",function(t){e.vakata.context.hide()}),l=e.vakata.context.cnt.height(),d=e.vakata.context.cnt.width(),r+d>e(document).width()&&(r=e(document).width()-(d+5),e.vakata.context.cnt.find("li > ul").addClass("right")),n+l>e(document).height()&&(n-=l+i[0].offsetHeight,e.vakata.context.cnt.find("li > ul").addClass("bottom")),e.vakata.context.cnt.css({left:r,top:n}).find("li:has(ul)").bind("mouseenter",function(t){var i=e(document).width(),r=e(document).height(),n=e(this).children("ul").show();i!==e(document).width()&&n.toggleClass("right"),r!==e(document).height()&&n.toggleClass("bottom")}).bind("mouseleave",function(t){e(this).children("ul").hide()}).end().css({visibility:"visible"}).show(),e(document).triggerHandler("context_show.vakata"))},hide:function(){e.vakata.context.vis=!1,e.vakata.context.cnt.attr("class","").css({visibility:"hidden"}),e(document).triggerHandler("context_hide.vakata")},parse:function(t,i){if(!t)return!1;var r="",n=!1,a=!0;return i||(e.vakata.context.func={}),r+="<ul>",e.each(t,function(t,i){return!i||(e.vakata.context.func[t]=i.action,!a&&i.separator_before&&(r+="<li class='vakata-separator vakata-separator-before'></li>"),a=!1,r+="<li class='"+(i._class||"")+(i._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ",i.icon&&i.icon.indexOf("/")===-1&&(r+=" class='"+i.icon+"' "),i.icon&&i.icon.indexOf("/")!==-1&&(r+=" style='background:url("+i.icon+") center center no-repeat;' "),r+=">&#160;</ins><a href='#' rel='"+t+"'>",i.submenu&&(r+="<span style='float:"+(e.vakata.context.rtl?"left":"right")+";'>&raquo;</span>"),r+=i.label+"</a>",i.submenu&&(n=e.vakata.context.parse(i.submenu,!0),n&&(r+=n)),r+="</li>",void(i.separator_after&&(r+="<li class='vakata-separator vakata-separator-after'></li>",a=!0)))}),r=r.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,""),r+="</ul>",e(document).triggerHandler("context_parse.vakata"),r.length>10&&r},exec:function(t){return!!e.isFunction(e.vakata.context.func[t])&&(e.vakata.context.func[t].call(e.vakata.context.data,e.vakata.context.par),!0)}},e(function(){var t="#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";e.vakata.css.add_sheet({str:t,title:"vakata"}),e.vakata.context.cnt.delegate("a","click",function(e){e.preventDefault()}).delegate("a","mouseup",function(t){!e(this).parent().hasClass("jstree-contextmenu-disabled")&&e.vakata.context.exec(e(this).attr("rel"))?e.vakata.context.hide():e(this).blur()}).delegate("a","mouseover",function(){e.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body"),e(document).bind("mousedown",function(t){e.vakata.context.vis&&!e.contains(e.vakata.context.cnt[0],t.target)&&e.vakata.context.hide()}),"undefined"!=typeof e.hotkeys&&e(document).bind("keydown","up",function(t){if(e.vakata.context.vis){var i=e.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();i.length||(i=e.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last()),i.addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault()}}).bind("keydown","down",function(t){if(e.vakata.context.vis){var i=e.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();i.length||(i=e.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first()),i.addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault()}}).bind("keydown","right",function(t){e.vakata.context.vis&&(e.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault())}).bind("keydown","left",function(t){e.vakata.context.vis&&(e.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault())}).bind("keydown","esc",function(t){e.vakata.context.hide(),t.preventDefault()}).bind("keydown","space",function(t){e.vakata.context.cnt.find(".vakata-hover").last().children("a").click(),t.preventDefault()})}),e.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",e.proxy(function(t){t.preventDefault(),e(t.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(t.currentTarget,t.pageX,t.pageY)},this)).delegate("a","click.jstree",e.proxy(function(t){this.data.contextmenu&&e.vakata.context.hide()},this)).bind("destroy.jstree",e.proxy(function(){this.data.contextmenu&&e.vakata.context.hide()},this)),e(document).bind("context_hide.vakata",e.proxy(function(){this.data.contextmenu=!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(e){this.create(e)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(e){this.rename(e)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(e){this.is_selected(e)?this.remove():this.remove(e)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){this.cut(e)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){this.copy(e)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(e){this.paste(e)}}}}}},_fn:{show_contextmenu:function(t,i,r){t=this._get_node(t);var n=this.get_settings().contextmenu,a=t.children("a:visible:eq(0)"),s=!1,o=!1;n.select_node&&this.data.ui&&!this.is_selected(t)&&(this.deselect_all(),this.select_node(t,!0)),(n.show_at_node||"undefined"==typeof i||"undefined"==typeof r)&&(s=a.offset(),i=s.left,r=s.top+this.data.core.li_height),o=t.data("jstree")&&t.data("jstree").contextmenu?t.data("jstree").contextmenu:n.items,e.isFunction(o)&&(o=o.call(this,t)),this.data.contextmenu=!0,e.vakata.context.show(o,a,i,r,this,t,this._get_settings().core.rtl),this.data.themes&&e.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})}(jQuery),function(t){t.jstree.plugin("types",{__init:function(){var i=this._get_settings().types;this.data.types.attach_to=[],this.get_container().bind("init.jstree",t.proxy(function(){var e=i.types,r=i.type_attr,n="",a=this;t.each(e,function(e,i){return t.each(i,function(e,t){/^(max_depth|max_children|icon|valid_children)$/.test(e)||a.data.types.attach_to.push(e)}),!i.icon||void((i.icon.image||i.icon.position)&&(n+="default"==e?".jstree-"+a.get_index()+" a > .jstree-icon { ":".jstree-"+a.get_index()+" li["+r+'="'+e+'"] > a > .jstree-icon { ',i.icon.image&&(n+=" background-image:url("+i.icon.image+"); "),n+=i.icon.position?" background-position:"+i.icon.position+"; ":" background-position:0 0; ",n+="} "))}),""!==n&&t.vakata.css.add_sheet({str:n,title:"jstree-types"})},this)).bind("before.jstree",t.proxy(function(e,i){var r,n,a=!!this._get_settings().types.use_data&&this._get_node(i.args[0]),s=!(!a||a===-1||!a.length)&&a.data("jstree");if(s&&s.types&&s.types[i.func]===!1)return e.stopImmediatePropagation(),!1;if(t.inArray(i.func,this.data.types.attach_to)!==-1){if(!i.args[0]||!i.args[0].tagName&&!i.args[0].jquery)return;if(r=this._get_settings().types.types,n=this._get_type(i.args[0]),(r[n]&&"undefined"!=typeof r[n][i.func]||r["default"]&&"undefined"!=typeof r["default"][i.func])&&this._check(i.func,i.args[0])===!1)return e.stopImmediatePropagation(),!1}},this)),e&&this.get_container().bind("load_node.jstree set_type.jstree",t.proxy(function(e,i){var r=i&&i.rslt&&i.rslt.obj&&i.rslt.obj!==-1?this._get_node(i.rslt.obj).parent():this.get_container_ul(),n=!1,a=this._get_settings().types;t.each(a.types,function(e,t){t.icon&&(t.icon.image||t.icon.position)&&(n="default"===e?r.find("li > a > .jstree-icon"):r.find("li["+a.type_attr+"='"+e+"'] > a > .jstree-icon"),t.icon.image&&n.css("backgroundImage","url("+t.icon.image+")"),n.css("backgroundPosition",t.icon.position||"0 0"))})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(e,t){t.type&&this._get_settings().types.use_data&&this.set_type(t.type,e)},_get_type:function(e){return e=this._get_node(e),!(!e||!e.length)&&(e.attr(this._get_settings().types.type_attr)||"default")},set_type:function(e,t){t=this._get_node(t);var i=!(!t.length||!e)&&t.attr(this._get_settings().types.type_attr,e);return i&&this.__callback({obj:t,type:e}),i},_check:function(e,i,r){i=this._get_node(i);var n=!1,a=this._get_type(i),s=0,o=this,l=this._get_settings().types,d=!1;if(i===-1){if(!l[e])return;n=l[e]}else{if(a===!1)return;d=!!l.use_data&&i.data("jstree"),d&&d.types&&"undefined"!=typeof d.types[e]?n=d.types[e]:l.types[a]&&"undefined"!=typeof l.types[a][e]?n=l.types[a][e]:l.types["default"]&&"undefined"!=typeof l.types["default"][e]&&(n=l.types["default"][e])}return t.isFunction(n)&&(n=n.call(this,i)),"max_depth"===e&&i!==-1&&r!==!1&&l.max_depth!==-2&&0!==n&&i.children("a:eq(0)").parentsUntil(".jstree","li").each(function(t){return l.max_depth!==-1&&l.max_depth-(t+1)<=0?(n=0,!1):(s=0===t?n:o._check(e,this,!1),s!==-1&&s-(t+1)<=0?(n=0,!1):(s>=0&&(s-(t+1)<n||n<0)&&(n=s-(t+1)),void(l.max_depth>=0&&(l.max_depth-(t+1)<n||n<0)&&(n=l.max_depth-(t+1)))))}),n},check_move:function(){if(!this.__call_old())return!1;var e,i=this._get_move(),r=i.rt._get_settings().types,n=i.rt._check("max_children",i.cr),a=i.rt._check("max_depth",i.cr),s=i.rt._check("valid_children",i.cr),o=0,l=1;if("none"===s)return!1;if(t.isArray(s)&&i.ot&&i.ot._get_type&&(i.o.each(function(){if(t.inArray(i.ot._get_type(this),s)===-1)return l=!1,!1}),l===!1))return!1;if(r.max_children!==-2&&n!==-1&&(o=i.cr===-1?this.get_container().find("> ul > li").not(i.o).length:i.cr.find("> ul > li").not(i.o).length,o+i.o.length>n))return!1;if(r.max_depth!==-2&&a!==-1){if(l=0,0===a)return!1;if("undefined"==typeof i.o.d){for(e=i.o;e.length>0;)e=e.find("> ul > li"),l++;i.o.d=l}if(a-i.o.d<0)return!1}return!0},create_node:function(e,i,r,n,a,s){if(!s&&(a||this._is_loaded(e))){var o,l="string"==typeof i&&i.match(/^before|after$/i)&&e!==-1?this._get_parent(e):this._get_node(e),d=this._get_settings().types,u=this._check("max_children",l),c=this._check("max_depth",l),h=this._check("valid_children",l);if("string"==typeof r&&(r={data:r}),r||(r={}),"none"===h)return!1;if(t.isArray(h))if(r.attr&&r.attr[d.type_attr]){if(t.inArray(r.attr[d.type_attr],h)===-1)return!1}else r.attr||(r.attr={}),r.attr[d.type_attr]=h[0];if(d.max_children!==-2&&u!==-1&&(o=l===-1?this.get_container().find("> ul > li").length:l.find("> ul > li").length,o+1>u))return!1;if(d.max_depth!==-2&&c!==-1&&c-1<0)return!1}return this.__call_old(!0,e,i,r,n,a,s)}}})}(jQuery),function(e){e.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0),this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return 3==this.nodeType}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(e,t,i){var r=this;this.load_node_html(e,function(){r.__callback({obj:r._get_node(e)}),t.call(this)},i)},_is_loaded:function(t){return t=this._get_node(t),t==-1||!t||!this._get_settings().html_data.ajax&&!e.isFunction(this._get_settings().html_data.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").size()>0},load_node_html:function(t,i,r){var n,a=this.get_settings().html_data,s=function(){},o=function(){};if(t=this._get_node(t),t&&t!==-1){if(t.data("jstree_is_loading"))return;t.data("jstree_is_loading",!0)}switch(!0){case e.isFunction(a.data):a.data.call(this,t,e.proxy(function(r){r&&""!==r&&r.toString&&""!==r.toString().replace(/^[\s\n]+$/,"")?(r=e(r),r.is("ul")||(r=e("<ul />").append(r)),t!=-1&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(r).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(r.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(t),i&&i.call(this)):t&&t!==-1?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),a.correct_state&&(this.correct_state(t),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this))},this));break;case!a.data&&!a.ajax:t&&t!=-1||(this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),i&&i.call(this);break;case!!a.data&&!a.ajax||!!a.data&&!!a.ajax&&(!t||t===-1):t&&t!=-1||(n=e(a.data),n.is("ul")||(n=e("<ul />").append(n)),this.get_container().children("ul").empty().append(n.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),i&&i.call(this);break;case!a.data&&!!a.ajax||!!a.data&&!!a.ajax&&t&&t!==-1:t=this._get_node(t),s=function(e,i,n){var s=this.get_settings().html_data.ajax.error;s&&s.call(this,e,i,n),t!=-1&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),"success"===i&&a.correct_state&&this.correct_state(t)):"success"===i&&a.correct_state&&this.get_container().children("ul").empty(),r&&r.call(this)},o=function(r,n,o){var l=this.get_settings().html_data.ajax.success;return l&&(r=l.call(this,r,n,o)||r),""===r||r&&r.toString&&""===r.toString().replace(/^[\s\n]+$/,"")?s.call(this,o,n,""):void(r?(r=e(r),r.is("ul")||(r=e("<ul />").append(r)),t!=-1&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(r).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(r.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(t),i&&i.call(this)):t&&t!==-1?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),a.correct_state&&(this.correct_state(t),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)))},a.ajax.context=this,a.ajax.error=s,a.ajax.success=o,a.ajax.dataType||(a.ajax.dataType="html"),e.isFunction(a.ajax.url)&&(a.ajax.url=a.ajax.url.call(this,t)),e.isFunction(a.ajax.data)&&(a.ajax.data=a.ajax.data.call(this,t)),e.ajax(a.ajax)}}}}),e.jstree.defaults.plugins.push("html_data")}(jQuery),function(e){e.jstree.plugin("themeroller",{__init:function(){var t=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(i){e(i.currentTarget).hasClass("jstree-loading")||e(this).addClass(t.item_h)}).delegate("a","mouseleave.jstree",function(){e(this).removeClass(t.item_h)}).bind("init.jstree",e.proxy(function(e,t){t.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh"),this._themeroller(t.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",e.proxy(function(e){this._themeroller()},this)).bind("close_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.obj)},this)).bind("delete_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.parent)},this)).bind("correct_state.jstree",e.proxy(function(e,i){i.rslt.obj.children("ins.jstree-icon").removeClass(t.opened+" "+t.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_open+" "+t.item_clsd).addClass(t.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",e.proxy(function(e,i){i.rslt.obj.children("a").addClass(t.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",e.proxy(function(e,i){this.get_container().find("a."+t.item_a).removeClass(t.item_a).end().find("a.jstree-clicked").addClass(t.item_a)},this)).bind("dehover_node.jstree",e.proxy(function(e,i){i.rslt.obj.children("a").removeClass(t.item_h)},this)).bind("hover_node.jstree",e.proxy(function(e,i){this.get_container().find("a."+t.item_h).not(i.rslt.obj).removeClass(t.item_h),i.rslt.obj.children("a").addClass(t.item_h)},this)).bind("move_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.o),this._themeroller(t.rslt.op)},this))},__destroy:function(){var t=this._get_settings().themeroller,i=["ui-icon"];e.each(t,function(e,t){t=t.split(" "),t.length&&(i=i.concat(t))}),this.get_container().removeClass("ui-widget-content").find("."+i.join(", .")).removeClass(i.join(" "))},_fn:{_themeroller:function(e){var t=this._get_settings().themeroller;e=e&&e!=-1?this._get_node(e):this.get_container_ul(),e=e&&e!=-1?e.parent():this.get_container_ul(),e.find("li.jstree-closed").children("ins.jstree-icon").removeClass(t.opened).addClass("ui-icon "+t.closed).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_leaf+" "+t.item_open).addClass(t.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(t.closed).addClass("ui-icon "+t.opened).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){
return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_leaf+" "+t.item_clsd).addClass(t.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(t.closed+" ui-icon "+t.opened).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_clsd+" "+t.item_open).addClass(t.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}}),e(function(){var t=".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }";e.vakata.css.add_sheet({str:t,title:"jstree"})})}(jQuery),function(e){e.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",e.proxy(function(t,i){var r,n,a=[],s=!0;if("move_node"==i.func&&i.args[4]===!0&&i.args[0].o&&i.args[0].o.length&&(i.args[0].o.children("a").each(function(){a.push(e(this).text().replace(/^\s+/g,""))}),s=this._check_unique(a,i.args[0].np.find("> ul > li").not(i.args[0].o),"move_node")),"create_node"==i.func&&(i.args[4]||this._is_loaded(i.args[0]))&&(r=this._get_node(i.args[0]),!i.args[1]||"before"!==i.args[1]&&"after"!==i.args[1]||(r=this._get_parent(i.args[0]),r&&r!==-1||(r=this.get_container())),"string"==typeof i.args[2]?a.push(i.args[2]):i.args[2]&&i.args[2].data?a.push(i.args[2].data):a.push(this._get_string("new_node")),s=this._check_unique(a,r.find("> ul > li"),"create_node")),"rename_node"==i.func&&(a.push(i.args[1]),n=this._get_node(i.args[0]),r=this._get_parent(n),r&&r!==-1||(r=this.get_container()),s=this._check_unique(a,r.find("> ul > li").not(n),"rename_node")),!s)return t.stopPropagation(),!1},this))},defaults:{error_callback:e.noop},_fn:{_check_unique:function(t,i,r){var n=[],a=!0;return i.children("a").each(function(){n.push(e(this).text().replace(/^\s+/g,""))}),!n.length||!t.length||(e.each(t,function(t,i){if(e.inArray(i,n)!==-1)return a=!1,!1}),a||this._get_settings().unique.error_callback.call(null,t,i,r),a)},check_move:function(){if(!this.__call_old())return!1;var t=this._get_move(),i=[];return!t.o||!t.o.length||(t.o.children("a").each(function(){i.push(e(this).text().replace(/^\s+/g,""))}),this._check_unique(i,t.np.find("> ul > li").not(t.o),"check_move"))}}})}(jQuery),function(r){r.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1,this.data.wholerow.to=!1,this.get_container().bind("init.jstree",r.proxy(function(e,t){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",r.proxy(function(e,t){this._prepare_wholerow_span(t&&t.rslt&&t.rslt.obj?t.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",r.proxy(function(e,t){this.data.to&&clearTimeout(this.data.to),this.data.to=setTimeout(function(e,t){return function(){e._prepare_wholerow_ul(t)}}(this,t&&t.rslt&&t.rslt.obj?t.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",r.proxy(function(e,t){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",r.proxy(function(e,t){t.rslt.obj.each(function(){var e=t.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((r(this).offset().top-t.inst.get_container().offset().top+t.inst.get_container()[0].scrollTop)/t.inst.data.core.li_height,10)+")");e.children("a").attr("class",t.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",r.proxy(function(e,t){if(this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:"")),"hover_node"===e.type){var i=this.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((t.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")");i.children("a").attr("class",t.rslt.obj.children(".jstree-hovered").attr("class"))}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(e){var t=r(e.currentTarget);"A"===e.target.tagName||"INS"===e.target.tagName&&t.closest("li").is(".jstree-open, .jstree-closed")||(t.closest("li").children("a:visible:eq(0)").click(),e.stopImmediatePropagation())}).delegate("li","mouseover.jstree",r.proxy(function(e){return e.stopImmediatePropagation(),!r(e.currentTarget).children(".jstree-hovered, .jstree-clicked").length&&(this.hover_node(e.currentTarget),!1)},this)).delegate("li","mouseleave.jstree",r.proxy(function(e){r(e.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(e.currentTarget)},this)),(t||e)&&r.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove(),this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(e){e=e&&e!=-1?this._get_node(e):this.get_container().find("> ul > li"),e!==!1&&e.each(function(){r(this).find("li").andSelf().each(function(){var e=r(this);return!!e.children(".jstree-wholerow-span").length||void e.prepend("<span class='jstree-wholerow-span' style='width:"+18*e.parentsUntil(".jstree","li").length+"px;'>&#160;</span>")})})},_prepare_wholerow_ul:function(){var e=this.get_container().children("ul").eq(0),i=e.html();e.addClass("jstree-wholerow-real"),this.data.wholerow.last_html!==i&&(this.data.wholerow.last_html=i,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(e.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(e.parent()[0].scrollWidth).css("top",(e.height()+(t?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}}),r(function(){var n=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";i&&(n+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } "),(t||e)&&(n+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } "),r.vakata.css.add_sheet({str:n,title:"jstree"})})}(jQuery),function(e){var t=["getChildren","getChildrenCount","getAttr","getName","getProps"],i=function(t,i){var r=!0;return t=t||{},i=[].concat(i),e.each(i,function(i,n){if(!e.isFunction(t[n]))return r=!1,!1}),r};e.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(r,n){var a=r==-1?this._get_settings().model.object:r.data("jstree_model");return i(a,t)?void(this._get_settings().model.async?a.getChildren(e.proxy(function(e){this.model_done(e,n)},this)):this.model_done(a.getChildren(),n)):n.call(null,!1)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(t,i){var r=[],n=this._get_settings(),a=this;e.isArray(t)||(t=[t]),e.each(t,function(t,i){var s=i.getProps()||{};s.attr=i.getAttr()||{},i.getChildrenCount()&&(s.state="closed"),s.data=i.getName(),e.isArray(s.data)||(s.data=[s.data]),a.data.types&&e.isFunction(i.getType)&&(s.attr[n.types.type_attr]=i.getType()),s.attr.id&&n.model.id_prefix&&(s.attr.id=n.model.id_prefix+s.attr.id),s.metadata||(s.metadata={}),s.metadata.jstree_model=i,r.push(s)}),i.call(null,r)}}})}(jQuery)}}(),function(e){function t(t){if("string"==typeof t.data){var i=t.handler,r=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var n="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],a=String.fromCharCode(t.which).toLowerCase(),s="",o={};t.altKey&&"alt"!==n&&(s+="alt+"),t.ctrlKey&&"ctrl"!==n&&(s+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==n&&(s+="meta+"),t.shiftKey&&"shift"!==n&&(s+="shift+"),n?o[s+n]=!0:(o[s+a]=!0,o[s+e.hotkeys.shiftNums[a]]=!0,"shift+"===s&&(o[e.hotkeys.shiftNums[a]]=!0));for(var l=0,d=r.length;l<d;l++)if(o[r[l]])return i.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),function(e,t){function i(e){for(var t,i=e.split(/\s+/),r=[],n=0;t=i[n];n++)t=t[0].toUpperCase(),r.push(t);return r}function r(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function n(i,a,s){return s||(s=0),a.each(function(){var a,o,l=e(this),d=this,u=this.nodeName.toLowerCase();switch("label"==u&&l.find("input, textarea, select").length&&(a=l.text(),l=l.children().first(),d=l.get(0),u=d.nodeName.toLowerCase()),u){case"menu":o={name:l.attr("label"),items:{}},s=n(o.items,l.children(),s);break;case"a":case"button":o={name:l.text(),disabled:!!l.attr("disabled"),callback:function(){return function(){l.click()}}()};break;case"menuitem":case"command":switch(l.attr("type")){case t:case"command":case"menuitem":o={name:l.attr("label"),disabled:!!l.attr("disabled"),callback:function(){return function(){l.click()}}()};break;case"checkbox":o={type:"checkbox",disabled:!!l.attr("disabled"),name:l.attr("label"),selected:!!l.attr("checked")};break;case"radio":o={type:"radio",disabled:!!l.attr("disabled"),name:l.attr("label"),radio:l.attr("radiogroup"),value:l.attr("id"),selected:!!l.attr("checked")};break;default:o=t}break;case"hr":o="-------";break;case"input":switch(l.attr("type")){case"text":o={type:"text",name:a||r(d),disabled:!!l.attr("disabled"),value:l.val()};break;case"checkbox":o={type:"checkbox",name:a||r(d),disabled:!!l.attr("disabled"),selected:!!l.attr("checked")};break;case"radio":o={type:"radio",name:a||r(d),disabled:!!l.attr("disabled"),radio:!!l.attr("name"),value:l.val(),selected:!!l.attr("checked")};break;default:o=t}break;case"select":o={type:"select",name:a||r(d),disabled:!!l.attr("disabled"),selected:l.val(),options:{}},l.children().each(function(){o.options[this.value]=e(this).text()});break;case"textarea":o={type:"textarea",name:a||r(d),disabled:!!l.attr("disabled"),value:l.val()};break;case"label":break;default:o={type:"html",html:l.clone(!0)}}o&&(s++,i["key"+s]=o)}),s}if(e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,!e.ui||!e.ui.widget){var a=e.cleanData;e.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)try{e(i).triggerHandler("remove")}catch(n){}a(t)}}var s=null,o=!1,l=e(window),d=0,u={},c={},h={},p={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var i=this.offset();i.top+=this.outerHeight(),i.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(i)}},position:function(e,t,i){var r;if(!t&&!i)return void e.determinePosition.call(this,e.$menu);r="maintain"===t&&"maintain"===i?e.$menu.position():{top:i,left:t};var n=l.scrollTop()+l.height(),a=l.scrollLeft()+l.width(),s=e.$menu.height(),o=e.$menu.width();r.top+s>n&&(r.top-=s),r.left+o>a&&(r.left-=o),e.$menu.css(r)},positionSubmenu:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var i={top:0,left:this.outerWidth()};t.css(i)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop},callback:null,items:{}},f={timer:null,pageX:null,pageY:null},g=function(e){for(var t=0,i=e;;)if(t=Math.max(t,parseInt(i.css("z-index"),10)||0),i=i.parent(),!i||!i.length||"html body".indexOf(i.prop("nodeName").toLowerCase())>-1)break;return t},m={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var i=e(this);if(t.preventDefault(),t.stopImmediatePropagation(),!("right"!=t.data.trigger&&t.originalEvent||i.hasClass("context-menu-active")||i.hasClass("context-menu-disabled"))){if(s=i,t.data.build){var r=t.data.build(s,t);if(r===!1)return;if(t.data=e.extend(!0,{},p,t.data,r||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log)("No items specified to show in contextMenu"),new Error("No Items sepcified");t.data.$trigger=s,v.create(t.data)}v.show.call(i,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var i=e(this);s&&s.length&&!s.is(i)&&s.data("contextMenu").$menu.trigger("contextmenu:hide"),2==t.button&&(s=i.data("contextMenuActive",!0))},mouseup:function(t){var i=e(this);i.data("contextMenuActive")&&s&&s.length&&s.is(i)&&!i.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),s=i,i.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),i.removeData("contextMenuActive")},mouseenter:function(t){var i=e(this),r=e(t.relatedTarget),n=e(document);r.is(".context-menu-list")||r.closest(".context-menu-list").length||s&&s.length||(f.pageX=t.pageX,f.pageY=t.pageY,f.data=t.data,n.on("mousemove.contextMenuShow",m.mousemove),f.timer=setTimeout(function(){f.timer=null,n.off("mousemove.contextMenuShow"),s=i,i.trigger(e.Event("contextmenu",{data:f.data,pageX:f.pageX,pageY:f.pageY}))},t.data.delay))},mousemove:function(e){f.pageX=e.pageX,f.pageY=e.pageY},mouseleave:function(t){var i=e(t.relatedTarget);if(!i.is(".context-menu-list")&&!i.closest(".context-menu-list").length){try{clearTimeout(f.timer)}catch(t){}f.timer=null}},layerClick:function(t){var i,r,n=e(this),a=n.data("contextMenuRoot"),s=t.button,o=t.pageX,d=t.pageY;t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){var n,u="left"==a.trigger&&0===s||"right"==a.trigger&&2===s;if(document.elementFromPoint&&(a.$layer.hide(),i=document.elementFromPoint(o-l.scrollLeft(),d-l.scrollTop()),a.$layer.show()),a.reposition&&u)if(document.elementFromPoint){if(a.$trigger.is(i)||a.$trigger.has(i).length)return void a.position.call(a.$trigger,a,o,d)}else if(r=a.$trigger.offset(),n=e(window),r.top+=n.scrollTop(),r.top<=t.pageY&&(r.left+=n.scrollLeft(),r.left<=t.pageX&&(r.bottom=r.top+a.$trigger.outerHeight(),r.bottom>=t.pageY&&(r.right=r.left+a.$trigger.outerWidth(),r.right>=t.pageX))))return void a.position.call(a.$trigger,a,o,d);i&&u&&a.$trigger.one("contextmenu:hidden",function(){e(i).contextMenu({x:o,y:d})}),a.$menu.trigger("contextmenu:hide")},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t=s.data("contextMenu")||{};switch(e.keyCode){case 9:case 38:if(m.keyStop(e,t),t.isInput){if(9==e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void t.$menu.trigger("prevcommand");if(38==e.keyCode&&"checkbox"==t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!=e.keyCode||e.shiftKey)return void t.$menu.trigger("prevcommand");case 40:if(m.keyStop(e,t),!t.isInput)return void t.$menu.trigger("nextcommand");if(9==e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void t.$menu.trigger("nextcommand");if(40==e.keyCode&&"checkbox"==t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(m.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var i=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=i)}break;case 39:if(m.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var r=t.$selected.data("contextMenu")||{};if(r.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,r.$selected=null,void r.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(.disabled, .not-selectable)")[36==e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(m.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void m.keyStop(e,t);case 27:return m.keyStop(e,t),void t.$menu.trigger("contextmenu:hide");default:var n=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys[n])return void t.accesskeys[n].$node.trigger(t.accesskeys[n].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),t.$selected&&t.$selected.trigger(e)},prevItem:function(t){t.stopPropagation();var i=e(this).data("contextMenu")||{};if(i.$selected){var r=i.$selected;i=i.$selected.parent().data("contextMenu")||{},i.$selected=r}for(var n=i.$menu.children(),a=i.$selected&&i.$selected.prev().length?i.$selected.prev():n.last(),s=a;a.hasClass("disabled")||a.hasClass("not-selectable");)if(a=a.prev().length?a.prev():n.last(),a.is(s))return;i.$selected&&m.itemMouseleave.call(i.$selected.get(0),t),m.itemMouseenter.call(a.get(0),t);var o=a.find("input, textarea, select");o.length&&o.focus()},nextItem:function(t){t.stopPropagation();var i=e(this).data("contextMenu")||{};if(i.$selected){var r=i.$selected;i=i.$selected.parent().data("contextMenu")||{},i.$selected=r}for(var n=i.$menu.children(),a=i.$selected&&i.$selected.next().length?i.$selected.next():n.first(),s=a;a.hasClass("disabled")||a.hasClass("not-selectable");)if(a=a.next().length?a.next():n.first(),a.is(s))return;i.$selected&&m.itemMouseleave.call(i.$selected.get(0),t),m.itemMouseenter.call(a.get(0),t);var o=a.find("input, textarea, select");o.length&&o.focus()},focusInput:function(t){var i=e(this).closest(".context-menu-item"),r=i.data(),n=r.contextMenu,a=r.contextMenuRoot;a.$selected=n.$selected=i,a.isInput=n.isInput=!0},blurInput:function(t){var i=e(this).closest(".context-menu-item"),r=i.data(),n=r.contextMenu,a=r.contextMenuRoot;a.isInput=n.isInput=!1},menuMouseenter:function(t){var i=e(this).data().contextMenuRoot;i.hovering=!0},menuMouseleave:function(t){var i=e(this).data().contextMenuRoot;i.$layer&&i.$layer.is(t.relatedTarget)&&(i.hovering=!1)},itemMouseenter:function(t){var i=e(this),r=i.data(),n=r.contextMenu,a=r.contextMenuRoot;return a.hovering=!0,t&&a.$layer&&a.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(n.$menu?n:a).$menu.children(".hover").trigger("contextmenu:blur"),i.hasClass("disabled")||i.hasClass("not-selectable")?void(n.$selected=null):void i.trigger("contextmenu:focus")},itemMouseleave:function(t){var i=e(this),r=i.data(),n=r.contextMenu,a=r.contextMenuRoot;return a!==n&&a.$layer&&a.$layer.is(t.relatedTarget)?(a.$selected&&a.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(a.$selected=n.$selected=n.$node)):void i.trigger("contextmenu:blur")},itemClick:function(t){var i,r=e(this),n=r.data(),a=n.contextMenu,s=n.contextMenuRoot,o=n.contextMenuKey;if(a.items[o]&&!r.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(s.callbacks[o])&&Object.prototype.hasOwnProperty.call(s.callbacks,o))i=s.callbacks[o];else{if(!e.isFunction(s.callback))return;i=s.callback}i.call(s.$trigger,o,s)!==!1?s.$menu.trigger("contextmenu:hide"):s.$menu.parent().length&&v.update.call(s.$trigger,s)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,i){var r=e(this).data("contextMenuRoot");v.hide.call(r.$trigger,r,i&&i.force)},focusItem:function(t){t.stopPropagation();var i=e(this),r=i.data(),n=r.contextMenu,a=r.contextMenuRoot;i.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),n.$selected=a.$selected=i,n.$node&&a.positionSubmenu.call(n.$node,n.$menu)},blurItem:function(t){t.stopPropagation();var i=e(this),r=i.data(),n=r.contextMenu;r.contextMenuRoot;i.removeClass("hover"),n.$selected=null}},v={show:function(t,i,r){var n=e(this),a={};return e("#context-menu-layer").trigger("mousedown"),t.$trigger=n,t.events.show.call(n,t)===!1?void(s=null):(v.update.call(n,t),t.position.call(n,t,i,r),t.zIndex&&(a.zIndex=g(n)+t.zIndex),v.layer.call(t.$menu,t,a.zIndex),t.$menu.find("ul").css("zIndex",a.zIndex+1),t.$menu.css(a)[t.animation.show](t.animation.duration,function(){n.trigger("contextmenu:visible")}),n.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",m.key),void(t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",function(e){var i=n.offset();i.right=i.left+n.outerWidth(),i.bottom=i.top+n.outerHeight(),!t.$layer||t.hovering||e.pageX>=i.left&&e.pageX<=i.right&&e.pageY>=i.top&&e.pageY<=i.bottom||t.$menu.trigger("contextmenu:hide")})))},hide:function(i,r){var n=e(this);if(i||(i=n.data("contextMenu")||{}),r||!i.events||i.events.hide.call(n,i)!==!1){if(n.removeData("contextMenu").removeClass("context-menu-active"),i.$layer){setTimeout(function(e){return function(){e.remove()}}(i.$layer),10);try{delete i.$layer}catch(a){i.$layer=null}}s=null,i.$menu.find(".hover").trigger("contextmenu:blur"),i.$selected=null,e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),i.$menu&&i.$menu[i.animation.hide](i.animation.duration,function(){i.build&&(i.$menu.remove(),e.each(i,function(e,r){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:i[e]=t;try{delete i[e]}catch(n){}return!0}})),setTimeout(function(){n.trigger("contextmenu:hidden")},10)})}},create:function(r,n){n===t&&(n=r),r.$menu=e('<ul class="context-menu-list"></ul>').addClass(r.className||"").data({contextMenu:r,contextMenuRoot:n}),e.each(["callbacks","commands","inputs"],function(e,t){r[t]={},n[t]||(n[t]={})}),n.accesskeys||(n.accesskeys={}),e.each(r.items,function(t,a){var s=e('<li class="context-menu-item"></li>').addClass(a.className||""),o=null,l=null;if(s.on("click",e.noop),a.$node=s.data({contextMenu:r,contextMenuRoot:n,contextMenuKey:t}),a.accesskey)for(var d,u=i(a.accesskey),c=0;d=u[c];c++)if(!n.accesskeys[d]){n.accesskeys[d]=a,a._name=a.name.replace(new RegExp("("+d+")","i"),'<span class="context-menu-accesskey">$1</span>');break}if("string"==typeof a)s.addClass("context-menu-separator not-selectable");else if(a.type&&h[a.type])h[a.type].call(s,a,r,n),e.each([r,n],function(i,r){r.commands[t]=a,e.isFunction(a.callback)&&(r.callbacks[t]=a.callback)});else{switch("html"==a.type?s.addClass("context-menu-html not-selectable"):a.type?(o=e("<label></label>").appendTo(s),e("<span></span>").html(a._name||a.name).appendTo(o),s.addClass("context-menu-input"),r.hasTypes=!0,e.each([r,n],function(e,i){i.commands[t]=a,i.inputs[t]=a})):a.items&&(a.type="sub"),a.type){case"text":l=e('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(a.value||"").appendTo(o);break;case"textarea":l=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+t).val(a.value||"").appendTo(o),a.height&&l.height(a.height);break;case"checkbox":l=e('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(a.value||"").prop("checked",!!a.selected).prependTo(o);break;case"radio":l=e('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+a.radio).val(a.value||"").prop("checked",!!a.selected).prependTo(o);break;case"select":l=e('<select name="">').attr("name","context-menu-input-"+t).appendTo(o),a.options&&(e.each(a.options,function(t,i){e("<option></option>").val(t).text(i).appendTo(l)}),l.val(a.selected));break;case"sub":e("<span></span>").html(a._name||a.name).appendTo(s),a.appendTo=a.$node,v.create(a,n),s.data("contextMenu",a).addClass("context-menu-submenu"),a.callback=null;break;case"html":e(a.html).appendTo(s);break;default:e.each([r,n],function(i,r){r.commands[t]=a,e.isFunction(a.callback)&&(r.callbacks[t]=a.callback)}),e("<span></span>").html(a._name||a.name||"").appendTo(s)}a.type&&"sub"!=a.type&&"html"!=a.type&&(l.on("focus",m.focusInput).on("blur",m.blurInput),a.events&&l.on(a.events,r)),a.icon&&s.addClass("icon icon-"+a.icon)}a.$input=l,a.$label=o,s.appendTo(r.$menu),!r.hasTypes&&e.support.eventSelectstart&&s.on("selectstart.disableTextSelect",m.abortevent)}),r.$node||r.$menu.css("display","none").addClass("context-menu-root"),r.$menu.appendTo(r.appendTo||document.body)},resize:function(t,i){t.css({position:"absolute",display:"block"}),t.data("width",Math.ceil(t.width())+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(){v.resize(e(this),!0)}),i||t.find("ul").andSelf().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return e(this).data("width")})},update:function(i,r){var n=this;r===t&&(r=i,v.resize(i.$menu)),i.$menu.children().each(function(){var t=e(this),a=t.data("contextMenuKey"),s=i.items[a],o=e.isFunction(s.disabled)&&s.disabled.call(n,a,r)||s.disabled===!0;if(t[o?"addClass":"removeClass"]("disabled"),s.type)switch(t.find("input, select, textarea").prop("disabled",o),s.type){case"text":case"textarea":s.$input.val(s.value||"");break;case"checkbox":case"radio":s.$input.val(s.value||"").prop("checked",!!s.selected);break;case"select":s.$input.val(s.selected||"")}s.$menu&&v.update.call(n,s,r)})},layer:function(t,i){var r=t.$layer=e('<div id="context-menu-layer" style="position:fixed; z-index:'+i+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:l.height(),width:l.width(),display:"block"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",m.abortevent).on("mousedown",m.layerClick);return e.support.fixedPosition||r.css({position:"absolute",height:e(document).height()}),r}};e.fn.contextMenu=function(i){if(i===t)this.first().trigger("contextmenu");else if(i.x&&i.y)this.first().trigger(e.Event("contextmenu",{pageX:i.x,pageY:i.y}));else if("hide"===i){var r=this.data("contextMenu").$menu;r&&r.trigger("contextmenu:hide")}else"destroy"===i?e.contextMenu("destroy",{context:this}):e.isPlainObject(i)?(i.context=this,e.contextMenu("create",i)):i?this.removeClass("context-menu-disabled"):i||this.addClass("context-menu-disabled");return this},e.contextMenu=function(i,r){"string"!=typeof i&&(r=i,i="create"),"string"==typeof r?r={selector:r}:r===t&&(r={});var n=e.extend(!0,{},p,r||{}),a=e(document),s=a,l=!1;switch(n.context&&n.context.length?(s=e(n.context).first(),n.context=s.get(0),l=n.context!==document):n.context=document,i){case"create":if(!n.selector)throw new Error("No selector specified");if(n.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+n.selector+'" as it contains a reserved className');if(!n.build&&(!n.items||e.isEmptyObject(n.items)))throw new Error("No Items sepcified");switch(d++,n.ns=".contextMenu"+d,l||(u[n.selector]=n.ns),c[n.ns]=n,n.trigger||(n.trigger="right"),o||(a.on({"contextmenu:hide.contextMenu":m.hideMenu,"prevcommand.contextMenu":m.prevItem,"nextcommand.contextMenu":m.nextItem,"contextmenu.contextMenu":m.abortevent,"mouseenter.contextMenu":m.menuMouseenter,"mouseleave.contextMenu":m.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",m.inputClick).on({"mouseup.contextMenu":m.itemClick,"contextmenu:focus.contextMenu":m.focusItem,"contextmenu:blur.contextMenu":m.blurItem,"contextmenu.contextMenu":m.abortevent,"mouseenter.contextMenu":m.itemMouseenter,"mouseleave.contextMenu":m.itemMouseleave},".context-menu-item"),o=!0),s.on("contextmenu"+n.ns,n.selector,n,m.contextmenu),l&&s.on("remove"+n.ns,function(){e(this).contextMenu("destroy")}),n.trigger){case"hover":s.on("mouseenter"+n.ns,n.selector,n,m.mouseenter).on("mouseleave"+n.ns,n.selector,n,m.mouseleave);break;case"left":s.on("click"+n.ns,n.selector,n,m.click)}n.build||v.create(n);break;case"destroy":var h;if(l){var f=n.context;e.each(c,function(t,i){if(i.context!==f)return!0;h=e(".context-menu-list").filter(":visible"),h.length&&h.data().contextMenuRoot.$trigger.is(e(i.context).find(i.selector))&&h.trigger("contextmenu:hide",{force:!0});try{c[i.ns].$menu&&c[i.ns].$menu.remove(),delete c[i.ns]}catch(r){c[i.ns]=null}return e(i.context).off(i.ns),!0})}else if(n.selector){if(u[n.selector]){h=e(".context-menu-list").filter(":visible"),h.length&&h.data().contextMenuRoot.$trigger.is(n.selector)&&h.trigger("contextmenu:hide",{force:!0});try{c[u[n.selector]].$menu&&c[u[n.selector]].$menu.remove(),delete c[u[n.selector]]}catch(g){c[u[n.selector]]=null}a.off(u[n.selector])}}else a.off(".contextMenu .contextMenuAutoHide"),e.each(c,function(t,i){e(i.context).off(i.ns)}),u={},c={},d=0,o=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof r&&r)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+i+'"')}return this},e.contextMenu.setInputValues=function(i,r){r===t&&(r={}),e.each(i.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=r[e]||"";break;case"checkbox":t.selected=!!r[e];break;case"radio":t.selected=(r[t.radio]||"")==t.value;break;case"select":t.selected=r[e]||""}})},e.contextMenu.getInputValues=function(i,r){return r===t&&(r={}),
e.each(i.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":r[e]=t.$input.val();break;case"checkbox":r[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(r[t.radio]=t.value)}}),r},e.contextMenu.fromMenu=function(t){var i=e(t),r={};return n(r,i.children()),r},e.contextMenu.defaults=p,e.contextMenu.types=h,e.contextMenu.handle=m,e.contextMenu.op=v,e.contextMenu.menus=c}(jQuery),!function e(t,i,r){function n(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return n(i?i:e)},u,u.exports,e,t,i,r)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(e,t,i){},{}],2:[function(e,t,i){function r(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,i=/^#([a-fA-F0-9]{6})$/,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\w+)/,s=[0,0,0],o=1,l=e.match(t);if(l){l=l[1];for(var d=0;d<s.length;d++)s[d]=parseInt(l[d]+l[d],16)}else if(l=e.match(i)){l=l[1];for(var d=0;d<s.length;d++)s[d]=parseInt(l.slice(2*d,2*d+2),16)}else if(l=e.match(r)){for(var d=0;d<s.length;d++)s[d]=parseInt(l[d+1]);o=parseFloat(l[4])}else if(l=e.match(n)){for(var d=0;d<s.length;d++)s[d]=Math.round(2.55*parseFloat(l[d+1]));o=parseFloat(l[4])}else if(l=e.match(a)){if("transparent"==l[1])return[0,0,0,0];if(s=y[l[1]],!s)return}for(var d=0;d<s.length;d++)s[d]=b(s[d],0,255);return o=o||0==o?b(o,0,1):1,s[3]=o,s}}function n(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=e.match(t);if(i){var r=parseFloat(i[4]),n=b(parseInt(i[1]),0,360),a=b(parseFloat(i[2]),0,100),s=b(parseFloat(i[3]),0,100),o=b(isNaN(r)?1:r,0,1);return[n,a,s,o]}}}function a(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=e.match(t);if(i){var r=parseFloat(i[4]),n=b(parseInt(i[1]),0,360),a=b(parseFloat(i[2]),0,100),s=b(parseFloat(i[3]),0,100),o=b(isNaN(r)?1:r,0,1);return[n,a,s,o]}}}function s(e){var t=r(e);return t&&t.slice(0,3)}function o(e){var t=n(e);return t&&t.slice(0,3)}function l(e){var t=r(e);return t?t[3]:(t=n(e))?t[3]:(t=a(e))?t[3]:void 0}function d(e){return"#"+_(e[0])+_(e[1])+_(e[2])}function u(e,t){return 1>t||e[3]&&e[3]<1?c(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function c(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function h(e,t){if(1>t||e[3]&&e[3]<1)return p(e,t);var i=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return"rgb("+i+"%, "+r+"%, "+n+"%)"}function p(e,t){var i=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return"rgba("+i+"%, "+r+"%, "+n+"%, "+(t||e[3]||1)+")"}function f(e,t){return 1>t||e[3]&&e[3]<1?g(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function g(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function m(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function v(e){return x[e.slice(0,3)]}function b(e,t,i){return Math.min(Math.max(t,e),i)}function _(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var y=e("color-name");t.exports={getRgba:r,getHsla:n,getRgb:s,getHsl:o,getHwb:a,getAlpha:l,hexString:d,rgbString:u,rgbaString:c,percentString:h,percentaString:p,hslString:f,hslaString:g,hwbString:m,keyword:v};var x={};for(var w in y)x[y[w]]=w},{"color-name":6}],3:[function(e,t,i){var r=e("color-convert"),n=e("chartjs-color-string"),a=function(e){if(e instanceof a)return e;if(!(this instanceof a))return new a(e);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e){var t=n.getRgba(e);if(t)this.setValues("rgb",t);else if(t=n.getHsla(e))this.setValues("hsl",t);else{if(!(t=n.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}}else if("object"==typeof e){var t=e;if(void 0!==t.r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}}};a.prototype={rgb:function(e){return this.setSpace("rgb",arguments)},hsl:function(e){return this.setSpace("hsl",arguments)},hsv:function(e){return this.setSpace("hsv",arguments)},hwb:function(e){return this.setSpace("hwb",arguments)},cmyk:function(e){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values.rgb;return e.concat([this.values.alpha])},hslaArray:function(){var e=this.values.hsl;return e.concat([this.values.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,t=[],i=0;i<e.length;i++){var r=e[i]/255;t[i]=.03928>=r?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t+e)%360,t=0>t?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){t=1-(null==t?.5:t);for(var i=2*t-1,r=this.alpha()-e.alpha(),n=((i*r==-1?i:(i+r)/(1+i*r))+1)/2,a=1-n,s=this.rgbArray(),o=e.rgbArray(),l=0;l<s.length;l++)s[l]=s[l]*n+o[l]*a;this.setValues("rgb",s);var d=this.alpha()*t+e.alpha()*(1-t);return this.setValues("alpha",d),this},toJSON:function(){return this.rgb()},clone:function(){return new a(this.rgb())}},a.prototype.getValues=function(e){for(var t={},i=0;i<e.length;i++)t[e.charAt(i)]=this.values[e][i];return 1!=this.values.alpha&&(t.a=this.values.alpha),t},a.prototype.setValues=function(e,t){var i={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},n={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a=1;if("alpha"==e)a=t;else if(t.length)this.values[e]=t.slice(0,e.length),a=t[e.length];else if(void 0!==t[e.charAt(0)]){for(var s=0;s<e.length;s++)this.values[e][s]=t[e.charAt(s)];a=t.a}else if(void 0!==t[i[e][0]]){for(var o=i[e],s=0;s<e.length;s++)this.values[e][s]=t[o[s]];a=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==a?a:this.values.alpha)),"alpha"!=e){for(var s=0;s<e.length;s++){var l=Math.max(0,Math.min(n[e][s],this.values[e][s]));this.values[e][s]=Math.round(l)}for(var d in i){d!=e&&(this.values[d]=r[e][d](this.values[e]));for(var s=0;s<d.length;s++){var l=Math.max(0,Math.min(n[d][s],this.values[d][s]));this.values[d][s]=Math.round(l)}}return!0}},a.prototype.setSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i),this)},a.prototype.setChannel=function(e,t,i){return void 0===i?this.values[e][t]:(this.values[e][t]=i,this.setValues(e,this.values[e]),this)},window.Color=t.exports=a},{"chartjs-color-string":2,"color-convert":5}],4:[function(e,t,i){function n(e){var t,i,r,n=e[0]/255,a=e[1]/255,s=e[2]/255,o=Math.min(n,a,s),l=Math.max(n,a,s),d=l-o;return l==o?t=0:n==l?t=(a-s)/d:a==l?t=2+(s-n)/d:s==l&&(t=4+(n-a)/d),t=Math.min(60*t,360),0>t&&(t+=360),r=(o+l)/2,i=l==o?0:.5>=r?d/(l+o):d/(2-l-o),[t,100*i,100*r]}function a(e){var t,i,r,n=e[0],a=e[1],s=e[2],o=Math.min(n,a,s),l=Math.max(n,a,s),d=l-o;return i=0==l?0:d/l*1e3/10,l==o?t=0:n==l?t=(a-s)/d:a==l?t=2+(s-n)/d:s==l&&(t=4+(n-a)/d),t=Math.min(60*t,360),0>t&&(t+=360),r=l/255*1e3/10,[t,i,r]}function s(e){var t=e[0],i=e[1],r=e[2],a=n(e)[0],s=1/255*Math.min(t,Math.min(i,r)),r=1-1/255*Math.max(t,Math.max(i,r));return[a,100*s,100*r]}function o(e){var t,i,r,n,a=e[0]/255,s=e[1]/255,o=e[2]/255;return n=Math.min(1-a,1-s,1-o),t=(1-a-n)/(1-n)||0,i=(1-s-n)/(1-n)||0,r=(1-o-n)/(1-n)||0,[100*t,100*i,100*r,100*n]}function l(e){return X[JSON.stringify(e)]}function d(e){var t=e[0]/255,i=e[1]/255,r=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var n=.4124*t+.3576*i+.1805*r,a=.2126*t+.7152*i+.0722*r,s=.0193*t+.1192*i+.9505*r;return[100*n,100*a,100*s]}function u(e){var t,i,r,n=d(e),a=n[0],s=n[1],o=n[2];return a/=95.047,s/=100,o/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*s-16,i=500*(a-s),r=200*(s-o),[t,i,r]}function c(e){return R(u(e))}function h(e){var t,i,r,n,a,s=e[0]/360,o=e[1]/100,l=e[2]/100;if(0==o)return a=255*l,[a,a,a];i=.5>l?l*(1+o):l+o-l*o,t=2*l-i,n=[0,0,0];for(var d=0;3>d;d++)r=s+1/3*-(d-1),0>r&&r++,r>1&&r--,a=1>6*r?t+6*(i-t)*r:1>2*r?i:2>3*r?t+(i-t)*(2/3-r)*6:t,n[d]=255*a;return n}function p(e){var t,i,r=e[0],n=e[1]/100,a=e[2]/100;return 0===a?[0,0,0]:(a*=2,n*=1>=a?a:2-a,i=(a+n)/2,t=2*n/(a+n),[r,100*t,100*i])}function f(e){return s(h(e))}function m(e){return o(h(e))}function v(e){return l(h(e))}function _(e){var t=e[0]/60,i=e[1]/100,r=e[2]/100,n=Math.floor(t)%6,a=t-Math.floor(t),s=255*r*(1-i),o=255*r*(1-i*a),l=255*r*(1-i*(1-a)),r=255*r;switch(n){case 0:return[r,l,s];case 1:return[o,r,s];case 2:return[s,r,l];case 3:return[s,o,r];case 4:return[l,s,r];case 5:return[r,s,o]}}function y(e){var t,i,r=e[0],n=e[1]/100,a=e[2]/100;return i=(2-n)*a,t=n*a,t/=1>=i?i:2-i,t=t||0,i/=2,[r,100*t,100*i]}function x(e){return s(_(e))}function w(e){return o(_(e))}function k(e){return l(_(e))}function j(e){var t,i,n,a,s=e[0]/360,o=e[1]/100,l=e[2]/100,d=o+l;switch(d>1&&(o/=d,l/=d),t=Math.floor(6*s),i=1-l,n=6*s-t,0!=(1&t)&&(n=1-n),a=o+n*(i-o),t){default:case 6:case 0:r=i,g=a,b=o;break;case 1:r=a,g=i,b=o;break;case 2:r=o,g=i,b=a;break;case 3:r=o,g=a,b=i;break;case 4:r=a,g=o,b=i;break;case 5:r=i,g=o,b=a}return[255*r,255*g,255*b]}function C(e){return n(j(e))}function D(e){return a(j(e))}function S(e){return o(j(e))}function T(e){return l(j(e))}function I(e){var t,i,r,n=e[0]/100,a=e[1]/100,s=e[2]/100,o=e[3]/100;return t=1-Math.min(1,n*(1-o)+o),i=1-Math.min(1,a*(1-o)+o),r=1-Math.min(1,s*(1-o)+o),[255*t,255*i,255*r]}function P(e){return n(I(e))}function A(e){return a(I(e))}function M(e){return s(I(e))}function E(e){return l(I(e))}function $(e){var t,i,r,n=e[0]/100,a=e[1]/100,s=e[2]/100;return t=3.2406*n+-1.5372*a+s*-.4986,i=n*-.9689+1.8758*a+.0415*s,r=.0557*n+a*-.204+1.057*s,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,t=Math.min(Math.max(0,t),1),i=Math.min(Math.max(0,i),1),r=Math.min(Math.max(0,r),1),[255*t,255*i,255*r]}function F(e){var t,i,r,n=e[0],a=e[1],s=e[2];return n/=95.047,a/=100,s/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*a-16,i=500*(n-a),r=200*(a-s),[t,i,r]}function O(e){return R(F(e))}function q(e){var t,i,r,n,a=e[0],s=e[1],o=e[2];return 8>=a?(i=100*a/903.3,n=7.787*(i/100)+16/116):(i=100*Math.pow((a+16)/116,3),n=Math.pow(i/100,1/3)),t=.008856>=t/95.047?t=95.047*(s/500+n-16/116)/7.787:95.047*Math.pow(s/500+n,3),r=.008859>=r/108.883?r=108.883*(n-o/200-16/116)/7.787:108.883*Math.pow(n-o/200,3),[t,i,r]}function R(e){var t,i,r,n=e[0],a=e[1],s=e[2];return t=Math.atan2(s,a),i=360*t/2/Math.PI,0>i&&(i+=360),r=Math.sqrt(a*a+s*s),[n,r,i]}function N(e){return $(q(e))}function L(e){var t,i,r,n=e[0],a=e[1],s=e[2];return r=s/360*2*Math.PI,t=a*Math.cos(r),i=a*Math.sin(r),[n,t,i]}function z(e){return q(L(e))}function H(e){return N(L(e))}function G(e){return Y[e]}function B(e){return n(G(e))}function Q(e){return a(G(e))}function W(e){return s(G(e))}function U(e){return o(G(e))}function V(e){return u(G(e))}function K(e){return d(G(e))}t.exports={rgb2hsl:n,rgb2hsv:a,rgb2hwb:s,rgb2cmyk:o,rgb2keyword:l,rgb2xyz:d,rgb2lab:u,rgb2lch:c,hsl2rgb:h,hsl2hsv:p,hsl2hwb:f,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:_,hsv2hsl:y,hsv2hwb:x,hsv2cmyk:w,hsv2keyword:k,hwb2rgb:j,hwb2hsl:C,hwb2hsv:D,hwb2cmyk:S,hwb2keyword:T,cmyk2rgb:I,cmyk2hsl:P,cmyk2hsv:A,cmyk2hwb:M,cmyk2keyword:E,keyword2rgb:G,keyword2hsl:B,keyword2hsv:Q,keyword2hwb:W,keyword2cmyk:U,keyword2lab:V,keyword2xyz:K,xyz2rgb:$,xyz2lab:F,xyz2lch:O,lab2xyz:q,lab2rgb:N,lab2lch:R,lch2lab:L,lch2xyz:z,lch2rgb:H};var Y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var J in Y)X[JSON.stringify(Y[J])]=J},{}],5:[function(e,t,i){var r=e("./conversions"),n=function(){return new d};for(var a in r){n[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(a);var s=/(\w+)2(\w+)/.exec(a),o=s[1],l=s[2];n[o]=n[o]||{},n[o][l]=n[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var i=r[e](t);if("string"==typeof i||void 0===i)return i;for(var n=0;n<i.length;n++)i[n]=Math.round(i[n]);return i}}(a)}var d=function(){this.convs={}};d.prototype.routeSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i))},d.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},d.prototype.getValues=function(e){var t=this.convs[e];if(!t){var i=this.space,r=this.convs[i];t=n[i][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){d.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=n},{"./conversions":4}],6:[function(e,t,i){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,i){var r=e("./core/core.js")();e("./core/core.helpers")(r),e("./core/core.element")(r),e("./core/core.animation")(r),e("./core/core.controller")(r),e("./core/core.datasetController")(r),e("./core/core.layoutService")(r),e("./core/core.legend")(r),e("./core/core.plugin.js")(r),e("./core/core.scale")(r),e("./core/core.scaleService")(r),e("./core/core.title")(r),e("./core/core.tooltip")(r),e("./controllers/controller.bar")(r),e("./controllers/controller.bubble")(r),e("./controllers/controller.doughnut")(r),e("./controllers/controller.line")(r),e("./controllers/controller.polarArea")(r),e("./controllers/controller.radar")(r),e("./scales/scale.category")(r),e("./scales/scale.linear")(r),e("./scales/scale.logarithmic")(r),e("./scales/scale.radialLinear")(r),e("./scales/scale.time")(r),e("./elements/element.arc")(r),e("./elements/element.line")(r),e("./elements/element.point")(r),e("./elements/element.rectangle")(r),e("./charts/Chart.Bar")(r),e("./charts/Chart.Bubble")(r),e("./charts/Chart.Doughnut")(r),e("./charts/Chart.Line")(r),e("./charts/Chart.PolarArea")(r),e("./charts/Chart.Radar")(r),e("./charts/Chart.Scatter")(r),window.Chart=t.exports=r},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.plugin.js":29,"./core/core.scale":30,"./core/core.scaleService":31,"./core/core.title":32,"./core/core.tooltip":33,"./elements/element.arc":34,"./elements/element.line":35,"./elements/element.point":36,"./elements/element.rectangle":37,"./scales/scale.category":38,"./scales/scale.linear":39,"./scales/scale.logarithmic":40,"./scales/scale.radialLinear":41,"./scales/scale.time":42}],8:[function(e,t,i){"use strict";t.exports=function(e){e.Bar=function(t,i){return i.type="bar",new e(t,i)}}},{}],9:[function(e,t,i){"use strict";t.exports=function(e){e.Bubble=function(t,i){return i.type="bubble",new e(t,i)}}},{}],10:[function(e,t,i){"use strict";t.exports=function(e){e.Doughnut=function(t,i){return i.type="doughnut",new e(t,i)}}},{}],11:[function(e,t,i){"use strict";t.exports=function(e){e.Line=function(t,i){return i.type="line",new e(t,i)}}},{}],12:[function(e,t,i){"use strict";t.exports=function(e){e.PolarArea=function(t,i){return i.type="polarArea",new e(t,i)}}},{}],13:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i={aspectRatio:1};e.Radar=function(r,n){return n.options=t.configMerge(i,n.options),n.type="radar",new e(r,n)}}},{}],14:[function(e,t,i){"use strict";t.exports=function(e){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(e,t){return""},label:function(e,t){return"("+e.xLabel+", "+e.yLabel+")"}}}};e.defaults.scatter=t,e.controllers.scatter=e.controllers.line,e.Scatter=function(t,i){return i.type="scatter",new e(t,i)}}},{}],15:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({initialize:function(t,i){e.DatasetController.prototype.initialize.call(this,t,i),this.getMeta().bar=!0},getBarCount:function(){var e=0;return t.each(this.chart.data.datasets,function(t,i){var r=this.chart.getDatasetMeta(i);r.bar&&this.chart.isDatasetVisible(i)&&++e},this),e},addElements:function(){var i=this.getMeta();t.each(this.getDataset().data,function(t,r){i.data[r]=i.data[r]||new e.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:r})},this)},addElementAndReset:function(t){var i=new e.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:t}),r=this.getBarCount();this.getMeta().data.splice(t,0,i),this.updateElement(i,t,!0,r)},update:function(e){var i=this.getBarCount();t.each(this.getMeta().data,function(t,r){this.updateElement(t,r,e,i)},this)},updateElement:function(e,i,r,n){var a,s=this.getMeta(),o=this.getScaleForId(s.xAxisID),l=this.getScaleForId(s.yAxisID);a=l.min<0&&l.max<0?l.getPixelForValue(l.max):l.min>0&&l.max>0?l.getPixelForValue(l.min):l.getPixelForValue(0),t.extend(e,{_chart:this.chart.chart,_xScale:o,_yScale:l,_datasetIndex:this.index,_index:i,_model:{x:this.calculateBarX(i,this.index),y:r?a:this.calculateBarY(i,this.index),label:this.chart.data.labels[i],datasetLabel:this.getDataset().label,base:r?a:this.calculateBarBase(this.index,i),width:this.calculateBarWidth(n),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),borderSkipped:e.custom&&e.custom.borderSkipped?e.custom.borderSkipped:this.chart.options.elements.rectangle.borderSkipped,borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)}}),e.pivot()},calculateBarBase:function(e,t){var i=this.getMeta(),r=(this.getScaleForId(i.xAxisID),this.getScaleForId(i.yAxisID)),n=0;if(r.options.stacked){var a=this.chart.data.datasets[e].data[t];if(0>a)for(var s=0;e>s;s++){var o=this.chart.data.datasets[s],l=this.chart.getDatasetMeta(s);l.bar&&l.yAxisID===r.id&&this.chart.isDatasetVisible(s)&&(n+=o.data[t]<0?o.data[t]:0)}else for(var d=0;e>d;d++){var u=this.chart.data.datasets[d],c=this.chart.getDatasetMeta(d);c.bar&&c.yAxisID===r.id&&this.chart.isDatasetVisible(d)&&(n+=u.data[t]>0?u.data[t]:0)}return r.getPixelForValue(n)}return n=r.getPixelForValue(r.min),r.beginAtZero||r.min<=0&&r.max>=0||r.min>=0&&r.max<=0?n=r.getPixelForValue(0,0):r.min<0&&r.max<0&&(n=r.getPixelForValue(r.max)),n},getRuler:function(){var e=this.getMeta(),t=this.getScaleForId(e.xAxisID),i=(this.getScaleForId(e.yAxisID),this.getBarCount()),r=function(){for(var e=t.getPixelForTick(1)-t.getPixelForTick(0),i=2;i<this.getDataset().data.length;i++)e=Math.min(t.getPixelForTick(i)-t.getPixelForTick(i-1),e);return e}.call(this),n=r*t.options.categoryPercentage,a=(r-r*t.options.categoryPercentage)/2,s=n/i;if(t.ticks.length!==this.chart.data.labels.length){var o=t.ticks.length/this.chart.data.labels.length;s*=o}var l=s*t.options.barPercentage,d=s-s*t.options.barPercentage;return{datasetCount:i,tickWidth:r,categoryWidth:n,categorySpacing:a,fullBarWidth:s,barWidth:l,barSpacing:d}},calculateBarWidth:function(){var e=this.getScaleForId(this.getMeta().xAxisID),t=this.getRuler();return e.options.stacked?t.categoryWidth:t.barWidth},getBarIndex:function(e){var t,i,r=0;for(i=0;e>i;++i)t=this.chart.getDatasetMeta(i),t.bar&&this.chart.isDatasetVisible(i)&&++r;return r},calculateBarX:function(e,t){var i=this.getMeta(),r=(this.getScaleForId(i.yAxisID),this.getScaleForId(i.xAxisID)),n=this.getBarIndex(t),a=this.getRuler(),s=r.getPixelForValue(null,e,t,this.chart.isCombo);return s-=this.chart.isCombo?a.tickWidth/2:0,r.options.stacked?s+a.categoryWidth/2+a.categorySpacing:s+a.barWidth/2+a.categorySpacing+a.barWidth*n+a.barSpacing/2+a.barSpacing*n},calculateBarY:function(e,t){var i=this.getMeta(),r=(this.getScaleForId(i.xAxisID),this.getScaleForId(i.yAxisID)),n=this.getDataset().data[e];if(r.options.stacked){for(var a=0,s=0,o=0;t>o;o++){var l=this.chart.data.datasets[o],d=this.chart.getDatasetMeta(o);d.bar&&d.yAxisID===r.id&&this.chart.isDatasetVisible(o)&&(l.data[e]<0?s+=l.data[e]||0:a+=l.data[e]||0)}return 0>n?r.getPixelForValue(s+n):r.getPixelForValue(a+n)}return r.getPixelForValue(n);
},draw:function(e){var i=e||1;t.each(this.getMeta().data,function(e,t){var r=this.getDataset().data[t];null===r||void 0===r||isNaN(r)||e.transition(i).draw()},this)},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],r=e._index;e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.hoverBackgroundColor,r,t.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:t.getValueAtIndexOrDefault(i.hoverBorderColor,r,t.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:t.getValueAtIndexOrDefault(i.hoverBorderWidth,r,e._model.borderWidth)},removeHoverStyle:function(e){var i=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]}},e.controllers.horizontalBar=e.controllers.bar.extend({updateElement:function(e,i,r,n){var a,s=this.getMeta(),o=this.getScaleForId(s.xAxisID),l=this.getScaleForId(s.yAxisID);a=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),t.extend(e,{_chart:this.chart.chart,_xScale:o,_yScale:l,_datasetIndex:this.index,_index:i,_model:{x:r?a:this.calculateBarX(i,this.index),y:this.calculateBarY(i,this.index),label:this.chart.data.labels[i],datasetLabel:this.getDataset().label,base:r?a:this.calculateBarBase(this.index,i),height:this.calculateBarHeight(n),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),borderSkipped:e.custom&&e.custom.borderSkipped?e.custom.borderSkipped:this.chart.options.elements.rectangle.borderSkipped,borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)},draw:function(){function e(e){return l[(u+e)%4]}var t=this._chart.ctx,i=this._view,r=i.height/2,n=i.y-r,a=i.y+r,s=i.base-(i.base-i.x),o=i.borderWidth/2;i.borderWidth&&(n+=o,a-=o,s+=o),t.beginPath(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth;var l=[[i.base,a],[i.base,n],[s,n],[s,a]],d=["bottom","left","top","right"],u=d.indexOf(i.borderSkipped,0);-1===u&&(u=0),t.moveTo.apply(t,e(0));for(var c=1;4>c;c++)t.lineTo.apply(t,e(c));t.fill(),i.borderWidth&&t.stroke()},inRange:function(e,t){var i=this._view,r=!1;return i&&(r=i.x<i.base?t>=i.y-i.height/2&&t<=i.y+i.height/2&&e>=i.x&&e<=i.base:t>=i.y-i.height/2&&t<=i.y+i.height/2&&e>=i.base&&e<=i.x),r}}),e.pivot()},calculateBarBase:function(e,t){var i=this.getMeta(),r=this.getScaleForId(i.xAxisID),n=(this.getScaleForId(i.yAxisID),0);if(r.options.stacked){var a=this.chart.data.datasets[e].data[t];if(0>a)for(var s=0;e>s;s++){var o=this.chart.data.datasets[s],l=this.chart.getDatasetMeta(s);l.bar&&l.xAxisID===r.id&&this.chart.isDatasetVisible(s)&&(n+=o.data[t]<0?o.data[t]:0)}else for(var d=0;e>d;d++){var u=this.chart.data.datasets[d],c=this.chart.getDatasetMeta(d);c.bar&&c.xAxisID===r.id&&this.chart.isDatasetVisible(d)&&(n+=u.data[t]>0?u.data[t]:0)}return r.getPixelForValue(n)}return n=r.getPixelForValue(r.min),r.beginAtZero||r.min<=0&&r.max>=0||r.min>=0&&r.max<=0?n=r.getPixelForValue(0,0):r.min<0&&r.max<0&&(n=r.getPixelForValue(r.max)),n},getRuler:function(){var e=this.getMeta(),t=(this.getScaleForId(e.xAxisID),this.getScaleForId(e.yAxisID)),i=this.getBarCount(),r=function(){for(var e=t.getPixelForTick(1)-t.getPixelForTick(0),i=2;i<this.getDataset().data.length;i++)e=Math.min(t.getPixelForTick(i)-t.getPixelForTick(i-1),e);return e}.call(this),n=r*t.options.categoryPercentage,a=(r-r*t.options.categoryPercentage)/2,s=n/i;if(t.ticks.length!==this.chart.data.labels.length){var o=t.ticks.length/this.chart.data.labels.length;s*=o}var l=s*t.options.barPercentage,d=s-s*t.options.barPercentage;return{datasetCount:i,tickHeight:r,categoryHeight:n,categorySpacing:a,fullBarHeight:s,barHeight:l,barSpacing:d}},calculateBarHeight:function(){var e=this.getScaleForId(this.getMeta().yAxisID),t=this.getRuler();return e.options.stacked?t.categoryHeight:t.barHeight},calculateBarX:function(e,t){var i=this.getMeta(),r=this.getScaleForId(i.xAxisID),n=(this.getScaleForId(i.yAxisID),this.getDataset().data[e]);if(r.options.stacked){for(var a=0,s=0,o=0;t>o;o++){var l=this.chart.data.datasets[o],d=this.chart.getDatasetMeta(o);d.bar&&d.xAxisID===r.id&&this.chart.isDatasetVisible(o)&&(l.data[e]<0?s+=l.data[e]||0:a+=l.data[e]||0)}return 0>n?r.getPixelForValue(s+n):r.getPixelForValue(a+n)}return r.getPixelForValue(n)},calculateBarY:function(e,t){var i=this.getMeta(),r=this.getScaleForId(i.yAxisID),n=(this.getScaleForId(i.xAxisID),this.getBarIndex(t)),a=this.getRuler(),s=r.getPixelForValue(null,e,t,this.chart.isCombo);return s-=this.chart.isCombo?a.tickHeight/2:0,r.options.stacked?s+a.categoryHeight/2+a.categorySpacing:s+a.barHeight/2+a.categorySpacing+a.barHeight*n+a.barSpacing/2+a.barSpacing*n}})}},{}],16:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(e,t){return""},label:function(e,t){var i=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return i+": ("+r.x+", "+r.y+", "+r.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({addElements:function(){var i=this.getMeta();t.each(this.getDataset().data,function(t,r){i.data[r]=i.data[r]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:r})},this)},addElementAndReset:function(t){var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.getMeta().data.splice(t,0,i),this.updateElement(i,t,!0)},update:function(e){var i,r=this.getMeta(),n=r.data,a=this.getScaleForId(r.yAxisID);this.getScaleForId(r.xAxisID),i=a.min<0&&a.max<0?a.getPixelForValue(a.max):a.min>0&&a.max>0?a.getPixelForValue(a.min):a.getPixelForValue(0),t.each(n,function(t,i){this.updateElement(t,i,e)},this)},updateElement:function(e,i,r){var n,a=this.getMeta(),s=this.getScaleForId(a.yAxisID),o=this.getScaleForId(a.xAxisID);n=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),t.extend(e,{_chart:this.chart.chart,_xScale:o,_yScale:s,_datasetIndex:this.index,_index:i,_model:{x:r?o.getPixelForDecimal(.5):o.getPixelForValue(this.getDataset().data[i],i,this.index,this.chart.isCombo),y:r?n:s.getPixelForValue(this.getDataset().data[i],i,this.index),radius:r?0:e.custom&&e.custom.radius?e.custom.radius:this.getRadius(this.getDataset().data[i]),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.point.backgroundColor),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.point.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.point.borderWidth),hitRadius:e.custom&&e.custom.hitRadius?e.custom.hitRadius:t.getValueAtIndexOrDefault(this.getDataset().hitRadius,i,this.chart.options.elements.point.hitRadius)}}),e._model.skip=e.custom&&e.custom.skip?e.custom.skip:isNaN(e._model.x)||isNaN(e._model.y),e.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},draw:function(e){var i=e||1;t.each(this.getMeta().data,function(e,t){e.transition(i),e.draw()})},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],r=e._index;e._model.radius=e.custom&&e.custom.hoverRadius?e.custom.hoverRadius:t.getValueAtIndexOrDefault(i.hoverRadius,r,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[e._index]),e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.hoverBackgroundColor,r,t.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:t.getValueAtIndexOrDefault(i.hoverBorderColor,r,t.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:t.getValueAtIndexOrDefault(i.hoverBorderWidth,r,e._model.borderWidth)},removeHoverStyle:function(e){var i=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.radius=e.custom&&e.custom.radius?e.custom.radius:this.getRadius(this.getDataset().data[e._index]),e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.point.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.point.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.point.borderWidth)}})}},{}],17:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];if(t.push('<ul class="'+e.id+'-legend">'),e.data.datasets.length)for(var i=0;i<e.data.datasets[0].data.length;++i)t.push('<li><span style="background-color:'+e.data.datasets[0].backgroundColor[i]+'"></span>'),e.data.labels[i]&&t.push(e.data.labels[i]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var i=e.data;return i.labels.length&&i.datasets.length?i.labels.map(function(r,n){var a=e.getDatasetMeta(0),s=i.datasets[0],o=a.data[n],l=o.custom&&o.custom.backgroundColor?o.custom.backgroundColor:t.getValueAtIndexOrDefault(s.backgroundColor,n,this.chart.options.elements.arc.backgroundColor),d=o.custom&&o.custom.borderColor?o.custom.borderColor:t.getValueAtIndexOrDefault(s.borderColor,n,this.chart.options.elements.arc.borderColor),u=o.custom&&o.custom.borderWidth?o.custom.borderWidth:t.getValueAtIndexOrDefault(s.borderWidth,n,this.chart.options.elements.arc.borderWidth);return{text:r,fillStyle:l,strokeStyle:d,lineWidth:u,hidden:isNaN(s.data[n])||a.data[n].hidden,index:n}},this):[]}},onClick:function(e,t){var i,r,n,a=t.index,s=this.chart;for(i=0,r=(s.data.datasets||[]).length;r>i;++i)n=s.getDatasetMeta(i),n.data[a].hidden=!n.data[a].hidden;s.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+t.datasets[e.datasetIndex].data[e.index]}}}},e.defaults.pie=t.clone(e.defaults.doughnut),t.extend(e.defaults.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({linkScales:function(){},addElements:function(){var i=this.getMeta();t.each(this.getDataset().data,function(t,r){i.data[r]=i.data[r]||new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:r})},this)},addElementAndReset:function(i,r){var n=new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i});r&&t.isArray(this.getDataset().backgroundColor)&&this.getDataset().backgroundColor.splice(i,0,r),this.getMeta().data.splice(i,0,n),this.updateElement(n,i,!0)},getRingIndex:function(e){for(var t=0,i=0;e>i;++i)this.chart.isDatasetVisible(i)&&++t;return t},update:function(e){var i=this.chart.chartArea.right-this.chart.chartArea.left-this.chart.options.elements.arc.borderWidth,r=this.chart.chartArea.bottom-this.chart.chartArea.top-this.chart.options.elements.arc.borderWidth,n=Math.min(i,r),a={x:0,y:0};if(this.chart.options.circumference<2*Math.PI){var s=this.chart.options.rotation%(2*Math.PI);s+=2*Math.PI*(s>=Math.PI?-1:s<-Math.PI?1:0);var o=s+this.chart.options.circumference,l={x:Math.cos(s),y:Math.sin(s)},d={x:Math.cos(o),y:Math.sin(o)},u=0>=s&&o>=0||s<=2*Math.PI&&2*Math.PI<=o,c=s<=.5*Math.PI&&.5*Math.PI<=o||s<=2.5*Math.PI&&2.5*Math.PI<=o,h=s<=-Math.PI&&-Math.PI<=o||s<=Math.PI&&Math.PI<=o,p=s<=.5*-Math.PI&&.5*-Math.PI<=o||s<=1.5*Math.PI&&1.5*Math.PI<=o,f=this.chart.options.cutoutPercentage/100,g={x:h?-1:Math.min(l.x*(l.x<0?1:f),d.x*(d.x<0?1:f)),y:p?-1:Math.min(l.y*(l.y<0?1:f),d.y*(d.y<0?1:f))},m={x:u?1:Math.max(l.x*(l.x>0?1:f),d.x*(d.x>0?1:f)),y:c?1:Math.max(l.y*(l.y>0?1:f),d.y*(d.y>0?1:f))},v={width:.5*(m.x-g.x),height:.5*(m.y-g.y)};n=Math.min(i/v.width,r/v.height),a={x:(m.x+g.x)*-.5,y:(m.y+g.y)*-.5}}this.chart.outerRadius=Math.max(n/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.chart.getVisibleDatasetCount(),this.chart.offsetX=a.x*this.chart.outerRadius,this.chart.offsetY=a.y*this.chart.outerRadius,this.getMeta().total=this.calculateTotal(),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.getRingIndex(this.index),this.innerRadius=this.outerRadius-this.chart.radiusLength,t.each(this.getMeta().data,function(t,i){this.updateElement(t,i,e)},this)},updateElement:function(e,i,r){var n=(this.chart.chartArea.left+this.chart.chartArea.right)/2,a=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,s=this.chart.options.rotation,o=this.chart.options.rotation,l=r&&this.chart.options.animation.animateRotate?0:e.hidden?0:this.calculateCircumference(this.getDataset().data[i])*(this.chart.options.circumference/(2*Math.PI)),d=r&&this.chart.options.animation.animateScale?0:this.innerRadius,u=r&&this.chart.options.animation.animateScale?0:this.outerRadius;t.extend(e,{_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_model:{x:n+this.chart.offsetX,y:a+this.chart.offsetY,startAngle:s,endAngle:o,circumference:l,outerRadius:u,innerRadius:d,backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:t.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,i,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:t.getValueAtIndexOrDefault(this.getDataset().label,i,this.chart.data.labels[i])}}),r&&this.chart.options.animation.animateRotate||(0===i?e._model.startAngle=this.chart.options.rotation:e._model.startAngle=this.getMeta().data[i-1]._model.endAngle,e._model.endAngle=e._model.startAngle+e._model.circumference),e.pivot()},draw:function(e){var i=e||1;t.each(this.getMeta().data,function(e,t){e.transition(i).draw()})},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],r=e._index;e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.hoverBackgroundColor,r,t.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:t.getValueAtIndexOrDefault(i.hoverBorderColor,r,t.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:t.getValueAtIndexOrDefault(i.hoverBorderWidth,r,e._model.borderWidth)},removeHoverStyle:function(e){var i=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth)},calculateTotal:function(){var e,i=this.getDataset(),r=this.getMeta(),n=0;return t.each(r.data,function(t,r){e=i.data[r],isNaN(e)||t.hidden||(n+=Math.abs(e))}),n},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0}})}},{}],18:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({addElements:function(){var i=this.getMeta();i.dataset=i.dataset||new e.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:i.data}),t.each(this.getDataset().data,function(t,r){i.data[r]=i.data[r]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:r})},this)},addElementAndReset:function(t){var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.getMeta().data.splice(t,0,i),this.updateElement(i,t,!0),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},update:function(e){var i,r=this.getMeta(),n=r.dataset,a=r.data,s=this.getScaleForId(r.yAxisID);this.getScaleForId(r.xAxisID),i=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),this.chart.options.showLines&&(n._scale=s,n._datasetIndex=this.index,n._children=a,void 0!==this.getDataset().tension&&void 0===this.getDataset().lineTension&&(this.getDataset().lineTension=this.getDataset().tension),n._model={tension:n.custom&&n.custom.tension?n.custom.tension:t.getValueOrDefault(this.getDataset().lineTension,this.chart.options.elements.line.tension),backgroundColor:n.custom&&n.custom.backgroundColor?n.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:n.custom&&n.custom.borderWidth?n.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:n.custom&&n.custom.borderColor?n.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,borderCapStyle:n.custom&&n.custom.borderCapStyle?n.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:n.custom&&n.custom.borderDash?n.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:n.custom&&n.custom.borderDashOffset?n.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:n.custom&&n.custom.borderJoinStyle?n.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,fill:n.custom&&n.custom.fill?n.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:s.top,scaleBottom:s.bottom,scaleZero:i},n.pivot()),t.each(a,function(t,i){this.updateElement(t,i,e)},this),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},getPointBackgroundColor:function(e,i){var r=this.chart.options.elements.point.backgroundColor,n=this.getDataset();return e.custom&&e.custom.backgroundColor?r=e.custom.backgroundColor:n.pointBackgroundColor?r=t.getValueAtIndexOrDefault(n.pointBackgroundColor,i,r):n.backgroundColor&&(r=n.backgroundColor),r},getPointBorderColor:function(e,i){var r=this.chart.options.elements.point.borderColor,n=this.getDataset();return e.custom&&e.custom.borderColor?r=e.custom.borderColor:n.pointBorderColor?r=t.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,r):n.borderColor&&(r=n.borderColor),r},getPointBorderWidth:function(e,i){var r=this.chart.options.elements.point.borderWidth,n=this.getDataset();return e.custom&&void 0!==e.custom.borderWidth?r=e.custom.borderWidth:void 0!==n.pointBorderWidth?r=t.getValueAtIndexOrDefault(n.pointBorderWidth,i,r):void 0!==n.borderWidth&&(r=n.borderWidth),r},updateElement:function(e,i,r){var n,a=this.getMeta(),s=this.getScaleForId(a.yAxisID),o=this.getScaleForId(a.xAxisID);n=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),e._chart=this.chart.chart,e._xScale=o,e._yScale=s,e._datasetIndex=this.index,e._index=i,void 0!==this.getDataset().radius&&void 0===this.getDataset().pointRadius&&(this.getDataset().pointRadius=this.getDataset().radius),void 0!==this.getDataset().hitRadius&&void 0===this.getDataset().pointHitRadius&&(this.getDataset().pointHitRadius=this.getDataset().hitRadius),e._model={x:o.getPixelForValue(this.getDataset().data[i],i,this.index,this.chart.isCombo),y:r?n:this.calculatePointY(this.getDataset().data[i],i,this.index,this.chart.isCombo),radius:e.custom&&e.custom.radius?e.custom.radius:t.getValueAtIndexOrDefault(this.getDataset().pointRadius,i,this.chart.options.elements.point.radius),pointStyle:e.custom&&e.custom.pointStyle?e.custom.pointStyle:t.getValueAtIndexOrDefault(this.getDataset().pointStyle,i,this.chart.options.elements.point.pointStyle),backgroundColor:this.getPointBackgroundColor(e,i),borderColor:this.getPointBorderColor(e,i),borderWidth:this.getPointBorderWidth(e,i),tension:a.dataset._model?a.dataset._model.tension:0,hitRadius:e.custom&&e.custom.hitRadius?e.custom.hitRadius:t.getValueAtIndexOrDefault(this.getDataset().pointHitRadius,i,this.chart.options.elements.point.hitRadius)},e._model.skip=e.custom&&e.custom.skip?e.custom.skip:isNaN(e._model.x)||isNaN(e._model.y)},calculatePointY:function(e,t,i,r){var n=this.getMeta(),a=(this.getScaleForId(n.xAxisID),this.getScaleForId(n.yAxisID));if(a.options.stacked){for(var s=0,o=0,l=0;i>l;l++){var d=this.chart.data.datasets[l],u=this.chart.getDatasetMeta(l);"line"===u.type&&this.chart.isDatasetVisible(l)&&(d.data[t]<0?o+=d.data[t]||0:s+=d.data[t]||0)}return 0>e?a.getPixelForValue(o+e):a.getPixelForValue(s+e)}return a.getPixelForValue(e)},updateBezierControlPoints:function(){var e=this.getMeta();t.each(e.data,function(i,r){var n=t.splineCurve(t.previousItem(e.data,r)._model,i._model,t.nextItem(e.data,r)._model,e.dataset._model.tension);i._model.controlPointPreviousX=Math.max(Math.min(n.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointPreviousY=Math.max(Math.min(n.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i._model.controlPointNextX=Math.max(Math.min(n.next.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointNextY=Math.max(Math.min(n.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i.pivot()},this)},draw:function(e){var i=this.getMeta(),r=e||1;t.each(i.data,function(e){e.transition(r)}),this.chart.options.showLines&&i.dataset.transition(r).draw(),t.each(i.data,function(e){e.draw()})},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],r=e._index;e._model.radius=e.custom&&e.custom.hoverRadius?e.custom.hoverRadius:t.getValueAtIndexOrDefault(i.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,r,t.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:t.getValueAtIndexOrDefault(i.pointHoverBorderColor,r,t.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:t.getValueAtIndexOrDefault(i.pointHoverBorderWidth,r,e._model.borderWidth)},removeHoverStyle:function(e){var i=(this.chart.data.datasets[e._datasetIndex],e._index);void 0!==this.getDataset().radius&&void 0===this.getDataset().pointRadius&&(this.getDataset().pointRadius=this.getDataset().radius),e._model.radius=e.custom&&e.custom.radius?e.custom.radius:t.getValueAtIndexOrDefault(this.getDataset().pointRadius,i,this.chart.options.elements.point.radius),e._model.backgroundColor=this.getPointBackgroundColor(e,i),e._model.borderColor=this.getPointBorderColor(e,i),e._model.borderWidth=this.getPointBorderWidth(e,i)}})}},{}],19:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(e){var t=[];if(t.push('<ul class="'+e.id+'-legend">'),e.data.datasets.length)for(var i=0;i<e.data.datasets[0].data.length;++i)t.push('<li><span style="background-color:'+e.data.datasets[0].backgroundColor[i]+'">'),e.data.labels[i]&&t.push(e.data.labels[i]),t.push("</span></li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var i=e.data;return i.labels.length&&i.datasets.length?i.labels.map(function(r,n){var a=e.getDatasetMeta(0),s=i.datasets[0],o=a.data[n],l=o.custom&&o.custom.backgroundColor?o.custom.backgroundColor:t.getValueAtIndexOrDefault(s.backgroundColor,n,this.chart.options.elements.arc.backgroundColor),d=o.custom&&o.custom.borderColor?o.custom.borderColor:t.getValueAtIndexOrDefault(s.borderColor,n,this.chart.options.elements.arc.borderColor),u=o.custom&&o.custom.borderWidth?o.custom.borderWidth:t.getValueAtIndexOrDefault(s.borderWidth,n,this.chart.options.elements.arc.borderWidth);return{text:r,fillStyle:l,strokeStyle:d,lineWidth:u,hidden:isNaN(s.data[n])||a.data[n].hidden,index:n}},this):[]}},onClick:function(e,t){var i,r,n,a=t.index,s=this.chart;for(i=0,r=(s.data.datasets||[]).length;r>i;++i)n=s.getDatasetMeta(i),n.data[a].hidden=!n.data[a].hidden;s.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({linkScales:function(){},addElements:function(){var i=this.getMeta();t.each(this.getDataset().data,function(t,r){i.data[r]=i.data[r]||new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:r})},this)},addElementAndReset:function(t){var i=new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.getMeta().data.splice(t,0,i),this.updateElement(i,t,!0)},update:function(e){var i=this.getMeta(),r=Math.min(this.chart.chartArea.right-this.chart.chartArea.left,this.chart.chartArea.bottom-this.chart.chartArea.top);this.chart.outerRadius=Math.max((r-this.chart.options.elements.arc.borderWidth/2)/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.chart.getVisibleDatasetCount(),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.index,this.innerRadius=this.outerRadius-this.chart.radiusLength,i.count=this.countVisibleElements(),t.each(i.data,function(t,i){this.updateElement(t,i,e)},this)},updateElement:function(e,i,r){for(var n=this.calculateCircumference(this.getDataset().data[i]),a=(this.chart.chartArea.left+this.chart.chartArea.right)/2,s=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,o=0,l=this.getMeta(),d=0;i>d;++d)isNaN(this.getDataset().data[d])||l.data[d].hidden||++o;var u=e.hidden?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[i]),c=-.5*Math.PI+n*o,h=c+(e.hidden?0:n),p={x:a,y:s,innerRadius:0,outerRadius:this.chart.options.animation.animateScale?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[i]),startAngle:this.chart.options.animation.animateRotate?Math.PI*-.5:c,endAngle:this.chart.options.animation.animateRotate?Math.PI*-.5:h,backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:t.getValueAtIndexOrDefault(this.chart.data.labels,i,this.chart.data.labels[i])};t.extend(e,{_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_scale:this.chart.scale,_model:r?p:{x:a,y:s,innerRadius:0,outerRadius:u,startAngle:c,endAngle:h,backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:t.getValueAtIndexOrDefault(this.chart.data.labels,i,this.chart.data.labels[i])}}),e.pivot()},draw:function(e){var i=e||1;t.each(this.getMeta().data,function(e,t){e.transition(i).draw()})},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],r=e._index;e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.hoverBackgroundColor,r,t.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:t.getValueAtIndexOrDefault(i.hoverBorderColor,r,t.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:t.getValueAtIndexOrDefault(i.hoverBorderWidth,r,e._model.borderWidth)},removeHoverStyle:function(e){var i=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth);
},countVisibleElements:function(){var e=this.getDataset(),i=this.getMeta(),r=0;return t.each(i.data,function(t,i){isNaN(e.data[i])||t.hidden||r++}),r},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({linkScales:function(){},addElements:function(){var i=this.getMeta();i.dataset=i.dataset||new e.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:i.data,_loop:!0}),t.each(this.getDataset().data,function(t,r){i.data[r]=i.data[r]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:r,_model:{x:0,y:0}})},this)},addElementAndReset:function(t){var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.getMeta().data.splice(t,0,i),this.updateElement(i,t,!0),this.updateBezierControlPoints()},update:function(e){var i,r=this.getMeta(),n=r.dataset,a=r.data,s=this.chart.scale;i=s.min<0&&s.max<0?s.getPointPositionForValue(0,s.max):s.min>0&&s.max>0?s.getPointPositionForValue(0,s.min):s.getPointPositionForValue(0,0),void 0!==this.getDataset().tension&&void 0===this.getDataset().lineTension&&(this.getDataset().lineTension=this.getDataset().tension),t.extend(r.dataset,{_datasetIndex:this.index,_children:a,_model:{tension:n.custom&&n.custom.tension?n.custom.tension:t.getValueOrDefault(this.getDataset().lineTension,this.chart.options.elements.line.tension),backgroundColor:n.custom&&n.custom.backgroundColor?n.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:n.custom&&n.custom.borderWidth?n.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:n.custom&&n.custom.borderColor?n.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,fill:n.custom&&n.custom.fill?n.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,borderCapStyle:n.custom&&n.custom.borderCapStyle?n.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:n.custom&&n.custom.borderDash?n.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:n.custom&&n.custom.borderDashOffset?n.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:n.custom&&n.custom.borderJoinStyle?n.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,scaleTop:s.top,scaleBottom:s.bottom,scaleZero:i}}),r.dataset.pivot(),t.each(a,function(t,i){this.updateElement(t,i,e)},this),this.updateBezierControlPoints()},updateElement:function(e,i,r){var n=this.chart.scale.getPointPositionForValue(i,this.getDataset().data[i]);t.extend(e,{_datasetIndex:this.index,_index:i,_scale:this.chart.scale,_model:{x:r?this.chart.scale.xCenter:n.x,y:r?this.chart.scale.yCenter:n.y,tension:e.custom&&e.custom.tension?e.custom.tension:t.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),radius:e.custom&&e.custom.radius?e.custom.radius:t.getValueAtIndexOrDefault(this.getDataset().pointRadius,i,this.chart.options.elements.point.radius),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,i,this.chart.options.elements.point.backgroundColor),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,this.chart.options.elements.point.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,i,this.chart.options.elements.point.borderWidth),pointStyle:e.custom&&e.custom.pointStyle?e.custom.pointStyle:t.getValueAtIndexOrDefault(this.getDataset().pointStyle,i,this.chart.options.elements.point.pointStyle),hitRadius:e.custom&&e.custom.hitRadius?e.custom.hitRadius:t.getValueAtIndexOrDefault(this.getDataset().hitRadius,i,this.chart.options.elements.point.hitRadius)}}),e._model.skip=e.custom&&e.custom.skip?e.custom.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.getMeta();t.each(e.data,function(i,r){var n=t.splineCurve(t.previousItem(e.data,r,!0)._model,i._model,t.nextItem(e.data,r,!0)._model,i._model.tension);i._model.controlPointPreviousX=Math.max(Math.min(n.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointPreviousY=Math.max(Math.min(n.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i._model.controlPointNextX=Math.max(Math.min(n.next.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointNextY=Math.max(Math.min(n.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i.pivot()},this)},draw:function(e){var i=this.getMeta(),r=e||1;t.each(i.data,function(e,t){e.transition(r)}),i.dataset.transition(r).draw(),t.each(i.data,function(e){e.draw()})},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],r=e._index;e._model.radius=e.custom&&e.custom.hoverRadius?e.custom.hoverRadius:t.getValueAtIndexOrDefault(i.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,r,t.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:t.getValueAtIndexOrDefault(i.pointHoverBorderColor,r,t.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:t.getValueAtIndexOrDefault(i.pointHoverBorderWidth,r,e._model.borderWidth)},removeHoverStyle:function(e){var i=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.radius=e.custom&&e.custom.radius?e.custom.radius:t.getValueAtIndexOrDefault(this.getDataset().radius,i,this.chart.options.elements.point.radius),e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:t.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,i,this.chart.options.elements.point.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:t.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,this.chart.options.elements.point.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:t.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,i,this.chart.options.elements.point.borderWidth)}})}},{}],21:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,i,r){r||(e.animating=!0);for(var n=0;n<this.animations.length;++n)if(this.animations[n].chartInstance===e)return void(this.animations[n].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var i=t.findIndex(this.animations,function(t){return t.chartInstance===e});-1!==i&&(this.animations.splice(i,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var i=0;i<this.animations.length;)null===this.animations[i].animationObject.currentStep&&(this.animations[i].animationObject.currentStep=0),this.animations[i].animationObject.currentStep+=1+t,this.animations[i].animationObject.currentStep>this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.currentStep=this.animations[i].animationObject.numSteps),this.animations[i].animationObject.render(this.animations[i].chartInstance,this.animations[i].animationObject),this.animations[i].animationObject.onAnimationProgress&&this.animations[i].animationObject.onAnimationProgress.call&&this.animations[i].animationObject.onAnimationProgress.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].animationObject.currentStep===this.animations[i].animationObject.numSteps?(this.animations[i].animationObject.onAnimationComplete&&this.animations[i].animationObject.onAnimationComplete.call&&this.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].chartInstance.animating=!1,this.animations.splice(i,1)):++i;var r=Date.now(),n=(r-e)/this.frameDuration;this.dropFrames+=n,this.animations.length>0&&this.requestAnimationFrame()}}}},{}],22:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(i){return this.chart=i,this.config=i.config,this.options=this.config.options=t.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=t.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},t.extend(e.Controller.prototype,{initialize:function(){return e.pluginService.notifyPlugins("beforeInit",[this]),this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),e.pluginService.notifyPlugins("afterInit",[this]),this},clear:function(){return t.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var i=this.chart.canvas,r=t.getMaximumWidth(this.chart.canvas),n=this.options.maintainAspectRatio&&isNaN(this.chart.aspectRatio)===!1&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?r/this.chart.aspectRatio:t.getMaximumHeight(this.chart.canvas),a=this.chart.width!==r||this.chart.height!==n;return a?(i.width=this.chart.width=r,i.height=this.chart.height=n,t.retinaScale(this.chart),e||(this.stop(),this.update(this.options.responsiveAnimationDuration)),this):this},ensureScalesHaveIDs:function(){var e="x-axis-",i="y-axis-";this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&t.each(this.options.scales.xAxes,function(t,i){t.id=t.id||e+i}),this.options.scales.yAxes&&this.options.scales.yAxes.length&&t.each(this.options.scales.yAxes,function(e,t){e.id=e.id||i+t}))},buildScales:function(){if(this.scales={},this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&t.each(this.options.scales.xAxes,function(i,r){var n=t.getValueOrDefault(i.type,"category"),a=e.scaleService.getScaleConstructor(n);if(a){var s=new a({ctx:this.chart.ctx,options:i,chart:this,id:i.id});this.scales[s.id]=s}},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&t.each(this.options.scales.yAxes,function(i,r){var n=t.getValueOrDefault(i.type,"linear"),a=e.scaleService.getScaleConstructor(n);if(a){var s=new a({ctx:this.chart.ctx,options:i,chart:this,id:i.id});this.scales[s.id]=s}},this)),this.options.scale){var i=e.scaleService.getScaleConstructor(this.options.scale.type);if(i){var r=new i({ctx:this.chart.ctx,options:this.options.scale,chart:this});this.scale=r,this.scales.radialScale=r}}e.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new e.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),e.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new e.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),e.layoutService.addBox(this,this.legend))},updateLayout:function(){e.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var i=[],r=[];if(t.each(this.data.datasets,function(t,n){var a=this.getDatasetMeta(n);a.type||(a.type=t.type||this.config.type),i.push(a.type),a.controller?a.controller.updateIndex(n):(a.controller=new e.controllers[a.type](this,n),r.push(a.controller))},this),i.length>1)for(var n=1;n<i.length;n++)if(i[n]!==i[n-1]){this.isCombo=!0;break}return r},resetElements:function(){t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.reset()},this)},update:function(i,r){e.pluginService.notifyPlugins("beforeUpdate",[this]),this.tooltip._data=this.data;var n=this.buildOrUpdateControllers();t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.buildOrUpdateElements()},this),e.layoutService.update(this,this.chart.width,this.chart.height),t.each(n,function(e){e.reset()}),t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.update()},this),this.render(i,r),e.pluginService.notifyPlugins("afterUpdate",[this])},render:function(i,r){if(e.pluginService.notifyPlugins("beforeRender",[this]),this.options.animation&&("undefined"!=typeof i&&0!==i||"undefined"==typeof i&&0!==this.options.animation.duration)){var n=new e.Animation;n.numSteps=(i||this.options.animation.duration)/16.66,n.easing=this.options.animation.easing,n.render=function(e,i){var r=t.easingEffects[i.easing],n=i.currentStep/i.numSteps,a=r(n);e.draw(a,n,i.currentStep)},n.onAnimationProgress=this.options.animation.onProgress,n.onAnimationComplete=this.options.animation.onComplete,e.animationService.addAnimation(this,n,i,r)}else this.draw(),this.options.animation&&this.options.animation.onComplete&&this.options.animation.onComplete.call&&this.options.animation.onComplete.call(this);return this},draw:function(i){var r=i||1;this.clear(),e.pluginService.notifyPlugins("beforeDraw",[this,r]),t.each(this.boxes,function(e){e.draw(this.chartArea)},this),this.scale&&this.scale.draw(),this.chart.ctx.save(),this.chart.ctx.beginPath(),this.chart.ctx.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),this.chart.ctx.clip(),t.each(this.data.datasets,function(e,t){this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.draw(i)},this,!0),this.chart.ctx.restore(),this.tooltip.transition(r).draw(),e.pluginService.notifyPlugins("afterDraw",[this,r])},getElementAtEvent:function(e){var i=t.getRelativePosition(e,this.chart),r=[];return t.each(this.data.datasets,function(e,n){if(this.isDatasetVisible(n)){var a=this.getDatasetMeta(n);t.each(a.data,function(e,t){return e.inRange(i.x,i.y)?(r.push(e),r):void 0})}},this),r},getElementsAtEvent:function(e){var i=t.getRelativePosition(e,this.chart),r=[],n=function(){if(this.data.datasets)for(var e=0;e<this.data.datasets.length;e++){var t=this.getDatasetMeta(e);if(this.isDatasetVisible(e))for(var r=0;r<t.data.length;r++)if(t.data[r].inRange(i.x,i.y))return t.data[r]}}.call(this);return n?(t.each(this.data.datasets,function(e,t){if(this.isDatasetVisible(t)){var i=this.getDatasetMeta(t);r.push(i.data[n._index])}},this),r):r},getDatasetAtEvent:function(e){var t=this.getElementAtEvent(e);return t.length>0&&(t=this.getDatasetMeta(t[0]._datasetIndex).data),t},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var i=t._meta[this.id];return i||(i=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,i=this.data.datasets.length;i>t;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),t.unbindEvents(this,this.events),t.removeResizeListener(this.chart.canvas.parentNode);var i=this.chart.canvas;i.width=this.chart.width,i.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),i.style.width=this.chart.originalCanvasStyleWidth,i.style.height=this.chart.originalCanvasStyleHeight,e.pluginService.notifyPlugins("destroy",[this]),delete e.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new e.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){t.bindEvents(this,this.options.events,function(e){this.eventHandler(e)})},eventHandler:function(e){if(this.lastActive=this.lastActive||[],this.lastTooltipActive=this.lastTooltipActive||[],"mouseout"===e.type)this.active=[],this.tooltipActive=[];else{var i=this,r=function(t){switch(t){case"single":return i.getElementAtEvent(e);case"label":return i.getElementsAtEvent(e);case"dataset":return i.getDatasetAtEvent(e);default:return e}};this.active=r(this.options.hover.mode),this.tooltipActive=r(this.options.tooltips.mode)}if(this.options.hover.onHover&&this.options.hover.onHover.call(this,this.active),("mouseup"===e.type||"click"===e.type)&&(this.options.onClick&&this.options.onClick.call(this,e,this.active),this.legend&&this.legend.handleEvent&&this.legend.handleEvent(e)),this.lastActive.length)switch(this.options.hover.mode){case"single":this.getDatasetMeta(this.lastActive[0]._datasetIndex).controller.removeHoverStyle(this.lastActive[0],this.lastActive[0]._datasetIndex,this.lastActive[0]._index);break;case"label":case"dataset":for(var n=0;n<this.lastActive.length;n++)this.lastActive[n]&&this.getDatasetMeta(this.lastActive[n]._datasetIndex).controller.removeHoverStyle(this.lastActive[n],this.lastActive[n]._datasetIndex,this.lastActive[n]._index)}if(this.active.length&&this.options.hover.mode)switch(this.options.hover.mode){case"single":this.getDatasetMeta(this.active[0]._datasetIndex).controller.setHoverStyle(this.active[0]);break;case"label":case"dataset":for(var a=0;a<this.active.length;a++)this.active[a]&&this.getDatasetMeta(this.active[a]._datasetIndex).controller.setHoverStyle(this.active[a])}if((this.options.tooltips.enabled||this.options.tooltips.custom)&&(this.tooltip.initialize(),this.tooltip._active=this.tooltipActive,this.tooltip.update(!0)),this.tooltip.pivot(),!this.animating){var s;t.each(this.active,function(e,t){e!==this.lastActive[t]&&(s=!0)},this),t.each(this.tooltipActive,function(e,t){e!==this.lastTooltipActive[t]&&(s=!0)},this),(this.lastActive.length!==this.active.length||this.lastTooltipActive.length!==this.tooltipActive.length||s)&&(this.stop(),(this.options.tooltips.enabled||this.options.tooltips.custom)&&this.tooltip.update(!0),this.render(this.options.hover.animationDuration,!0))}return this.lastActive=this.active,this.lastTooltipActive=this.tooltipActive,this}})}},{}],23:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i=t.noop;e.DatasetController=function(e,t){this.initialize.call(this,e,t)},t.extend(e.DatasetController.prototype,{initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.getDataset();null===e.xAxisID&&(e.xAxisID=t.xAxisID||this.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=t.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var e=this.getMeta(),t=e.data,i=this.getDataset().data.length,r=t.length;if(r>i)t.splice(i,r-i);else if(i>r)for(var n=r;i>n;++n)this.addElementAndReset(n)},addElements:i,addElementAndReset:i,draw:i,removeHoverStyle:i,setHoverStyle:i,update:i}),e.DatasetController.extend=t.inherits}},{}],24:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=t.clone(this._model)),this._start=t.clone(this._view),this},transition:function(e){return this._view||(this._view=t.clone(this._model)),1===e?(this._view=this._model,this._start=null,this):(this._start||this.pivot(),t.each(this._model,function(i,r){if("_"!==r[0]&&this._model.hasOwnProperty(r))if(this._view.hasOwnProperty(r))if(i===this._view[r]);else if("string"==typeof i)try{var n=t.color(this._start[r]).mix(t.color(this._model[r]),e);this._view[r]=n.rgbString()}catch(a){this._view[r]=i}else if("number"==typeof i){var s=void 0!==this._start[r]&&isNaN(this._start[r])===!1?this._start[r]:0;this._view[r]=(this._model[r]-s)*e+s}else this._view[r]=i;else"number"!=typeof i||isNaN(this._view[r])?this._view[r]=i:this._view[r]=i*e},this),this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},{}],25:[function(e,t,i){"use strict";var r=e("chartjs-color");t.exports=function(e){function t(e,t,i){var r;return"string"==typeof e?(r=parseInt(e,10),-1!=e.indexOf("%")&&(r=r/100*t.parentNode[i])):r=e,r}function i(e,i,r){var n,a=document.defaultView.getComputedStyle(e)[i],s=document.defaultView.getComputedStyle(e.parentNode)[i],o=null!==a&&"none"!==a,l=null!==s&&"none"!==s;return(o||l)&&(n=Math.min(o?t(a,e,r):Number.POSITIVE_INFINITY,l?t(s,e.parentNode,r):Number.POSITIVE_INFINITY)),n}var n=e.helpers={};n.each=function(e,t,i,r){var a,s;if(n.isArray(e))if(s=e.length,r)for(a=s-1;a>=0;a--)t.call(i,e[a],a);else for(a=0;s>a;a++)t.call(i,e[a],a);else if("object"==typeof e){var o=Object.keys(e);for(s=o.length,a=0;s>a;a++)t.call(i,e[o[a]],o[a])}},n.clone=function(e){var t={};return n.each(e,function(i,r){e.hasOwnProperty(r)&&(n.isArray(i)?t[r]=i.slice(0):"object"==typeof i&&null!==i?t[r]=n.clone(i):t[r]=i)}),t},n.extend=function(e){for(var t=arguments.length,i=[],r=1;t>r;r++)i.push(arguments[r]);return n.each(i,function(t){n.each(t,function(i,r){t.hasOwnProperty(r)&&(e[r]=i)})}),e},n.configMerge=function(t){var i=n.clone(t);return n.each(Array.prototype.slice.call(arguments,1),function(t){n.each(t,function(r,a){if(t.hasOwnProperty(a))if("scales"===a)i[a]=n.scaleMerge(i.hasOwnProperty(a)?i[a]:{},r);else if("scale"===a)i[a]=n.configMerge(i.hasOwnProperty(a)?i[a]:{},e.scaleService.getScaleDefaults(r.type),r);else if(i.hasOwnProperty(a)&&n.isArray(i[a])&&n.isArray(r)){var s=i[a];n.each(r,function(e,t){t<s.length?"object"==typeof s[t]&&null!==s[t]&&"object"==typeof e&&null!==e?s[t]=n.configMerge(s[t],e):s[t]=e:s.push(e)})}else i.hasOwnProperty(a)&&"object"==typeof i[a]&&null!==i[a]&&"object"==typeof r?i[a]=n.configMerge(i[a],r):i[a]=r})}),i},n.extendDeep=function(e){function t(e){return n.each(arguments,function(i){i!==e&&n.each(i,function(i,r){e[r]&&e[r].constructor&&e[r].constructor===Object?t(e[r],i):e[r]=i})}),e}return t.apply(this,arguments)},n.scaleMerge=function(t,i){var r=n.clone(t);return n.each(i,function(t,a){i.hasOwnProperty(a)&&("xAxes"===a||"yAxes"===a?r.hasOwnProperty(a)?n.each(t,function(t,i){var s=n.getValueOrDefault(t.type,"xAxes"===a?"category":"linear"),o=e.scaleService.getScaleDefaults(s);i>=r[a].length||!r[a][i].type?r[a].push(n.configMerge(o,t)):t.type&&t.type!==r[a][i].type?r[a][i]=n.configMerge(r[a][i],o,t):r[a][i]=n.configMerge(r[a][i],t)}):(r[a]=[],n.each(t,function(t){var i=n.getValueOrDefault(t.type,"xAxes"===a?"category":"linear");r[a].push(n.configMerge(e.scaleService.getScaleDefaults(i),t))})):r.hasOwnProperty(a)&&"object"==typeof r[a]&&null!==r[a]&&"object"==typeof t?r[a]=n.configMerge(r[a],t):r[a]=t)}),r},n.getValueAtIndexOrDefault=function(e,t,i){return void 0===e||null===e?i:n.isArray(e)?t<e.length?e[t]:i:e},n.getValueOrDefault=function(e,t){return void 0===e?t:e},n.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},n.where=function(e,t){var i=[];return n.each(e,function(e){t(e)&&i.push(e)}),i},n.findIndex=function(e,t,i){var r=-1;if(Array.prototype.findIndex)r=e.findIndex(t,i);else for(var n=0;n<e.length;++n)if(i=void 0!==i?i:e,t.call(i,e[n],n,e)){r=n;break}return r},n.findNextWhere=function(e,t,i){(void 0===i||null===i)&&(i=-1);for(var r=i+1;r<e.length;r++){var n=e[r];if(t(n))return n}},n.findPreviousWhere=function(e,t,i){(void 0===i||null===i)&&(i=e.length);for(var r=i-1;r>=0;r--){var n=e[r];if(t(n))return n}},n.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=i};return r.prototype=t.prototype,i.prototype=new r,i.extend=n.inherits,e&&n.extend(i.prototype,e),i.__super__=t.prototype,i},n.noop=function(){},n.uid=function(){var e=0;return function(){return e++}}(),n.warn=function(e){console&&"function"==typeof console.warn&&console.warn(e)},n.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.almostEquals=function(e,t,i){return Math.abs(e-t)<i},n.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},n.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},n.sign=function(e){return Math.sign?Math.sign(e):(e=+e,0===e||isNaN(e)?e:e>0?1:-1)},n.log10=function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10},n.toRadians=function(e){return e*(Math.PI/180)},n.toDegrees=function(e){return e*(180/Math.PI)},n.getAngleFromPoint=function(e,t){var i=t.x-e.x,r=t.y-e.y,n=Math.sqrt(i*i+r*r),a=Math.atan2(r,i);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:n}},n.aliasPixel=function(e){return e%2===0?0:.5},n.splineCurve=function(e,t,i,r){var n=e.skip?t:e,a=t,s=i.skip?t:i,o=Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2)),l=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2)),d=o/(o+l),u=l/(o+l);d=isNaN(d)?0:d,u=isNaN(u)?0:u;var c=r*d,h=r*u;return{previous:{x:a.x-c*(s.x-n.x),y:a.y-c*(s.y-n.y)},next:{x:a.x+h*(s.x-n.x),y:a.y+h*(s.y-n.y)}}},n.nextItem=function(e,t,i){return i?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},n.previousItem=function(e,t,i){return i?0>=t?e[e.length-1]:e[t-1]:0>=t?e[0]:e[t-1]},n.niceNum=function(e,t){var i,r=Math.floor(n.log10(e)),a=e/Math.pow(10,r);return i=t?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10,i*Math.pow(10,r)};var a=n.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,r=1;return 0===e?0:1===(e/=1)?1:(i||(i=.3),r<Math.abs(1)?(r=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)))},easeOutElastic:function(e){var t=1.70158,i=0,r=1;return 0===e?0:1===(e/=1)?1:(i||(i=.3),r<Math.abs(1)?(r=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,r=1;return 0===e?0:2===(e/=.5)?1:(i||(i=1*(.3*1.5)),r<Math.abs(1)?(r=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/r),1>e?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)):r*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-a.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*(7.5625*e*e):2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*a.easeInBounce(2*e):.5*a.easeOutBounce(2*e-1)+.5}};n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),n.getRelativePosition=function(e,t){var i,r,a=e.originalEvent||e,s=e.currentTarget||e.srcElement,o=s.getBoundingClientRect();a.touches&&a.touches.length>0?(i=a.touches[0].clientX,r=a.touches[0].clientY):(i=a.clientX,r=a.clientY);var l=parseFloat(n.getStyle(s,"padding-left")),d=parseFloat(n.getStyle(s,"padding-top")),u=parseFloat(n.getStyle(s,"padding-right")),c=parseFloat(n.getStyle(s,"padding-bottom")),h=o.right-o.left-l-u,p=o.bottom-o.top-d-c;return i=Math.round((i-o.left-l)/h*s.width/t.currentDevicePixelRatio),r=Math.round((r-o.top-d)/p*s.height/t.currentDevicePixelRatio),{x:i,y:r}},n.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},n.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=n.noop},n.bindEvents=function(e,t,i){e.events||(e.events={}),n.each(t,function(t){e.events[t]=function(){i.apply(e,arguments)},n.addEvent(e.chart.canvas,t,e.events[t])})},n.unbindEvents=function(e,t){n.each(t,function(t,i){n.removeEvent(e.chart.canvas,i,t)})},n.getConstraintWidth=function(e){return i(e,"max-width","clientWidth")},n.getConstraintHeight=function(e){return i(e,"max-height","clientHeight")},n.getMaximumWidth=function(e){var t=e.parentNode,i=parseInt(n.getStyle(t,"padding-left"))+parseInt(n.getStyle(t,"padding-right")),r=t.clientWidth-i,a=n.getConstraintWidth(e);return void 0!==a&&(r=Math.min(r,a)),r},n.getMaximumHeight=function(e){var t=e.parentNode,i=parseInt(n.getStyle(t,"padding-top"))+parseInt(n.getStyle(t,"padding-bottom")),r=t.clientHeight-i,a=n.getConstraintHeight(e);return void 0!==a&&(r=Math.min(r,a)),r},n.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},n.retinaScale=function(e){var t=e.ctx,i=e.canvas.width,r=e.canvas.height,n=e.currentDevicePixelRatio=window.devicePixelRatio||1;
1!==n&&(t.canvas.height=r*n,t.canvas.width=i*n,t.scale(n,n),e.originalDevicePixelRatio=e.originalDevicePixelRatio||n),t.canvas.style.width=i+"px",t.canvas.style.height=r+"px"},n.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},n.fontString=function(e,t,i){return t+" "+e+"px "+i},n.longestText=function(e,t,i,r){r=r||{},r.data=r.data||{},r.garbageCollect=r.garbageCollect||[],r.font!==t&&(r.data={},r.garbageCollect=[],r.font=t),e.font=t;var a=0;n.each(i,function(t){if(void 0!==t&&null!==t){var i=r.data[t];i||(i=r.data[t]=e.measureText(t).width,r.garbageCollect.push(t)),i>a&&(a=i)}});var s=r.garbageCollect.length/2;if(s>i.length){for(var o=0;s>o;o++)delete r.data[r.garbageCollect[o]];r.garbageCollect.splice(0,s)}return a},n.drawRoundedRectangle=function(e,t,i,r,n,a){e.beginPath(),e.moveTo(t+a,i),e.lineTo(t+r-a,i),e.quadraticCurveTo(t+r,i,t+r,i+a),e.lineTo(t+r,i+n-a),e.quadraticCurveTo(t+r,i+n,t+r-a,i+n),e.lineTo(t+a,i+n),e.quadraticCurveTo(t,i+n,t,i+n-a),e.lineTo(t,i+a),e.quadraticCurveTo(t,i,t+a,i),e.closePath()},n.color=function(t){return r?r(t instanceof CanvasGradient?e.defaults.global.defaultColor:t):(console.log("Color.js not found!"),t)},n.addResizeListener=function(e,t){var i=document.createElement("iframe"),r="chartjs-hidden-iframe";i.classlist?i.classlist.add(r):i.setAttribute("class",r),i.style.width="100%",i.style.display="block",i.style.border=0,i.style.height=0,i.style.margin=0,i.style.position="absolute",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,e.insertBefore(i,e.firstChild),(i.contentWindow||i).onresize=function(){t&&t()}},n.removeResizeListener=function(e){var t=e.querySelector(".chartjs-hidden-iframe");t&&t.parentNode.removeChild(t)},n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},n.pushAllIfDefined=function(e,t){"undefined"!=typeof e&&(n.isArray(e)?t.push.apply(t,e):t.push(e))},n.callCallback=function(e,t,i){e&&"function"==typeof e.call&&e.apply(i,t)}}},{"chartjs-color":3}],26:[function(e,t,i){"use strict";t.exports=function(){var e=function(t,i){this.config=i,t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),this.ctx=t,this.canvas=t.canvas,this.width=t.canvas.width||parseInt(e.helpers.getStyle(t.canvas,"width"))||e.helpers.getMaximumWidth(t.canvas),this.height=t.canvas.height||parseInt(e.helpers.getStyle(t.canvas,"height"))||e.helpers.getMaximumHeight(t.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||isFinite(this.aspectRatio)===!1)&&(this.aspectRatio=void 0!==i.aspectRatio?i.aspectRatio:2),this.originalCanvasStyleWidth=t.canvas.style.width,this.originalCanvasStyleHeight=t.canvas.style.height,e.helpers.retinaScale(this),i&&(this.controller=new e.Controller(this));var r=this;return e.helpers.addResizeListener(t.canvas.parentNode,function(){r.controller&&r.controller.config.options.responsive&&r.controller.resize()}),this.controller?this.controller:this};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var i=0;i<e.data.datasets.length;i++)t.push('<li><span style="background-color:'+e.data.datasets[i].backgroundColor+'"></span>'),e.data.datasets[i].label&&t.push(e.data.datasets[i].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e}},{}],27:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(e,i,r){function n(e){var t,i=e.isHorizontal();i?(t=e.update(e.options.fullWidth?g:x,y),w-=t.height):(t=e.update(_,b),x-=t.width),k.push({horizontal:i,minSize:t,box:e})}function a(e){var i=t.findNextWhere(k,function(t){return t.box===e});if(i)if(e.isHorizontal()){var r={left:j,right:C,top:0,bottom:0};e.update(e.options.fullWidth?g:x,m/2,r)}else e.update(i.minSize.width,w)}function s(e){var i=t.findNextWhere(k,function(t){return t.box===e}),r={left:0,right:0,top:D,bottom:S};i&&e.update(i.minSize.width,w,r)}function o(e){e.isHorizontal()?(e.left=e.options.fullWidth?l:j,e.right=e.options.fullWidth?i-l:j+x,e.top=A,e.bottom=A+e.height,A=e.bottom):(e.left=P,e.right=P+e.width,e.top=D,e.bottom=D+w,P=e.right)}if(e){var l=0,d=0,u=t.where(e.boxes,function(e){return"left"===e.options.position}),c=t.where(e.boxes,function(e){return"right"===e.options.position}),h=t.where(e.boxes,function(e){return"top"===e.options.position}),p=t.where(e.boxes,function(e){return"bottom"===e.options.position}),f=t.where(e.boxes,function(e){return"chartArea"===e.options.position});h.sort(function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)}),p.sort(function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)});var g=i-2*l,m=r-2*d,v=g/2,b=m/2,_=(i-v)/(u.length+c.length),y=(r-b)/(h.length+p.length),x=g,w=m,k=[];t.each(u.concat(c,h,p),n);var j=l,C=l,D=d,S=d;t.each(u.concat(c),a),t.each(u,function(e){j+=e.width}),t.each(c,function(e){C+=e.width}),t.each(h.concat(p),a),t.each(h,function(e){D+=e.height}),t.each(p,function(e){S+=e.height}),t.each(u.concat(c),s),j=l,C=l,D=d,S=d,t.each(u,function(e){j+=e.width}),t.each(c,function(e){C+=e.width}),t.each(h,function(e){D+=e.height}),t.each(p,function(e){S+=e.height});var T=r-D-S,I=i-j-C;(I!==x||T!==w)&&(t.each(u,function(e){e.height=T}),t.each(c,function(e){e.height=T}),t.each(h,function(e){e.options.fullWidth||(e.width=I)}),t.each(p,function(e){e.options.fullWidth||(e.width=I)}),w=T,x=I);var P=l,A=d;t.each(u.concat(h),o),P+=x,A+=w,t.each(c,o),t.each(p,o),e.chartArea={left:j,top:D,right:j+x,bottom:D+w},t.each(f,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(x,w)})}}}}},{}],28:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i=t.noop;e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var i=t.datasetIndex,r=this.chart,n=r.getDatasetMeta(i);n.hidden=null===n.hidden?!r.data.datasets[i].hidden:null,r.update()},labels:{boxWidth:40,padding:10,generateLabels:function(e){var i=e.data;return t.isArray(i.datasets)?i.datasets.map(function(t,i){return{text:t.label,fillStyle:t.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,datasetIndex:i}},this):[]}}},e.Legend=e.Element.extend({initialize:function(e){t.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:i,update:function(e,t,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:i,beforeFit:i,fit:function(){var i=this.options,r=i.labels,n=i.display,a=this.ctx,s=e.defaults.global,o=t.getValueOrDefault,l=o(r.fontSize,s.defaultFontSize),d=o(r.fontStyle,s.defaultFontStyle),u=o(r.fontFamily,s.defaultFontFamily),c=t.fontString(l,d,u),h=this.legendHitBoxes=[],p=this.minSize,f=this.isHorizontal();if(f?(p.width=this.maxWidth,p.height=n?10:0):(p.width=n?10:0,p.height=this.maxHeight),n&&f){var g=this.lineWidths=[0],m=this.legendItems.length?l+r.padding:0;a.textAlign="left",a.textBaseline="top",a.font=c,t.each(this.legendItems,function(e,t){var i=r.boxWidth+l/2+a.measureText(e.text).width;g[g.length-1]+i+r.padding>=this.width&&(m+=l+r.padding,g[g.length]=this.left),h[t]={left:0,top:0,width:i,height:l},g[g.length-1]+=i+r.padding},this),p.height+=m}this.width=p.width,this.height=p.height},afterFit:i,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var i=this.options,r=i.labels,n=e.defaults.global,a=n.elements.line,s=this.width,o=this.lineWidths;if(i.display){var l=this.ctx,d={x:this.left+(s-o[0])/2,y:this.top+r.padding,line:0},u=t.getValueOrDefault,c=u(r.fontColor,n.defaultFontColor),h=u(r.fontSize,n.defaultFontSize),p=u(r.fontStyle,n.defaultFontStyle),f=u(r.fontFamily,n.defaultFontFamily),g=t.fontString(h,p,f);if(this.isHorizontal()){l.textAlign="left",l.textBaseline="top",l.lineWidth=.5,l.strokeStyle=c,l.fillStyle=c,l.font=g;var m=r.boxWidth,v=this.legendHitBoxes;t.each(this.legendItems,function(e,t){var i=l.measureText(e.text).width,c=m+h/2+i,p=d.x,f=d.y;p+c>=s&&(f=d.y+=h+r.padding,d.line++,p=d.x=this.left+(s-o[d.line])/2),l.save(),l.fillStyle=u(e.fillStyle,n.defaultColor),l.lineCap=u(e.lineCap,a.borderCapStyle),l.lineDashOffset=u(e.lineDashOffset,a.borderDashOffset),l.lineJoin=u(e.lineJoin,a.borderJoinStyle),l.lineWidth=u(e.lineWidth,a.borderWidth),l.strokeStyle=u(e.strokeStyle,n.defaultColor),l.setLineDash&&l.setLineDash(u(e.lineDash,a.borderDash)),l.strokeRect(p,f,m,h),l.fillRect(p,f,m,h),l.restore(),v[t].left=p,v[t].top=f,l.fillText(e.text,m+h/2+p,f),e.hidden&&(l.beginPath(),l.lineWidth=2,l.moveTo(m+h/2+p,f+h/2),l.lineTo(m+h/2+p+i,f+h/2),l.stroke()),d.x+=c+r.padding},this)}}},handleEvent:function(e){var i=t.getRelativePosition(e,this.chart.chart),r=i.x,n=i.y,a=this.options;if(r>=this.left&&r<=this.right&&n>=this.top&&n<=this.bottom)for(var s=this.legendHitBoxes,o=0;o<s.length;++o){var l=s[o];if(r>=l.left&&r<=l.left+l.width&&n>=l.top&&n<=l.top+l.height){a.onClick&&a.onClick.call(this,e,this.legendItems[o]);break}}}})}},{}],29:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.plugins=[],e.pluginService={register:function(t){var i=e.plugins;-1===i.indexOf(t)&&i.push(t)},remove:function(t){var i=e.plugins,r=i.indexOf(t);-1!==r&&i.splice(r,1)},notifyPlugins:function(i,r,n){t.each(e.plugins,function(e){e[i]&&"function"==typeof e[i]&&e[i].apply(n,r)},n)}};var i=t.noop;e.PluginBase=e.Element.extend({beforeInit:i,afterInit:i,beforeUpdate:i,afterUpdate:i,beforeDraw:i,afterDraw:i,destroy:i})}},{}],30:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,callback:function(e){return""+e}}},e.Scale=e.Element.extend({beforeUpdate:function(){t.callCallback(this.options.beforeUpdate,[this])},update:function(e,i,r){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this.margins=t.extend({left:0,right:0,top:0,bottom:0},r),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){t.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){t.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(){t.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){t.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(e,t,i){return this.options.ticks.userCallback?this.options.ticks.userCallback(e,t,i):this.options.ticks.callback(e,t,i)},this)},afterTickToLabelConversion:function(){t.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var i=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),r=t.getValueOrDefault(this.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),n=t.getValueOrDefault(this.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),a=t.fontString(i,r,n);this.ctx.font=a;var s,o=this.ctx.measureText(this.ticks[0]).width,l=this.ctx.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=l/2+3,this.paddingLeft=o/2+3,this.longestTextCache||(this.longestTextCache={});for(var d,u,c=t.longestText(this.ctx,a,this.ticks,this.longestTextCache),h=c,p=this.getPixelForTick(1)-this.getPixelForTick(0)-6;h>p&&this.labelRotation<this.options.ticks.maxRotation;){if(d=Math.cos(t.toRadians(this.labelRotation)),u=Math.sin(t.toRadians(this.labelRotation)),s=d*o,s+i/2>this.yLabelWidth&&(this.paddingLeft=s+i/2),this.paddingRight=i/2,u*c>this.maxHeight){this.labelRotation--;break}this.labelRotation++,h=d*c}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){t.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callCallback(this.options.beforeFit,[this])},fit:function(){this.minSize={width:0,height:0};var i=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),r=t.getValueOrDefault(this.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),n=t.getValueOrDefault(this.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),a=t.fontString(i,r,n),s=t.getValueOrDefault(this.options.scaleLabel.fontSize,e.defaults.global.defaultFontSize),o=t.getValueOrDefault(this.options.scaleLabel.fontStyle,e.defaults.global.defaultFontStyle),l=t.getValueOrDefault(this.options.scaleLabel.fontFamily,e.defaults.global.defaultFontFamily);if(t.fontString(s,o,l),this.isHorizontal()?this.minSize.width=this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:this.minSize.width=this.options.gridLines.tickMarkLength,this.isHorizontal()?this.minSize.height=this.options.gridLines.tickMarkLength:this.minSize.height=this.maxHeight,this.options.scaleLabel.display&&(this.isHorizontal()?this.minSize.height+=1.5*s:this.minSize.width+=1.5*s),this.options.ticks.display&&this.options.display){this.longestTextCache||(this.longestTextCache={});var d=t.longestText(this.ctx,a,this.ticks,this.longestTextCache);if(this.isHorizontal()){this.longestLabelWidth=d;var u=Math.sin(t.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*i;this.minSize.height=Math.min(this.maxHeight,this.minSize.height+u),this.ctx.font=a;var c=this.ctx.measureText(this.ticks[0]).width,h=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,p=Math.cos(t.toRadians(this.labelRotation)),f=Math.sin(t.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?p*c+3:c/2+3,this.paddingRight=0!==this.labelRotation?f*(i/2)+3:h/2+3}else{var g=this.maxWidth-this.minSize.width;this.options.ticks.mirror||(d+=this.options.ticks.padding),g>d?this.minSize.width+=d:this.minSize.width=this.maxWidth,this.paddingTop=i/2,this.paddingBottom=i/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:function(){t.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function i(e){return null===e||"undefined"==typeof e?NaN:"number"==typeof e&&isNaN(e)?NaN:"object"==typeof e?e instanceof Date?e:i(this.isHorizontal()?e.x:e.y):e},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(e,t){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),r=i/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),n=r*e+this.paddingLeft;t&&(n+=r/2);var a=this.left+Math.round(n);return a+=this.isFullWidth()?this.margins.left:0}var s=this.height-(this.paddingTop+this.paddingBottom);return this.top+e*(s/(this.ticks.length-1))},getPixelForDecimal:function(e){if(this.isHorizontal()){var t=this.width-(this.paddingLeft+this.paddingRight),i=t*e+this.paddingLeft,r=this.left+Math.round(i);return r+=this.isFullWidth()?this.margins.left:0}return this.top+e*this.height},draw:function(i){if(this.options.display){var r,n,a,s,o,l=0!==this.labelRotation,d=this.options.ticks.autoSkip;this.options.ticks.maxTicksLimit&&(o=this.options.ticks.maxTicksLimit);var u=t.getValueOrDefault(this.options.ticks.fontColor,e.defaults.global.defaultFontColor),c=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),h=t.getValueOrDefault(this.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),p=t.getValueOrDefault(this.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),f=t.fontString(c,h,p),g=this.options.gridLines.tickMarkLength,m=t.getValueOrDefault(this.options.scaleLabel.fontColor,e.defaults.global.defaultFontColor),v=t.getValueOrDefault(this.options.scaleLabel.fontSize,e.defaults.global.defaultFontSize),b=t.getValueOrDefault(this.options.scaleLabel.fontStyle,e.defaults.global.defaultFontStyle),_=t.getValueOrDefault(this.options.scaleLabel.fontFamily,e.defaults.global.defaultFontFamily),y=t.fontString(v,b,_),x=Math.cos(t.toRadians(this.labelRotation)),w=(Math.sin(t.toRadians(this.labelRotation)),this.longestLabelWidth*x);if(this.ctx.fillStyle=u,this.isHorizontal()){r=!0;var k="bottom"===this.options.position?this.top:this.bottom-g,j="bottom"===this.options.position?this.top+g:this.bottom;if(n=!1,(w/2+this.options.ticks.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(n=1+Math.floor((w/2+this.options.ticks.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),o&&this.ticks.length>o)for(;!n||this.ticks.length/(n||1)>o;)n||(n=1),n+=1;d||(n=!1),t.each(this.ticks,function(e,a){var s=this.ticks.length===a+1,o=n>1&&a%n>0||a%n===0&&a+n>this.ticks.length;if((!o||s)&&void 0!==e&&null!==e){var d=this.getPixelForTick(a),u=this.getPixelForTick(a,this.options.gridLines.offsetGridLines);this.options.gridLines.display&&(a===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,r=!0):r&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,r=!1),d+=t.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(d,k),this.ctx.lineTo(d,j)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(d,i.top),this.ctx.lineTo(d,i.bottom)),this.ctx.stroke()),this.options.ticks.display&&(this.ctx.save(),this.ctx.translate(u,l?this.top+12:"top"===this.options.position?this.bottom-g:this.top+g),this.ctx.rotate(-1*t.toRadians(this.labelRotation)),this.ctx.font=f,this.ctx.textAlign=l?"right":"center",this.ctx.textBaseline=l?"middle":"top"===this.options.position?"bottom":"top",this.ctx.fillText(e,0,0),this.ctx.restore())}},this),this.options.scaleLabel.display&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=m,this.ctx.font=y,a=this.left+(this.right-this.left)/2,s="bottom"===this.options.position?this.bottom-v/2:this.top+v/2,this.ctx.fillText(this.options.scaleLabel.labelString,a,s))}else{r=!0;var C="right"===this.options.position?this.left:this.right-5,D="right"===this.options.position?this.left+5:this.right;if(t.each(this.ticks,function(e,n){if(void 0!==e&&null!==e){var a=this.getPixelForTick(n);if(this.options.gridLines.display&&(n===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,r=!0):r&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,r=!1),a+=t.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(C,a),this.ctx.lineTo(D,a)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(i.left,a),this.ctx.lineTo(i.right,a)),this.ctx.stroke()),this.options.ticks.display){var s,o=this.getPixelForTick(n,this.options.gridLines.offsetGridLines);this.ctx.save(),"left"===this.options.position?this.options.ticks.mirror?(s=this.right+this.options.ticks.padding,this.ctx.textAlign="left"):(s=this.right-this.options.ticks.padding,this.ctx.textAlign="right"):this.options.ticks.mirror?(s=this.left-this.options.ticks.padding,this.ctx.textAlign="right"):(s=this.left+this.options.ticks.padding,this.ctx.textAlign="left"),this.ctx.translate(s,o),this.ctx.rotate(-1*t.toRadians(this.labelRotation)),this.ctx.font=f,this.ctx.textBaseline="middle",this.ctx.fillText(e,0,0),this.ctx.restore()}}},this),this.options.scaleLabel.display){a="left"===this.options.position?this.left+v/2:this.right-v/2,s=this.top+(this.bottom-this.top)/2;var S="left"===this.options.position?-.5*Math.PI:.5*Math.PI;this.ctx.save(),this.ctx.translate(a,s),this.ctx.rotate(S),this.ctx.textAlign="center",this.ctx.fillStyle=m,this.ctx.font=y,this.ctx.textBaseline="middle",this.ctx.fillText(this.options.scaleLabel.labelString,0,0),this.ctx.restore()}}this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color;var T=this.left,I=this.right,P=this.top,A=this.bottom;this.isHorizontal()?(P=A="top"===this.options.position?this.bottom:this.top,P+=t.aliasPixel(this.ctx.lineWidth),A+=t.aliasPixel(this.ctx.lineWidth)):(T=I="left"===this.options.position?this.right:this.left,T+=t.aliasPixel(this.ctx.lineWidth),I+=t.aliasPixel(this.ctx.lineWidth)),this.ctx.beginPath(),this.ctx.moveTo(T,P),this.ctx.lineTo(I,A),this.ctx.stroke()}}})}},{}],31:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,i,r){this.constructors[e]=i,this.defaults[e]=t.clone(r)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(i){return this.defaults.hasOwnProperty(i)?t.scaleMerge(e.defaults.scale,this.defaults[i]):{}},addScalesToLayout:function(i){t.each(i.scales,function(t){e.layoutService.addBox(i,t)})}}}},{}],32:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var i=t.noop;e.Title=e.Element.extend({initialize:function(i){t.extend(this,i),this.options=t.configMerge(e.defaults.global.title,i.options),this.legendHitBoxes=[]},beforeUpdate:i,update:function(e,t,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:i,afterBuildLabels:i,beforeFit:i,fit:function(){var i=(this.ctx,t.getValueOrDefault),r=this.options,n=e.defaults.global,a=r.display,s=i(r.fontSize,n.defaultFontSize),o=this.minSize;this.isHorizontal()?(o.width=this.maxWidth,o.height=a?s+2*r.padding:0):(o.width=a?s+2*r.padding:0,o.height=this.maxHeight),this.width=o.width,this.height=o.height},afterFit:i,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var i=this.ctx,r=t.getValueOrDefault,n=this.options,a=e.defaults.global;if(n.display){var s,o,l=r(n.fontSize,a.defaultFontSize),d=r(n.fontStyle,a.defaultFontStyle),u=r(n.fontFamily,a.defaultFontFamily),c=t.fontString(l,d,u),h=0;i.fillStyle=r(n.fontColor,a.defaultFontColor),i.font=c,this.isHorizontal()?(s=this.left+(this.right-this.left)/2,o=this.top+(this.bottom-this.top)/2):(s="left"===n.position?this.left+l/2:this.right-l/2,o=this.top+(this.bottom-this.top)/2,h=Math.PI*("left"===n.position?-.5:.5)),i.save(),i.translate(s,o),i.rotate(h),i.textAlign="center",i.textBaseline="middle",i.fillText(n.text,0,0),i.restore()}}})}},{}],33:[function(e,t,i){"use strict";t.exports=function(e){function t(e,t){return t&&(i.isArray(t)?e=e.concat(t):e.push(t)),e}var i=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:i.noop,title:function(e,t){var i="";return e.length>0&&(e[0].xLabel?i=e[0].xLabel:t.labels.length>0&&e[0].index<t.labels.length&&(i=t.labels[e[0].index])),i},afterTitle:i.noop,beforeBody:i.noop,beforeLabel:i.noop,label:function(e,t){var i=t.datasets[e.datasetIndex].label||"";return i+": "+e.yLabel},afterLabel:i.noop,afterBody:i.noop,beforeFooter:i.noop,footer:i.noop,afterFooter:i.noop}},e.Tooltip=e.Element.extend({initialize:function(){var t=this._options;i.extend(this,{_model:{xPadding:t.tooltips.xPadding,yPadding:t.tooltips.yPadding,xAlign:t.tooltips.yAlign,yAlign:t.tooltips.xAlign,bodyColor:t.tooltips.bodyColor,_bodyFontFamily:i.getValueOrDefault(t.tooltips.bodyFontFamily,e.defaults.global.defaultFontFamily),_bodyFontStyle:i.getValueOrDefault(t.tooltips.bodyFontStyle,e.defaults.global.defaultFontStyle),_bodyAlign:t.tooltips.bodyAlign,bodyFontSize:i.getValueOrDefault(t.tooltips.bodyFontSize,e.defaults.global.defaultFontSize),bodySpacing:t.tooltips.bodySpacing,titleColor:t.tooltips.titleColor,_titleFontFamily:i.getValueOrDefault(t.tooltips.titleFontFamily,e.defaults.global.defaultFontFamily),_titleFontStyle:i.getValueOrDefault(t.tooltips.titleFontStyle,e.defaults.global.defaultFontStyle),titleFontSize:i.getValueOrDefault(t.tooltips.titleFontSize,e.defaults.global.defaultFontSize),_titleAlign:t.tooltips.titleAlign,titleSpacing:t.tooltips.titleSpacing,titleMarginBottom:t.tooltips.titleMarginBottom,footerColor:t.tooltips.footerColor,_footerFontFamily:i.getValueOrDefault(t.tooltips.footerFontFamily,e.defaults.global.defaultFontFamily),_footerFontStyle:i.getValueOrDefault(t.tooltips.footerFontStyle,e.defaults.global.defaultFontStyle),footerFontSize:i.getValueOrDefault(t.tooltips.footerFontSize,e.defaults.global.defaultFontSize),_footerAlign:t.tooltips.footerAlign,footerSpacing:t.tooltips.footerSpacing,footerMarginTop:t.tooltips.footerMarginTop,caretSize:t.tooltips.caretSize,cornerRadius:t.tooltips.cornerRadius,backgroundColor:t.tooltips.backgroundColor,opacity:0,legendColorBackground:t.tooltips.multiKeyBackground}})},getTitle:function(){var e=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),i=this._options.tooltips.callbacks.title.apply(this,arguments),r=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),n=[];return n=t(n,e),n=t(n,i),n=t(n,r)},getBeforeBody:function(){var e=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var r=[];return i.each(e,function(e){i.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,e,t),r),i.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,e,t),r),i.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,e,t),r)},this),r},getAfterBody:function(){var e=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),i=this._options.tooltips.callbacks.footer.apply(this,arguments),r=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),n=[];return n=t(n,e),n=t(n,i),n=t(n,r)},getAveragePosition:function(e){if(!e.length)return!1;var t=[],r=[];i.each(e,function(e){if(e){var i=e.tooltipPosition();t.push(i.x),r.push(i.y)}});for(var n=0,a=0,s=0;s<t.length;s++)n+=t[s],a+=r[s];return{x:Math.round(n/t.length),y:Math.round(a/t.length)}},update:function(e){if(this._active.length){this._model.opacity=1;var t,r=this._active[0],n=[],a=[];if("single"===this._options.tooltips.mode){var s=r._yScale||r._scale;a.push({xLabel:r._xScale?r._xScale.getLabelForIndex(r._index,r._datasetIndex):"",yLabel:s?s.getLabelForIndex(r._index,r._datasetIndex):"",index:r._index,datasetIndex:r._datasetIndex}),t=this.getAveragePosition(this._active)}else i.each(this._data.datasets,function(e,t){if(this._chartInstance.isDatasetVisible(t)){var i=this._chartInstance.getDatasetMeta(t),n=i.data[r._index];if(n){var s=r._yScale||r._scale;a.push({xLabel:n._xScale?n._xScale.getLabelForIndex(n._index,n._datasetIndex):"",yLabel:s?s.getLabelForIndex(n._index,n._datasetIndex):"",index:r._index,datasetIndex:t})}}},this),i.each(this._active,function(e){e&&n.push({borderColor:e._view.borderColor,backgroundColor:e._view.backgroundColor})},null),t=this.getAveragePosition(this._active);i.extend(this._model,{title:this.getTitle(a,this._data),beforeBody:this.getBeforeBody(a,this._data),body:this.getBody(a,this._data),afterBody:this.getAfterBody(a,this._data),footer:this.getFooter(a,this._data)}),i.extend(this._model,{x:Math.round(t.x),y:Math.round(t.y),caretPadding:i.getValueOrDefault(t.padding,2),labelColors:n});var o=this.getTooltipSize(this._model);this.determineAlignment(o),i.extend(this._model,this.getBackgroundPoint(this._model,o))}else this._model.opacity=0;return e&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(e){var t=this._chart.ctx,r={height:2*e.yPadding,width:0},n=e.body.length+e.beforeBody.length+e.afterBody.length;
return r.height+=e.title.length*e.titleFontSize,r.height+=(e.title.length-1)*e.titleSpacing,r.height+=e.title.length?e.titleMarginBottom:0,r.height+=n*e.bodyFontSize,r.height+=n?(n-1)*e.bodySpacing:0,r.height+=e.footer.length?e.footerMarginTop:0,r.height+=e.footer.length*e.footerFontSize,r.height+=e.footer.length?(e.footer.length-1)*e.footerSpacing:0,t.font=i.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),i.each(e.title,function(e){r.width=Math.max(r.width,t.measureText(e).width)}),t.font=i.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),i.each(e.beforeBody.concat(e.afterBody),function(e){r.width=Math.max(r.width,t.measureText(e).width)}),i.each(e.body,function(i){r.width=Math.max(r.width,t.measureText(i).width+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0))},this),t.font=i.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),i.each(e.footer,function(e){r.width=Math.max(r.width,t.measureText(e).width)}),r.width+=2*e.xPadding,r},determineAlignment:function(e){this._model.y<e.height?this._model.yAlign="top":this._model.y>this._chart.height-e.height&&(this._model.yAlign="bottom");var t,i,r,n,a,s=this,o=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,l=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2;"center"===this._model.yAlign?(t=function(e){return o>=e},i=function(e){return e>o}):(t=function(t){return t<=e.width/2},i=function(t){return t>=s._chart.width-e.width/2}),r=function(t){return t+e.width>s._chart.width},n=function(t){return t-e.width<0},a=function(e){return l>=e?"top":"bottom"},t(this._model.x)?(this._model.xAlign="left",r(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=a(this._model.y))):i(this._model.x)&&(this._model.xAlign="right",n(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=a(this._model.y)))},getBackgroundPoint:function(e,t){var i={x:e.x,y:e.y};return"right"===e.xAlign?i.x-=t.width:"center"===e.xAlign&&(i.x-=t.width/2),"top"===e.yAlign?i.y+=e.caretPadding+e.caretSize:"bottom"===e.yAlign?i.y-=t.height+e.caretPadding+e.caretSize:i.y-=t.height/2,"center"===e.yAlign?"left"===e.xAlign?i.x+=e.caretPadding+e.caretSize:"right"===e.xAlign&&(i.x-=e.caretPadding+e.caretSize):"left"===e.xAlign?i.x-=e.cornerRadius+e.caretPadding:"right"===e.xAlign&&(i.x+=e.cornerRadius+e.caretPadding),i},drawCaret:function(e,t,r,n){var a,s,o,l,d,u,c=this._view,h=this._chart.ctx;"center"===c.yAlign?("left"===c.xAlign?(a=e.x,s=a-c.caretSize,o=a):(a=e.x+t.width,s=a+c.caretSize,o=a),d=e.y+t.height/2,l=d-c.caretSize,u=d+c.caretSize):("left"===c.xAlign?(a=e.x+c.cornerRadius,s=a+c.caretSize,o=s+c.caretSize):"right"===c.xAlign?(a=e.x+t.width-c.cornerRadius,s=a-c.caretSize,o=s-c.caretSize):(s=e.x+t.width/2,a=s-c.caretSize,o=s+c.caretSize),"top"===c.yAlign?(l=e.y,d=l-c.caretSize,u=l):(l=e.y+t.height,d=l+c.caretSize,u=l));var p=i.color(c.backgroundColor);h.fillStyle=p.alpha(r*p.alpha()).rgbString(),h.beginPath(),h.moveTo(a,l),h.lineTo(s,d),h.lineTo(o,u),h.closePath(),h.fill()},drawTitle:function(e,t,r,n){if(t.title.length){r.textAlign=t._titleAlign,r.textBaseline="top";var a=i.color(t.titleColor);r.fillStyle=a.alpha(n*a.alpha()).rgbString(),r.font=i.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),i.each(t.title,function(i,n){r.fillText(i,e.x,e.y),e.y+=t.titleFontSize+t.titleSpacing,n+1===t.title.length&&(e.y+=t.titleMarginBottom-t.titleSpacing)})}},drawBody:function(e,t,r,n){r.textAlign=t._bodyAlign,r.textBaseline="top";var a=i.color(t.bodyColor);r.fillStyle=a.alpha(n*a.alpha()).rgbString(),r.font=i.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),i.each(t.beforeBody,function(i){r.fillText(i,e.x,e.y),e.y+=t.bodyFontSize+t.bodySpacing}),i.each(t.body,function(a,s){"single"!==this._options.tooltips.mode&&(r.fillStyle=i.color(t.legendColorBackground).alpha(n).rgbaString(),r.fillRect(e.x,e.y,t.bodyFontSize,t.bodyFontSize),r.strokeStyle=i.color(t.labelColors[s].borderColor).alpha(n).rgbaString(),r.strokeRect(e.x,e.y,t.bodyFontSize,t.bodyFontSize),r.fillStyle=i.color(t.labelColors[s].backgroundColor).alpha(n).rgbaString(),r.fillRect(e.x+1,e.y+1,t.bodyFontSize-2,t.bodyFontSize-2),r.fillStyle=i.color(t.bodyColor).alpha(n).rgbaString()),r.fillText(a,e.x+("single"!==this._options.tooltips.mode?t.bodyFontSize+2:0),e.y),e.y+=t.bodyFontSize+t.bodySpacing},this),i.each(t.afterBody,function(i){r.fillText(i,e.x,e.y),e.y+=t.bodyFontSize}),e.y-=t.bodySpacing},drawFooter:function(e,t,r,n){if(t.footer.length){e.y+=t.footerMarginTop,r.textAlign=t._footerAlign,r.textBaseline="top";var a=i.color(t.footerColor);r.fillStyle=a.alpha(n*a.alpha()).rgbString(),r.font=i.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),i.each(t.footer,function(i){r.fillText(i,e.x,e.y),e.y+=t.footerFontSize+t.footerSpacing})}},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var r=t.caretPadding,n=this.getTooltipSize(t),a={x:t.x,y:t.y},s=Math.abs(t.opacity<.001)?0:t.opacity;if(this._options.tooltips.enabled){var o=i.color(t.backgroundColor);e.fillStyle=o.alpha(s*o.alpha()).rgbString(),i.drawRoundedRectangle(e,a.x,a.y,n.width,n.height,t.cornerRadius),e.fill(),this.drawCaret(a,n,s,r),a.x+=t.xPadding,a.y+=t.yPadding,this.drawTitle(a,t,e,s),this.drawBody(a,t,e,s),this.drawFooter(a,t,e,s)}}}})}},{}],34:[function(e,t,i){"use strict";t.exports=function(e,t){var i=e.helpers,r=e.defaults.global;r.elements.arc={backgroundColor:r.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var r=this._view;if(r){for(var n=i.getAngleFromPoint(r,{x:e,y:t}),a=n.angle,s=n.distance,o=r.startAngle,l=r.endAngle;o>l;)l+=2*Math.PI;for(;a>l;)a-=2*Math.PI;for(;o>a;)a+=2*Math.PI;var d=a>=o&&l>=a,u=s>=r.innerRadius&&s<=r.outerRadius;return d&&u}return!1},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,i=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},draw:function(){var e=this._chart.ctx,t=this._view,i=t.startAngle,r=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,i,r),e.arc(t.x,t.y,t.innerRadius,r,i,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],35:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.elements.line={tension:.4,backgroundColor:e.defaults.global.defaultColor,borderWidth:3,borderColor:e.defaults.global.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},e.elements.Line=e.Element.extend({lineToNextPoint:function(e,t,i,r,n){var a=this._chart.ctx;t._view.skip?r.call(this,e,t,i):e._view.skip?n.call(this,e,t,i):0===t._view.tension?a.lineTo(t._view.x,t._view.y):a.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,t._view.controlPointPreviousX,t._view.controlPointPreviousY,t._view.x,t._view.y)},draw:function(){function i(e){s._view.skip||o._view.skip?e&&a.lineTo(r._view.scaleZero.x,r._view.scaleZero.y):a.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,s._view.controlPointPreviousX,s._view.controlPointPreviousY,s._view.x,s._view.y)}var r=this,n=this._view,a=this._chart.ctx,s=this._children[0],o=this._children[this._children.length-1];a.save(),this._children.length>0&&n.fill&&(a.beginPath(),t.each(this._children,function(e,i){var r=t.previousItem(this._children,i),s=t.nextItem(this._children,i);0===i?(this._loop?a.moveTo(n.scaleZero.x,n.scaleZero.y):a.moveTo(e._view.x,n.scaleZero),e._view.skip?this._loop||a.moveTo(s._view.x,this._view.scaleZero):a.lineTo(e._view.x,e._view.y)):this.lineToNextPoint(r,e,s,function(e,t,i){this._loop?a.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(a.lineTo(e._view.x,this._view.scaleZero),a.moveTo(i._view.x,this._view.scaleZero))},function(e,t){a.lineTo(t._view.x,t._view.y)})},this),this._loop?i(!0):(a.lineTo(this._children[this._children.length-1]._view.x,n.scaleZero),a.lineTo(this._children[0]._view.x,n.scaleZero)),a.fillStyle=n.backgroundColor||e.defaults.global.defaultColor,a.closePath(),a.fill()),a.lineCap=n.borderCapStyle||e.defaults.global.elements.line.borderCapStyle,a.setLineDash&&a.setLineDash(n.borderDash||e.defaults.global.elements.line.borderDash),a.lineDashOffset=n.borderDashOffset||e.defaults.global.elements.line.borderDashOffset,a.lineJoin=n.borderJoinStyle||e.defaults.global.elements.line.borderJoinStyle,a.lineWidth=n.borderWidth||e.defaults.global.elements.line.borderWidth,a.strokeStyle=n.borderColor||e.defaults.global.defaultColor,a.beginPath(),t.each(this._children,function(e,i){var r=t.previousItem(this._children,i),n=t.nextItem(this._children,i);0===i?a.moveTo(e._view.x,e._view.y):this.lineToNextPoint(r,e,n,function(e,t,i){a.moveTo(i._view.x,i._view.y)},function(e,t){a.moveTo(t._view.x,t._view.y)})},this),this._loop&&this._children.length>0&&i(),a.stroke(),a.restore()}})}},{}],36:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i=e.defaults.global;i.elements.point={radius:3,pointStyle:"circle",backgroundColor:i.defaultColor,borderWidth:1,borderColor:i.defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var i=this._view;return!!i&&Math.pow(e-i.x,2)+Math.pow(t-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var i=this._view,r=i.x,n=i.y,a=this._chart.ctx;if(!i.skip){var s=i.pointStyle;if("object"==typeof s&&("[object HTMLImageElement]"===s.toString()||"[object HTMLCanvasElement]"===s.toString()))return void a.drawImage(s,r-s.width/2,n-s.height/2);if(!isNaN(i.radius)&&i.radius>0){a.strokeStyle=i.borderColor||e.defaults.global.defaultColor,a.lineWidth=t.getValueOrDefault(i.borderWidth,e.defaults.global.elements.point.borderWidth),a.fillStyle=i.backgroundColor||e.defaults.global.defaultColor;var o,l,d=i.radius;switch(s){default:a.beginPath(),a.arc(r,n,d,0,2*Math.PI),a.closePath(),a.fill();break;case"triangle":a.beginPath();var u=3*d/Math.sqrt(3),c=u*Math.sqrt(3)/2;a.moveTo(r-u/2,n+c/3),a.lineTo(r+u/2,n+c/3),a.lineTo(r,n-2*c/3),a.closePath(),a.fill();break;case"rect":a.fillRect(r-1/Math.SQRT2*d,n-1/Math.SQRT2*d,2/Math.SQRT2*d,2/Math.SQRT2*d),a.strokeRect(r-1/Math.SQRT2*d,n-1/Math.SQRT2*d,2/Math.SQRT2*d,2/Math.SQRT2*d);break;case"rectRot":a.translate(r,n),a.rotate(Math.PI/4),a.fillRect(-1/Math.SQRT2*d,-1/Math.SQRT2*d,2/Math.SQRT2*d,2/Math.SQRT2*d),a.strokeRect(-1/Math.SQRT2*d,-1/Math.SQRT2*d,2/Math.SQRT2*d,2/Math.SQRT2*d),a.setTransform(1,0,0,1,0,0);break;case"cross":a.beginPath(),a.moveTo(r,n+d),a.lineTo(r,n-d),a.moveTo(r-d,n),a.lineTo(r+d,n),a.closePath();break;case"crossRot":a.beginPath(),o=Math.cos(Math.PI/4)*d,l=Math.sin(Math.PI/4)*d,a.moveTo(r-o,n-l),a.lineTo(r+o,n+l),a.moveTo(r-o,n+l),a.lineTo(r+o,n-l),a.closePath();break;case"star":a.beginPath(),a.moveTo(r,n+d),a.lineTo(r,n-d),a.moveTo(r-d,n),a.lineTo(r+d,n),o=Math.cos(Math.PI/4)*d,l=Math.sin(Math.PI/4)*d,a.moveTo(r-o,n-l),a.lineTo(r+o,n+l),a.moveTo(r-o,n+l),a.lineTo(r+o,n-l),a.closePath();break;case"line":a.beginPath(),a.moveTo(r-d,n),a.lineTo(r+d,n),a.closePath();break;case"dash":a.beginPath(),a.moveTo(r,n),a.lineTo(r+d,n),a.closePath()}a.stroke()}}}})}},{}],37:[function(e,t,i){"use strict";t.exports=function(e){var t=(e.helpers,e.defaults.global);t.elements.rectangle={backgroundColor:t.defaultColor,borderWidth:0,borderColor:t.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return l[(u+e)%4]}var t=this._chart.ctx,i=this._view,r=i.width/2,n=i.x-r,a=i.x+r,s=i.base-(i.base-i.y),o=i.borderWidth/2;i.borderWidth&&(n+=o,a-=o,s+=o),t.beginPath(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth;var l=[[n,i.base],[n,s],[a,s],[a,i.base]],d=["bottom","left","top","right"],u=d.indexOf(i.borderSkipped,0);-1===u&&(u=0),t.moveTo.apply(t,e(0));for(var c=1;4>c;c++)t.lineTo.apply(t,e(c));t.fill(),i.borderWidth&&t.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var i=this._view;return!!i&&(i.y<i.base?e>=i.x-i.width/2&&e<=i.x+i.width/2&&t>=i.y&&t<=i.base:e>=i.x-i.width/2&&e<=i.x+i.width/2&&t>=i.base&&t<=i.y)},inLabelRange:function(e){var t=this._view;return!!t&&(e>=t.x-t.width/2&&e<=t.x+t.width/2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],38:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i={position:"bottom"},r=e.Scale.extend({determineDataLimits:function(){this.minIndex=0,this.maxIndex=this.chart.data.labels.length-1;var e;void 0!==this.options.ticks.min&&(e=t.indexOf(this.chart.data.labels,this.options.ticks.min),this.minIndex=-1!==e?e:this.minIndex),void 0!==this.options.ticks.max&&(e=t.indexOf(this.chart.data.labels,this.options.ticks.max),this.maxIndex=-1!==e?e:this.maxIndex),this.min=this.chart.data.labels[this.minIndex],this.max=this.chart.data.labels[this.maxIndex]},buildTicks:function(e){this.ticks=0===this.minIndex&&this.maxIndex===this.chart.data.labels.length-1?this.chart.data.labels:this.chart.data.labels.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(e,t){return this.ticks[e]},getPixelForValue:function(e,t,i,r){var n=Math.max(this.maxIndex+1-this.minIndex-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var a=this.width-(this.paddingLeft+this.paddingRight),s=a/n,o=s*(t-this.minIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&r&&(o+=s/2),this.left+Math.round(o)}var l=this.height-(this.paddingTop+this.paddingBottom),d=l/n,u=d*(t-this.minIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&r&&(u+=d/2),this.top+Math.round(u)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t,i=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),r=this.isHorizontal(),n=r?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),a=n/i;return this.options.gridLines.offsetGridLines&&(e-=a/2),e-=r?this.paddingLeft:this.paddingTop,t=0>=e?0:Math.round(e/a)}});e.scaleService.registerScaleType("category",r,i)}},{}],39:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i={position:"left",ticks:{callback:function(e,i,r){var n=r.length>3?r[2]-r[1]:r[1]-r[0];Math.abs(n)>1&&e!==Math.floor(e)&&(n=e-Math.floor(e));var a=t.log10(Math.abs(n)),s="";if(0!==e){var o=-1*Math.floor(a);o=Math.max(Math.min(o,20),0),s=e.toFixed(o)}else s="0";return s}}},r=e.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var e={},i=!1,r=!1;t.each(this.chart.data.datasets,function(n,a){var s=this.chart.getDatasetMeta(a);void 0===e[s.type]&&(e[s.type]={positiveValues:[],negativeValues:[]});var o=e[s.type].positiveValues,l=e[s.type].negativeValues;this.chart.isDatasetVisible(a)&&(this.isHorizontal()?s.xAxisID===this.id:s.yAxisID===this.id)&&t.each(n.data,function(e,t){var n=+this.getRightValue(e);isNaN(n)||s.data[t].hidden||(o[t]=o[t]||0,l[t]=l[t]||0,this.options.relativePoints?o[t]=100:0>n?(r=!0,l[t]+=n):(i=!0,o[t]+=n))},this)},this),t.each(e,function(e){var i=e.positiveValues.concat(e.negativeValues),r=t.min(i),n=t.max(i);this.min=null===this.min?r:Math.min(this.min,r),this.max=null===this.max?n:Math.max(this.max,n)},this)}else t.each(this.chart.data.datasets,function(e,i){var r=this.chart.getDatasetMeta(i);this.chart.isDatasetVisible(i)&&(this.isHorizontal()?r.xAxisID===this.id:r.yAxisID===this.id)&&t.each(e.data,function(e,t){var i=+this.getRightValue(e);isNaN(i)||r.data[t].hidden||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);if(this.options.ticks.beginAtZero){var n=t.sign(this.min),a=t.sign(this.max);0>n&&0>a?this.max=0:n>0&&a>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var i;if(this.isHorizontal())i=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.width/50));else{var r=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize);i=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.height/(2*r)))}i=Math.max(2,i);var n,a=this.options.ticks.fixedStepSize&&this.options.ticks.fixedStepSize>0||this.options.ticks.stepSize&&this.options.ticks.stepSize>0;if(a)n=t.getValueOrDefault(this.options.ticks.fixedStepSize,this.options.ticks.stepSize);else{var s=t.niceNum(this.max-this.min,!1);n=t.niceNum(s/(i-1),!0)}var o=Math.floor(this.min/n)*n,l=Math.ceil(this.max/n)*n,d=(l-o)/n;d=t.almostEquals(d,Math.round(d),n/1e3)?Math.round(d):Math.ceil(d),this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:o);for(var u=1;d>u;++u)this.ticks.push(o+u*n);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:l),("left"===this.options.position||"right"===this.options.position)&&this.ticks.reverse(),this.max=t.max(this.ticks),this.min=t.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(this)},getPixelForValue:function(e,t,i,r){var n,a=+this.getRightValue(e),s=this.end-this.start;if(this.isHorizontal()){var o=this.width-(this.paddingLeft+this.paddingRight);return n=this.left+o/s*(a-this.start),Math.round(n+this.paddingLeft)}var l=this.height-(this.paddingTop+this.paddingBottom);return n=this.bottom-this.paddingBottom-l/s*(a-this.start),Math.round(n)},getValueForPixel:function(e){var t;if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight);t=(e-this.left-this.paddingLeft)/i}else{var r=this.height-(this.paddingTop+this.paddingBottom);t=(this.bottom-this.paddingBottom-e)/r}return this.start+(this.end-this.start)*t},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticksAsNumbers[e],null,null,t)}});e.scaleService.registerScaleType("linear",r,i)}},{}],40:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i={position:"left",ticks:{callback:function(t,i,r){var n=t/Math.pow(10,Math.floor(e.helpers.log10(t)));return 1===n||2===n||5===n||0===i||i===r.length-1?t.toExponential():""}}},r=e.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var e={};t.each(this.chart.data.datasets,function(i,r){var n=this.chart.getDatasetMeta(r);this.chart.isDatasetVisible(r)&&(this.isHorizontal()?n.xAxisID===this.id:n.yAxisID===this.id)&&(void 0===e[n.type]&&(e[n.type]=[]),t.each(i.data,function(t,i){var r=e[n.type],a=+this.getRightValue(t);isNaN(a)||n.data[i].hidden||(r[i]=r[i]||0,this.options.relativePoints?r[i]=100:r[i]+=a)},this))},this),t.each(e,function(e){var i=t.min(e),r=t.max(e);this.min=null===this.min?i:Math.min(this.min,i),this.max=null===this.max?r:Math.max(this.max,r)},this)}else t.each(this.chart.data.datasets,function(e,i){var r=this.chart.getDatasetMeta(i);this.chart.isDatasetVisible(i)&&(this.isHorizontal()?r.xAxisID===this.id:r.yAxisID===this.id)&&t.each(e.data,function(e,t){var i=+this.getRightValue(e);isNaN(i)||r.data[t].hidden||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);this.min=void 0!==this.options.ticks.min?this.options.ticks.min:this.min,this.max=void 0!==this.options.ticks.max?this.options.ticks.max:this.max,this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=Math.pow(10,Math.floor(t.log10(this.min))-1),this.max=Math.pow(10,Math.floor(t.log10(this.max))+1)):(this.min=1,this.max=10))},buildTicks:function(){this.ticks=[];for(var e=void 0!==this.options.ticks.min?this.options.ticks.min:Math.pow(10,Math.floor(t.log10(this.min)));e<this.max;){this.ticks.push(e);var i=Math.floor(t.log10(e)),r=Math.floor(e/Math.pow(10,i))+1;10===r&&(r=1,++i),e=r*Math.pow(10,i)}var n=void 0!==this.options.ticks.max?this.options.ticks.max:e;this.ticks.push(n),("left"===this.options.position||"right"===this.options.position)&&this.ticks.reverse(),this.max=t.max(this.ticks),this.min=t.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickValues[e],null,null,t)},getPixelForValue:function(e,i,r,n){var a,s=+this.getRightValue(e),o=t.log10(this.end)-t.log10(this.start);if(this.isHorizontal())if(0===s)a=this.left+this.paddingLeft;else{var l=this.width-(this.paddingLeft+this.paddingRight);a=this.left+l/o*(t.log10(s)-t.log10(this.start)),a+=this.paddingLeft}else if(0===s)a=this.top+this.paddingTop;else{var d=this.height-(this.paddingTop+this.paddingBottom);a=this.bottom-this.paddingBottom-d/o*(t.log10(s)-t.log10(this.start))}return a},getValueForPixel:function(e){var i,r=t.log10(this.end)-t.log10(this.start);if(this.isHorizontal()){var n=this.width-(this.paddingLeft+this.paddingRight);i=this.start*Math.pow(10,(e-this.left-this.paddingLeft)*r/n)}else{var a=this.height-(this.paddingTop+this.paddingBottom);i=Math.pow(10,(this.bottom-this.paddingBottom-e)*r/a)/this.start}return i}});e.scaleService.registerScaleType("logarithmic",r,i)}},{}],41:[function(e,t,i){"use strict";t.exports=function(e){var t=e.helpers,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(e){return e}}},r=e.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var i=t.min([this.height,this.width]),r=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize);this.drawingArea=this.options.display?i/2-(r/2+this.options.ticks.backdropPaddingY):i/2},determineDataLimits:function(){if(this.min=null,this.max=null,t.each(this.chart.data.datasets,function(e,i){if(this.chart.isDatasetVisible(i)){var r=this.chart.getDatasetMeta(i);t.each(e.data,function(e,t){var i=+this.getRightValue(e);isNaN(i)||r.data[t].hidden||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)}},this),this.options.ticks.beginAtZero){var e=t.sign(this.min),i=t.sign(this.max);0>e&&0>i?this.max=0:e>0&&i>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var i=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),r=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)));r=Math.max(2,r);var n=t.niceNum(this.max-this.min,!1),a=t.niceNum(n/(r-1),!0),s=Math.floor(this.min/a)*a,o=Math.ceil(this.max/a)*a,l=Math.ceil((o-s)/a);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:s);for(var d=1;l>d;++d)this.ticks.push(s+d*a);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:o),this.max=t.max(this.ticks),this.min=t.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){e.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var i,r,n,a,s,o,l,d,u,c,h,p,f=t.getValueOrDefault(this.options.pointLabels.fontSize,e.defaults.global.defaultFontSize),g=t.getValueOrDefault(this.options.pointLabels.fontStyle,e.defaults.global.defaultFontStyle),m=t.getValueOrDefault(this.options.pointLabels.fontFamily,e.defaults.global.defaultFontFamily),v=t.fontString(f,g,m),b=t.min([this.height/2-f-5,this.width/2]),_=this.width,y=0;for(this.ctx.font=v,r=0;r<this.getValueCount();r++)i=this.getPointPosition(r,b),n=this.ctx.measureText(this.pointLabels[r]?this.pointLabels[r]:"").width+5,0===r||r===this.getValueCount()/2?(a=n/2,i.x+a>_&&(_=i.x+a,s=r),i.x-a<y&&(y=i.x-a,l=r)):r<this.getValueCount()/2?i.x+n>_&&(_=i.x+n,s=r):r>this.getValueCount()/2&&i.x-n<y&&(y=i.x-n,l=r);u=y,c=Math.ceil(_-this.width),o=this.getIndexAngle(s),d=this.getIndexAngle(l),h=c/Math.sin(o+Math.PI/2),p=u/Math.sin(d+Math.PI/2),h=t.isNumber(h)?h:0,p=t.isNumber(p)?p:0,this.drawingArea=Math.round(b-(p+h)/2),this.setCenterPoint(p,h)},setCenterPoint:function(e,t){var i=this.width-t-this.drawingArea,r=e+this.drawingArea;this.xCenter=Math.round((r+i)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(e){var t=2*Math.PI/this.getValueCount();return e*t-Math.PI/2},getDistanceFromCenterForValue:function(e){if(null===e)return 0;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t},getPointPosition:function(e,t){var i=this.getIndexAngle(e);return{x:Math.round(Math.cos(i)*t)+this.xCenter,y:Math.round(Math.sin(i)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},draw:function(){if(this.options.display){var i=this.ctx;if(t.each(this.ticks,function(r,n){if(n>0||this.options.reverse){var a=this.getDistanceFromCenterForValue(this.ticks[n]),s=this.yCenter-a;if(this.options.gridLines.display)if(i.strokeStyle=this.options.gridLines.color,i.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)i.beginPath(),i.arc(this.xCenter,this.yCenter,a,0,2*Math.PI),i.closePath(),i.stroke();else{i.beginPath();for(var o=0;o<this.getValueCount();o++){var l=this.getPointPosition(o,this.getDistanceFromCenterForValue(this.ticks[n]));0===o?i.moveTo(l.x,l.y):i.lineTo(l.x,l.y)}i.closePath(),i.stroke()}if(this.options.ticks.display){var d=t.getValueOrDefault(this.options.ticks.fontColor,e.defaults.global.defaultFontColor),u=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),c=t.getValueOrDefault(this.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),h=t.getValueOrDefault(this.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),p=t.fontString(u,c,h);if(i.font=p,this.options.ticks.showLabelBackdrop){var f=i.measureText(r).width;i.fillStyle=this.options.ticks.backdropColor,i.fillRect(this.xCenter-f/2-this.options.ticks.backdropPaddingX,s-u/2-this.options.ticks.backdropPaddingY,f+2*this.options.ticks.backdropPaddingX,u+2*this.options.ticks.backdropPaddingY)}i.textAlign="center",i.textBaseline="middle",i.fillStyle=d,i.fillText(r,this.xCenter,s)}}},this),!this.options.lineArc){i.lineWidth=this.options.angleLines.lineWidth,i.strokeStyle=this.options.angleLines.color;for(var r=this.getValueCount()-1;r>=0;r--){if(this.options.angleLines.display){var n=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(n.x,n.y),i.stroke(),i.closePath()}var a=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),s=t.getValueOrDefault(this.options.pointLabels.fontColor,e.defaults.global.defaultFontColor),o=t.getValueOrDefault(this.options.pointLabels.fontSize,e.defaults.global.defaultFontSize),l=t.getValueOrDefault(this.options.pointLabels.fontStyle,e.defaults.global.defaultFontStyle),d=t.getValueOrDefault(this.options.pointLabels.fontFamily,e.defaults.global.defaultFontFamily),u=t.fontString(o,l,d);i.font=u,i.fillStyle=s;var c=this.pointLabels.length,h=this.pointLabels.length/2,p=h/2,f=p>r||r>c-p,g=r===p||r===c-p;0===r?i.textAlign="center":r===h?i.textAlign="center":h>r?i.textAlign="left":i.textAlign="right",g?i.textBaseline="middle":f?i.textBaseline="bottom":i.textBaseline="top",i.fillText(this.pointLabels[r]?this.pointLabels[r]:"",a.x,a.y)}}}}});e.scaleService.registerScaleType("radialLinear",r,i)}},{}],42:[function(e,t,i){"use strict";var r=e("moment");r="function"==typeof r?r:window.moment,t.exports=function(e){var t=e.helpers,i={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},n={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},a=e.Scale.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return this.labelMoments[e][t]},determineDataLimits:function(){this.labelMoments=[];var e=[];this.chart.data.labels&&this.chart.data.labels.length>0?(t.each(this.chart.data.labels,function(t,i){var r=this.parseTime(t);r.isValid()&&(this.options.time.round&&r.startOf(this.options.time.round),e.push(r))},this),this.firstTick=r.min.call(this,e),this.lastTick=r.max.call(this,e)):(this.firstTick=null,this.lastTick=null),t.each(this.chart.data.datasets,function(i,n){var a=[],s=this.chart.isDatasetVisible(n);"object"==typeof i.data[0]?t.each(i.data,function(e,t){var i=this.parseTime(this.getRightValue(e));i.isValid()&&(this.options.time.round&&i.startOf(this.options.time.round),a.push(i),s&&(this.firstTick=null!==this.firstTick?r.min(this.firstTick,i):i,this.lastTick=null!==this.lastTick?r.max(this.lastTick,i):i))},this):a=e,this.labelMoments.push(a)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||r()).clone(),this.lastTick=(this.lastTick||r()).clone()},buildTicks:function(r){this.ctx.save();var n=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),a=t.getValueOrDefault(this.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),s=t.getValueOrDefault(this.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),o=t.fontString(n,a,s);if(this.ctx.font=o,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,
this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,1);else{var l=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),d=this.tickFormatFunction(this.firstTick,0,[]),u=this.ctx.measureText(d).width,c=Math.cos(t.toRadians(this.options.ticks.maxRotation)),h=Math.sin(t.toRadians(this.options.ticks.maxRotation));u=u*c+n*h;var p=l/u;this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var f=0,g=i.units[f];f<i.units.length;){if(this.unitScale=1,t.isArray(g.steps)&&Math.ceil(this.scaleSizeInUnits/p)<t.max(g.steps)){for(var m=0;m<g.steps.length;++m)if(g.steps[m]>=Math.ceil(this.scaleSizeInUnits/p)){this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,g.steps[m]);break}break}if(g.maxStep===!1||Math.ceil(this.scaleSizeInUnits/p)<g.maxStep){this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/p));break}++f,g=i.units[f],this.tickUnit=g.name;var v=this.firstTick.diff(this.firstTick.clone().startOf(this.tickUnit),this.tickUnit,!0),b=this.lastTick.clone().add(1,this.tickUnit).startOf(this.tickUnit).diff(this.lastTick,this.tickUnit,!0);this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0)+v+b,this.displayFormat=this.options.time.displayFormats[g.name]}}var _;if(this.options.time.min?_=this.firstTick.clone().startOf(this.tickUnit):(this.firstTick.startOf(this.tickUnit),_=this.firstTick),!this.options.time.max){var y=this.lastTick.clone().startOf(this.tickUnit);0!==y.diff(this.lastTick,this.tickUnit,!0)&&this.lastTick.add(1,this.tickUnit).startOf(this.tickUnit)}this.smallestLabelSeparation=this.width,t.each(this.chart.data.datasets,function(e,t){for(var i=1;i<this.labelMoments[t].length;i++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[t][i].diff(this.labelMoments[t][i-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var x=1;x<=this.scaleSizeInUnits;++x){var w=_.clone().add(x,this.tickUnit);if(this.options.time.max&&w.diff(this.lastTick,this.tickUnit,!0)>=0)break;x%this.unitScale===0&&this.ticks.push(w)}var k=this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit);(0!==k||0===this.scaleSizeInUnits)&&(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0))),this.ctx.restore()},getLabelForIndex:function(e,t){var i=this.chart.data.labels&&e<this.chart.data.labels.length?this.chart.data.labels[e]:"";return"object"==typeof this.chart.data.datasets[t].data[0]&&(i=this.getRightValue(this.chart.data.datasets[t].data[e])),this.options.time.tooltipFormat&&(i=this.parseTime(i).format(this.options.time.tooltipFormat)),i},tickFormatFunction:function(e,t,i){var r=e.format(this.displayFormat);return this.options.ticks.userCallback?this.options.ticks.userCallback(r,t,i):r},convertTicksToLabels:function(){this.tickMoments=this.ticks,this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(e,t,i,r){var n=e&&e.isValid&&e.isValid()?e:this.getLabelMoment(i,t);if(n){var a=n.diff(this.firstTick,this.tickUnit,!0),s=a/this.scaleSizeInUnits;if(this.isHorizontal()){var o=this.width-(this.paddingLeft+this.paddingRight),l=(o/Math.max(this.ticks.length-1,1),o*s+this.paddingLeft);return this.left+Math.round(l)}var d=this.height-(this.paddingTop+this.paddingBottom),u=(d/Math.max(this.ticks.length-1,1),d*s+this.paddingTop);return this.top+Math.round(u)}},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickMoments[e],null,null,t)},getValueForPixel:function(e){var t=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),i=(e-(this.isHorizontal()?this.left+this.paddingLeft:this.top+this.paddingTop))/t;return i*=this.scaleSizeInUnits,this.firstTick.clone().add(r.duration(i,this.tickUnit).asSeconds(),"seconds")},parseTime:function(e){return"string"==typeof this.options.time.parser?r(e,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(e):"function"==typeof e.getMonth||"number"==typeof e?r(e):e.isValid&&e.isValid()?e:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(e)):r(e,this.options.time.format)}});e.scaleService.registerScaleType("time",a,n)}},{moment:1}]},{},[7]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(){var e=v();return e.compile=function(t,i){return u.compile(t,i,e)},e.precompile=function(t,i){return u.precompile(t,i,e)},e.AST=l["default"],e.Compiler=u.Compiler,e.JavaScriptCompiler=h["default"],e.Parser=d.parser,e.parse=d.parse,e}var n=i(1)["default"];t.__esModule=!0;var a=i(2),s=n(a),o=i(21),l=n(o),d=i(22),u=i(27),c=i(28),h=n(c),p=i(25),f=n(p),g=i(20),m=n(g),v=s["default"].create,b=r();b.create=r,m["default"](b),b.Visitor=f["default"],b["default"]=b,t["default"]=b,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,i){"use strict";function r(){var e=new o.HandlebarsEnvironment;return p.extend(e,o),e.SafeString=d["default"],e.Exception=c["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=g,e.template=function(t){return g.template(t,e)},e}var n=i(3)["default"],a=i(1)["default"];t.__esModule=!0;var s=i(4),o=n(s),l=i(18),d=a(l),u=i(6),c=a(u),h=i(5),p=n(h),f=i(19),g=n(f),m=i(20),v=a(m),b=r();b.create=r,v["default"](b),b["default"]=b,t["default"]=b,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},t.__esModule=!0},function(e,t,i){"use strict";function r(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},l.registerDefaultHelpers(this),d.registerDefaultDecorators(this)}var n=i(1)["default"];t.__esModule=!0,t.HandlebarsEnvironment=r;var a=i(5),s=i(6),o=n(s),l=i(7),d=i(15),u=i(17),c=n(u),h="4.0.5";t.VERSION=h;var p=7;t.COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=f;var g="[object Object]";r.prototype={constructor:r,logger:c["default"],log:c["default"].log,registerHelper:function(e,t){if(a.toString.call(e)===g){if(t)throw new o["default"]("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(a.toString.call(e)===g)a.extend(this.partials,e);else{if("undefined"==typeof t)throw new o["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(a.toString.call(e)===g){if(t)throw new o["default"]("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=c["default"].log;t.log=m,t.createFrame=a.createFrame,t.logger=c["default"]},function(e,t){"use strict";function i(e){return u[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function n(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}function a(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(c,i):e}function s(e){return!e&&0!==e||!(!g(e)||0!==e.length)}function o(e){var t=r({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function d(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=r,t.indexOf=n,t.escapeExpression=a,t.isEmpty=s,t.createFrame=o,t.blockParams=l,t.appendContextPath=d;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},c=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=f;var g=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===p.call(e)};t.isArray=g},function(e,t){"use strict";function i(e,t){var n=t&&t.loc,a=void 0,s=void 0;n&&(a=n.start.line,s=n.start.column,e+=" - "+a+":"+s);for(var o=Error.prototype.constructor.call(this,e),l=0;l<r.length;l++)this[r[l]]=o[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i),n&&(this.lineNumber=a,this.column=s)}t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";function r(e){s["default"](e),l["default"](e),u["default"](e),h["default"](e),f["default"](e),m["default"](e),b["default"](e)}var n=i(1)["default"];t.__esModule=!0,t.registerDefaultHelpers=r;var a=i(8),s=n(a),o=i(9),l=n(o),d=i(10),u=n(d),c=i(11),h=n(c),p=i(12),f=n(p),g=i(13),m=n(g),v=i(14),b=n(v)},function(e,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse,a=i.fn;if(t===!0)return a(this);if(t===!1||null==t)return n(this);if(r.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):n(this);if(i.data&&i.ids){var s=r.createFrame(i.data);s.contextPath=r.appendContextPath(i.data.contextPath,i.name),i={data:s}}return a(t,i)})},e.exports=t["default"]},function(e,t,i){"use strict";var r=i(1)["default"];t.__esModule=!0;var n=i(5),a=i(6),s=r(a);t["default"]=function(e){e.registerHelper("each",function(e,t){function i(t,i,a){d&&(d.key=t,d.index=i,d.first=0===i,d.last=!!a,u&&(d.contextPath=u+t)),l+=r(e[t],{data:d,blockParams:n.blockParams([e[t],t],[u+t,null])})}if(!t)throw new s["default"]("Must pass iterator to #each");var r=t.fn,a=t.inverse,o=0,l="",d=void 0,u=void 0;if(t.data&&t.ids&&(u=n.appendContextPath(t.data.contextPath,t.ids[0])+"."),n.isFunction(e)&&(e=e.call(this)),t.data&&(d=n.createFrame(t.data)),e&&"object"==typeof e)if(n.isArray(e))for(var c=e.length;o<c;o++)o in e&&i(o,o,o===e.length-1);else{var h=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==h&&i(h,o-1),h=p,o++);void 0!==h&&i(h,o-1,!0)}return 0===o&&(l=a(this)),l})},e.exports=t["default"]},function(e,t,i){"use strict";var r=i(1)["default"];t.__esModule=!0;var n=i(6),a=r(n);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],i=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var n=1;null!=i.hash.level?n=i.hash.level:i.data&&null!=i.data.level&&(n=i.data.level),t[0]=n,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var i=t.fn;if(r.isEmpty(e))return t.inverse(this);var n=t.data;return t.data&&t.ids&&(n=r.createFrame(t.data),n.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:n,blockParams:r.blockParams([e],[n&&n.contextPath])})})},e.exports=t["default"]},function(e,t,i){"use strict";function r(e){s["default"](e)}var n=i(1)["default"];t.__esModule=!0,t.registerDefaultDecorators=r;var a=i(16),s=n(a)},function(e,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,i,n){var a=e;return t.partials||(t.partials={},a=function(n,a){var s=i.partials;i.partials=r.extend({},s,t.partials);var o=e(n,a);return i.partials=s,o}),t.partials[n.args[0]]=n.fn,a})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var r=i(5),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(n.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=n.lookupLevel(e),"undefined"!=typeof console&&n.lookupLevel(n.level)<=e){var t=n.methodMap[e];console[t]||(t="log");for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];console[t].apply(console,r)}}};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e){this.string=e}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";function r(e){var t=e&&e[0]||1,i=v.COMPILER_REVISION;if(t!==i){if(t<i){var r=v.REVISION_CHANGES[i],n=v.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+n+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function n(e,t){function i(i,r,n){n.hash&&(r=f.extend({},r,n.hash),n.ids&&(n.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,r,n);var a=t.VM.invokePartial.call(this,i,r,n);if(null==a&&t.compile&&(n.partials[n.name]=t.compile(i,e.compilerOptions,t),a=n.partials[n.name](r,n)),null!=a){if(n.indent){for(var s=a.split("\n"),o=0,l=s.length;o<l&&(s[o]||o+1!==l);o++)s[o]=n.indent+s[o];a=s.join("\n")}return a}throw new m["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode")}function r(t){function i(t){return""+e.main(n,t,n.helpers,n.partials,s,l,o)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a.data;r._setup(a),!a.partial&&e.useData&&(s=d(t,s));var o=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(o=a.depths?t!==a.depths[0]?[t].concat(a.depths):a.depths:[t]),(i=u(e.main,i,n,a.depths||[],s,l))(t,a)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,r=0;r<i;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:f.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,r,n){var s=this.programs[e],o=this.fn(e);return t||n||r||i?s=a(this,e,o,t,i,r,n):s||(s=this.programs[e]=a(this,e,o)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=f.extend({},t,e)),i},noop:t.VM.noop,compilerInfo:e.compiler};return r.isTop=!0,r._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(i.decorators,t.decorators)))},r._child=function(t,i,r,s){if(e.useBlockParams&&!r)throw new m["default"]("must pass block params");if(e.useDepths&&!s)throw new m["default"]("must pass parent depths");return a(n,t,e[t],i,0,r,s)},r}function a(e,t,i,r,n,a,s){function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s;return s&&t!==s[0]&&(o=[t].concat(s)),i(e,t,e.helpers,e.partials,n.data||r,a&&[n.blockParams].concat(a),o)}return o=u(i,o,e,s,r,a),o.program=t,o.depth=s?s.length:0,o.blockParams=n||0,o}function s(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],e}function o(e,t,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var r=void 0;if(i.fn&&i.fn!==l&&(i.data=v.createFrame(i.data),r=i.data["partial-block"]=i.fn,r.partials&&(i.partials=f.extend({},i.partials,r.partials))),void 0===e&&r&&(e=r),void 0===e)throw new m["default"]("The partial "+i.name+" could not be found");if(e instanceof Function)return e(t,i)}function l(){return""}function d(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function u(e,t,i,r,n,a){if(e.decorator){var s={};t=e.decorator(t,s,i,r&&r[0],n,a,r),f.extend(t,s)}return t}var c=i(3)["default"],h=i(1)["default"];t.__esModule=!0,t.checkRevision=r,t.template=n,t.wrapProgram=a,t.resolvePartial=s,t.invokePartial=o,t.noop=l;var p=i(5),f=c(p),g=i(6),m=h(g),v=i(4)},function(e,t){(function(i){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof i?i:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var i={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!i.helpers.scopedId(e)&&!e.depth}}};t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";function r(e,t){if("Program"===e.type)return e;o["default"].yy=p,p.locInfo=function(e){return new p.SourceLocation(t&&t.srcName,e)};var i=new d["default"](t);return i.accept(o["default"].parse(e))}var n=i(1)["default"],a=i(3)["default"];t.__esModule=!0,t.parse=r;var s=i(23),o=n(s),l=i(24),d=n(l),u=i(26),c=a(u),h=i(5);t.parser=o["default"];var p={};h.extend(p,c)},function(e,t){"use strict";var i=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,i,r,n,a,s){var o=a.length-1;switch(n){case 1:return a[o-1];case 2:this.$=r.prepareProgram(a[o]);break;case 3:this.$=a[o];break;case 4:this.$=a[o];break;case 5:this.$=a[o];break;case 6:this.$=a[o];break;case 7:this.$=a[o];break;case 8:this.$=a[o];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(a[o]),strip:r.stripFlags(a[o],a[o]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:a[o],value:a[o],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(a[o-2],a[o-1],a[o],this._$);break;case 12:this.$={path:a[o-3],params:a[o-2],hash:a[o-1]};break;case 13:this.$=r.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!1,this._$);break;case 14:this.$=r.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!0,this._$);break;case 15:this.$={open:a[o-5],path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:r.stripFlags(a[o-5],a[o])};break;case 16:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:r.stripFlags(a[o-5],a[o])};break;case 17:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:r.stripFlags(a[o-5],a[o])};break;case 18:this.$={strip:r.stripFlags(a[o-1],a[o-1]),program:a[o]};break;case 19:var l=r.prepareBlock(a[o-2],a[o-1],a[o],a[o],!1,this._$),d=r.prepareProgram([l],a[o-1].loc);d.chained=!0,this.$={strip:a[o-2].strip,program:d,chain:!0};break;case 20:this.$=a[o];break;case 21:this.$={path:a[o-1],strip:r.stripFlags(a[o-2],a[o])};break;case 22:this.$=r.prepareMustache(a[o-3],a[o-2],a[o-1],a[o-4],r.stripFlags(a[o-4],a[o]),this._$);break;case 23:this.$=r.prepareMustache(a[o-3],a[o-2],a[o-1],a[o-4],r.stripFlags(a[o-4],a[o]),this._$);break;case 24:this.$={type:"PartialStatement",name:a[o-3],params:a[o-2],hash:a[o-1],indent:"",strip:r.stripFlags(a[o-4],a[o]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(a[o-2],a[o-1],a[o],this._$);break;case 26:this.$={path:a[o-3],params:a[o-2],hash:a[o-1],strip:r.stripFlags(a[o-4],a[o])};break;case 27:this.$=a[o];break;case 28:this.$=a[o];break;case 29:this.$={type:"SubExpression",path:a[o-3],params:a[o-2],hash:a[o-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:a[o],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(a[o-2]),value:a[o],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(a[o-1]);break;case 33:this.$=a[o];break;case 34:this.$=a[o];break;case 35:this.$={type:"StringLiteral",value:a[o],original:a[o],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(a[o]),original:Number(a[o]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===a[o],original:"true"===a[o],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=a[o];break;case 41:this.$=a[o];break;case 42:this.$=r.preparePath(!0,a[o],this._$);break;case 43:this.$=r.preparePath(!1,a[o],this._$);break;case 44:a[o-2].push({part:r.id(a[o]),original:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 45:this.$=[{part:r.id(a[o]),original:a[o]}];break;case 46:this.$=[];break;case 47:a[o-1].push(a[o]);break;case 48:this.$=[a[o]];break;case 49:a[o-1].push(a[o]);break;case 50:this.$=[];break;case 51:a[o-1].push(a[o]);break;case 58:this.$=[];break;case 59:a[o-1].push(a[o]);break;case 64:this.$=[];break;case 65:a[o-1].push(a[o]);break;case 70:this.$=[];break;case 71:a[o-1].push(a[o]);break;case 78:this.$=[];break;case 79:a[o-1].push(a[o]);break;case 82:this.$=[];break;case 83:a[o-1].push(a[o]);break;case 86:this.$=[];break;case 87:a[o-1].push(a[o]);break;case 90:this.$=[];break;case 91:a[o-1].push(a[o]);break;case 94:this.$=[];break;case 95:a[o-1].push(a[o]);break;case 98:this.$=[a[o]];break;case 99:a[o-1].push(a[o]);break;case 100:this.$=[a[o]];break;case 101:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,
70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,r=[0],n=[null],a=[],s=this.table,o="",l=0,d=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;a.push(c);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,b,_,y,x,w={};;){if(g=r[r.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null!==p&&"undefined"!=typeof p||(p=t()),m=s[g]&&s[g][p]),"undefined"==typeof m||!m.length||!m[0]){var k="";if(!u){x=[];for(b in s[g])this.terminals_[b]&&b>2&&x.push("'"+this.terminals_[b]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:r.push(p),n.push(this.lexer.yytext),a.push(this.lexer.yylloc),r.push(m[1]),p=null,f?(p=f,f=null):(d=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(_=this.productions_[m[1]][1],w.$=n[n.length-_],w._$={first_line:a[a.length-(_||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(_||1)].first_column,last_column:a[a.length-1].last_column},h&&(w._$.range=[a[a.length-(_||1)].range[0],a[a.length-1].range[1]]),v=this.performAction.call(w,o,d,l,this.yy,m[1],n,a),"undefined"!=typeof v)return v;_&&(r=r.slice(0,-1*_*2),n=n.slice(0,-1*_),a=a.slice(0,-1*_)),r.push(this.productions_[m[1]][0]),n.push(w.$),a.push(w._$),y=s[r[r.length-2]][r[r.length-1]],r.push(y);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===r.length?this.yylloc.first_column:0)+r[r.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,r,n;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),s=0;s<a.length&&(i=this._input.match(this.rules[a[s]]),!i||t&&!(i[0].length>t[0].length)||(t=i,r=s,this.options.flex));s++);return t?(n=t[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,r){function n(e,i){return t.yytext=t.yytext.substr(e,t.yyleng-i)}switch(i){case 0:if("\\\\"===t.yytext.slice(-2)?(n(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(n(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=n(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=n(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=i,e.prototype=t,t.Parser=e,new e}();t.__esModule=!0,t["default"]=i},function(e,t,i){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function n(e,t,i){void 0===t&&(t=e.length);var r=e[t-1],n=e[t-2];return r?"ContentStatement"===r.type?(n||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:i}function a(e,t,i){void 0===t&&(t=-1);var r=e[t+1],n=e[t+2];return r?"ContentStatement"===r.type?(n||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:i}function s(e,t,i){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(i||!r.rightStripped)){var n=r.value;r.value=r.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==n}}function o(e,t,i){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(i||!r.leftStripped)){var n=r.value;return r.value=r.value.replace(i?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==n,r.leftStripped}}var l=i(1)["default"];t.__esModule=!0;var d=i(25),u=l(d);r.prototype=new u["default"],r.prototype.Program=function(e){var t=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,l=0,d=r.length;l<d;l++){var u=r[l],c=this.accept(u);if(c){var h=n(r,l,i),p=a(r,l,i),f=c.openStandalone&&h,g=c.closeStandalone&&p,m=c.inlineStandalone&&h&&p;c.close&&s(r,l,!0),c.open&&o(r,l,!0),t&&m&&(s(r,l),o(r,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(r[l-1].original)[1])),t&&f&&(s((u.program||u.inverse).body),o(r,l)),t&&g&&(s(r,l),o((u.inverse||u.program).body))}}return e},r.prototype.BlockStatement=r.prototype.DecoratorBlock=r.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,i=e.program&&e.inverse,r=i,l=i;if(i&&i.chained)for(r=i.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var d={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:a(t.body),closeStandalone:n((r||t).body)};if(e.openStrip.close&&s(t.body,null,!0),i){var u=e.inverseStrip;u.open&&o(t.body,null,!0),u.close&&s(r.body,null,!0),e.closeStrip.open&&o(l.body,null,!0),!this.options.ignoreStandalone&&n(t.body)&&a(r.body)&&(o(t.body),s(r.body))}else e.closeStrip.open&&o(t.body,null,!0);return d},r.prototype.Decorator=r.prototype.MustacheStatement=function(e){return e.strip},r.prototype.PartialStatement=r.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t["default"]=r,e.exports=t["default"]},function(e,t,i){"use strict";function r(){this.parents=[]}function n(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function a(e){n.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function s(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var o=i(1)["default"];t.__esModule=!0;var l=i(6),d=o(l);r.prototype={constructor:r,mutating:!1,acceptKey:function(e,t){var i=this.accept(e[t]);if(this.mutating){if(i&&!r.prototype[i.type])throw new d["default"]('Unexpected node type "'+i.type+'" found when accepting '+t+" on "+e.type);e[t]=i}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new d["default"](e.type+" requires "+t)},acceptArray:function(e){for(var t=0,i=e.length;t<i;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,i--)},accept:function(e){if(e){if(!this[e.type])throw new d["default"]("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:n,Decorator:n,BlockStatement:a,DecoratorBlock:a,PartialStatement:s,PartialBlockStatement:function(e){s.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:n,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t["default"]=r,e.exports=t["default"]},function(e,t,i){"use strict";function r(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var i={loc:e.path.loc};throw new m["default"](e.path.original+" doesn't match "+t,i)}}function n(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function a(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function s(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function o(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(e,t,i){i=this.locInfo(i);for(var r=e?"@":"",n=[],a=0,s="",o=0,l=t.length;o<l;o++){var d=t[o].part,u=t[o].original!==d;if(r+=(t[o].separator||"")+d,u||".."!==d&&"."!==d&&"this"!==d)n.push(d);else{if(n.length>0)throw new m["default"]("Invalid path: "+r,{loc:i});".."===d&&(a++,s+="../")}}return{type:"PathExpression",data:e,depth:a,parts:n,original:r,loc:i}}function d(e,t,i,r,n,a){var s=r.charAt(3)||r.charAt(2),o="{"!==s&&"&"!==s,l=/\*/.test(r);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:i,escaped:o,strip:n,loc:this.locInfo(a)}}function u(e,t,i,n){r(e,i),n=this.locInfo(n);var a={type:"Program",body:t,strip:{},loc:n};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:a,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function c(e,t,i,n,a,s){n&&n.path&&r(e,n);var o=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,d=void 0;if(i){if(o)throw new m["default"]("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=n.strip),d=i.strip,l=i.program}return a&&(a=l,l=t,t=a),{type:o?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:d,closeStrip:n&&n.strip,loc:this.locInfo(s)}}function h(e,t){if(!t&&e.length){var i=e[0].loc,r=e[e.length-1].loc;i&&r&&(t={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function p(e,t,i,n){return r(e,i),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:i&&i.strip,loc:this.locInfo(n)}}var f=i(1)["default"];t.__esModule=!0,t.SourceLocation=n,t.id=a,t.stripFlags=s,t.stripComment=o,t.preparePath=l,t.prepareMustache=d,t.prepareRawBlock=u,t.prepareBlock=c,t.prepareProgram=h,t.preparePartialBlock=p;var g=i(6),m=f(g)},function(e,t,i){"use strict";function r(){}function n(e,t,i){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var r=i.parse(e,t),n=(new i.Compiler).compile(r,t);return(new i.JavaScriptCompiler).compile(n,t)}function a(e,t,i){function r(){var r=i.parse(e,t),n=(new i.Compiler).compile(r,t),a=(new i.JavaScriptCompiler).compile(n,t,void 0,!0);return i.template(a)}function n(e,t){return a||(a=r()),a.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var a=void 0;return n._setup=function(e){return a||(a=r()),a._setup(e)},n._child=function(e,t,i,n){return a||(a=r()),a._child(e,t,i,n)},n}function s(e,t){if(e===t)return!0;if(c.isArray(e)&&c.isArray(t)&&e.length===t.length){for(var i=0;i<e.length;i++)if(!s(e[i],t[i]))return!1;return!0}}function o(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=i(1)["default"];t.__esModule=!0,t.Compiler=r,t.precompile=n,t.compile=a;var d=i(6),u=l(d),c=i(5),h=i(21),p=l(h),f=[].slice;r.prototype={compiler:r,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;i<t;i++){var r=this.opcodes[i],n=e.opcodes[i];if(r.opcode!==n.opcode||!s(r.args,n.args))return!1}t=this.children.length;for(var i=0;i<t;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var i=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(var r in i)r in i&&(t.knownHelpers[r]=i[r]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,i=t.compile(e,this.options),r=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[r]=i,this.useDepths=this.useDepths||i.useDepths,r},accept:function(e){if(!this[e.type])throw new u["default"]("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,i=t.length,r=0;r<i;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){o(e);var t=e.program,i=e.inverse;t=t&&this.compileProgram(t),i=i&&this.compileProgram(i);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,i):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),i=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,r.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var i=e.params;if(i.length>1)throw new u["default"]("Unsupported number of partial arguments: "+i.length,e);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var r=e.name.original,n="SubExpression"===e.name.type;n&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var a=e.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",n,r,a),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){o(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,i){var r=e.path,n=r.parts[0],a=null!=t||null!=i;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",n,a)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,i){var r=this.setupFullMustacheParams(e,t,i),n=e.path,a=n.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",r.length,a);else{if(this.options.knownHelpersOnly)throw new u["default"]("You specified knownHelpersOnly, but used the unknown helper "+a,e);n.strict=!0,n.falsy=!0,this.accept(n),this.opcode("invokeHelper",r.length,n.original,p["default"].helpers.simpleId(n))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],i=p["default"].helpers.scopedId(e),r=!e.depth&&!i&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,i):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,i=0,r=t.length;for(this.opcode("pushHash");i<r;i++)this.pushParam(t[i].value);for(;i--;)this.opcode("assignToHash",t[i].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=p["default"].helpers.simpleId(e.path),i=t&&!!this.blockParamIndex(e.path.parts[0]),r=!i&&p["default"].helpers.helperExpression(e),n=!i&&(r||t);if(n&&!r){var a=e.path.parts[0],s=this.options;s.knownHelpers[a]?r=!0:s.knownHelpersOnly&&(n=!1)}return r?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t=0,i=e.length;t<i;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var i=void 0;if(!e.parts||p["default"].helpers.scopedId(e)||e.depth||(i=this.blockParamIndex(e.parts[0])),i){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,r)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,i,r){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),n},blockParamIndex:function(e){for(var t=0,i=this.options.blockParams.length;t<i;t++){var r=this.options.blockParams[t],n=r&&c.indexOf(r,e);if(r&&n>=0)return[t,n]}}}},function(e,t,i){"use strict";function r(e){this.value=e}function n(){}function a(e,t,i,r){var n=t.popStack(),a=0,s=i.length;for(e&&s--;a<s;a++)n=t.nameLookup(n,i[a],r);return e?[t.aliasable("container.strict"),"(",n,", ",t.quotedString(i[a]),")"]:n}var s=i(1)["default"];t.__esModule=!0;var o=i(4),l=i(6),d=s(l),u=i(5),c=i(29),h=s(c);n.prototype={nameLookup:function(e,t){return n.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=o.COMPILER_REVISION,t=o.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,i){return u.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:i?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,i,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var n=e.opcodes,a=void 0,s=void 0,o=void 0,l=void 0;for(o=0,l=n.length;o<l;o++)a=n[o],this.source.currentLocation=a.loc,s=s||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new d["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(r);if(this.isChild)return u;var c={compiler:this.compilerInfo(),main:u};this.decorators&&(c.main_d=this.decorators,c.useDecorators=!0);var h=this.context,p=h.programs,f=h.decorators;for(o=0,l=p.length;o<l;o++)p[o]&&(c[o]=p[o],f[o]&&(c[o+"_d"]=f[o],c.useDecorators=!0));return this.environment.usePartial&&(c.usePartial=!0),this.options.data&&(c.useData=!0),this.useDepths&&(c.useDepths=!0),this.useBlockParams&&(c.useBlockParams=!0),this.options.compat&&(c.compat=!0),r?c.compilerOptions=this.options:(c.compiler=JSON.stringify(c.compiler),this.source.currentLocation={start:{line:1,column:0}},c=this.objectLiteral(c),t.srcName?(c=c.toStringWithSourceMap({file:t.destName}),c.map=c.map&&c.map.toString()):c=c.toString()),c},preamble:function(){this.lastContext=0,this.source=new h["default"](this.options.srcName),this.decorators=new h["default"](this.options.srcName)},createFunctionContext:function(e){var t="",i=this.stackVars.concat(this.registers.list);i.length>0&&(t+=", "+i.join(", "));var r=0;for(var n in this.aliases){var a=this.aliases[n];this.aliases.hasOwnProperty(n)&&a.children&&a.referenceCount>1&&(t+=", alias"+ ++r+"="+n,a.children[0]="alias"+r)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var o=this.mergeSource(t);return e?(s.push(o),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",o,"}"]);
},mergeSource:function(e){var t=this.environment.isSimple,i=!this.forceBuffer,r=void 0,n=void 0,a=void 0,s=void 0;return this.source.each(function(e){e.appendToBuffer?(a?e.prepend("  + "):a=e,s=e):(a&&(n?a.prepend("buffer += "):r=!0,s.add(";"),a=s=void 0),n=!0,t||(i=!1))}),i?a?(a.prepend("return "),s.add(";")):n||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),a?(a.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(e,0,i);var r=this.popStack();i.splice(1,0,r),this.push(this.source.functionCall(t,"call",i))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var i=this.topStack();t.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,i,r){var n=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[n++])),this.resolvePath("context",e,n,t,i)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,i){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,i)},resolvePath:function(e,t,i,r,n){var s=this;if(this.options.strict||this.options.assumeObjects)return void this.push(a(this.options.strict&&n,this,t,e));for(var o=t.length;i<o;i++)this.replaceStack(function(n){var a=s.nameLookup(n,t[i],e);return r?[" && ",a]:[" != null ? ",a," : ",n]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var i=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(e,t,i){var r=this.popStack(),n=this.setupHelper(e,t),a=i?[n.name," || "]:"",s=["("].concat(a,r);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",n.callParams))},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var i=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),n=this.lastHelper=this.nameLookup("helpers",e,"helper"),a=["(","(helper = ",n," || ",i,")"];this.options.strict||(a[0]="(helper = ",a.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",a,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(e,t,i){var r=[],n=this.setupParams(t,1,r);e&&(t=this.popStack(),delete n.name),i&&(n.indent=JSON.stringify(i)),n.helpers="helpers",n.partials="partials",n.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(n.depths="depths"),n=this.objectLiteral(n),r.push(n),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),i=void 0,r=void 0,n=void 0;this.trackIds&&(n=this.popStack()),this.stringParams&&(r=this.popStack(),i=this.popStack());var a=this.hash;i&&(a.contexts[e]=i),r&&(a.types[e]=r),n&&(a.ids[e]=n),a.values[e]=t},pushId:function(e,t,i){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:n,compileChildren:function(e,t){for(var i=e.children,r=void 0,n=void 0,a=0,s=i.length;a<s;a++){r=i[a],n=new this.compiler;var o=this.matchExistingProgram(r);null==o?(this.context.programs.push(""),o=this.context.programs.length,r.index=o,r.name="program"+o,this.context.programs[o]=n.compile(r,t,this.context,!this.precompile),this.context.decorators[o]=n.decorators,this.context.environments[o]=r,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams):(r.index=o,r.name="program"+o,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams)}},matchExistingProgram:function(e){for(var t=0,i=this.context.environments.length;t<i;t++){var r=this.context.environments[t];if(r&&r.equals(e))return t}},programExpression:function(e){var t=this.environment.children[e],i=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof r||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new r(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],i=void 0,n=void 0,a=void 0;if(!this.isInline())throw new d["default"]("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof r)i=[s.value],t=["(",i],a=!0;else{n=!0;var o=this.incrStack();t=["((",this.push(o)," = ",s,")"],i=this.topStack()}var l=e.call(this,i);a||this.popStack(),n&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n instanceof r)this.compileStack.push(n);else{var a=this.incrStack();this.pushSource([a," = ",n,";"]),this.compileStack.push(a)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof r)return i.value;if(!t){if(!this.stackSlot)throw new d["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof r?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,i){var r=[],n=this.setupHelperArgs(t,e,r,i),a=this.nameLookup("helpers",t,"helper"),s=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:r,paramsInit:n,name:a,callParams:[s].concat(r)}},setupParams:function(e,t,i){var r={},n=[],a=[],s=[],o=!i,l=void 0;o&&(i=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var d=this.popStack(),u=this.popStack();(u||d)&&(r.fn=u||"container.noop",r.inverse=d||"container.noop");for(var c=t;c--;)l=this.popStack(),i[c]=l,this.trackIds&&(s[c]=this.popStack()),this.stringParams&&(a[c]=this.popStack(),n[c]=this.popStack());return o&&(r.args=this.source.generateArray(i)),this.trackIds&&(r.ids=this.source.generateArray(s)),this.stringParams&&(r.types=this.source.generateArray(a),r.contexts=this.source.generateArray(n)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,i,r){var n=this.setupParams(e,t,i);return n=this.objectLiteral(n),r?(this.useRegister("options"),i.push("options"),["options=",n]):i?(i.push(n),""):n}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=n.RESERVED_WORDS={},i=0,r=e.length;i<r;i++)t[e[i]]=!0}(),n.isValidJavaScriptVariableName=function(e){return!n.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t["default"]=n,e.exports=t["default"]},function(e,t,i){"use strict";function r(e,t,i){if(a.isArray(e)){for(var r=[],n=0,s=e.length;n<s;n++)r.push(t.wrap(e[n],i));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function n(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var a=i(5),s=void 0;try{}catch(o){}s||(s=function(e,t,i,r){this.src="",r&&this.add(r)},s.prototype={add:function(e){a.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){a.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),n.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,i=this.source.length;t<i;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new s(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof s?e:(e=r(e,this,t),new s(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,i){return i=this.generateList(i),this.wrap([e,t?"."+t+"(":"(",i,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=r(e[i],this);"undefined"!==n&&t.push([this.quotedString(i),":",n])}var a=this.generateList(t);return a.prepend("{"),a.add("}"),a},generateList:function(e){for(var t=this.empty(),i=0,n=e.length;i<n;i++)i&&t.add(","),t.add(r(e[i],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t["default"]=n,e.exports=t["default"]}])}),function(e){"function"==typeof define&&define.amd?define(["handlebars"],e):e(Handlebars)}(function(e){return e.i18n={},e.i18n.languages=[],e.registerHelper("i18nLanguages",function(e){e.data.languages=[]}),e.registerHelper("i18nLanguage",function(e){var t={};t[e.hash.lang]=jQuery.parseJSON("{"+e.fn(this)+"}"),e.data.languages=jQuery.extend(!0,{},e.data.languages,t)}),e.registerHelper("i18n",function(e,t){t=t||{},t.hash=t.hash||{};var i;if("string"!=typeof e)throw"{{i18n}} helper: invalid key. Object keys must be formatted as strings.";return i="string"==typeof t.hash.language?t.hash.language:this.datosIdioma,$.rup.i18nParse($.rup.i18n.app,e)}),e}),function(e){"function"==typeof define&&define.amd?define(["handlebars"],e):e(Handlebars)}(function(e){return this.Rup=this.Rup||{},this.Rup.Templates=this.Rup.Templates||{},this.Rup.Templates.rup=this.Rup.Templates.rup||{},this.Rup.Templates.rup.button=this.Rup.Templates.rup.button||{},this.Rup.Templates.rup.button.dropdownButton=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a;return"<button id="+e.escapeExpression((a=null!=(a=i.id||(null!=t?t.id:t))?a:i.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"id",hash:{},data:n}):a))+' type="button" class="rup-dropdown-button">\r\n  <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n  <span class="invisible"></span>\r\n</button>\r\n'},useData:!0}),this.Rup.Templates.rup.button["mbutton-container"]=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'<div id="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'" class="'+d((a=null!=(a=i.classes||(null!=t?t.classes:t))?a:o,typeof a===l?a.call(s,{name:"classes",hash:{},data:n}):a))+'">\r\n  <ul role="menu" aria-activedescendant="active-menuitem" aria-labelledby="active-menuitem">\r\n    <li style="display: block;">\r\n      <button type="button" class="rup-toolbar_button ui-button ui-corner-all ui-widget rup-button rup-toolbar_menuButtonElement" id="toolbar##mbuton1##nuevo">\r\n        <span class="ui-button-icon ui-icon nuevo"></span>\r\n        <span class="ui-button-icon-space"></span>\r\n        <span class="rup-ui-button-text">Nuevo</span>\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},useData:!0}),this.Rup.Templates.rup.button.mbutton=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'<a id="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'"\r\n  class="rup-toolbar_menuButton ui-button ui-corner-all ui-widget rup-toolbar_menuButtonSlided"\r\n  role="button"\r\n  href="#">\r\n  '+d((a=null!=(a=i.label||(null!=t?t.label:t))?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:n}):a))+'\r\n  <span class="ui-button-icon-space"></span>\r\n  <span class="'+d((a=null!=(a=i.iconClasses||(null!=t?t.iconClasses:t))?a:o,typeof a===l?a.call(s,{name:"iconClasses",hash:{},data:n}):a))+'" aria-hidden="true"></span>\r\n</a>\r\n'},useData:!0}),this.Rup.Templates.rup.dashboard=this.Rup.Templates.rup.dashboard||{},this.Rup.Templates.rup.dashboard.item=e.template({1:function(e,t,i,r,n){var a;return' data-gs-min-width="'+e.escapeExpression((a=null!=(a=i.minWidth||(null!=t?t.minWidth:t))?a:i.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"minWidth",hash:{},data:n}):a))+'" '},3:function(e,t,i,r,n){var a;return' data-gs-max-width="'+e.escapeExpression((a=null!=(a=i.maxWidth||(null!=t?t.maxWidth:t))?a:i.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"maxWidth",hash:{},data:n}):a))+'" '},5:function(e,t,i,r,n){var a;return' data-gs-min-height="'+e.escapeExpression((a=null!=(a=i.minHeight||(null!=t?t.minHeight:t))?a:i.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"minHeight",hash:{},data:n}):a))+'" '},7:function(e,t,i,r,n){var a;return' data-gs-max-height="'+e.escapeExpression((a=null!=(a=i.maxHeight||(null!=t?t.maxHeight:t))?a:i.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"maxHeight",hash:{},data:n}):a))+'" '},compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s,o=null!=t?t:{},l=i.helperMissing,d="function",u=e.escapeExpression;return'<div class="grid-stack-item"  \r\n     '+(null!=(a=i["if"].call(o,null!=t?t.minWidth:t,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")+"\r\n     "+(null!=(a=i["if"].call(o,null!=t?t.maxWidth:t,{name:"if",hash:{},fn:e.program(3,n,0),inverse:e.noop,data:n}))?a:"")+"\r\n     "+(null!=(a=i["if"].call(o,null!=t?t.minHeight:t,{name:"if",hash:{},fn:e.program(5,n,0),inverse:e.noop,data:n}))?a:"")+"\r\n     "+(null!=(a=i["if"].call(o,null!=t?t.maxHeight:t,{name:"if",hash:{},fn:e.program(7,n,0),inverse:e.noop,data:n}))?a:"")+'\r\n     data-rup-widget-type="'+u((s=null!=(s=i.type||(null!=t?t.type:t))?s:l,typeof s===d?s.call(o,{name:"type",hash:{},data:n}):s))+'">\r\n\r\n    <div class="'+u((s=null!=(s=i.itemClass||(null!=t?t.itemClass:t))?s:l,typeof s===d?s.call(o,{name:"itemClass",hash:{},data:n}):s))+'" >\r\n\r\n    </div>\r\n</div>\r\n'},useData:!0}),this.Rup.Templates.rup.table=this.Rup.Templates.rup.table||{},this.Rup.Templates.rup.table.detail=this.Rup.Templates.rup.table.detail||{},this.Rup.Templates.rup.table.detail.navigation=this.Rup.Templates.rup.table.detail.navigation||{},this.Rup.Templates.rup.table.detail.navigation.bootstrap=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'<div id="pagination_'+d((a=null!=(a=i.tableId||(null!=t?t.tableId:t))?a:o,typeof a===l?a.call(s,{name:"tableId",hash:{},data:n}):a))+'" class="rup-table-detail-info">\r\n  <i class="fa fa-list-alt" aria-hidden="true" title="'+d((a=null!=(a=i.resultNumText||(null!=t?t.resultNumText:t))?a:o,typeof a===l?a.call(s,{name:"resultNumText",hash:{},data:n}):a))+'"></i>\r\n  <span id="rup_maint_selectedElements_table" class="rup-table-detail-currentElement" >\r\n    '+d((a=null!=(a=i.numResult||(null!=t?t.numResult:t))?a:o,typeof a===l?a.call(s,{name:"numResult",hash:{},data:n}):a))+'\r\n  </span>\r\n</div>\r\n<div id="pag_'+d((a=null!=(a=i.tableId||(null!=t?t.tableId:t))?a:o,typeof a===l?a.call(s,{name:"tableId",hash:{},data:n}):a))+'" class="rup-table-detail-navigation">\r\n    <a id="first_'+d((a=null!=(a=i.tableId||(null!=t?t.tableId:t))?a:o,typeof a===l?a.call(s,{name:"tableId",hash:{},data:n}):a))+'" class="rup-table_linkPaginacionDetalle" href="javascript:void(0)" alt="'+d((a=null!=(a=i.labelFirst||(null!=t?t.labelFirst:t))?a:o,typeof a===l?a.call(s,{name:"labelFirst",hash:{},data:n}):a))+'">'+d((a=null!=(a=i.labelFirst||(null!=t?t.labelFirst:t))?a:o,typeof a===l?a.call(s,{name:"labelFirst",hash:{},data:n}):a))+'</a>\r\n    <a id="back_'+d((a=null!=(a=i.tableId||(null!=t?t.tableId:t))?a:o,typeof a===l?a.call(s,{name:"tableId",hash:{},data:n}):a))+'" class="rup-table_linkPaginacionDetalle" href="javascript:void(0)" alt="'+d((a=null!=(a=i.labelPrev||(null!=t?t.labelPrev:t))?a:o,typeof a===l?a.call(s,{name:"labelPrev",hash:{},data:n}):a))+'">'+d((a=null!=(a=i.labelPrev||(null!=t?t.labelPrev:t))?a:o,typeof a===l?a.call(s,{name:"labelPrev",hash:{},data:n}):a))+'</a>\r\n    <a id="forward_'+d((a=null!=(a=i.tableId||(null!=t?t.tableId:t))?a:o,typeof a===l?a.call(s,{name:"tableId",hash:{},data:n}):a))+'" class="rup-table_linkPaginacionDetalle" href="javascript:void(0)" alt="'+d((a=null!=(a=i.labelNext||(null!=t?t.labelNext:t))?a:o,typeof a===l?a.call(s,{name:"labelNext",hash:{},data:n}):a))+'">'+d((a=null!=(a=i.labelNext||(null!=t?t.labelNext:t))?a:o,typeof a===l?a.call(s,{name:"labelNext",hash:{},data:n}):a))+'</a>\r\n    <a id="last_'+d((a=null!=(a=i.tableId||(null!=t?t.tableId:t))?a:o,typeof a===l?a.call(s,{name:"tableId",hash:{},data:n}):a))+'" class="rup-table_linkPaginacionDetalle" href="javascript:void(0)" alt="'+d((a=null!=(a=i.labelLast||(null!=t?t.labelLast:t))?a:o,typeof a===l?a.call(s,{name:"labelLast",hash:{},data:n}):a))+'">'+d((a=null!=(a=i.labelLast||(null!=t?t.labelLast:t))?a:o,typeof a===l?a.call(s,{name:"labelLast",hash:{},data:n}):a))+'</a>\r\n  </div>\r\n  <div class="rup-table-detail-separator"></div>\r\n'},useData:!0}),this.Rup.Templates.rup.table.pager=this.Rup.Templates.rup.table.pager||{},this.Rup.Templates.rup.table.pager.bootstrap=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'\r\n  <div id="pg_'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'_pager" class="ui-pager-control rup_table_pager" role="group">\r\n    <div id="'+d((a=null!=(a=i.idPager||(null!=t?t.idPager:t))?a:o,typeof a===l?a.call(s,{name:"idPager",hash:{},data:n}):a))+'_left" class="pager_left"></div>\r\n    <div id="'+d((a=null!=(a=i.idPager||(null!=t?t.idPager:t))?a:o,typeof a===l?a.call(s,{name:"idPager",hash:{},data:n}):a))+'_center" class="pager_center">\r\n      <div id="first_'+d((a=null!=(a=i.idPager||(null!=t?t.idPager:t))?a:o,typeof a===l?a.call(s,{name:"idPager",hash:{},data:n}):a))+'">\r\n        <a href="javascript:void(0)" class="linkPaginacion">'+d((a=null!=(a=i.firstPageText||(null!=t?t.firstPageText:t))?a:o,typeof a===l?a.call(s,{name:"firstPageText",hash:{},data:n}):a))+'</a>\r\n      </div>\r\n      <div id="prev_'+d((a=null!=(a=i.idPager||(null!=t?t.idPager:t))?a:o,typeof a===l?a.call(s,{name:"idPager",hash:{},data:n}):a))+'">\r\n        <a href="javascript:void(0)" class="linkPaginacion">'+d((a=null!=(a=i.prevPageText||(null!=t?t.prevPageText:t))?a:o,typeof a===l?a.call(s,{name:"prevPageText",hash:{},data:n}):a))+'</a>\r\n      </div>\r\n      <div id="next_'+d((a=null!=(a=i.idPager||(null!=t?t.idPager:t))?a:o,typeof a===l?a.call(s,{name:"idPager",hash:{},data:n}):a))+'">\r\n        <a href="javascript:void(0)" class="linkPaginacion">'+d((a=null!=(a=i.nextPageText||(null!=t?t.nextPageText:t))?a:o,typeof a===l?a.call(s,{name:"nextPageText",hash:{},data:n}):a))+'</a>\r\n      </div>\r\n      <div id="last_'+d((a=null!=(a=i.idPager||(null!=t?t.idPager:t))?a:o,typeof a===l?a.call(s,{name:"idPager",hash:{},data:n}):a))+'">\r\n        <a href="javascript:void(0)" class="linkPaginacion">'+d((a=null!=(a=i.lastPageText||(null!=t?t.lastPageText:t))?a:o,typeof a===l?a.call(s,{name:"lastPageText",hash:{},data:n}):a))+'</a>\r\n      </div>\r\n\r\n    </div>\r\n    <div id="'+d((a=null!=(a=i.table_pager||(null!=t?t.table_pager:t))?a:o,typeof a===l?a.call(s,{name:"table_pager",hash:{},data:n}):a))+'_right" class="pager_right">\r\n      <div class="ui-paging-info">'+d((a=null!=(a=i.resultText||(null!=t?t.resultText:t))?a:o,typeof a===l?a.call(s,{name:"resultText",hash:{},data:n}):a))+"</div>\r\n    </div>\r\n  </div>\r\n"},useData:!0}),this.Rup.Templates.rup.table.pager.jqueryui=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){return'<div id="table_pager" class="ui-state-default ui-jqgrid-pager ui-corner-bottom" dir="ltr" style="width: 100%; height: auto;">\r\n  <div id="pg_table_pager" class="ui-pager-control" role="group">\r\n    <table cellspacing="0" cellpadding="0" border="0" class="ui-pg-table" style="width:100%;table-layout:fixed;height:100%;" role="row">\r\n      <tbody>\r\n        <tr>\r\n          <td id="table_pager_left" align="left" class="pager_left"></td>\r\n          <td id="table_pager_center" align="center" style="white-space: pre; width: 305px;" class="pager_center">\r\n            <table cellspacing="0" cellpadding="0" border="0" style="table-layout:auto;" class="ui-pg-table">\r\n              <tbody>\r\n                <tr>\r\n                  <td id="first_table_pager" class="ui-corner-all pagControls ui-state-disabled">\r\n                    <a href="javascript:void(0)" class="linkPaginacion">Primera Página</a>\r\n                  </td>\r\n                  <td id="prev_table_pager" class="ui-corner-all pagControls ui-state-disabled">\r\n                    <a href="javascript:void(0)" class="linkPaginacion">Anterior</a>\r\n                  </td>\r\n                  <td class="ui-pg-button ui-state-disabled pagControls" style="width:4px;">\r\n                    <span class="ui-separator"></span>\r\n                  </td>\r\n                  <td dir="ltr" class="pagControls">\r\n                    Página\r\n                    <input class="ui-pg-input" type="text" size="2" maxlength="7" value="0" role="textbox" data-hasqtip="1" oldtitle="Página actual" title="" aria-describedby="qtip-1"> de <span id="sp_1_table_pager">100</span>\r\n                  </td>\r\n                  <td class="ui-pg-button ui-state-disabled pagControls" style="width:4px;">\r\n                    <span class="ui-separator"></span>\r\n                  </td>\r\n                  <td id="next_table_pager" class="ui-corner-all pagControls">\r\n                    <a href="javascript:void(0)" class="linkPaginacion">Siguiente</a>\r\n                  </td>\r\n                  <td id="last_table_pager" class="ui-corner-all pagControls">\r\n                    <a href="javascript:void(0)" class="linkPaginacion">Última Página</a>\r\n                  </td>\r\n                  <td dir="ltr" class="pagControls">\r\n                    <select class="ui-pg-selbox" role="listbox" data-hasqtip="0" oldtitle="Número de elementos por página" title="" aria-describedby="qtip-0">\r\n                      <option role="option" value="10" selected="selected">10</option>\r\n                      <option role="option" value="20">20</option>\r\n                      <option role="option" value="30">30</option>\r\n                    </select>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </td>\r\n          <td id="table_pager_right" align="right" class="pager_right">\r\n            <div dir="ltr" style="text-align:right" class="ui-paging-info">Mostrando 1 - 10 de 1.000</div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n'},useData:!0}),this.Rup.Templates.rup.table.pager.link=this.Rup.Templates.rup.table.pager.link||{},this.Rup.Templates.rup.table.pager.link.bootstrap=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'<a href="javascript:void(0)" class="linkPaginacion">'+d((a=null!=(a=i.label||(null!=t?t.label:t))?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:n}):a))+'</a>\r\n<i class="iconPaginacion '+d((a=null!=(a=i.icon||(null!=t?t.icon:t))?a:o,typeof a===l?a.call(s,{name:"icon",hash:{},data:n}):a))+'"></i></td>\r\n'},useData:!0}),this.Rup.Templates.rup.tabs=this.Rup.Templates.rup.tabs||{},this.Rup.Templates.rup.tabs.container=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){return"<ul>\r\n\r\n</ul>\r\n"},useData:!0}),this.Rup.Templates.rup.tabs.subtab=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return"<div id="+d((a=null!=(a=i.rupRandomLayerId||(null!=t?t.rupRandomLayerId:t))?a:o,typeof a===l?a.call(s,{name:"rupRandomLayerId",hash:{},data:n}):a))+' class="rupRandomLayerId ssss">\r\n  <div id='+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+' actualTab="'+d((a=null!=(a=i.actualTab||(null!=t?t.actualTab:t))?a:o,typeof a===l?a.call(s,{name:"actualTab",hash:{},data:n}):a))+'">\r\n\r\n  </div>\r\n</div>\r\n'},useData:!0}),this.Rup.Templates.rup.tabs.tab=e.template({1:function(e,t,i,r,n){return'        <span class="ui-icon ui-icon-close" role="presentation">Remove Tab</span>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s,o=null!=t?t:{},l=i.helperMissing,d="function",u=e.escapeExpression;return'<li>\r\n  <a  id="'+u((s=null!=(s=i.id||(null!=t?t.id:t))?s:l,typeof s===d?s.call(o,{name:"id",hash:{},data:n}):s))+'"\r\n      href="'+u((s=null!=(s=i.href||(null!=t?t.href:t))?s:l,typeof s===d?s.call(o,{name:"href",hash:{},data:n}):s))+'"\r\n      rupLevel="'+u((s=null!=(s=i.rupLevel||(null!=t?t.rupLevel:t))?s:l,typeof s===d?s.call(o,{name:"rupLevel",hash:{},data:n}):s))+'"\r\n      title="'+u((s=null!=(s=i.title||(null!=t?t.title:t))?s:l,typeof s===d?s.call(o,{name:"title",hash:{},data:n}):s))+'"\r\n      alt="'+u((s=null!=(s=i.alt||(null!=t?t.alt:t))?s:l,typeof s===d?s.call(o,{name:"alt",hash:{},data:n}):s))+'">\r\n\r\n      <div class="rup-tabs_title">'+u((s=null!=(s=i.label||(null!=t?t.label:t))?s:l,typeof s===d?s.call(o,{name:"label",hash:{},data:n}):s))+'</div>\r\n      <span class="rup-tabs_loading"> </span>\r\n'+(null!=(a=i["if"].call(o,null!=t?t.btnClose:t,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")+"  </a>\r\n\r\n</li>\r\n"},useData:!0}),this.Rup.Templates.rup.toolbar=this.Rup.Templates.rup.toolbar||{},this.Rup.Templates.rup.toolbar.button=this.Rup.Templates.rup.toolbar.button||{},this.Rup.Templates.rup.toolbar.button.bootstrap=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'\r\n<button type="button" id="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'" class="rup-button">\r\n\t\t<i class="'+d((a=null!=(a=i.css||(null!=t?t.css:t))?a:o,typeof a===l?a.call(s,{name:"css",hash:{},data:n}):a))+'" aria-hidden="true"></i>\r\n    <span class="rup-ui-button-text">'+d((a=null!=(a=i.label||(null!=t?t.label:t))?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:n}):a))+"</span>\r\n</button>\r\n"},useData:!0}),this.Rup.Templates.rup.toolbar.button.jqueryui=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'<button id="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'" type="button" class="rup-toolbar_button">\r\n    <span class="ui-button-icon ui-icon '+d((a=null!=(a=i.css||(null!=t?t.css:t))?a:o,typeof a===l?a.call(s,{name:"css",hash:{},data:n}):a))+'"></span>\r\n    <span class="ui-button-icon-space"> </span>\r\n    <span class="rup-ui-button-text">'+d((a=null!=(a=i.label||(null!=t?t.label:t))?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:n}):a))+"</span>\r\n</button>\r\n"},useData:!0}),this.Rup.Templates.rup.toolbar.mbutton=this.Rup.Templates.rup.toolbar.mbutton||{},this.Rup.Templates.rup.toolbar.mbutton.bootstrap=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'<div id="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'-mbutton-group" class="rup-mbutton '+d((a=null!=(a=i.groupClasses||(null!=t?t.groupClasses:t))?a:o,typeof a===l?a.call(s,{name:"groupClasses",hash:{},data:n}):a))+'">\r\n\t\t<button type="button" data-mbutton="true" id="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'" data-mbutton="true" class="ui-button ui-corner-all ui-widget rup-button">\r\n\t\t\t<i class="fa fa-cog" aria-hidden="true"></i>\r\n\t\t\t<span class="rup-ui-button-text">'+d((a=null!=(a=i.label||(null!=t?t.label:t))?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:n}):a))+'</span>\r\n\t\t</button>\r\n\t\t<ul id="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,
typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'-mbutton-container" class="rup-mbutton-container" aria-labelledby="'+d((a=null!=(a=i.id||(null!=t?t.id:t))?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:n}):a))+'">\r\n\r\n\t\t</ul>\r\n</div>\r\n'},useData:!0}),this.Rup.Templates.rup.upload=this.Rup.Templates.rup.upload||{},this.Rup.Templates.rup.upload.downloadTemplate=e.template({1:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'    <li class="list-group-item template-download">\r\n      <div class="row">\r\n        <div class="col-xs-6 col-md-3">\r\n          <p class="name text-xs-left"><b><a href="'+d((a=null!=(a=i.url||(null!=t?t.url:t))?a:o,typeof a===l?a.call(s,{name:"url",hash:{},data:n}):a))+'">'+d((a=null!=(a=i.name||(null!=t?t.name:t))?a:o,typeof a===l?a.call(s,{name:"name",hash:{},data:n}):a))+'</a></b></p>\r\n          <span class="name text-xs-left"><span class="type">'+d((a=null!=(a=i.type||(null!=t?t.type:t))?a:o,typeof a===l?a.call(s,{name:"type",hash:{},data:n}):a))+'</span></span>\r\n\r\n\r\n        </div>\r\n        <div class="col-xs-6 col-md-4 fileupload-buttonbar">\r\n              <a href="'+d((a=null!=(a=i.url||(null!=t?t.url:t))?a:o,typeof a===l?a.call(s,{name:"url",hash:{},data:n}):a))+'">\r\n                <button type="button" class="btn btn-primary download">\r\n                    <i class="fa fa-download" aria-hidden="true"></i>\r\n                    <span>Abrir</span>\r\n                </button>\r\n              </a>\r\n\r\n                <button type="button" class="btn btn-secondary delete" data-type="'+d((a=null!=(a=i.delete_type||(null!=t?t.delete_type:t))?a:o,typeof a===l?a.call(s,{name:"delete_type",hash:{},data:n}):a))+'" data-url="'+d((a=null!=(a=i.delete_url||(null!=t?t.delete_url:t))?a:o,typeof a===l?a.call(s,{name:"delete_url",hash:{},data:n}):a))+'">\r\n                    <i class="fa fa-trash" aria-hidden="true"></i>\r\n                    <span>Eliminar</span>\r\n                </button>\r\n        </div>\r\n      </div>\r\n    </li>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a;return"\r\n\r\n"+(null!=(a=i.each.call(null!=t?t:{},null!=t?t.files:t,{name:"each",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")},useData:!0}),this.Rup.Templates.rup.upload.uploadTemplate=e.template({1:function(e,t,i,r,n,a,s){var o,l,d=null!=t?t:{},u=i.helperMissing,c="function",h=e.escapeExpression;return'    <li class="list-group-item template-upload">\r\n      <div class="row">\r\n        <div class="col-xs-6 col-md-3">\r\n          <p class="name text-xs-left"><b>'+h((l=null!=(l=i.name||(null!=t?t.name:t))?l:u,typeof l===c?l.call(d,{name:"name",hash:{},data:n}):l))+'</b></p>\r\n          <span class="name text-xs-left"><span class="type">'+h((l=null!=(l=i.type||(null!=t?t.type:t))?l:u,typeof l===c?l.call(d,{name:"type",hash:{},data:n}):l))+'</span><span class="type">'+h((l=null!=(l=i.size||(null!=t?t.size:t))?l:u,typeof l===c?l.call(d,{name:"size",hash:{},data:n}):l))+'</span></span>\r\n\r\n\r\n        </div>\r\n\r\n        <div class="col-xs-6 col-md-4 fileupload-buttonbar">\r\n'+(null!=(o=i["if"].call(d,null!=s[1]?s[1].notSubmitInForm:s[1],{name:"if",hash:{},fn:e.program(2,n,0,a,s),inverse:e.noop,data:n}))?o:"")+'                <button class="btn btn-secondary cancel">\r\n                    <i class="fa fa-times-circle" aria-hidden="true"></i>\r\n                    <span>Cancelar</span>\r\n                </button>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </li>\r\n'},2:function(e,t,i,r,n){return'                <button class="btn btn-primary start">\r\n                    <i class="fa fa-upload" aria-hidden="true"></i>\r\n                    <span>Subir</span>\r\n                </button>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n,a,s){var o;return"\r\n\r\n"+(null!=(o=i.each.call(null!=t?t:{},null!=t?t.files:t,{name:"each",hash:{},fn:e.program(1,n,0,a,s),inverse:e.noop,data:n}))?o:"")},useData:!0,useDepths:!0}),this.Rup.Templates.rup.widget=this.Rup.Templates.rup.widget||{},this.Rup.Templates.rup.widget.base=e.template({1:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l=e.escapeExpression;return'          <span id="widgetClose-'+l((a=null!=(a=i.uuid||(null!=t?t.uuid:t))?a:o,"function"==typeof a?a.call(s,{name:"uuid",hash:{},data:n}):a))+'" class="widget-icon widget-icon-right glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" title="'+l((i.i18n||t&&t.i18n||o).call(s,"title.eliminar",{name:"i18n",hash:{},data:n}))+'"></span>\r\n'},3:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l=e.escapeExpression;return'          <span id="widgetReload-'+l((a=null!=(a=i.uuid||(null!=t?t.uuid:t))?a:o,"function"==typeof a?a.call(s,{name:"uuid",hash:{},data:n}):a))+'" class="widget-icon widget-icon-right glyphicon glyphicon-refresh" data-toggle="tooltip" data-placement="top" title="'+l((i.i18n||t&&t.i18n||o).call(s,"title.refrescar",{name:"i18n",hash:{},data:n}))+'"></span>\r\n'},5:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l=e.escapeExpression;return'          <span id="widgetResizeFull-'+l((a=null!=(a=i.uuid||(null!=t?t.uuid:t))?a:o,"function"==typeof a?a.call(s,{name:"uuid",hash:{},data:n}):a))+'" class="widget-icon widget-icon-right glyphicon glyphicon-resize-full" data-toggle="tooltip" data-placement="top" title="'+l((i.i18n||t&&t.i18n||o).call(s,"title.maximizar",{name:"i18n",hash:{},data:n}))+'"></span>\r\n'},7:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l=e.escapeExpression;return'          <span id="widgetConfig-'+l((a=null!=(a=i.uuid||(null!=t?t.uuid:t))?a:o,"function"==typeof a?a.call(s,{name:"uuid",hash:{},data:n}):a))+'" class="widget-icon widget-icon-right glyphicon glyphicon-cog" data-toggle="tooltip" data-placement="top" title="'+l((i.i18n||t&&t.i18n||o).call(s,"title.configuracion",{name:"i18n",hash:{},data:n}))+'" ></span>\r\n'},9:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'          <span id="widgetInfo-'+d((a=null!=(a=i.uuid||(null!=t?t.uuid:t))?a:o,typeof a===l?a.call(s,{name:"uuid",hash:{},data:n}):a))+'" class="widget-icon widget-icon-right glyphicon glyphicon-question-sign" data-toggle="tooltip" data-placement="bottom" title="'+d((a=null!=(a=i.infoTextNew||(null!=t?t.infoTextNew:t))?a:o,typeof a===l?a.call(s,{name:"infoTextNew",hash:{},data:n}):a))+'" tttt="'+d((a=null!=(a=i.infoText||(null!=t?t.infoText:t))?a:o,typeof a===l?a.call(s,{name:"infoText",hash:{},data:n}):a))+'"></span>\r\n'},11:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l=e.escapeExpression;return'          <span id="widgetShow-'+l((a=null!=(a=i.uuid||(null!=t?t.uuid:t))?a:o,"function"==typeof a?a.call(s,{name:"uuid",hash:{},data:n}):a))+'" class="widget-icon widget-icon-right glyphicon glyphicon-eye-close" data-toggle="tooltip" data-placement="top" title="'+l((i.i18n||t&&t.i18n||o).call(s,"title.mostrarOcultar",{name:"i18n",hash:{},data:n}))+'"></span>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s,o=null!=t?t:{},l=i.helperMissing,d="function",u=e.escapeExpression;return'<div class="widget rssBottom" id="'+u((s=null!=(s=i.uuid||(null!=t?t.uuid:t))?s:l,typeof s===d?s.call(o,{name:"uuid",hash:{},data:n}):s))+'">\r\n    <div class="widget-header">\r\n        <div>\r\n          <span class="widget-header-title">'+u((s=null!=(s=i.title||(null!=t?t.title:t))?s:l,typeof s===d?s.call(o,{name:"title",hash:{},data:n}):s))+'</span>\r\n        </div>\r\n        <div class="widget-header-controls">\r\n'+(null!=(a=i["if"].call(o,null!=(a=null!=t?t.buttons:t)?a.btnClose:a,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")+(null!=(a=i["if"].call(o,null!=(a=null!=t?t.buttons:t)?a.btnReload:a,{name:"if",hash:{},fn:e.program(3,n,0),inverse:e.noop,data:n}))?a:"")+(null!=(a=i["if"].call(o,null!=(a=null!=t?t.buttons:t)?a.btnResizeFull:a,{name:"if",hash:{},fn:e.program(5,n,0),inverse:e.noop,data:n}))?a:"")+'          <span id="widgetResizeSmall-'+u((s=null!=(s=i.uuid||(null!=t?t.uuid:t))?s:l,typeof s===d?s.call(o,{name:"uuid",hash:{},data:n}):s))+'" class="widget-icon widget-icon-right glyphicon glyphicon-resize-small" data-toggle="tooltip" data-placement="top" title="'+u((i.i18n||t&&t.i18n||l).call(o,"title.minimizar",{name:"i18n",hash:{},data:n}))+'"></span>\r\n'+(null!=(a=i["if"].call(o,null!=(a=null!=t?t.buttons:t)?a.btnConfig:a,{name:"if",hash:{},fn:e.program(7,n,0),inverse:e.noop,data:n}))?a:"")+(null!=(a=i["if"].call(o,null!=t?t.infoText:t,{name:"if",hash:{},fn:e.program(9,n,0),inverse:e.noop,data:n}))?a:"")+(null!=(a=i["if"].call(o,null!=(a=null!=t?t.buttons:t)?a.btnShow:a,{name:"if",hash:{},fn:e.program(11,n,0),inverse:e.noop,data:n}))?a:"")+'        </div>\r\n    </div>\r\n    <div class="widget-feedback">\r\n    </div>\r\n    <div class="widget-body">\r\n\r\n    </div>\r\n</div>\r\n'},useData:!0}),this.Rup.Templates.rup.widget.close=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){return""},useData:!0}),this.Rup.Templates.rup.widget.configRequired=e.template({1:function(e,t,i,r,n){var a,s;return"<br/>"+(null!=(s=null!=(s=i.urlConsulta||(null!=t?t.urlConsulta:t))?s:i.helperMissing,a="function"==typeof s?s.call(null!=t?t:{},{name:"urlConsulta",hash:{},data:n}):s)?a:"")},compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s,o=null!=t?t:{},l=i.helperMissing,d="function",u=e.escapeExpression;return'<div id="'+u((s=null!=(s=i.idModal||(null!=t?t.idModal:t))?s:l,typeof s===d?s.call(o,{name:"idModal",hash:{},data:n}):s))+'" class="config-required-modal">\r\n    <div>\r\n        <div>\r\n            <span>'+u((s=null!=(s=i.titulo||(null!=t?t.titulo:t))?s:l,typeof s===d?s.call(o,{name:"titulo",hash:{},data:n}):s))+(null!=(a=i["if"].call(o,null!=t?t.urlConsulta:t,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")+'</span><br>\r\n            <button id="btnConfigRequired" type="button" class="btn btn-primary">\r\n                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>'+u((i.i18n||t&&t.i18n||l).call(o,"title.configuracion",{name:"i18n",hash:{},data:n}))+'</button>\r\n            <button id="btnDelete" type="button" class="btn btn-danger">\r\n                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>'+u((i.i18n||t&&t.i18n||l).call(o,"title.eliminar",{name:"i18n",hash:{},data:n}))+"</button>\r\n            \r\n        </div>\r\n    </div>\r\n</div>"},useData:!0}),this.Rup.Templates.rup.widget.help=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a=null!=t?t:{},s=i.helperMissing,o=e.escapeExpression;return'\r\n<p class="help_widget_intro">'+o((i.i18n||t&&t.i18n||s).call(a,"help.parrafo1",{name:"i18n",hash:{},data:n}))+'</p>\r\n\r\n<div class="help_block add_widget_action">\r\n<p>'+o((i.i18n||t&&t.i18n||s).call(a,"help.addWidget",{name:"i18n",hash:{},data:n}))+"</p>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"help.addWidgetText",{name:"i18n",hash:{},data:n}))+'</p>\r\n</div>\r\n\r\n<div class="help_block config_widget_action">\r\n<p>'+o((i.i18n||t&&t.i18n||s).call(a,"help.configura",{name:"i18n",hash:{},data:n}))+"</p>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"help.configuraText",{name:"i18n",hash:{},data:n}))+'</p>\r\n</div>\r\n\r\n<div class="help_block help_widget_action">\r\n<p>'+o((i.i18n||t&&t.i18n||s).call(a,"help.ayuda",{name:"i18n",hash:{},data:n}))+"</p>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"help.ayudaText",{name:"i18n",hash:{},data:n}))+"</p>\r\n</div>\r\n"},useData:!0}),this.Rup.Templates.rup.widget.rss=e.template({1:function(e,t,i,r,n){var a;return'    <div class="list-group">\r\n'+(null!=(a=i.each.call(null!=t?t:{},null!=t?t.items:t,{name:"each",hash:{},fn:e.program(2,n,0),inverse:e.noop,data:n}))?a:"")+"    </div>\r\n"},2:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'          <a href="'+d((a=null!=(a=i.link||(null!=t?t.link:t))?a:o,typeof a===l?a.call(s,{name:"link",hash:{},data:n}):a))+'" class="list-group-item" data-source="'+d((a=null!=(a=i.source||(null!=t?t.source:t))?a:o,typeof a===l?a.call(s,{name:"source",hash:{},data:n}):a))+'" data-url="'+d((a=null!=(a=i.link||(null!=t?t.link:t))?a:o,typeof a===l?a.call(s,{name:"link",hash:{},data:n}):a))+'" data-comments="'+d((a=null!=(a=i.comments||(null!=t?t.comments:t))?a:o,typeof a===l?a.call(s,{name:"comments",hash:{},data:n}):a))+'" target="_blank">\r\n            <h5 class="list-group-item-heading">'+d((a=null!=(a=i.title||(null!=t?t.title:t))?a:o,typeof a===l?a.call(s,{name:"title",hash:{},data:n}):a))+'</h5>\r\n            <p class="list-group-item-text">'+d((a=null!=(a=i.content||(null!=t?t.content:t))?a:o,typeof a===l?a.call(s,{name:"content",hash:{},data:n}):a))+'</p>\r\n            <p class="list-group-item-text">'+d((a=null!=(a=i.pubDate||(null!=t?t.pubDate:t))?a:o,typeof a===l?a.call(s,{name:"pubDate",hash:{},data:n}):a))+"</p>\r\n          </a>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a;return(null!=(a=i.each.call(null!=t?t:{},null!=t?t.channel:t,{name:"each",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?a:"")+"\r\n"},useData:!0}),this.Rup.Templates.rup.widget.search=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a,s=null!=t?t:{},o=i.helperMissing,l="function",d=e.escapeExpression;return'<form>\r\n    <div class="form-group">\r\n        <label for="'+d((a=null!=(a=i.fieldId||(null!=t?t.fieldId:t))?a:o,typeof a===l?a.call(s,{name:"fieldId",hash:{},data:n}):a))+'" class="control-label">'+d((a=null!=(a=i.fieldLabel||(null!=t?t.fieldLabel:t))?a:o,typeof a===l?a.call(s,{name:"fieldLabel",hash:{},data:n}):a))+'</label>\r\n        <input type="text" class="form-control" id="'+d((a=null!=(a=i.fieldId||(null!=t?t.fieldId:t))?a:o,typeof a===l?a.call(s,{name:"fieldId",hash:{},data:n}):a))+'" placeholder="'+d((a=null!=(a=i.fieldPlaceholder||(null!=t?t.fieldPlaceholder:t))?a:o,typeof a===l?a.call(s,{name:"fieldPlaceholder",hash:{},data:n}):a))+'">\r\n    </div>\r\n    <div class="form-group">\r\n        <button type="button" class="btn btn-default">\r\n            <span class="glyphicon glyphicon-search"></span>\r\n            Consultar</button>\r\n        <button type="button" class="btn btn-primary">\r\n            <span class="glyphicon glyphicon-cog"></span>\r\n            Tramitar</button>\r\n    </div>\r\n</form> \r\n'},useData:!0}),this.Rup.Templates.rup.widget.welcome=e.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,r,n){var a=null!=t?t:{},s=i.helperMissing,o=e.escapeExpression;return"<p>"+o((i.i18n||t&&t.i18n||s).call(a,"welcome.parrafo1",{name:"i18n",hash:{},data:n}))+"</p>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"welcome.parrafo2",{name:"i18n",hash:{},data:n}))+'</p>\r\n\r\n\r\n<div class="help_herramienta bienvenida_1 noborder_widget">\r\n<h2>'+o((i.i18n||t&&t.i18n||s).call(a,"welcome.seleccionActivo",{name:"i18n",hash:{},data:n}))+"</h2>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"welcome.seleccionActivoText",{name:"i18n",hash:{},data:n}))+'</p>\r\n</div>\r\n\r\n<div class="help_herramienta bienvenida_2">\r\n<h2>'+o((i.i18n||t&&t.i18n||s).call(a,"welcome.opcionConfiguracion",{name:"i18n",hash:{},data:n}))+"</h2>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"welcome.opcionConfiguracionText",{name:"i18n",hash:{},data:n}))+'</p>\r\n</div>\r\n\r\n<div class="help_herramienta bienvenida_3">\r\n<h2>'+o((i.i18n||t&&t.i18n||s).call(a,"welcome.addWidget",{name:"i18n",hash:{},data:n}))+"</h2>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"welcome.addWidgetText",{name:"i18n",hash:{},data:n}))+'</p>\r\n</div>\r\n\r\n<div class="help_herramienta bienvenida_4">\r\n<h2>'+o((i.i18n||t&&t.i18n||s).call(a,"welcome.accesoFamilias",{name:"i18n",hash:{},data:n}))+"</h2>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"welcome.accesoFamiliasText",{name:"i18n",hash:{},data:n}))+'</p>\r\n</div>\r\n\r\n<div class="help_herramienta bienvenida_5">\r\n<h2>'+o((i.i18n||t&&t.i18n||s).call(a,"welcome.herramientas",{name:"i18n",hash:{},data:n}))+"</h2>\r\n<p>"+o((i.i18n||t&&t.i18n||s).call(a,"welcome.herramientasText",{name:"i18n",hash:{},data:n}))+"</p>\r\n</div>\r\n\r\n"},useData:!0}),this.Rup}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_accordion",t)),e.fn.rup_accordion("extend",{destroy:function(){e(this).removeData("settings"),e(this).accordion("destroy")},disable:function(){e(this).accordion("disable")},enable:function(){e(this).accordion("enable")},option:function(t,i){return void 0===i?void 0!==t?e(this).accordion("option",t):e(this).accordion("option"):void e(this).accordion("option",t,i)},widget:function(){return e(this).accordion("widget")},activate:function(t){e(this).accordion("option","active",t)},resize:function(){e(this).accordion("resize")}}),e.fn.rup_accordion("extend",{_init:function(t){function i(t,i){e(t.target).addClass("rup_accordion_create")}if(t.length>1)e.rup.errorGestor(e.rup.i18n.base.rup_global.initError+e(this).attr("id"));else{var r=this.children(),n=r.length/2,a=e.extend({},e.fn.rup_accordion.defaults,t[0]);if(this.removeClass("rup_accordion"),this.data("settings",a),createUserEvent=a.create,a.create=function(e,t){return(void 0===createUserEvent||createUserEvent(e,t)!==!1)&&void i(e,t)},a.validation){if(parseInt(n)!==n)return e.rup.errorGestor(e.rup.i18n.base.rup_accordion.strucPairError),!1;r.each(function(t,i){if(parseInt(t/2)===t/2&&0===e(i).find("a").length)return e.rup.errorGestor(e.rup.i18n.base.rup_accordion.headFormatError),!1})}this.accordion(a)}}}),e.fn.rup_accordion.defaults={validation:!0}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};$.extend($.ui.autocomplete.prototype,{_renderMenu:function(e,t){var i=this.options;if(i.category){var r=this,n="";$.each(t,function(t,i){var a;i.category!=n&&(e.append("<li class='ui-autocomplete-category'>"+i.category+"</li>"),n=i.category),a=r._renderItemData(e,i),i.category&&a.attr("aria-label",i.category+" : "+i.label)})}else{var a=this;$.each(t,function(t,i){a._renderItemData(e,i)})}},_renderItem:function(e,t){var i=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),r="matched-text",n="<span class='"+r+"'>$1</span>",a=t.label.replace(i,n),s=$("<li/>").appendTo(e);return $("<a/>").attr("href","#").html(a).appendTo(s),s}}),$.extend($.rup.iniRup,$.rup.rupSelectorObjectConstructor("rup_autocomplete",t)),$.fn.rup_autocomplete("extend",{getRupValue:function(){return $(this).val()},setRupValue:function(t){var i,r=this,n=r.data("rup.autocomplete"),a={};n&&(n.$hiddenField&&(n.$hiddenField.attr("rup_autocomplete_label",t),i=r.data("loadObjects"),a[t]=n.$hiddenField.val(),r.data("loadObjects",e.extend(!0,{},i,a))),n.$labelField&&(i=n.$labelField.data("loadObjects"),a[r.attr("rup_autocomplete_label")]=t,n.$labelField.data("loadObjects",e.extend(!0,{},i,a)))),$(this).val(t)},destroy:function(){var e;e=$(this).attr("id").indexOf("_label")>=0?$(this):$("#"+$(this).attr("id")+"_label"),e.autocomplete("destroy")},off:function(){var e;e=$(this).attr("id").indexOf("_label")>=0?$(this):$("#"+$(this).attr("id")+"_label"),e.storeEvents()},on:function(){var e;e=$(this).attr("id").indexOf("_label")>=0?$(this):$("#"+$(this).attr("id")+"_label"),e.restoreEvents()},disable:function(){var e,t;e=$(this).attr("id").indexOf("_label")>=0?$(this):$("#"+$(this).attr("id")+"_label"),t=e.data("settings"),t.combobox&&t.$comboboxToogle.button("disable"),e.attr("disabled","disabled")},enable:function(){var e,t;e=$(this).attr("id").indexOf("_label")>=0?$(this):$("#"+$(this).attr("id")+"_label"),t=e.data("settings"),t.combobox&&t.$comboboxToogle.button("enable"),e.removeAttr("disabled")},option:function(e,t,i){var r;r=$(this).attr("id").indexOf("_label")>=0?$(this):$("#"+$(this).attr("id")+"_label");var n=r.data("settings");if("source"===e){if("object"==typeof t)void 0!==i?n.i18nId=i:n.i18nId=n.id,r.autocomplete("option",e,this._sourceLOCAL),r.autocomplete("option","minLength",void 0!==n.minLength?n.minLength:0);else{if(void 0===i)return;"data"==e?r.autocomplete("option","data",i):(n.sourceParam=i,r.autocomplete("option",e,this._sourceREMOTE),r.autocomplete("option","minLength",n.minLength>3?n.minLength:3))}n.data=t,r.data("settings",n)}else n[e]=t,r.data("settings",n),r.autocomplete("option",e,t)},search:function(e){void 0!==$._data($(this)[0],"events")&&($(this).focus(),$(this).val(e),$(this).autocomplete("search",e))},close:function(){$(this).autocomplete("close")},val:function(){return $("#"+$(this).attr("id")).val()},set:function(t,i){var r,n=$(this),a=e("[id='"+n.attr("id")+"_label']"),s={};n.val(t),n.attr("rup_autocomplete_label",i),a.val(i),r=a.data("loadObjects"),s[i]=t,a.data("loadObjects",e.extend(!0,{},r,s))}}),$.fn.rup_autocomplete("extend",{_parseResponse:function(e,t,i,r){return void 0===r?{label:t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(e)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:i}:{label:t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(e)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:i,category:r}},_sourceLOCAL:function(e,t){var i,r,n,a={};i=void 0!==this.element.data("settings")?this.element.data("settings"):this.options,n=void 0!==i.loadObjects?i.loadObjects:i.id;var s=i.contains?$.ui.autocomplete.escapeRegex(e.term):"^"+$.ui.autocomplete.escapeRegex(e.term),o=$.rup.i18n.app[i.i18nId];s=new RegExp(s,"i"),data=$.map(i.data,function(t){var n,l=t,d=t;if("object"==typeof t&&(l=void 0!==t.i18nCaption?$.rup.i18nParse(o,t.i18nCaption):void 0!==t.label?t.label:t.value,d=t.value,i.category&&(n=t.category)),!e.term||s.test(l))return r=i.category?i._parseResponse(e.term,l,d,n):i._parseResponse(e.term,l,d),a[r.label.replace(/<strong>/g,"").replace(/<\/strong>/g,"")]=r.value,r}),$("#"+n).data("loadObjects",a),data=$.grep(data,function(e){return void 0!=e}),t(data)},_sourceREMOTE:function(t,i){var r,n,a,s,o,l,d,u,c=this.element,h={};r=void 0!==this.element.data("settings")?this.element.data("settings"):this.options,a=void 0!==r.loadObjects?r.loadObjects:r.id,u=e("#"+a),s=t.term.replace(/%/g,"\\%").replace(/_/g,"\\_"),o=$.extend({q:s,c:this.options.contains},this.options.extraParams),l=u.data("tmp.loadObjects.term"),0===s.indexOf(l)?(u.data("tmp.loadObjects.term",s),d=r.data,r.data=u.data("tmp.data"),e.proxy(r.$self._sourceLOCAL,this,t,i)(),r.data=d):$.rup_ajax({url:r.data,data:o,dataType:"json",contentType:"application/json",beforeSend:function(e){$("#"+r.id+"_label").addClass("rup-autocomplete_loading"),e.setRequestHeader("RUP",$.toJSON(r.sourceParam))},success:function(a){return c.triggerHandler("rupAutocomplete_beforeLoadComplete",[a]),0==a.length?(e("#"+r.id+"_label").autocomplete("close"),null):(i($.map(a,function(e){return n=1==r.category?r._parseResponse(t.term,e.label,e.value,e.category):r._parseResponse(t.term,e.label,e.value),h[n.label.replace(/<strong>/g,"").replace(/<\/strong>/g,"")]=n.value,n})),u.data("loadObjects",h),u.data("tmp.loadObjects.term",s),u.data("tmp.data",a),void c.triggerHandler("rupAutocomplete_loadComplete",[a]))},error:function(t,i,n){null!==r.onLoadError&&"function"==typeof r.onLoadError?e(r.onLoadError(t,i,n)):$.rup.showErrorToUser($.rup.i18n.base.rup_autocomplete.ajaxError)},complete:function(e,t){$("#"+r.id+"_label").removeClass("rup-autocomplete_loading")}})},_createShowAllButton:function(t){var i=this,r=!1;i.wrap(e("<span>").addClass("rup-combobox"));var n=i.parent(),a=$("<a>").attr("tabIndex",-1).attr("title",$.rup.i18n.base.rup_autocomplete.showAllItems).rup_tooltip().rup_button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("rup-combobox-toggle ui-corner-right").mousedown(function(){r=i.autocomplete("widget").is(":visible")}).click(function(){return i.focus(),!!r||void i.autocomplete("search","")});a.appendTo(n),t.$comboboxToogle=a},_init:function(t){if(t.length>1)$.rup.errorGestor($.rup.i18nParse($.rup.i18n.base,"rup_global.initError")+$(this).attr("id"));else{var i,r=$(this),n=$.extend({},$.fn.rup_autocomplete.defaults,t[0]),a=$(this).attr("name");$(this).attr("ruptype","autocomplete"),n.id=$(this).attr("id"),n.loadObjects=n.id,n.data=n.source,n._parseResponse=this._parseResponse,n._sourceLOCAL=this._sourceLOCAL,n.$self=this,n.loadValue=$("#"+n.id).attr("value"),n.i18nId||(n.i18nId=n.id),n._change=n.change,n._select=n.select,n._focus=n.focus,n.change=function(e,t){null!=i&&($("#"+e.target.id).val(i),$("#"+e.target.id).focus()),i=null,void 0!==n._change&&n._change(e,t),r.triggerHandler("rupAutocomplete_change")},n.select=function(e,t){return i=t.item.label.replace(/<strong>/g,"").replace(/<\/strong>/g,""),void 0!==n._select&&n._select(e,t),$("#"+n.id).attr("rup_autocomplete_label",i),$("#"+n.id).data("selected",!0),r.triggerHandler("rupAutocomplete_select",[t]),!1},n.focus=function(e,t){return $("#"+e.target.id).val(t.item.label.replace(/<strong>/g,"").replace(/<\/strong>/g,"")),void 0!==n._focus&&n._focus(e,t),!1};var s=$("<input>").attr({type:"hidden",id:n.id+"_value",name:null===n.valueName?a:n.valueName,ruptype:"autocomplete"});$("#"+n.id).after(s).attr("name",null===n.labelName?a+"_label":n.labelName).addClass("rup-autocomplete_label"),"object"==typeof n.source?n.source=this._sourceLOCAL:(n.minLength=n.minLength>3?n.minLength:3,n.source=this._sourceREMOTE),$("#"+n.id).data("loadObjects",{}),n.combobox===!0&&($("#"+n.id).addClass("rup-combobox-input ui-corner-left"),n.minLength=0),e(n.appendTo).addClass("ui-front"),e("#"+n.id).autocomplete(n),n.$menu=e("#"+n.id).data("ui-autocomplete").menu.element.attr("id",n.id+"_menu"),n.$menu.off("mousedown"),n.$menu.on("mousedown",function(t){var i=e("#"+n.id+"_menu")[0];$(t.target).closest(".ui-menu-item").length?$("#"+n.id+"_label").triggerHandler("blur"):setTimeout(function(){$(document).one("mousedown",function(t){t.target===e("#"+n.id+"_label")||t.target===i||$.ui.contains(i,t.target)||e("#"+n.id+"_label").autocomplete("close")})},1),setTimeout(function(){clearTimeout($("#"+n.id+"_label").data("ui-autocomplete").closing)},13)}),n.combobox===!0&&this._createShowAllButton(n),n.menuMaxHeight!==!1&&e("#"+n.id).on("autocompleteopen",function(){n.$menu.css("overflow-y","auto").css("overflow-x","hidden").css("max-height",n.menuMaxHeight).css("width",e("#"+n.id+"_label").innerWidth())}),null!==n.menuAppendTo?0===e(n.menuAppendTo).length?alert("Es necesario especificar un selector válido para la propiedad menuAppendTo"):e(n.menuAppendTo).append(n.$menu):$.rup_utils.aplicatioInPortal()&&$("div.r01gContainer").append(n.$menu),n.defaultValue&&$("#"+n.id).rup_autocomplete("search",n.defaultValue),n.loadValue&&($("#"+n.id).val(n.loadValue),$("#"+n.id+"_value").val(n.loadValue)),n.loadObjects=n.id+"_label",$("#"+n.id).attr("id",n.id+"_label"),$("#"+n.id+"_value").attr("id",n.id),$("#"+n.id+"_menu").on("mousedown",function(e){var t=$("#"+n.id).data("selected"),i=$(".ui-autocomplete:visible").length>0;!t&&i&&($("#"+n.id).data("ieIssueScrollVisible",!0),e.preventDefault())}),$("#"+n.id+"_label").bind("keydown",function(e){$("#"+n.id).data("ieIssueScrollVisible",!1)}),$("#"+n.id+"_label").bind("blur",function(e){var t=$("#"+n.id).data("selected"),i=$(".ui-autocomplete:visible").length>0;if($("#"+n.id).data("selected",!1),"keydown"===e.type&&13!==e.keyCode)return!0;if($("#"+n.id).data("ieIssueScrollVisible")===!0)return $("#"+n.id).focus(),e.stopPropagation(),$("#"+n.id).data("ieIssueScrollVisible",!1),!0;var r=$(e.currentTarget),a=$("#"+n.loadObjects).data("loadObjects");return 1==n.getText?void 0!==a[r.val()]?($("#"+n.id).val(r.val()),$("#"+n.id).attr("rup_autocomplete_label",r.val())):($("#"+n.id).val(r.val()),$("#"+n.id).attr("rup_autocomplete_label",r.val())):void 0!==a[r.val()]?($("#"+n.id).val(a[r.val()]),$("#"+n.id).attr("rup_autocomplete_label",a[r.val()])):($("#"+n.id).val(""),$("#"+n.id).attr("rup_autocomplete_label",""),r.val(""),r.autocomplete("close")),("keydown"!==e.type||13!==e.keyCode||!t&&!i)&&void 0}),$("#"+n.id+"_label").data("settings",n),$("#"+n.id+"_label").data("rup.autocomplete",{$hiddenField:$("#"+n.id)}),$("#"+n.id).data("rup.autocomplete",{$labelField:$("#"+n.id+"_label")}),n.disabled===!0?$("#"+n.id).rup_autocomplete("disable"):n.disabled===!1&&$("#"+n.id).rup_autocomplete("enable")}}}),$.fn.rup_autocomplete.defaults={onLoadError:null,contains:!0,valueName:null,labelName:null,getText:!1,combobox:!1,menuMaxHeight:!1,menuAppendTo:null,disabled:!1}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.widget("$.rup_breadCrumb",{options:{showSpeed:"fast",hideSpeed:"",collapsible:!1,collapsedWidth:10,breadCrumb:e.rup.APP_RESOURCES+".breadCrumb"},_create:function(){var t=window.location.pathname,i=t.substring(e.rup.CTX_PATH.length),r=i.split("/"),n=e("<ul>").attr("id","rup_breadCrumbs_ul").addClass("rup-breadCrumb_main"),a=null,s=null,o=void 0!==this.options.initUrl?e.rup.CTX_PATH+this.options.initUrl:e.rup.CTX_PATH,l=void 0===this.options.i18nId?this.element.attr("id"):this.options.i18nId;this.options.breadCrumb instanceof Object?a=this.options.breadCrumb:(e.rup.getFile(this.options.breadCrumb),a=e.rup.i18n[this.options.breadCrumb]),window.LOGGED_USER&&"NULL"!==LOGGED_USER||(LOGGED_USER=""),window.DESTROY_XLNETS_SESSION||(DESTROY_XLNETS_SESSION="false"),""!==LOGGED_USER?(void 0!==this.options.logOutUrl&&("false"===DESTROY_XLNETS_SESSION?this.element.append(e("<div id='logOutDiv' class='rup-breadCrumb_logoutDiv'>").append(e("<a>").addClass("rup-breadCrumb_link").attr("logOutHref",this.options.logOutUrl).bind("click",function(){e.rup_messages("msgConfirm",{message:e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.menuDisconnectMessage"),title:e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.menuDisconnectTitle"),OKFunction:function(){e(window).attr("location",e("#logOutLink").attr("logOutHref"))}})}).html(e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.exit")).attr("id","logOutLink").append(e("<span>").addClass("ui-icon rup-icon rup-icon-door-out rup-breadCrumb_exitImg")))):this.element.append(e("<div id='logOutDiv' class='rup-breadCrumb_logoutDiv'>").append(e("<a>").addClass("rup-breadCrumb_link").attr("logOutHref",this.options.logOutUrl).bind("click",function(){e.rup_messages("msgConfirm",{message:e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.menuSecuritySystemDisconnectMessage"),title:e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.menuDisconnectTitle"),OKFunction:function(){e(window).attr("location",e("#logOutLink").attr("logOutHref"))}})}).mouseover(function(t){e(this).find("span").removeClass("rup-breadCrumb_logoutImg").addClass("rup-breadCrumb_logoutImg_active")}).mouseleave(function(t){e(this).find("span").addClass("rup-breadCrumb_logoutImg").removeClass("rup-breadCrumb_logoutImg_active")}).html(e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.disconnect")).attr("id","logOutLink").append(e("<span>").addClass("rup-breadCrumb_logoutImg ui-icon"))))),breadCrumbSpan=e("<span>").addClass("rup-breadCrumbs_span").text(LOGGED_USER+e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.userAre")),this.element.append(breadCrumbSpan)):(breadCrumbSpan=e("<span>").addClass("rup-breadCrumbs_span").text(e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.youAre")),this.element.append(breadCrumbSpan)),n.append(this._createLI(e.rup.i18nParse(e.rup.i18n.base,"rup_breadCrumb.start"),o));for(var d=0;d<r.length;d++)a[r[d]]&&(a=this._createBreadCrumb(a[r[d]],r[d],n,l));e(n.children()[n.children().length-1]).addClass("rup-breadCrumb_current").find("img.rup-icon, span.rup-icon").remove(),s=e("a:first",e(n.children()[n.children().length-1])),s.replaceWith(e("<span>").text(s.text()).css({"font-weight":"bold",color:"#333333"})),delete s,this.element.append(n),n.xBreadcrumbs()},_createLI:function(t,i,r){var n=e("<li>"),a=e("<a>").attr("href",i).text(t);return n.append(a),
r!==!1&&n.append(e("<span>").addClass("ui-icon rup-icon rup-icon-separator-arrow")),n},_createBreadCrumb:function(t,i,r,n){var a,s=e("<ul>");if(t.i18nCaption&&(a=this._createLI(e.rup.i18nParse(e.rup.i18n.app[n],t.i18nCaption),t.url?e.rup.CTX_PATH+t.url:"#")),t.subLevel){for(var o=0;o<t.subLevel.length;o++)s.append(this._createLI(e.rup.i18nParse(e.rup.i18n.app[n],t.subLevel[o].i18nCaption),t.subLevel[o].url?t.subLevel[o].url:"#",!1).css("background","none"));a.append(s),e(a).bind("mouseover",function(t){e(this).find("a:eq(1)").focus()}),a.bind("keydown",function(t){switch(t.keyCode){case e.ui.keyCode.UP:for(var i=e(this).find("li > a"),r=0;r<=i.length&&i[r].text!==e(t.target).text();r++);e(i[r-1]).length>0?e(i[r-1]).focus():e(this).find("li > a").last().focus();break;case e.ui.keyCode.DOWN:for(var i=e(this).find("li > a"),r=0;r<=i.length&&i[r].text!==e(t.target).text();r++);e(i[r+1]).length>0?e(i[r+1]).focus():e(this).find("li > a").first().focus();break;case e.ui.keyCode.ESCAPE:e(this).children("ul").hide()}})}return r.append(a),t},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){e.Widget.prototype.destroy.apply(this,arguments)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","./core/ui/jquery.ui.selectmenu","./core/ui/jquery.multiselect"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_combo",t)),e.fn.rup_combo("extend",{getRupValue:function(t){var i,r,n,a=e(this),s=a.data("settings"),o={};return n=a.attr("name"),n&&(r=a.attr("name").split(".")),s.submitAsJSON?jQuery.rup_utils.getRupValueAsJson(n,a.rup_combo("value")):(i=s.submitAsString?a.rup_combo("value").toString():a.rup_combo("value"),void 0!==r&&null!==r&&s.multiselect&&(o[r[r.length-1]]=i),s.multiselect===!0&&void 0!==r&&r.length>1&&s.legacyWrapMode===!1?o:i)},setRupValue:function(t){var i=e(this),r=i.data("settings");0!==this.length&&e(this).data("settings").multiselect?e(this).rup_combo("select",r.readAsString===!0?t.split(","):t):(e.data(this[0],"setRupValue",t.toString()),e(this).rup_combo("select",t.toString()))},clear:function(){0!==this.length&&e(this).data("settings").multiselect?e(this).multiselect("uncheckAll"):e(this).rup_combo("select")},reset:function(){var t=e(this);t.rup_combo("select",t.find("option[selected]").attr("value"))},checkAll:function(){e(this).data("settings").multiselect?e(this).multiselect("checkAll"):alert("Función no soportada.")},select:function(t){if(0!==this.length&&e(this).data("settings").multiselect)this._setElement(e(this),t,!0);else{var i=this._setElement(e(this),t);if(i){var r=e(this).data("childs");if(void 0!==r)for(var n=0;n<r.length;n+=1)e("#"+r[n]).rup_combo("reload",r[n])}}},selectLabel:function(t){if(0!==this.length&&e(this).data("settings").multiselect){for(var i=0;i<t.length;i++)e("input[name='multiselect_"+e(this).attr("id")+"'][title='"+t[i]+"']").attr("checked",!0);e(this).multiselect("update")}else{var r=this._selectLabel(e(this),t,!0);if(r){var n=e(this).data("childs");if(void 0!==n)for(var i=0;i<n.length;i+=1)e("#"+n[i]).rup_combo("reload",n[i])}}},value:function(){if(0!==this.length&&e(this).data("settings").multiselect){for(var t=[],i=e(this).multiselect("getChecked"),r=0;r<i.size();r++)t.push(e(i[r]).val());return t}return e(this).selectmenu("value")},label:function(){if(0!==this.length&&e(this).data("settings").multiselect){for(var t=[],i=e(this).multiselect("getChecked"),r=0;r<i.size();r++)t.push(e(i[r]).next().text());return t}return this[0].options[e(this).selectmenu("index")].text},index:function(){if(0!==this.length&&e(this).data("settings").multiselect){for(var t=[],i=e(this).rup_combo("value"),r=e(this).find("option"),n=0;n<r.size();n++)e.inArray(e(r[n]).val(),i)!==-1&&t.push(n);return t}return e(this).selectmenu("index")},disable:function(){var t=e(this);e("#"+e(this).attr("id")+"-button").attr("tabindex",-1),e("#"+e(this).attr("id")+"-button").on("focus.rup_combo",function(i){return e("#"+t.attr("id")+"-button").blur(),!1}),0!==this.length&&e(this).data("settings").multiselect?e(this).multiselect("disable"):e(this).selectmenu("disable")},enable:function(){var t=(e(this),e(this).data("settings"));e("#"+e(this).attr("id")+"-button").off("focus.rup_combo"),e("#"+e(this).attr("id")+"-button").attr("tabindex",t.tabindex?t.tabindex:0),0!==this.length&&e(this).data("settings").multiselect?e(this).multiselect("enable"):e(this).selectmenu("enable")},isDisabled:function(){return"false"!==e(this).attr("aria-disabled")},disableChild:function(){e(this).empty().append("<option></option>").rup_combo("disable"),e("#"+e(this).attr("id")+"-button span:first-child").text("");var t=e(this).data("childs");if(void 0!==t)for(var i=0;i<t.length;i+=1)e("#"+t[i]).rup_combo("disableChild")},disableOpt:function(t){if(e(this).data("settings").multiselect){this.find("[value='"+t+"']").attr("disabled","disabled");var i=e("#rup-multiCombo_"+e(this).attr("id")).find("[value='"+t+"']");if(i.attr("disabled","disabled"),i.parent().css("color","grey"),void 0!=e(this).data("settings").sourceGroup){for(var r=i.parentsUntil("ul").last().prevAll("li.ui-multiselect-optgroup-label").first(),n=r.nextUntil("li.ui-multiselect-optgroup-label").find("input"),a=!0,s=0;s<n.length;s++)if(!n[s].disabled){a=!1;break}a&&(r.css("color","grey"),r.children("a").remove(),r.children("span").not(".rup-combo_multiOptgroupLabel").remove())}}else alert("Función no soportada.")},disableOptArr:function(t){if(e(this).data("settings").multiselect)for(var i=0;i<t.length;i++)e(this).rup_combo("disableOpt",t[i]);else alert("Función no soportada.")},enableOpt:function(t){if(e(this).data("settings").multiselect){this.find("[value='"+t+"']").removeAttr("disabled");var i=e("#rup-multiCombo_"+e(this).attr("id")).find("[value='"+t+"']");if(i.removeAttr("disabled"),i.parent().css("color","black"),void 0!=e(this).data("settings").sourceGroup){var r=i.parentsUntil("ul").last().prevAll("li.ui-multiselect-optgroup-label").first();0===r.children("a").length&&(r.css("color","black"),this._generateOptGroupLabel(r,e(this).data("settings").multiOptgroupIconText))}}else alert("Función no soportada.")},enableOptArr:function(t){if(e(this).data("settings").multiselect)for(var i=0;i<t.length;i++)e(this).rup_combo("enableOpt",t[i]);else alert("Función no soportada.")},refresh:function(){if(0!==this.length&&e(this).data("settings").multiselect){e(this).multiselect("refresh");var t=e(this).data("settings").multiOptgroupIconText,i=this;return e.each(e("#rup-multiCombo_"+e(this).attr("id")).find(".ui-multiselect-optgroup-label"),function(e,r){i._generateOptGroupLabel(r,t)}),e("#rup-multiCombo_"+e(this).attr("id")).find(".ui-multiselect-all").attr("title",e.rup.i18n.base.rup_combo.multiselect.checkAllTitle).rup_tooltip(),e("#rup-multiCombo_"+e(this).attr("id")).find(".ui-multiselect-none").attr("title",e.rup.i18n.base.rup_combo.multiselect.uncheckAllTitle).rup_tooltip(),e(this).multiselect("uncheckAll")}return e(this).selectmenu()},reload:function(t){if(0!==this.length){var i,r,n=e(this).data("settings");if(e("#"+n.id).rup_combo("disableChild"),"object"==typeof n.source||"object"==typeof n.sourceGroup)i=n.source[this._getParentsValues(n.parent,!1,n.multiValueToken)],void 0!==i&&(this._parseLOCAL(i,n,e("#"+n.id)),this._makeCombo(n),null!==n.onLoadSuccess&&jQuery(n.onLoadSuccess(e("#"+n.id))),e("#"+n.id).selectmenu("change"),r=e.data(e("#"+n.id)[0],"setRupValue"),r&&e("#"+n.id).rup_combo("select",r));else if("string"==typeof n.source||"string"==typeof n.sourceGroup){var a=this._getParentsValues(n.parent,!0),s=this;if(null===a)return!1;e.rup_ajax({url:n.source?n.source:n.sourceGroup,data:a,dataType:"json",contentType:"application/json",beforeSend:function(e){s._ajaxBeforeSend(e,n)},success:function(t,i,r){s._ajaxSuccess(t,n,e("#"+n.id)),null!==n.onLoadSuccess&&jQuery(n.onLoadSuccess(e("#"+n.id)))},error:function(e,t,i){null!==n.onLoadError?jQuery(n.onLoadError(e,t,i)):self._ajaxError(e,t,i)}})}else"function"!=typeof n.source&&"function"!=typeof n.sourceGroup||(jQuery(n.source),this._makeCombo(n))}},order:function(t,i,r){var n=e(this),a=e("option",n),s=[],o=null;if(n.length>0){var l=n.rup_combo("value");a.each(function(){return r?(r=!1,o={val:e(this).val(),text:e(this).text()},!0):void s.push({val:e(this).val(),text:e(this).text(),clazz:e(this).attr("class")})}),t?i?s.sort(function(e,t){return e.val-t.val}):s.sort(function(e,t){return e.val>t.val?1:e.val==t.val?0:-1}):i?s.sort(function(e,t){return e.text-t.text}):s.sort(function(e,t){return e.text.localeCompare(t.text)});for(var d=0,u=s.length;d<u;d++)e(a[d]).val(s[d].val).text(s[d].text),s[d].clazz&&e(a[d]).attr("class",s[d].clazz);o&&(n.prepend(e("<option>").attr("value",o.val).text(o.text)),e(a[s.length]).remove()),n.rup_combo("refresh"),this._setElement(e(this),l,e(this).data("settings").multiselect)}}}),e.fn.rup_combo("extend",{_setElement:function(t,i,r,n){if(r!==!0){if("string"==typeof i){if(!(e("option[value='"+i+"']",t).length>0))return!1;n===!0&&e("option[value='"+i+"']",t).attr("selected","selected"),e(t).selectmenu("value",i),e(t).trigger("_setElement")}else if("number"==typeof i){if(!(e("option",t).length>=i))return!1;n===!0&&e("option:eq("+i+")",t).attr("selected","selected"),e(t).selectmenu("index",i),e(t).trigger("_setElement")}else e(t).selectmenu("index",0),e(t).trigger("_setElement");return!0}if(null!==i&&"object"==typeof i){for(var a=0;a<i.length;a++)"number"==typeof i[a]?e(e("input[name='multiselect_"+e(this).attr("id")+"']")[i[a]]).attr("checked",!0):"string"==typeof i[a]&&e("input[name='multiselect_"+e(this).attr("id")+"'][value='"+i[a]+"']").attr("checked",!0);e(t).val(i).trigger("_setElement"),e(t).multiselect("update")}return!0},_selectLabel:function(t,i){for(var r,n=0;n<e("option",t).length;n+=1)if(r=jQuery("option:eq("+n+")",t),jQuery("option:eq("+n+")",t).text()===i)return e(t).selectmenu("index",r.prop("index")),!0;return!1},_getBlankLabel:function(t){var i=e.rup.i18n.app;return i[t]&&i[t]._blank?i[t]._blank:e.rup.i18n.base.rup_combo.blankNotDefined},_defaultFormatting:function(e){var t=[{find:/^([^\-]+) \- /g,rep:'<span class="ui-selectmenu-item-header">$1</span>'},{find:/([^\|><]+) \| /g,rep:'<span class="ui-selectmenu-item-content">$1</span>'},{find:/([^\|><\(\)]+) (\()/g,rep:'<span class="ui-selectmenu-item-content">$1</span>$2'},{find:/([^\|><\(\)]+)$/g,rep:'<span class="ui-selectmenu-item-content">$1</span>'},{find:/(\([^\|><]+\))$/g,rep:'<span class="ui-selectmenu-item-footer">$1</span>'}];for(var i in t)e=e.replace(t[i].find,t[i].rep);return e},_getParentsValues:function(t,i,r){var n,a,s,o="",r=null!=r?r:"";if(void 0===t)return o;for(var l=0;l<t.length;l+=1){if(n=t[l],0===e("#"+n).rup_combo("index")&&(a=e("#"+n+"-button span:first-child").text(),a===e.rup.i18n.base.rup_combo.blankNotDefined||void 0!==e.rup.i18n.app[n]&&a===e.rup.i18n.app[t[l]]._blank))return null;if(s=void 0!==e("#"+n).data("settings").blank&&null!==e("#"+n).data("settings").blank?e("#"+n).data("settings").blank:"",null===e("#"+n).val()||e("#"+n).val()===s)return null;o+=i?e("#"+n).attr("name")+"="+e("#"+n).val()+"&":e("#"+n).val()+r}return""!==o&&(o=i?o.substring(0,o.length-1):o.substring(0,o.length-r.length)),o},_makeCombo:function(t){if(null!=t.blank&&e("#"+t.id).prepend(e("<option>").attr("value",t.blank).text(this._getBlankLabel(t.id))),t.imgs){var i=[],r=[];e.map(t.imgs,function(n){e.each(n,function(a,s){a.indexOf("###")==-1?(e("#"+t.id+" [value='"+a+"']").addClass(s),i[i.length]={find:"."+s}):(r=a.split("###"),e("#"+t.id+" > [label='"+r[0]+"'] > [value='"+r[1]+"']").addClass(n[r[0]+"###"+r[1]]),i[i.length]={find:"."+n[r[0]+"###"+r[1]]})})}),t.icons=i}if(t.format="default"===t.format?this._defaultFormatting:t.format,e("#"+t.id).data("settings",t),t.multiselect){e("#"+t.id).width("0"),t.minWidth=t.width,e("#"+t.id).multiselect(t),e("#"+t.id).data("echMultiselect").button.attr("id",t.id+"-button"),e("#"+t.id).rup_combo("refresh"),e("#"+t.id).attr("multiple","multiple");var n=this;e("#"+t.id).data("echMultiselect").button.on("keypress.selectmenu",function(e){return e.which>0&&n._typeAheadMultiselect(e.which,"focus",t),!0}),e("#"+t.id).data("echMultiselect").menu.delegate("label","keydown.multiselect",function(e){return e.which>0&&n._typeAheadMultiselect(e.which,"focus",t),!0})}else e("#"+t.id).selectmenu(t);e.rup_utils.aplicatioInPortal()&&(t.multiselect?e("div.r01gContainer").append(e("#rup-multiCombo_"+t.id)):e("div.r01gContainer").append(e("#"+t.id+"-menu"))),t.ordered&&e("#"+t.id).rup_combo("order",t.orderedByValue,t.orderAsNumber,t.blank),!t.loadFromSelect&&(void 0===t.inputValue||""===t.inputValue)||t.loadFromSelect&&void 0!==t.selected?this._setElement(e("#"+t.id),t.selected,t.multiselect,!0):(t.multiselect&&jQuery.isArray(t.inputValue)===!1&&(t.inputValue=t.inputValue.split("##")),this._setElement(e("#"+t.id),t.inputValue,t.multiselect,!0)),t.disabled?e("#"+t.id).rup_combo("disable"):e("#"+t.id).rup_combo("enable"),t.multiselect&&(void 0!==t.disabledOpts&&e("#"+t.id).rup_combo("disableOptArr",t.disabledOpts),void 0!==t.enabledOpts&&e("#"+t.id).rup_combo("enableOptArr",t.enabledOpts));var a=t.parent;void 0!==a&&e.each(a,function(i,r){if(e("#"+r).rup_combo("isDisabled"))return void e("#"+t.id).rup_combo("disable")}),t.rowStriping&&(t.multiselect?(e("#rup-multiCombo_"+t.id+" .ui-multiselect-checkboxes li:nth-child(2n+1):not(.ui-multiselect-optgroup-label)").addClass("rup-combo_odd"),e("#rup-multiCombo_"+t.id+" .ui-multiselect-checkboxes li:nth-child(2n):not(.ui-multiselect-optgroup-label)").addClass("rup-combo_even"),e.each(e("#rup-multiCombo_"+t.id+" .ui-multiselect-optgroup-label"),function(t,i){t%2==0?e(i).addClass("rup-combo_groupOdd"):e(i).addClass("rup-combo_groupEven")})):(e("#"+t.id+"-menu li:nth-child(2n+1):not(.ui-selectmenu-group)").addClass("rup-combo_odd"),e("#"+t.id+"-menu li:nth-child(2n):not(.ui-selectmenu-group)").addClass("rup-combo_even"),e("#"+t.id+"-menu li:nth-child(2n+1).ui-selectmenu-group").addClass("rup-combo_groupOdd"),e("#"+t.id+"-menu li:nth-child(2n).ui-selectmenu-group").addClass("rup-combo_groupEven")))},_parseLOCAL:function(t,i,r){for(var n,a,s=i.imgs?i.imgs:[],o=0;o<t.length;o+=1)n=a=t[o],"object"==typeof t[o]&&(n=t[o].i18nCaption?e.rup.i18nParse(e.rup.i18n.app[i.i18nId],t[o].i18nCaption):t[o].label,a=t[o].value),void 0!=t[o]&&t[o].style&&(s[s.length]={},s[s.length-1][a]=t[o].style,i.imgs=s),r.append(e("<option>").attr("value",a).text(i.showValue?a+i.token+n:n))},_parseOptGroupLOCAL:function(t,i,r){for(var n,a=this,s=0;s<t.length;s+=1)n=t[s],e.each(n,function(t,n){"string"!=typeof n[0]?r.append(e("<optgroup>").attr("label",e.rup.i18nParse(e.rup.i18n.app[i.i18nId],t))):r.append(e("<optgroup>").attr("label",t)),r=e(r).children("optgroup:last-child"),a._parseLOCAL(n,i,r),r=e(r).parent()})},_parseREMOTE:function(t,i,r,n){for(var a,s=i.imgs?i.imgs:[],o=0;o<t.length;o+=1)a=t[o],a.style&&(s[s.length]={},null==n?s[s.length-1][a.value]=a.style:s[s.length-1][n+"###"+a.value]=a.style,i.imgs=s),r.append(e("<option>").attr("value",a.value).text(i.showValue?a.value+i.token+a.label:a.label))},_parseOptGroupREMOTE:function(t,i,r){for(var n,a=this,s=0;s<t.length;s+=1)n=t[s],e.each(n,function(t,n){r.append(e("<optgroup>").attr("label",t)),r=e(r).children("optgroup:last-child"),a._parseREMOTE(n,i,r,t),r=e(r).parent()})},_ajaxBeforeSend:function(t,i,r){void 0!==r&&e("#"+i.id).replaceWith(r),this._makeCombo(i),e("#"+i.id).rup_combo("disable"),e("#"+i.id+"-button span:first-child").addClass("rup-combo_loadingText").text(e.rup.i18n.base.rup_combo.loadingText);var n=e("#"+i.id+"-button span:last-child");e(n).removeClass("ui-icon-triangle-1-s"),e(n).addClass("rup-combo_loading"),t.setRequestHeader("RUP",e.toJSON(i.sourceParam))},_ajaxSuccess:function(t,i,r){e("#"+i.id+"-button span:first-child").removeClass("rup-combo_loadingText").text("");var n=e("#"+i.id+"-button span:last-child");e(n).removeClass("rup-combo_loading"),e(n).addClass("ui-icon-triangle-1-s"),e("#"+i.id).empty(),t.length>0?(i.source?this._parseREMOTE(t,i,r):(i.ordered=!1,this._parseOptGroupREMOTE(t,i,r)),this._makeCombo(i),setRupValue=e.data(e("#"+i.id)[0],"setRupValue"),setRupValue?e("#"+i.id).rup_combo("select",setRupValue):e("#"+i.id).selectmenu("change")):e("#"+i.id).append("<option></option>")},_ajaxError:function(t,i,r,n){null!==t.responseText?e.rup.showErrorToUser(t.responseText):e.rup.showErrorToUser(e.rup.i18n.base.rup_combo.ajaxError)},_generateOptGroupLabel:function(t,i){e(t).append(e("<span />").text(e(t).children("a").text()).addClass("rup-combo_multiOptgroupLabel")),e(t).children("a").remove(),e(t).append(e("<span />").text(" [")),e(t).append(e("<a />").text(i?e.rup.i18n.base.rup_combo.multiselect.optGroupSelect:"").prepend(e("<span />").addClass("ui-icon ui-icon-check rup-combo_multiOptgroupIcon")).attr("title",e.rup.i18n.base.rup_combo.multiselect.optGroupSelectTitle).rup_tooltip({applyToPortal:!0}).click(function(){for(var i=e(t).nextUntil("li.ui-multiselect-optgroup-label").find("input"),r=0;r<i.length;r++)i[r].disabled||(i[r].checked=!1)})),e(t).append(e("<span />").text(" | ")),e(t).append(e("<a />").text(i?e.rup.i18n.base.rup_combo.multiselect.optGroupDeselect:"").prepend(e("<span />").addClass("ui-icon ui-icon-closethick rup-combo_multiOptgroupIcon")).attr("title",e.rup.i18n.base.rup_combo.multiselect.optGroupDeselectTitle).rup_tooltip({applyToPortal:!0}).click(function(){for(var i=e(t).nextUntil("li.ui-multiselect-optgroup-label").find("input"),r=0;r<i.length;r++)i[r].disabled||(i[r].checked=!0)})),e(t).append(e("<span />").text(" ]"))},_selectedOptionLiMultiselect:function(t){e("#"+t.id).data("echMultiselect");return this._optionLis.eq(this._selectedIndex())},_focusedOptionLiMultiselect:function(t){var i=e("#"+t.id).data("echMultiselect"),r=void 0;return jQuery.each(i.inputs,function(t,i){e(i).parent().has(".ui-state-hover")&&(r=e(i))}),r},_typeAheadMultiselect:function(t,i,r){var n=this,a=String.fromCharCode(t).toLowerCase(),s=null,o=null;n._typeAhead_timer&&(window.clearTimeout(n._typeAhead_timer),n._typeAhead_timer=void 0),n._typeAhead_chars=(void 0===n._typeAhead_chars?"":n._typeAhead_chars).concat(a),n._typeAhead_chars.length<2||n._typeAhead_chars.substr(-2,1)===a&&n._typeAhead_cycling?(n._typeAhead_cycling=!0,s=a):(n._typeAhead_cycling=!1,s=n._typeAhead_chars);for(var l=("focus"!==i?this._selectedOptionLiMultiselect(r).data("index"):this._focusedOptionLiMultiselect(r).data("index"))||0,d=e("#"+r.id).data("echMultiselect"),u=0;u<d.inputs.length;u++){var c=d.inputs.eq(u).next("span").text().substr(0,s.length).toLowerCase();if(c===s)if(n._typeAhead_cycling){if(null===o&&(o=u),u>l){o=u;break}}else o=u}null!==o&&(d.inputs.eq(u).parent().trigger("mouseover"),d.inputs.eq(u).trigger(i)),n._typeAhead_timer=window.setTimeout(function(){n._typeAhead_timer=void 0,n._typeAhead_chars=void 0,n._typeAhead_cycling=void 0},r.typeAhead)},_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var i,r,n=e.extend({},e.fn.rup_combo.defaults,t[0]),a=!1,s=!1,o={};n.tabindex=e(this).attr("tabindex"),e.extend(e.ech.multiselect.prototype.options,e.rup.i18n.base.rup_combo.multiselect),n.id=e.rup_utils.escapeId(e(this).attr("id")),n.name=e(this).attr("name"),n.i18nId||(n.i18nId=n.id),n.inputValue=null===e("#"+n.id).val()?e("#"+n.id).prop("value"):e("#"+n.id).val(),r=e(this).prop("attributes");for(var l=0;l<r.length;l++)o[r[l].name]=r[l].value;if(e.extend(o,{name:n.name,ruptype:"combo"}),i=e("<select>").attr(o).addClass("rup_combo"),e(this).hasClass("validableElem")&&(s=!0,i.addClass("validableElem")),e(this).hasClass("customelement")&&(s=!0,i.addClass("customelement")),null===n.firstLoad&&e(this).is("select")&&n.loadFromSelect&&(a=!0),n.parent){if(e.map(n.parent,function(t){var i=void 0===e("#"+t).data("childs")?[]:e("#"+t).data("childs");i[i.length]=n.id,e("#"+t).data("childs",i)}),n.loadFromSelect===!1?(null!==n.firstLoad&&this._parseLOCAL(n.firstLoad,n,i),e("#"+n.id).replaceWith(i)):(e("#"+n.id).attr("ruptype","combo").removeClass().addClass("rup_combo"),s&&e("#"+n.id).removeClass().addClass("validableElem")),this._makeCombo(n),e(this).is("select")&&n.loadFromSelect){for(var d=e(this).find("option"),u=!0,l=0;l<d.size();l+=1)if(""!==e(d[l]).attr("value")){u=!1;break}u&&e("#"+n.id).rup_combo("disable")}else e("#"+n.id).rup_combo("disable");e("#"+n.id).data("settings",n),null!==this._getParentsValues(n.parent)&&null===n.firstLoad&&n.loadFromSelect===!1&&e("#"+n.id).rup_combo("reload",n.id)}else if("object"==typeof n.source||"object"==typeof n.sourceGroup||a)n.loadFromSelect===!1?(n.source?this._parseLOCAL(null!==n.firstLoad?n.firstLoad:n.source,n,i):(n.ordered=!1,this._parseOptGroupLOCAL(null!==n.firstLoad?n.firstLoad:n.sourceGroup,n,i)),e("#"+n.id).replaceWith(i)):(e("#"+n.id).attr("ruptype","combo").removeClass().addClass("rup_combo"),s&&e("#"+n.id).removeClass().addClass("validableElem")),this._makeCombo(n),null!==n.onLoadSuccess&&jQuery(n.onLoadSuccess(e("#"+n.id))),e("#"+n.id).data("settings",n);else if("string"==typeof n.source||"string"==typeof n.sourceGroup){var c=n.source?n.source:n.sourceGroup,h=this,p=this;e.rup_ajax({url:c,dataType:"json",contentType:"application/json",beforeSend:function(e){h._ajaxBeforeSend(e,n,i)},success:function(t,r,a){h._ajaxSuccess(t,n,i),null!==n.onLoadSuccess&&jQuery(n.onLoadSuccess(e("#"+n.id)))},error:function(e,t,i){null!==n.onLoadError?jQuery(n.onLoadError(e,t,i)):p._ajaxError(e,t,i)}}),e("#"+n.id).data("settings",n)}else"function"!=typeof n.source&&"function"!=typeof n.sourceGroup||(jQuery(n.source),this._makeCombo(n),e("#"+n.id).data("settings",n));e("#"+n.id).bind("change",function(t,i){n.multiselect?e("#"+n.id).rup_combo("select",e("#"+n.id).rup_combo("getRupvalue")):e("#"+n.id).rup_combo("select",e("#"+n.id).val())}),e("#"+n.id).next("a").click(function(t){e("#ui-datepicker-div").hide()})}}}),e.fn.rup_combo.defaults={onLoadError:null,width:200,blank:null,style:"dropdown",showValue:!1,token:"|",multiValueToken:"##",ordered:!0,orderedByValue:!1,firstLoad:null,onLoadSuccess:null,loadFromSelect:!1,multiselect:!1,multiOptgroupIconText:!0,submitAsString:!1,submitAsJSON:!1,readAsString:!1,rowStriping:!1,typeAhead:1e3,legacyWrapMode:!1}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","jquery-contextMenu"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_contextMenu",t)),e.fn.rup_contextMenu("extend",{show:function(t){e(this).contextMenu(t)},hide:function(){e(this).contextMenu("hide")},enable:function(){e(this).contextMenu(!0)},disable:function(){e(this).contextMenu(!1)},destroy:function(){e.contextMenu("destroy",this.selector)}}),e.fn.rup_contextMenu("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var i=this,r=e.extend({},e.fn.rup_contextMenu.defaults,t[0]);r.selector=i.selector,jQuery.contextMenu(r),i.addClass("context-menu-cursor"),jQuery.rup.browser.isIE&&i.css("cursor",r.msieCursorCss),e.each(e(".context-menu-list.context-menu-root"),function(t,i){var n=jQuery(i);n.data("contextMenuRoot").selector===r.selector&&(n.attr("id",n.data("contextMenuRoot").ns.substring(1)),e.each(e(".context-menu-item"),function(t,i){var n,a,s=jQuery(i),o=s.data("contextMenuKey");void 0!==o&&(a=r.items[o],void 0!==a&&(n=a.cssSprite,void 0===n||s.hasClass("rup-css-sprite")||(s.addClass("rup-css-sprite"),s.prepend(e("<span>").addClass(n))),void 0!==a.id&&s.attr("id",a.id)))}))})}}}),e.fn.rup_contextMenu.defaults={autoHide:!0,showCursor:!0,msieCursorCss:"url("+e.rup.RUP+"/basic-theme/cursors/context-menu.cur),default"}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.DashboardItem=t(jQuery)}(this,function(e){function t(e){var t=e.data("_gridstack_node"),i=e.data("options"),r="",n="";void 0!==i?(r=i.type?"rup_widget_"+i.type:"rup_widget",n=i.type):(r="rup_widget_rss",n="rss"),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.minWidth=t.min_width,this.minHeight=t.min_height,this.maxWidth=t.max_width,this.maxHeight=t.max_height,this.type=n,this.widgetOptions=$.proxy(e.find(".grid-stack-item-content"),r)("getOptions")}return DashboardItem=function(e){var t,i={type:null,x:null,y:null,width:null,height:null,minWidth:0,minHeight:0,maxWidth:null,maxHeight:null,overflowX:!0,overflowY:!0,widgetOptions:{}};t=arguments.length>0&&$.isPlainObject(arguments[0])?$.extend({},i,e):$.extend({},i),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.minWidth=t.minWidth,this.minHeight=t.minHeight,this.maxWidth=t.maxWidth,this.maxHeight=t.maxHeight,this.overflowX=t.overflowX,this.overflowY=t.overflowY},DashboardItem.prototype.setFromElement=t,DashboardItem}),function(e){"function"==typeof define&&define.amd?define(["jquery","./templates","./model/dashboardItemModel","./rup.base","gridstack","./rup.widget","./rup.widget.welcome","./rup.widget.template","./rup.widget.xhr"],e):e(jQuery,Rup,DashboardItem)}(function(e,t,i){e.widget("rup.dashboard",{options:{url:null,cellHeight:30,draggable:{handle:".widget-header"}},_create:function(){var e=this,i=e.element;i.gridstack(e.options),i.addClass("rup_dashboard"),e._itemTemplate=t.Templates.rup.dashboard.item,e.$gridstack=i.data("gridstack")},destroy:function(){e.Widget.prototype.destroy.call(this)},addWidget:function(t){var i,r,n,a=this,s=[];s.push("grid-stack-item-content"),t.overflowX===!1&&s.push("no-scroll-x"),t.overflowY===!1&&s.push("no-scroll-y"),t.itemClass=s.join(" "),r=e(a._itemTemplate(t)),i=r.find(".grid-stack-item-content"),i.on({"rup.widget.closed rup.widget.removed":function(){a.removeWidget(e(this).parent())},"widgetConfigured.widget.rup":function(e,t){a.element.trigger("rup.dashboard.widget.configured",this,t)},"rup.widget.resize":function(t,i,r){a.resize(e(this).parent(),i,r)},"rup.widget.minHeight":function(t,i){a.minHeight(e(this).parent(),i)},"rup.widget.getDashboardWidgetOptions":function(t){return a.getWidgetOptions(e(this).parent())},"rup.widget.execFunction":function(t,arguments){a.execFunction(e(this).parent(),arguments)}}),widgetType=t.type?"rup_widget_"+t.type:"rup_widget",e.proxy(i,widgetType)(t.widgetOptions),n=i.data("rupWidget_"+t.type).options,a.$gridstack.addWidget(r,t.x,t.y,t.width,t.height,t.autoPosition,t.minWidth,t.maxWidth,t.minHeight,t.maxHeight,t.id),r.data("options",t)},execFunction:function(e,arguments){return this.$gridstack.resize(e,width,height)},getWidgetOptions:function(t){var i,r=this;return i=e.grep(r.$gridstack.grid.nodes,function(e){return t.is(e.el)}),1===i.length?i[0]:void 0},resize:function(e,t,i){this.$gridstack.resize(e,t,i)},minHeight:function(e,t){this.$gridstack.minHeight(e,t)},removeWidget:function(e){this.$gridstack.removeWidget(e),this.element.trigger("rup.dashboard.widget.removed",e)},removeAll:function(e){this.$gridstack.remove_all()},serialize:function(){var t=e.map(e(".grid-stack .grid-stack-item:visible"),function(t){var r=new i;return r.setFromElement(e(t)),r});return t},serializeAsArray:function(e,t){return JSON.stringify(this.serialize())},loadFromArray:function(e){var t=this;t.$gridstack.batch_update(),null!==e&&jQuery.each(e,function(e,i){t.addWidget(i)}),t.$gridstack.commit()},_setOption:function(t,i){switch(t){case"someValue":}e.Widget.prototype._setOption.apply(this,arguments)}}),e.widget.bridge("rup_dashboard",e.rup.dashboard)}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","jquery-ui-timepicker","jquery-ui-multidatespicker"],e):e(jQuery)}(function(e){var t={},i={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_date",t)),e.extend(e.rup.iniRup,e.rup.rupObjectConstructor("rup_date",i)),e.fn.rup_date("extend",{getRupValue:function(){if(e(this).data("datepicker").settings.datetimepicker){var t=e(this).datepicker("getDate");if(null===t||"Invalid Date"===t.toString())return"";var i={hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()},r=(e.timepicker._formatTime(i,"hh:mm:ss"),e(this).data("datepicker").settings.dateFormat);return e.datepicker.formatDate(r,t)+" "+e.timepicker._formatTime(i,"hh:mm:ss")}return e(this).rup_date("getDate")},setRupValue:function(t){if(e(this).data("datepicker").settings.datetimepicker){var i=t.split(" "),r=new Date(i[0]),r=(i[1],new Date(t));if("Invalid Date"===r.toString())return"";var n={hour:r.getHours(),minute:r.getMinutes(),second:r.getSeconds()},a=e.timepicker._formatTime(n,e(this).data("datepicker").settings.timeFormat);e(this).datepicker("setTime",t),e(this).val(i[0]+" "+a)}else e(this).val(t)},destroy:function(){var t=e(this).data("datepicker").settings.labelMaskId;t&&e("#"+t).text(""),e(this).datepicker("destroy")},disable:function(){e(this).datepicker("disable")},enable:function(){e(this).datepicker("enable")},isDisabled:function(){return e(this).datepicker("isDisabled")},hide:function(){e(this).datepicker("hide")},show:function(){e(this).datepicker("show")},getDate:function(){return e(this).val()},setDate:function(t){e(this).datepicker("setDate",t)},refresh:function(){e(this).datepicker("refresh")},option:function(t,i){e(this).datepicker("option",t,i)}}),e.fn.rup_date("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var i=e.extend({},e.fn.rup_date.defaults,t[0]);this._ADAPTER=e.rup.adapter[i.adapter],i._onClose=i.onClose,i.onClose=function(t,r){void 0!==i._onClose&&i._onClose(t,r),e.rup.browser.isIE||e(this).focus()},i.multiSelect&&(i._beforeShow=i.beforeShow,i.beforeShow=function(t,r){void 0!==i._beforeShow&&i._beforeShow(t,r);var n,a=e(t),s=a.attr("value");void 0!==s&&""!==s&&(n=s.split(","),n.length>1&&a.multiDatesPicker("addDates",n))}),i.id=e(this).attr("id"),e(this).attr("ruptype","date");var r=e.rup.i18n.base.rup_date;for(var n in r)i[n]=r[n];if(i.labelMaskId&&(i.datetimepicker?i.showSecond?e("#"+i.labelMaskId).text(e.rup.i18nParse(e.rup.i18n.base,"rup_date.maskDateTimeSec")+" "):e("#"+i.labelMaskId).text(e.rup.i18nParse(e.rup.i18n.base,"rup_date.maskDateTime")+" "):e("#"+i.labelMaskId).text(e.rup.i18nParse(e.rup.i18n.base,"rup_date.mask")+" ")),i.placeholderMask&&(i.datetimepicker?i.showSecond?e(this).attr("placeholder",e.rup.i18nParse(e.rup.i18n.base,"rup_date.maskDateTimeSec")+" "):e(this).attr("placeholder",e.rup.i18nParse(e.rup.i18n.base,"rup_date.maskDateTime")+" "):e(this).attr("placeholder",e.rup.i18nParse(e.rup.i18n.base,"rup_date.mask")+" ")),e("#"+i.id).is("div")&&1===i.numberOfMonths[1]&&(i.showWeek?e("#"+i.id).css("width","17.1em"):e("#"+i.id).css("width","15.4em")),i.noWeekend&&(i.beforeShowDay=e.datepicker.noWeekends),this._ADAPTER.initIconTrigger(i),i.multiSelect){var a=0;"number"==typeof i.multiSelect?(i.mode={modeName:"normal",options:{maxPicks:i.multiSelect}},a=10*i.multiSelect+(i.multiSelect-1)):"object"==typeof i.multiSelect&&(i.mode={modeName:"daysRange",options:{autoselectRange:i.multiSelect}},a=i.multiSelect[1]-i.multiSelect[0],a=10*a+(a-1)),this.attr("maxlength",a),e.datepicker._defaults.dateFormat=i.dateFormat,e("#"+i.id).multiDatesPicker(i),e(this).keypress(function(t){if(44===t.charCode){var i=e(t.currentTarget).val(),r=t.originalEvent.originalTarget.selectionStart,n=t.originalEvent.originalTarget.selectionEnd;begin=i.substring(0,r),end=i.substring(n),(i.length<e(t.currentTarget).attr("maxlength")||r!==n)&&(e(t.currentTarget).val(begin+","+end),t.originalEvent.originalTarget.selectionStart=r+1,t.originalEvent.originalTarget.selectionEnd=r+1)}})}else i.datetimepicker?(i.showSecond?this.attr("maxlength","19"):this.attr("maxlength","16"),e("#"+i.id).datetimepicker(i)):(this.attr("maxlength","10"),e("#"+i.id).datepicker(i));e.proxy(this._ADAPTER.postConfigure,e(this))(i),e.rup_utils.aplicatioInPortal()&&!e("#"+i.id).is("div")&&e(".r01gContainer").append(e(".ui-datepicker:not(.r01gContainer .ui-datepicker)")),
e(this).parent().find("[title]").rup_tooltip({applyToPortal:!0}),i.disabled&&e("#"+i.id).rup_date("disable")}}}),e.rup_date("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var i=e.extend({},e.fn.rup_date.defaults,t[0]),r=e.extend(!0,{},i),n=e.extend(!0,{},i);r.onClose=function(t,r){var n,a,s,o,l=e("#"+i.to),d=r.input;""!=l.attr("value")?(n=d.data("datepicker"),a=l.data("datepicker"),s=void 0!==n.settings.timepicker?new Date(n.selectedYear,n.selectedMonth,n.selectedDay,n.settings.hour,n.settings.minute,n.settings.second):new Date(n.selectedYear,n.selectedMonth,n.selectedDay),o=void 0!==a.settings.timepicker?new Date(a.selectedYear,a.selectedMonth,a.selectedDay,a.settings.hour,a.settings.minute,a.settings.second):new Date(a.selectedYear,a.selectedMonth,a.selectedDay),s>o&&l.attr("value",t)):i.autoFillToField||l.attr("value",t),void 0!==i.onClose&&i.onClose(t,r)},r.onSelect=n.beforeShow=function(t){var r,n=e("#"+i.from).datetimepicker("getDate");r=null!==n?new Date(n.getTime()):null,e("#"+i.to).datetimepicker("option","minDate",r),i.datetimepicker&&e("#"+i.to).datetimepicker("option","minDateTime",r),void 0!==i.onSelect&&i.onSelect(t)},n.onClose=function(t,r){var n,a,s,o,l=e("#"+i.from),d=r.input;""!=l.attr("value")?(n=l.data("datepicker"),a=d.data("datepicker"),s=void 0!==n.settings.timepicker?new Date(n.selectedYear,n.selectedMonth,n.selectedDay,n.settings.hour,n.settings.minute,n.settings.second):new Date(n.selectedYear,n.selectedMonth,n.selectedDay),o=void 0!==a.settings.timepicker?new Date(a.selectedYear,a.selectedMonth,a.selectedDay,a.settings.hour,a.settings.minute,a.settings.second):new Date(a.selectedYear,a.selectedMonth,a.selectedDay),s>o&&l.attr("value",t)):i.autoFillFromField||l.attr("value",t),void 0!==i.onClose&&i.onClose(t,r)},n.onSelect=r.beforeShow=function(t){var r,n=e("#"+i.to).datetimepicker("getDate");r=null!==n?new Date(n.getTime()):null,e("#"+i.from).datetimepicker("option","maxDate",r),i.datetimepicker&&e("#"+i.from).datetimepicker("option","maxDateTime",r),void 0!==i.onSelect&&i.onSelect(t)},e("#"+i.from).rup_date(r),e("#"+i.to).rup_date(n)}}}),e.fn.rup_date.defaults={adapter:"date_bootstrap",placeholderMask:!1,datetimepicker:!1,multiSelect:!1,changeMonth:!0,changeYear:!0,noWeekend:!1,showSecond:!0,autoFillToField:!0,autoFillFromField:!0}}),function(e){jQuery.rup_dav={},e.extend(jQuery.rup_dav,{editOnline:function(t){var i;i="string"==typeof t?jQuery.extend({},jQuery.rup_dav.defaults,{url:t}):jQuery.extend({},jQuery.rup_dav.defaults,t),jQuery.rup_dav._checkUrl(i),i.xlnetsAuth&&jQuery.rup_dav._xlnetsAuth(i),e.browser.msie===!0?jQuery.rup_dav._editOnlineIE(i):jQuery.rup_dav._editOnlineFF(i)}}),e.extend(jQuery.rup_dav,{_checkUrl:function(e){var t="";e.url.indexOf(location.protocol)===-1&&(t+=location.protocol+"//",e.url.indexOf(location.host)===-1&&(t+=location.host),e.url.indexOf(CTX_PATH)===-1&&(t+=CTX_PATH),e.url=t+e.url)},_xlnetsAuth:function(t){var i=e.rup_utils.readCookie("n38UidSesion"),r=e.rup_utils.readCookie("n38DominioUid"),n={};void 0!==i&&null!==i&&""!==i&&jQuery.extend(!0,n,{n38UidSesion:i}),void 0!==r&&null!==r&&""!==r&&jQuery.extend(!0,n,{n38DominioUid:r}),jQuery.isEmptyObject(n)||(t.url+="?"+t.xlnetsAuthParam+"="+jQuery.rup_utils.base64.encode(jQuery.param(n)))},_editOnlineIE:function(e){var t;try{t=new ActiveXObject("SharePoint.OpenDocuments.3"),t.EditDocument(encodeURI(e.url))}catch(i){try{t=new ActiveXObject("Word.Application"),t.Visible=!0,t.Documents.Open(encodeURI(e.url))}catch(i){e.downloadOnError===!0&&window.open(encodeURI(e.alternateDownloadURL),"_blank"),jQuery.isFunction(e.fncErrorOnEditOnline)&&jQuery.proxy(e.fncErrorOnEditOnline)(e)}}},_editOnlineFF:function(e){var t,i;try{t=document.getElementById("winFirefoxPlugin"),i=t.GetOfficeVersion(),t.EditDocument(e.url,i)}catch(r){e.downloadOnError===!0&&window.open(encodeURI(e.alternateDownloadURL),"_blank"),jQuery.isFunction(e.fncErrorOnEditOnline)&&jQuery.proxy(e.fncErrorOnEditOnline)(e)}}}),e.rup_dav.defaults={xlnetsAuth:!1,xlnetsAuthParam:"c",downloadOnError:!1,alternateDownloadURL:null,fncErrorOnEditOnline:null}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","blockUI"],e):e(jQuery)}(function(e){e.extend(e.rup,{dialog:{DIV:"dialogDIV",TEXT:"textDialog",AJAX:"ajaxDialog",LINK:"linkButton"}});var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_dialog",t)),e.fn.rup_dialog("extend",{open:function(){var t,i=e.extend({},e(this).dialog("option"));e(this).data("focus",e(document.activeElement));var r=e(document).height(),n=e(document).width();e(this).dialog("option","ajaxCache")===!1?(i.id=e(this).attr("id"),i.autoOpen=!0,this._ajaxLoad(i)):e(this).dialog("open"),e.rup_utils.aplicatioInPortal()&&(null!==e(this).data("dialog").overlay&&(t=e(this).data("dialog").overlay.$el,e(".r01gContainer").append(t),t.css("height",r).css("width",n)),void 0!==i.position&&null!==i.position||e(this).data("dialog").uiDialog.css("position","absolute").css("top",r/2-e("div[aria-describedby="+this[0].id+"]").height()/2)),e("div[aria-describedby="+this[0].id+"] .ui-dialog-buttonpane button:first").focus()},destroy:function(){e(this).dialog("destroy")},disable:function(){e(this).dialog("disable")},enable:function(){e(this).dialog("enable")},widget:function(){return e(this).dialog("widget")},moveToTop:function(){e(this).dialog("moveToTop")},close:function(){e(this).dialog("close")},isOpen:function(){return e(this).dialog("isOpen")},getOption:function(t){return e(this).dialog("option",t)},setOption:function(t,i){if("buttons"!==t)"title"!==t?void 0!==i?e(this).dialog("option",t,i):e(this).dialog("option",t):e("#ui-dialog-title-"+e(this).attr("id")).html(i);else{var r,n,a,s,o=i.length,l=[];if(o>1){for(r=i,n=0;n<i.length;n++)i[n].btnType===e.rup.dialog.LINK&&(l.push(i.splice(n,1)),n--);n=null}if(s=l.length,o>1&&0===s)return e.rup.msgAlert({message:e.rup.i18nParse(e.rup.i18n,"base.rup_global.rupCheckStyleError")}),!1;if(e(this).dialog("option",t,i),s>0){for(a=0;a<s;a++)this.createBtnLinks(l[a][0],this[0].id);a=null}}},createBtnLinks:function(t,i){var r=e("<a href='#'></a>").attr("role","button").attr("id","rup_dialog"+t.text).addClass("rup-enlaceCancelar").html(t.text).click(t.click);e("div[aria-describedby="+i+"] .ui-dialog-buttonset ").append(r)}}),e.fn.rup_dialog("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError"+e(this).attr("id")));else{var i,r=e.extend({},e.fn.rup_dialog.defaults,t[0]),n=this;r._close=r.close,r.close=function(t,i){void 0!==e(this).data("focus")&&e(this).data("focus").focus(),void 0!==r._close&&r._close(t,i)},null!==r.type&&e(this).length>0?e.each(e(this),function(t,a){var s=e(this);void 0!==s.attr("id")?r.id=s.attr("id"):(r.id="rup_"+r.type+"DIV",i=e("<div/>").attr("id",r.id),i.appendTo("body"));var o,l,d,u,c,h,p=!1,f=[],g=0,m=!1,v=void 0;if(e("div[aria-describedby="+r.id+"]").length>0?m=!0:(e("body #"+r.id).not(".ui-dialog-content").length>1&&e(e("body #"+r.id).not(".ui-dialog-content")[1]).remove(),""!==r.specificLocation?v=function(t,i){s.parent(".ui-dialog").insertAfter(e("#"+r.specificLocation))}:e.rup_utils.aplicatioInPortal()&&(v=function(t,i){e(".r01gContainer").append(e(".ui-dialog"))})),void 0!==v){var b=r.create;r.create=function(e,t){return(void 0===b||null===b||b.call(e,t)!==!1)&&void v(e,t)}}switch(r.type){case e.rup.dialog.DIV:void 0!==r.clone&&(s.clone(!0).attr("id",r.clone).insertAfter(s),r.id=r.clone);break;case e.rup.dialog.TEXT:s.html(r.message);break;case e.rup.dialog.AJAX:n._ajaxLoad(r)}if(r.autoOpen===!0&&(p=!0,r.autoOpen=!1),r.buttons&&null!==r.buttons){if(o=r.buttons.length,o>1){for(l=r.buttons,c=0;c<r.buttons.length;c++)r.buttons[c].btnType===e.rup.dialog.LINK&&(f.push(r.buttons.splice(c,1)),c--);c=null}g=f.length,o>1&&0===g&&r.rupCheckStyle&&(e(document).rup().msgAlert({message:e.rup.i18nParse(e.rup.i18n.base,"rup_global.rupCheckStyleError")}),r.stack=!1,r.modal=!1,r.zIndex=9999)}if(m?(e("div[aria-labelledby=ui-dialog-title-"+r.id+"] .ui-dialog-buttonset a").remove(),r.title&&e("#ui-dialog-title-"+r.id).text(r.title)):(s.dialog(r),s.data("uiDialog").uiDialog.addClass("rup-dialog"),u="<span id='closeText_"+r.id+"' style='float:right;font-size:0.85em'>"+e.rup.i18nParse(e.rup.i18n.base,"rup_global.cerrar")+"</span>",d=e("<a href='#'></a>").attr("role","button").css("margin-right","0.9em").css("float","right").css("width","50px").addClass("ui-dialog-title").html(u).click(function(e){return s.dialog("close"),!1}).hover(function(t){e("div[aria-labelledby=ui-dialog-title-"+r.id+"] .ui-dialog-titlebar-close").addClass("ui-state-hover"),e("div[aria-labelledby=ui-dialog-title-"+r.id+"] .ui-dialog-titlebar-close").css("padding","0px")},function(t){e("div[aria-labelledby=ui-dialog-title-"+r.id+"] .ui-dialog-titlebar-close").removeClass("ui-state-hover"),e("div[aria-labelledby=ui-dialog-title-"+r.id+"] .ui-dialog-titlebar-close").attr("style","")}).insertAfter(jQuery("span.ui-dialog-title",jQuery("#"+r.id).parent())),e("div[aria-labelledby=ui-dialog-title-"+r.id+"] .ui-dialog-titlebar-close").hover(function(){d.css("text-decoration","none")},function(){d.css("text-decoration","")})),g>0){for(h=0;h<g;h++)e(this).rup_dialog("createBtnLinks",f[h][0],r.id);h=null}p&&(r.type!==e.rup.dialog.AJAX?(s.rup_dialog("open"),e("div[aria-labelledby=ui-dialog-title-"+r.id+"] .ui-dialog-buttonpane button:first").focus()):r.autoOpen=!0)}):0===e(this).length?e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.selectorError")):e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.dialogTypeError"))}},_ajaxLoad:function(t){if(!t.url||null===t.url||""===t.url)return e.rup.msgAlert({title:e.rup.i18nParse(e.rup.i18n.base,"rup_global.error"),message:e.rup.i18nParse(e.rup.i18n.base,"rup_dialog.noURL")}),!1;t.showLoading&&t.autoOpen===!0&&e.blockUI({message:'<img src="'+e.rup.RUP+'/basic-theme/images/rup.ajaxLoader.gif" style="position:absolute;top:12px;left:15px;" alt="'+e.rup.i18nParse(e.rup.i18n.base,"rup_blockUI.cargando")+'" ><h1 class="loading">'+e.rup.i18nParse(e.rup.i18n.base,"rup_blockUI.cargando")+"...</h1>"});var i=e.extend({},t.ajaxOptions);i.success=function(i,r,n){""===i&&null===i||(e("#"+t.id).html(i),e.unblockUI(),t.autoOpen===!0&&(e("#"+t.id).rup_dialog("open"),e("div[aria-labelledby=ui-dialog-title-"+t.id+"] .ui-dialog-buttonpane button:first").focus())),t.ajaxOptions&&void 0!==t.ajaxOptions.success&&null!==t.ajaxOptions.success&&"function"==typeof t.ajaxOptions.success&&t.ajaxOptions.success(i,r,n)},i.error=function(i,r,n){e.unblockUI(),e(document).rup().msgAlert({message:e.rup.i18nParse(e.rup.i18n.base,"rup_dialog.errorLoadingData")}),void 0!==t.ajaxOptions.error&&null!==t.ajaxOptions.error&&"function"==typeof t.ajaxOptions.error&&t.ajaxOptions.error(i,r,n)},i.url=e.rup_utils.setNoPortalParam(t.url),i.type="GET",i.cache=!1,i.dataType="text",e.rup_ajax(i)}}),e.fn.rup_dialog.defaults={rupCheckStyle:!0,type:null,url:null,minHeight:100,ajaxCache:!0,specificLocation:"",clone:void 0}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","./rup.dialog"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_button",t)),e.fn.rup_button("extend",{addButtonToDropdown:function(e){}}),e.fn.rup_button("extend",{_doDropdownListById:function(e,t,i){var r=jQuery("#"+i.dropdownListId);i.$dropdownList=r,t.append(r),e.on("click.rup_dopdown",function(e){r.toggleClass("open"),e.stopPropagation()}),r.on("click.rup_dopdown",function(e){e.stopPropagation()}),jQuery(document).on("click.rup_dopdown.close",function(){r.removeClass("open")})},_doDropdownByDialog:function(e,t,i){var r=jQuery("#"+i.dropdownDialog).rup_dialog(i.dropdownDialogConfig);jQuery.extend(i.dropdownDialogConfig,{autoOpen:!1,position:{my:"right top",at:"right bottom",of:t}}),r.parent().addClass("rup-dropdown-dialog"),e.on("click",function(){r.rup_dialog("open")})},_doDropdownByButtons:function(t,i,r){var n,a=this,s=e("<ul>"),o=r.buttons;s.attr({id:a.attr("id")+"_dropdownList"}).addClass("rup-dropdown-option-list rup-toolbar_menuButtonContainer");for(var l=0;l<o.length;l++)n=e("<li>"),a._addButtonToDropdown(n,o[l]),s.append(n);t.on("click.rup_dopdown",function(e){s.toggleClass("open"),e.stopPropagation()}),s.on("click.rup_dropdown",function(e){e.stopPropagation()}),jQuery(document).on("click.rup_dopdown.close",function(){s.removeClass("open")}),i.append(s)},_addButtonToDropdown:function(t,i,r){var n,a="";return void 0===i.id?(alert("El atributo ID es obligatorio en los MButtons."),a=null):(n=i.id,0!==n.indexOf(e(this).attr("id"))&&(n=e(this).attr("id")+"##"+i.id),a=e("<a/>").attr("id",n).text(e.rup.i18nParse(r,i.i18nCaption)).addClass("rup-toolbar_button"),void 0===i.css&&(i.css="rup-toolbar_menuButtonIcon"),a.button().button("option","icons",{primary:i.css,secondary:null})),t.append(a),this._setKeyDown(a),i.click&&a.click({i18nCaption:i.i18nCaption},i.click),a},_setKeyDown:function(t){t.bind("keydown",function(t){var i,r=e(t.currentTarget),n=r.parent();switch(t.keyCode){case e.ui.keyCode.TAB:if(!t.shiftKey&&(i=r.next().attr("id")!==n.attr("id")+"-rightButtons"?r.next(":focusable"):r.next().children(":focusable:first"),1===i.size()))return i.focus(),e.rup_toolbar.focusedExternally[n.attr("id")]=!0,!1}})}}),e.fn.rup_button("extend",{_init:function(t){var i=e.extend(!0,{},e.fn.rup_button.defaults,e(this).data(),t[0]);return this.each(function(){var r,n,a,s=this,o=e(this);if(s._ADAPTER=e.rup.adapter[i.adapter],i.fab===!0&&(o.addClass("rup-button-fab"),i.fixed===!0&&o.addClass("rup-button-fixed"),i.fixed===!0&&o.addClass("rup-button-fixed"),null!==i.list||null!==i.layer)){var l=e("<div>").addClass("rup-button-fab-group");o.add(e("#"+i.list)).wrapAll(l),null!==i.list&&(e("#"+i.list).addClass("rup-button-fab-list"),e("button","#"+i.list).addClass("rup-button-fab-sm").rup_button()),null!==i.layer&&e("#"+i.layer).addClass("rup-button-fab-layer")}if(0===o.find(i.labelBaseCss).length&&o.contents().filter(function(){return this.nodeType===Node.TEXT_NODE&&/\S/.test(this.nodeValue)}).wrap(e("<span>").addClass(i.labelBaseCss)),i.labelCss&&o.find("."+i.labelBaseCss).addClass(i.labelCss),i.iconCss&&o.prepend(e("<i>").attr("aria-hidden","true").addClass(i.iconCss)),i.click&&e.isFunction(i.click)&&o.on("click",i.click),void 0===i.dropdown||i.dropdown===!1){if(o.button(i),o.addClass("rup-button"),i.mbutton===!0){var d=o.siblings("[aria-labelledby='"+o.attr("id")+"']");d&&(o.on("click.rup_mbutton",function(e){d.addClass("rup-mbutton-open"),e.stopPropagation()}),d.on("click.rup_mbutton",function(e){e.stopPropagation()}),jQuery(document).on("click.rup_mbutton.close",function(){d.removeClass("rup-mbutton-open")}))}}else{e.extend(!0,i.dropdown,e.fn.rup_button.dropdown_defaults,t[0].dropdown),a=i.dropdown,o.addClass("rup-button rup-dropdown"),n=jQuery("<div>").attr("class","rup-dropdown-btn-group"),n=o.wrap(n).parent(),a.$container=n,o.button({}),o.addClass("rup-dropdown");var u=e.proxy(s._ADAPTER.createDropdownButton,o)(i);if(o.after(u),a.dropdownListId)r=jQuery("#"+a.dropdownListId),a.$dropdownList=r,n.append(r),u.on("click.rup_dopdown",function(e){r.toggleClass("open"),e.stopPropagation()}),r.on("click.rup_dopdown",function(e){e.stopPropagation()}),jQuery(document).on("click.rup_dopdown.close",function(){r.removeClass("open")});else if(a.dropdownDialog){jQuery.extend(a.dropdownDialogConfig,{autoOpen:!1,position:{my:"right top",at:"right bottom",of:n}});var c=jQuery("#"+a.dropdownDialog).rup_dialog(a.dropdownDialogConfig);c.parent().addClass("rup-dropdown-dialog"),u.on("click",function(){c.rup_dialog("open")})}else a.buttons&&o._doDropdownByButtons(u,n,a)}})}}),e.fn.rup_button.defaults={adapter:"button_bootstrap",dropdown:!1,fab:!1,fixed:!1,list:null,layer:null,iconCss:void 0,labelCss:void 0,mbutton:!1,click:void 0,labelBaseCss:"rup-ui-button-text"},e.fn.rup_button.dropdown_defaults={dropdownIcon:"fa fa-caret-down",dropdownListId:void 0,dropdownDialog:void 0,dropdownDialogConfig:{type:e.rup.dialog.DIV}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function($){$.widget("$.rup_feedback",{options:{type:null,imgClass:null,delay:null,fadeSpeed:null,gotoTop:!0,block:!0,closeLink:!0,_idFeedback:null,_divClose:null},_setOption:function(e,t){var i=this.options,r=this.element;switch(e){case"type":null!==t?(r.removeClass(i.imgClass+" rup-feedback_image_"+i.type),r.addClass("rup-feedback_image rup-feedback_image_"+t)):r.removeClass("rup-feedback_image rup-feedback_image_"+i.type);break;case"imgClass":null!==t?(r.removeClass(i.imgClass+" rup-feedback_image rup-feedback_image_"+i.type),r.addClass(t)):r.removeClass(i.imgClass);break;case"closeLink":t?this._addCloseLink():$("#"+this.options._idFeedback+"_closeDiv").remove()}delete i,delete r,$.Widget.prototype._setOption.apply(this,arguments)},_create:function(){var e=this.options;e._idFeedback=this.element.addClass("rup-feedback ui-widget ui-widget-content ui-corner-all").addClass(null!=e.imgClass?e.imgClass:null!=e.type?"rup-feedback_image rup-feedback_image_"+e.type:"").attr({role:"alert"}).css("display",e.block?"block":"none").css("visibility","hidden").append("<span class='rup-feedback-icon'>").context.id,e._divClose=$("<div />").html($.rup.i18nParse($.rup.i18n.base,"rup_global.cerrar")).attr("id",e._idFeedback+"_closeDiv").attr("title",$.rup.i18nParse($.rup.i18n.base,"rup_feedback.closingLiteral")).addClass("rup-feedback_closeLink"),e.message&&this.set(e.message,e.type,e.imgClass),delete e},_addCloseLink:function(){var e=this.options;e._divClose.click(function(){$("#"+e._idFeedback).rup_feedback("close")}),this.element.prepend(e._divClose),delete e},destroy:function(){var e=this.options;this.element.removeClass().removeAttr("role").css("cssText","").html("").stop().animate({opacity:"100"}),delete e,$.Widget.prototype.destroy.apply(this,arguments)},set:function(e,t,i){var r=this.element,n=this.options;r.stop().animate({opacity:"100"}),void 0!=t?(r.removeClass(n.imgClass),null!=n.type?r.removeClass("rup-feedback_image_"+n.type):r.addClass("rup-feedback_image"),r.addClass("rup-feedback_image_"+t),n.type=t):null===t&&(r.removeClass("rup-feedback_image rup-feedback_image_"+n.type),n.type=null),void 0!=i&&(null!=n.imgClass&&r.removeClass(n.imgClass),r.addClass(i),n.imgClass=i),$("#"+n._idFeedback+"_content").remove(),r.append($("<div/>").attr("id",n._idFeedback+"_content").html(e)),n.closeLink&&this._addCloseLink(),this.show(),n.gotoTop&&$("html, body").animate({scrollTop:"0px"},0),null!=n.delay&&this.hide(),delete r,delete n},hide:function(delay,fadeSpeed){var opciones=this.options,element=this.element;void 0==delay&&(delay=opciones.delay),void 0==fadeSpeed&&(fadeSpeed=opciones.fadeSpeed),element.delay(delay).fadeOut(eval(fadeSpeed),function(){$("#"+opciones._idFeedback).rup_feedback("close",!0)}),delete opciones,delete element},close:function(e){var t=this.element;t.css("display",this.options.block?"block":"none"),t.css("visibility","hidden"),void 0===e&&t.empty(),delete t},show:function(){var e=this.element;e.css("display","block"),e.css("visibility","visible"),this.element.find("[title]").rup_tooltip({position:{at:"bottom center",my:"top center"},applyToPortal:!0}),delete e,jQuery(this.element).triggerHandler("rupFeedback_show")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery.form","./rup.base","./rup.validate"],e):e(jQuery)}(function(e){var t={};$.extend($.rup.iniRup,$.rup.rupSelectorObjectConstructor("rup_form",t)),$.fn.rup_form("extend",{ajaxFormSubmit:function(e){var t=this;$.set_uda_ajax_mode_on(),t.ajaxSubmit(e)},ajaxSubmit:function(e){var t=this,i=$.extend(!0,{},$.fn.rup_form.defaults,e);$.set_uda_ajax_mode_on(),t.rup_form("configureOptions",i),i.formValidationRequired?(t.rup_validate(i.validate),t.valid()&&$(this).ajaxSubmit(i)):$(this).ajaxSubmit(i)},destroy:function(){var e=this;$.removeData(e[0]),e.ajaxFormUnbind(),e.unbind()},formSerialize:function(){var e,t,i,r=this,e=[];return $.each(r.formToArray(),function(r,n){t=$("[name='"+n.name+"']",self),i=t.attr("ruptype"),void 0!==i?(n.value=t["rup_"+i]("getRupValue"),e.push(n)):e.push(n)}),$.param(e)},formToJson:function(){return form2object(this[0])},fieldSerialize:function(){var e=[];return this.each(function(){var t=$(this).attr("name");if(t){var i=$(this).rup_form("fieldValue");if(i&&i.constructor==Array)for(var r=0,n=i.length;r<n;r++)e.push({name:t,value:i[r]});else null!==i&&"undefined"!=typeof i&&e.push({name:$(this).attr("name"),value:i})}}),$.param(e)},fieldValue:function(){var e,t=[];return this.each(function(){var i=$(this).attr("ruptype");void 0!==i?(e=$(this)["rup_"+i]("getRupValue"),t.push(e)):$.merge(t,$(this).fieldValue())}),t},resetForm:function(){return this.each(function(){$(this).resetForm()})},clearForm:function(e){return this.each(function(){$("input,select,textarea",this).rup_form("clearFields",e)})},clearFields:function(e){return this.each(function(){var t=$(this).attr("ruptype");void 0===t||"combo"!==t?$(this).clearFields(e):$(this).rup_combo("clear")})},configureOptions:function(t){var i,r,n,a=this;null!==t.url&&a.attr("action",t.url),i=$("input:file",a).length>0,t.useJsonIfPossible&&!i&&(t.contentType="application/json"),r=t.beforeSend,t.beforeSend=function(e,i){var n=!0;if($.isFunction(r)&&(n=r.call(this,e,i)),n===!1)return!1;if("skip"!==n&&i.contentType.indexOf("application/json")!==-1){var s=a.rup_form("formToJson");null!==t.multimodel&&(e.setRequestHeader("RUP_MULTI_ENTITY","true"),s.rupEntityMapping=t.multimodel),void 0!==i.extraData&&null!==i.extraData&&$.extend(s,i.extraData),i.data=$.toJSON(s)}},n=t.beforeSubmit,t.beforeSubmit=function(i,r,a){var s,o,l;return(!$.isFunction(n)||n.call(this,i,r,a)!==!1)&&(l=e("input:file",r).length>0,void((!$.rup.browser.xhrFileUploadSupport&&l||a.iframe===!0)&&(s=void 0!==t.type?t.type:a.type,$.inArray(s.toUpperCase(),$.rup.IFRAME_ONLY_SUPPORTED_METHODS)===-1&&(a.extraData=$.extend({},a.extraData,{_method:s.toUpperCase()})),a.url=$.rup_utils.setNoPortalParam(a.url),a.extraData=$.extend({},a.extraData,{_emulate_iframe_http_status:"true"}),a.url=a.url+(null===a.url.match("\\?")?"?":"&")+"_emulate_iframe_http_status=true",o=a.error,a.error=function(e,t,i){var r=$.rup.rupAjaxDefaultError(e,t,i);null!=o?$(o(e,t,i)):r&&$.rup.showErrorToUser(r)})))},t.formValidationRequired=void 0!==t.validate,t.formValidationRequired&&(void 0===t.error&&(t.error=function(t,i,r,n){try{var s=e.parseJSON(t.responseText);a.validate().invalid=s.rupErrorFields,a.validate().submited=s.rupErrorFields,a.validate().showErrors(s.rupErrorFields),void 0!==s.rupFeedback&&void 0!==a.validate().settings.feedback&&a.validate().settings.feedback.rup_feedback("set",$.rup_utils.printMsg(s.rupFeedback.message),void 0!==s.rupFeedback.imgClass?s.rupFeedback.imgClass:null)}catch(o){a.validate().settings.feedback.rup_feedback("set",t.responseText,"error")}}),t.validate.submitHandler=function(t){e(t).ajaxSubmit($(t).data("ajaxSettings"))},t.validate.feedback=t.feedback),a.data("ajaxSettings",t),a.data("settings",t)}}),$.fn.rup_form("extend",{}),$.fn.rup_form("extend",{_init:function(e){var t,i=this;t=$.extend(!0,{},$.fn.rup_form.defaults,e[0]),i.addClass("rup_form"),i.attr("ruptype","form"),i.rup_form("configureOptions",t),t.formValidationRequired?i.rup_validate(t.validate):i.ajaxForm(t)}}),$.fn.rup_form.defaults={ajaxForm:null,feedback:null,multimodel:null,useJsonIfPossible:!0}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","./rup.tooltip"],e):e(jQuery)}(function(e){e.widget("$.rup_language",{options:{languages:null,active:null,modo:"default"},_create:function(){this.options.active=null==e.rup.lang?"[lang]":e.rup.lang,active=this.options.active,this.options.languages=e.rup.AVAILABLE_LANGS.split(",");var t=this.element,i=e("<a>").attr("id","rup_language_choice").addClass("rup-language_change_option").text(e.rup.i18nParse(e.rup.i18n.base,"rup_language.changeLanguage"));if(e(t).addClass("ui-widget"),"default"===this.options.modo){var r,n=t.parent(),a=t.find("[data-rup-lang-current]");n.addClass("dropdown"),t.addClass("dropdown-toggle").attr({"data-toogle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),a.text(e.rup.i18nParse(e.rup.i18n.base,"rup_language."+this.options.active)),r=n.find("[aria-labelledby="+t.attr("id")+"]"),e.each(this.options.languages,function(t,i){i=i.replace(/^\s*|\s*$/g,"");var n=e.rup.i18nParse(e.rup.i18n.base,"rup_language."+i);r.append(e("<a>").addClass("dropdown-item").attr("href","?"+e.rup.LOCALE_PARAM_NAME+"="+i).text(n))}),n.append(r)}else if("portal"===this.options.modo){var s=e("<ul>").addClass("rup-language_portal"),o=e(this.options.languages).size();e.each(this.options.languages,function(t,i){i=i.replace(/^\s*|\s*$/g,"");var r=e.rup.i18nParse(e.rup.i18n.base,"rup_language."+i+"_short");i!==active?e("<li>").append(e("<a>").attr("href","?"+e.rup.LOCALE_PARAM_NAME+"="+i).text(r).addClass("rup-language_portal_list ui-corner-all").attr("title",e.rup.i18nParse(e.rup.i18n.base,"rup_language.changeLanguageLiteral_"+i)+e.rup.i18nParse(e.rup.i18n.base,"rup_language."+i))).appendTo(s):e("<li>").addClass("ui-state-active").append(e("<a>").attr("href","javascript:void(0);").text(r).addClass("rup-language_portal_list_active ui-corner-all").attr("title",e.rup.i18nParse(e.rup.i18n.base,"rup_language.changeLanguageLiteral")+e.rup.i18nParse(e.rup.i18n.base,"rup_language."+i))).appendTo(s),t<o-1&&s.append(e("<div>").html("|").addClass("rup-language_portal_separator"))}),t.append(s)}else if("classic"===this.options.modo){var s=e("<ul>").attr("id","ulGeneral"),l=e("<li>").attr("id","rup_active_language").addClass("rup-language_active").text(e.rup.i18nParse(e.rup.i18n.base,"rup_language."+this.options.active)).attr("title",e.rup.i18nParse(e.rup.i18n.base,"rup_language.changeLanguageLiteral")+e.rup.i18nParse(e.rup.i18n.base,"rup_language."+active)),d=e("<li>").addClass("rup-language_change").attr("id","rup_language_link"),u=e("<li>").attr("id","rup_language_list").addClass("rup-language_change_opened").css("visibility","hidden"),c=e("<div>"),h=e("<div>").addClass("rup-language_language_list"),p=e("<a>").addClass("rup-language_close_languages").attr("id","rup_language_close").attr("href","#").attr("title",e.rup.i18nParse(e.rup.i18n.base,"rup_language.closingLiteral")).html(e.rup.i18nParse(e.rup.i18n.base,"rup_global.cerrar")),f=e("<ul>");s.append(l),e("<a>").attr("href","#").text(e.rup.i18nParse(e.rup.i18n.base,"rup_language.changeLanguage")).appendTo(d),s.append(d),c.append(i),h.append(p),e.each(this.options.languages,function(t,i){i=i.replace(/^\s*|\s*$/g,"");var r=e("<li>").attr("id","rup_language_lng_"+i),n=e.rup.i18nParse(e.rup.i18n.base,"rup_language."+i);i!==active?e("<a>").appendTo(r).attr("href","?"+e.rup.LOCALE_PARAM_NAME+"="+i).text(n).attr("title",e.rup.i18nParse(e.rup.i18n.base,"rup_language.changeLanguageLiteral_"+i)+e.rup.i18nParse(e.rup.i18n.base,"rup_language."+i)):e("<a>").appendTo(r).attr("href","javascript:void(0);").text(n).attr("title",e.rup.i18nParse(e.rup.i18n.base,"rup_language.changeLanguageLiteral")+e.rup.i18nParse(e.rup.i18n.base,"rup_language."+i)),r.appendTo(f)}),h.append(f),c.append(h),u.append(c),s.append(u),t.append(s);var g=h.css("width","0.8em").width(),m=d.css("margin-right");d.css("margin-right","0px"),h.width(u.position().left-g),h.css("padding-left","0.6em"),h.css("padding-right","0.2em"),h.css("top",l.height()-1),u.hide(),u.css("visibility",""),d.css("margin-right",m),e("#rup_language_lng_"+e.rup.lang).addClass("ui-state-active"),d.click(function(){d.hide(),u.show(),e(".rup-language_language_list").find("li:not(.rup-language_language_list_active)").first().children("a").focus()}),i.click(function(){u.hide(),d.show()}),p.click(function(){u.hide(),d.show()}),u.mouseenter(function(){t.one("mouseleave",function(){u.hide(),d.show()})}),t.bind("keydown",function(t){switch(t.keyCode){case e.ui.keyCode.UP:e(t.target).parent().prevAll("li:not(.rup-language_language_list_active)").length>0?e(t.target).parent().prevAll("li:not(.rup-language_language_list_active)").first().children().focus():e(t.target).parent().siblings("li:not(.rup-language_language_list_active)").last().children().focus();break;case e.ui.keyCode.DOWN:e(t.target).parent().nextAll("li:not(.rup-language_language_list_active)").length>0?e(t.target).parent().nextAll("li:not(.rup-language_language_list_active)").first().children().focus():e(t.target).parent().siblings("li:not(.rup-language_language_list_active)").first().children().focus();break;case e.ui.keyCode.ESCAPE:u.hide(),d.show()}})}t.find("[title]").rup_tooltip({applyToPortal:!0})},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){e.Widget.prototype.destroy.apply(this,arguments)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_menu",t)),e.fn.rup_menu("extend",{disable:function(t){var i=e("#"+t);i.addClass("ui-state-disabled")},enable:function(t){var i=e("#"+t);i.removeClass("ui-state-disabled")}}),e.fn.rup_menu("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError"+e(this).attr("id")));else if(this.length>0){var i,r,n=e.extend(!0,{},e.fn.rup_menu.defaults,t[0]),a=this,s=this,o=a[0].id;if(s.removeClass("rup_invisible_menu"),void 0===n.i18nId&&(n.i18nId=o),r=e.rup.i18n.app[n.i18nId],void 0!==n.menu?i=n.menu:void 0!==n.json&&(i=n.json),void 0!==i&&(a._parseJSON(i,r,s,n.forceAbs),s=widgetMenu("#"+a.attr("id"))),selectUserEvent=n.select,n.select=function(t,i){if(void 0!==selectUserEvent&&null!==selectUserEvent&&"function"==typeof selectUserEvent&&selectUserEvent(t,i)===!1)return!1;if(/^keydown/.test(t.originalEvent.type))if(t.stopImmediatePropagation(),redirectObject=e(i.item.children()),"_blank"!==redirectObject.attr("target"))e(location).attr("href",redirectObject.attr("href"));else if(e.rup.browser.isFF){var r=Components.classes["@mozilla.org/appshell/window-mediator;1"].getService(Components.interfaces.nsIWindowMediator),n=r.getMostRecentWindow("navigator:browser");n.delayedOpenTab(redirectObject.attr("href"),null,null,null,null)}else e.rup.browser.isChrome?chrome.tabs.create({url:redirectObject.attr("href")}):window.open(redirectObject.attr("href"),"_blank");return!1},s.find("a[target='_blank']").append("<span class='ui-icon ui-icon-extlink rup_external_link'></span>"),"horizontal"===n.display){s.on("mouseenter",".ui-menu-item",function(t){var i=s.data().uiMenu;if(!i.previousFilter){var r=e(t.currentTarget);return r.hasClass("rup_menu_horizontal_children")?i.options.position={my:"left top",at:"left bottom",collision:"none none",of:this}:i.options.position={my:"left bottom",at:"right bottom"},r.siblings(".ui-state-active").removeClass("ui-state-active"),i.focus(t,r),t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation(),!1}}),s.on("keydown",function(t){var i=s.data().uiMenu;switch(t.keyCode){case e.ui.keyCode.UP:i.previous(t),t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation();break;case e.ui.keyCode.DOWN:i.active&&!i.active.is(".ui-state-disabled")&&(i.active.hasClass("rup_menu_horizontal_children")?(i.options.position={my:"left top",at:"left bottom",collision:"none none",of:i.active},i.expand(t)):i.next(t)),t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation();break;case e.ui.keyCode.LEFT:i.active.hasClass("rup_menu_horizontal_children")?i.previous(t):i.collapse(t),t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation();break;case e.ui.keyCode.RIGHT:!i.active.hasClass("rup_menu_horizontal_children")&&i.active.is("[aria-haspopup='true']")?(i.options.position={my:"left bottom",at:"right bottom"},i.expand(t)):i.next(t),t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation();
break;case e.ui.keyCode.HOME:i._move("first","first",t),t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation()}}),s.addClass("rup_menu_horizontal").addClass("ui-widget-header"),s.children().addClass("rup_menu_horizontal_children"),s.children().children("a").addClass("rup_menu_horizontal_children_entry"),s.menu(n),s.children(".ui-menu-divider").remove(),s.children(".ui-state-disabled").css({"margin-top":"0em","margin-bottom":"0em"}),e("#"+o+" li.rup_menu_horizontal_children > a .ui-icon-caret-1-e").removeClass("ui-icon-caret-1-e").addClass("ui-icon-caret-1-s").addClass("rup-menu_horizontalIcon"),s.children().children("a").css("font-weight","bold"),s.children().each(function(t,i){var r=0;e(i).children(".rup_menu_horizontal_children_entry:has(span:not(.rup-menu_horizontalIcon))").each(function(t,i){r=1===e(i).find("span").size()?e(i).find("span").width():e(i).find("span:not(.rup-menu_horizontalIcon)").width()/2}),e(i).css("width",e(i).width()+r)}),s.children().children("a").css("font-weight",""),s.children(":has(.rup_menu_horizontal_children_entry span:not(.rup-menu_horizontalIcon))").addClass("rup_menu_horizontal_childrenIcon"),s.find(".rup_menu_horizontal_children_entry span:not(.rup-menu_horizontalIcon)").addClass("rup_menu_horizontal_children_icon"),s.children(":has(.rup_menu_horizontal_children_entry span.rup-menu_horizontalIcon)").addClass("rup_menu_horizontal_childrenMenuIcon"),s.children(":has(.rup_menu_horizontal_children_entry span.rup_menu_horizontal_children_icon):has(span.rup-menu_horizontalIcon)").addClass("rup_menu_horizontal_children_double"),s.children(":last-child").addClass("rup_menu_horizontal_children_last"),s.children().children("[aria-haspopup='true']").parent().attr("rupMenu_firsLevel","true"),e("#"+o+" [rupmenu_firslevel='true'] [role='menu']").addClass("rup_menu_vertical_horizontal"),void 0===n.verticalWidth?e("#"+o+" [rupmenu_firslevel='true'] [role='menu']").css("white-space","nowrap"):e("#"+o+" [rupmenu_firslevel='true'] [role='menu']").css("width",n.verticalWidth),s.find("a[target='_blank'] span.rup_menu_horizontal_children_icon").each(function(t,i){e(i).is(".ui-icon-extlink")&&e(i).addClass("ui-menu-icon").removeClass("rup_menu_horizontal_children_icon")});var l=s.find("a[target='_blank'] span.rup_menu_horizontal_children_icon").parents("li");l.css("width",l.width()+16),l.find("span.ui-icon-extlink").css("margin-left","-1em")}else"vertical"===n.display?(s.addClass("rup_menu_vertical"),void 0===n.verticalWidth?s.css("white-space","nowrap"):s.css("width",n.verticalWidth),s.children().addClass("rup_menu_vertical_children"),s.menu(n),void 0!==n.verticalWidth&&e("#"+o+" .ui-menu .ui-menu-item").css("width",n.verticalWidth)):e.rup.errorGestor(e.rup.i18n.base.rup_menu.displayMenuError);s.addClass("ui-corner-all"),s.find("ul.rup_menu_vertical_horizontal").addClass("ui-corner-all");var d=!1;e("ul.rup_menu_vertical, ul.rup_menu_vertical ul, ul.rup_menu_vertical_horizontal").each(function(t,i){e(i).children("li").children("a").children("span").each(function(t,i){if(!e(i).is(".ui-icon.ui-icon-extlink, .ui-icon.ui-icon-carat-1-e"))return d=!0,!1}),d&&e(i).children("li").children("a").css("padding-left","2em"),d=!1}),s.find("a").bind("click",function(t){e(t.currentTarget).hasClass("ui-state-disabled")&&(t.preventDefault(),t.stopImmediatePropagation())})}},_parseJSON:function(t,i,r,n){var a,s,o,l="";"true"===r.attr("uda-submenu")?r.attr("uda-submenu",""):(r.replaceWith(e("<ul>").attr("id",r.attr("id")).attr("style",r.attr("style")).attr("class",r.attr("class"))),r=e("#"+r.attr("id")));for(var d=t.length;d--;)s=t[d],o=e("<a>"),void 0!==s&&(null!==s.divider&&s.divider!==!0?(void 0!==s.pathUrl||void 0!==s.url?(l=void 0!==s.pathUrl?n===!0||s.forceAbs===!0?e.rup_utils.relToAbsUrl(s.pathUrl):s.pathUrl:e.rup.CTX_PATH+s.url,s.newWindow!==!0?void 0!==s.icon?r.prepend(e("<li>").append(o.text(e.rup.i18nParse(i,s.i18nCaption)).attr("href",l).css("text-decoration","underline").append(e("<span>").addClass("ui-icon").addClass(s.icon)))):r.prepend(e("<li>").append(o.text(e.rup.i18nParse(i,s.i18nCaption)).attr("href",l).css("text-decoration","underline"))):void 0!==s.icon?r.prepend(e("<li>").append(o.text(e.rup.i18nParse(i,s.i18nCaption)).attr("href",l).attr("target","_blank").css("text-decoration","underline").append(e("<span>").addClass("ui-icon").addClass(s.icon)))):r.prepend(e("<li>").append(o.text(e.rup.i18nParse(i,s.i18nCaption)).attr("href",l).attr("target","_blank").css("text-decoration","underline")))):(void 0!==s.icon?r.prepend(e("<li>").append(o.text(e.rup.i18nParse(i,s.i18nCaption)).css("cursor","default").append(e("<span>").addClass("ui-icon").addClass(s.icon))).append(e("<ul>").attr("uda-submenu","true"))):r.prepend(e("<li>").append(o.text(e.rup.i18nParse(i,s.i18nCaption)).css("cursor","default")).append(e("<ul>").attr("uda-submenu","true"))),a=e("[uda-submenu = 'true']"),a.append(this._parseJSON(s.submenu,i,a)),delete a),s.disabled===!0&&o.parent().addClass("ui-state-disabled")):void 0===s.i18nCaption?r.prepend(e("<li>").addClass("ui-widget-content ui-menu-divider")):r.prepend(e("<li>").append(e("<strong>").text(e.rup.i18nParse(i,s.i18nCaption))))),delete s}}),e.fn.rup_menu.defaults={verticalWidth:void 0,display:"horizontal",forceAbs:!1,i18nId:void 0,menus:"ul",position:{my:"left bottom",at:"right bottom"}}}),function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_navMenu",t)),e.fn.rup_navMenu("extend",{next:function(){e(this).rcarousel("next")},prev:function(){e(this).rcarousel("prev")},goToPage:function(t){e(this).rcarousel("goToPage",t.position)},getTotalPages:function(){return e(this).rcarousel("getTotalPages")},getCurrentPage:function(){return e(this).rcarousel("getCurrentPage")}}),e.fn.rup_navMenu("extend",{_markTabs:function(t,i){e("#"+t+">li").each(function(){$(this).addClass("itemTab")});var r,n=window.location.href.substr(window.location.href.lastIndexOf("#"));$("#"+t+"  li a").each(function(e,t){r=t.href.substr(t.href.lastIndexOf("#")),r===n&&$(t).parent().addClass("actualTab")}),e(".itemTab").each(function(){$(this).addClass("ui-state-default ui-corner-top")}),$(".itemTab").hover(function(){$(this).addClass("ui-tabs-active ui-state-active")},function(){$(this).removeClass("ui-tabs-active ui-state-active")}),e(".itemTab a").each(function(){$(this).addClass("ui-tabs-anchor")})},_createContainer:function(){var t=this.data("settings");e("#"+t.id).wrapAll('<nav class="rup_navMenu">')},_addNavButtons:function(){var t=this.data("settings");e(".rup_navMenu").prepend('<li class="ui-state-default ui-corner-top" id="prvButton"><a class="ui-tabs-anchor" href="#" id="ui-carousel-prev"><span class="ui-icon  ui-icon-caret-1-w"></span></a></li>'),e(".rup_navMenu").append('<li class="ui-state-default ui-corner-top" id="nxtButton"><a class="ui-tabs-anchor" href="#" id="ui-carousel-next"><span class="ui-icon  ui-icon-caret-1-e"></span></a></li>');var i=e("#"+t.id).rcarousel("getCurrentPage"),r=e("#"+t.id).rcarousel("getTotalPages");i===r&&e("#nxtButton").hide(),1!==i?e("#prvButton").show():e("#prvButton").hide(),e("#ui-carousel-next").bind("click",function(){e("#"+t.id).rcarousel("next");var i=e("#"+t.id).rcarousel("getCurrentPage"),r=e("#"+t.id).rcarousel("getTotalPages");i===r&&e("#nxtButton").hide(),e("#prvButton").show()}),e("#ui-carousel-prev").bind("click",function(){e("#"+t.id).rcarousel("prev");var i=e("#"+t.id).rcarousel("getCurrentPage");e("#"+t.id).rcarousel("getTotalPages");1===i&&e("#prvButton").hide(),e("#nxtButton").show()})},_addCSS:function(t){e(".rup_navMenu").addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),e("#"+t.id).css({"margin-left":"30px"})},_calculatePageOfActualTab:function(e){for(var t,i=0,r=0,n=$("#"+e.id+" li").size(),a=i+e.visible;a<=n;){for(var s=i;s<a;s++)if(t=$("#"+e.id+" li:nth("+s+")"),t.hasClass("actualTab"))return r;r+=1,i+=e.step,a=i+e.visible}return 0}}),e.fn.rup_navMenu("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var i=e.extend({},e.fn.rup_navMenu.defaults,t[0]);i.id=e(this).attr("id"),void 0!==i.navigation&&i.navigation===!0&&(i.step=i.visible),this._markTabs(i.id,i.actualTab),void 0===i.startAtPage&&(i.startAtPage=this._calculatePageOfActualTab(i)),e("#"+i.id).rcarousel({startAtPage:i.startAtPage,visible:i.visible,step:i.step,height:i.height,speed:i.speed,margin:i.margin,width:150}),this.data("settings",i),this._createContainer(),void 0!==i.height?e(".rup_navMenu").css("height",i.height):e(".rup_navMenu").css("height",30),void 0!==i.width?e(".rup_navMenu").css("width",i.width):e(".rup_navMenu").css("width",700),i.navigation===!0&&this._addNavButtons(),this._addCSS(i)}}}),e.fn.rup_navMenu.defaults={visible:3,step:3,width:null,height:30,speed:500,margin:1}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_navbar",t)),e.fn.rup_navbar("extend",{}),e.fn.rup_navbar("extend",{_init:function(t){var i=(e.extend({},e.fn.rup_navbar.defaults,t[0]),!1),r=e("header").outerHeight(!0)-e("header").offset().top,n=e("header").outerHeight(!0)+e("nav").outerHeight(!0);window.scrollHeight=0,e(window).scroll(function(){0===e(this).scrollTop()?(i=!1,e("header").removeAttr("style"),e(".rup-navbar.navbar").removeAttr("style"),e(".rup-breadCrumb_root").removeAttr("style")):e(this).scrollTop()>=r&&!i?(i=!0,e("header").css("margin-top",-r),e(".rup-navbar.navbar").css({position:"fixed",width:"100%"}),e(".rup-breadCrumb_root").css("margin-top",function(e,t){return parseInt(t,10)+n+"px"})):e(this).scrollTop()<r&&i&&(i=!1,e("header").css("margin-top",0),e(".rup-navbar.navbar").css({position:"relative",width:"100%"}),e(".rup-breadCrumb_root").css("margin-top",function(e,t){return parseInt(t,10)-n+"px"}));var t=e(window).scrollTop();t>n?e("nav .swingTop").addClass("on"):e("nav .swingTop").removeClass("on")}),e(window).resize(function(){r=e("header").outerHeight(!0)-e("header").offset().top,n=e("header").outerHeight(!0)+e("nav").outerHeight(!0),e.rup_utils.swing2Top()}),e("nav .swingTop").off("click").on("click",function(){e(".navbar-toggler:visible").click(),e.rup_utils.swing2Top()}),e("#overlay").on("click tap",function(){e(".navbar-toggler:visible").click()}),e(".navbar-toggler").on("click tap",function(){e("#overlay").toggleClass("on"),e(".navbar-toggleable-md .rup-open").removeClass("rup-open")}),e("nav .dropdown-item").not(".dropdown-toggle").on("click",function(){e(".navbar-toggler:visible").click()}),e("nav .dropdown>a").on("click tap",function(){e("nav .dropdown>a").not(e(this)).parent().removeClass("rup-open"),e(this).parent().toggleClass("rup-open")}),e("nav .dropdown-submenu a").on("click tap",function(){e("nav .dropdown-submenu a").not(e(this)).parent().removeClass("rup-open"),e(this).parent().toggleClass("rup-open");var t=0,i=e(this).parent().index();e(this).parent().siblings().each(function(r,n){r<i&&(t+=e(n).children(".dropdown-menu").length>0?e(n).children(".dropdown-item:first").outerHeight(!0):e(n).outerHeight(!0))}),e(this).parent().parent().animate({scrollTop:t},500)})}}),e.fn.rup_navbar.defaults={}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupObjectConstructor("rup_messages",t)),window.alert=function(t){e.rup_messages("msgAlert",{title:e.rup.i18nParse(e.rup.i18n.base,"rup_message.alert"),message:t})},e.rup_messages("extend",{msgError:function(t){var i,r,n=e.extend({},e.rup_messages.defaults,t),a=e(document.activeElement);this._rupProperties(n,e.rup.i18nParse(e.rup.i18n.base,"rup_message.tituloError")),n._close=n.close,n.close=function(e,t){a.focus(),void 0!==n._close&&n._close(e,t)},n.buttons=[{text:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),click:function(){s.dialog("close")}}];var s=this._createDiv().appendTo("body");s.dialog(n),s.data("uiDialog").uiDialog.addClass("rup-message rup-message-error"),this._createCloseLink(s),this._addStyles(s,"error",n.message),i=e(document).height(),r=e(document).width(),s.dialog("open"),this._dialogInPortal(r,i,s,n)},msgConfirm:function(t){var i,r,n=e.extend({},e.rup_messages.defaults,t),a=e(document.activeElement);this._rupProperties(n,e.rup.i18nParse(e.rup.i18n.base,"rup_message.confirmacion")),n._close=n.close,n.close=function(e,t){a.focus(),void 0!==n._close&&n._close(e,t)};var s,o=this._createDiv().appendTo("body");o.dialog(n),o.data("uiDialog").uiDialog.addClass("rup-message rup-message-confirm"),s=[{text:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),click:function(){n.OKFunction.call(this,o),o.dialog("close")}}],o.dialog("option","buttons",s),this._createCloseLink(o),this._addStyles(o,"confirm",n.message),this._createLinkButton(o,n.CANCELFunction),i=e(document).height(),r=e(document).width(),o.dialog("open"),this._dialogInPortal(r,i,o,n),e("div[aria-describedby="+o[0].id+"] .ui-dialog-buttonpane button:first").focus()},msgOK:function(t){var i,r,n=e.extend({},e.rup_messages.defaults,t),a=e(document.activeElement);this._rupProperties(n,e.rup.i18nParse(e.rup.i18n.base,"rup_message.correct")),n._close=n.close,n.close=function(e,t){a.focus(),void 0!==n._close&&n._close(e,t)},n.buttons=[{text:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),click:function(){s.dialog("close")}}];var s=this._createDiv().appendTo("body");s.dialog(n),s.data("uiDialog").uiDialog.addClass("rup-message rup-message-ok"),this._createCloseLink(s),this._addStyles(s,"ok",n.message),i=e(document).height(),r=e(document).width(),s.dialog("open"),this._dialogInPortal(r,i,s,n)},msgAlert:function(t){var i,r,n=e.extend({},e.rup_messages.defaults,t),a=e(document.activeElement);this._rupProperties(n,e.rup.i18nParse(e.rup.i18n.base,"rup_message.alert")),n._close=n.close,n.close=function(e,t){a.focus(),void 0!==n._close&&n._close(e,t)},n.buttons=[{text:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),click:function(){s.dialog("close")}}];var s=this._createDiv().appendTo("body");s.dialog(n),s.data("uiDialog").uiDialog.addClass("rup-message rup-message-alert"),this._createCloseLink(s),this._addStyles(s,"alert",n.message),i=e(document).height(),r=e(document).width(),s.dialog("open"),this._dialogInPortal(r,i,s,n)}}),e.rup_messages("extend",{_createDiv:function(){return e("<div/>").attr("id","rup_msgDIV_"+(new Date).getTime()).attr("rup_message","true")},_createCloseLink:function(t){var i="<span id='closeText_"+t[0].id+"' style='float:right;font-size:0.85em;'>"+e.rup.i18nParse(e.rup.i18n.base,"rup_global.cerrar")+"</span>",r=e("<a href='#'></a>").attr("role","button").css("margin-right","0.9em").css("float","right").addClass("ui-dialog-title").html(i).click(function(e){return t.dialog("close"),!1}).hover(function(i){e("div[aria-describedby="+t[0].id+"] .ui-dialog-titlebar-close").addClass("ui-state-hover"),e("div[aria-describedby="+t[0].id+"] .ui-dialog-titlebar-close").css("padding","0px")},function(i){e("div[aria-describedby="+t[0].id+"] .ui-dialog-titlebar-close").removeClass("ui-state-hover"),e("div[aria-describedby="+t[0].id+"] .ui-dialog-titlebar-close").attr("style","")}).insertAfter(jQuery("span.ui-dialog-title",t.parent()));e("div[aria-describedby="+t[0].id+"] .ui-dialog-titlebar-close").hover(function(){r.css("text-decoration","none")},function(){r.css("text-decoration","")})},_addStyles:function(t,i,r){var n=e("<div>").attr("id","rup_msgDIV_msg_icon").addClass("rup-message_icon-"+i),a=e("<div>").attr("id","rup_msgDIV_msg").addClass("rup-message_msg-"+i).html(r);t.append(n),t.append(a)},_createLinkButton:function(t,i){var r=i,n=e("<a href='#'></a>").attr("role","button").attr("id",t[0].id+"_cancel").addClass("rup-enlaceCancelar").html(e.rup.i18nParse(e.rup.i18n.base,"rup_global.cancel")).click(function(e){return t.dialog("close"),void 0!==r&&r.call(this,t),!1});e("div[aria-describedby="+t[0].id+"] .ui-dialog-buttonset ").prepend(n)},_dialogInPortal:function(t,i,r,n){var a;e.rup_utils.aplicatioInPortal()&&(null!==r.data("dialog").overlay&&(a=r.data("dialog").overlay.$el,a.css("height",i).css("width",t),e(".r01gContainer").append(r.data("dialog").uiDialog).append(a)),void 0!==n.position&&null!==n.position||r.data("dialog").uiDialog.css("position","absolute").css("top",i/2-e(".ui-dialog:visible").height()/2))},_rupProperties:function(t,i){t.autoOpen=!1,t.modal=!0,t.resizable=!1,t.title=null===t.title||""===t.title?i:t.title,t.closeText=e.rup.i18nParse(e.rup.i18n.base,"rup_message.tituloError.cerrar"),t.close=function(){e(this).remove()}}}),e.rup_messages.defaults={minHeight:100}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_progressbar",t)),e.fn.rup_progressbar("extend",{getRupValue:function(){var e=this;return e.progressbar("value")},setRupValue:function(e){var t=this;return t.progressbar("value",e),t},destroy:function(){var e=this;return e.removeClass("rup_progressbar"),e.removeAttr("ruptype"),e.progressbar("destroy"),e.find("div.rup-progressbar-label").remove(),e},disable:function(){return this.progressbar("disable"),this.addClass("rup-progressbar-disabled"),this},enable:function(){return this.progressbar("enable"),this.removeClass("rup-progressbar-disabled"),this},instance:function(){return this.progressbar("instance")},option:function(){return 0===arguments.length?this.progressbar("option"):1===arguments.length?this.progressbar("option",arguments[0]):this.progressbar("option",arguments[0],arguments[1])},value:function(e){return this.progressbar("value",e)},widget:function(){return this.progressbar("widget")}}),e.fn.rup_progressbar("extend",{_printLabel:function(){}}),e.fn.rup_progressbar("extend",{_init:function(t){var i=this,r=e.extend({},e.fn.rup_progressbar.defaults,t[0]);i.addClass("rup-progressbar"),i.attr("ruptype","progressbar"),i.progressbar(r),r.label&&(r.$label=e("<div>").addClass("rup-progressbar-label"),i.append(r.$label),r.$label.html(r.label.replace("${value}",i.rup_progressbar("getRupValue")).replace("${max}",i.rup_progressbar("option","max"))),i.on("progressbarchange",function(){r.$label.html(r.label.replace("${value}",i.rup_progressbar("getRupValue")).replace("${max}",i.rup_progressbar("option","max")))}))}}),e.fn.rup_progressbar.defaults={disabled:!1,max:100,value:0,label:void 0}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_slider",t)),e.fn.rup_slider("extend",{getRupValue:function(){var e,t=this;return e=t.slider("values"),0===e.length?t.slider("value"):e},setRupValue:function(t){var i=this;return e.isArray(t)?i.slider("values",t):i.slider("value",t),i},destroy:function(){var e=this;return e.slider("destroy"),e.removeClass("rup-slider"),e.removeAttr("ruptype"),e},enable:function(){var e=this;return e.slider("enable"),e.removeClass("rup-slider-disabled"),e},disable:function(){var e=this;return e.slider("disable"),e.addClass("rup-slider-disabled"),e},instance:function(){return this.progressbar("instance")},option:function(){return 0===arguments.length?this.slider("option"):1===arguments.length?this.slider("option",arguments[0]):this.slider("option",arguments[0],arguments[1])},value:function(e){return this.slider("value",e)},values:function(e){return this.slider("values",e)},widget:function(){return this.slider("widget")}}),e.fn.rup_slider("extend",{_bar:function(){return this}}),e.fn.rup_slider("extend",{_init:function(t){var i=this,r=e.extend({},e.fn.rup_slider.defaults,t[0]);i.addClass("rup-slider"),i.attr("ruptype","slider"),i.slider(r)}}),e.fn.rup_slider.defaults={foobar:!1}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_spinner",t)),e.fn.rup_spinner("extend",{getRupValue:function(){var e;return e=this.spinner("value")},setRupValue:function(e){var t=this;return t.spinner("value",5),t}}),e.fn.rup_spinner("extend",{_bar:function(){return this}}),e.fn.rup_spinner("extend",{_init:function(t){var i=this,r=e.extend({},e.fn.rup_spinner.defaults,t[0]);i.addClass("rup_spinner"),i.attr("ruptype","spinner"),i.spinner(r)}}),e.fn.rup_spinner.defaults={foobar:!1}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupObjectConstructor("rup_report",t)),e.rup_report("extend",{}),e.rup_report("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18n.base.rup_global.initError+e(this).attr("id"));else{var i=this,r=e.extend(!0,{},e.rup_report.defaults,t[0]),n=r.buttons,a=r.dialog,s=r.customDialog,o=e.find("[id='"+r.appendTo+"']");if(e.isEmptyObject(o))return alert("No existe objeto al que añadir el componente"),!1;o=e(o[0]),o.data("report",r);var l=e("<div />").attr("id","reportFileWait").attr("title",a.wait.title).text(a.wait.msg).addClass("rup_report").hide().append(e("<div />").addClass("ui-progressbar ui-progressbar-value ui-corner-left ui-corner-right")),d=e("<div />").attr("id","reportFileError").attr("title",a.error.title).text(a.error.msg).addClass("rup_report").hide(),u=e("<div />").attr("id","rup_report_dialogsContainer").append(l).append(d);o.after(u),a.waitDiv="reportFileWait",a.errorDiv="reportFileError";var c,h=!1;if(o.hasClass("rup-toolbar_menuButtonContainer")&&(c=e("[id='"+o.attr("id").substring("8")+"']"),o=c.parents(".rup-toolbar"),h=!0,e.grep(n,function(e,t){return void 0!==e.buttons}).length>0))return alert("No se pueden añadir MButtons a un contenedor MButton"),!1;var p=[];if(e.each(n,function(t,n){void 0!==n.buttons?(n.click=o.showMButton,c=o.addMButton(n,n.json_i18n),o.addButtonsToMButton(n.buttons,c,n.json_i18n),e.each(n.buttons,function(e,t){i._checkButton(t,p),i._configureButton(t,a,s,r)})):(h?(o.addButtonsToMButton(new Array(n),c,n.json_i18n),$mbuttonDiv=e("[id='mbutton_"+c.attr("id")+"']"),$mbuttonDiv.find("li:first").appendTo($mbuttonDiv.children("ul"))):(o.addButton(n,n.json_i18n),n.id=o.attr("id")+"##"+(n.id?n.id:n.i18nCaption)),i._checkButton(n,p),i._configureButton(n,a,s,r))}),p.length>0){for(var f="",g=0;g<p.length;g++)f+=p[g]+"<br/>";alert(f)}}},_checkButton:function(t,i){var r=t.id.substring(t.id.lastIndexOf("##")+2);if(void 0===t.url&&i.push(r+": no tiene URL asociada"),void 0!==t.columns){var n=e.find("#"+t.columns.grid);e.isEmptyObject(n)&&i.push(r+": no existe el Grid asociado")}},_configureButton:function(t,i,r,n){var a=this,s={};e.extend(s,i),t.isInline=void 0!==t.isInline&&t.isInline,t.isInline?e("[id='"+t.id+"']").on("click",function(){window.open(t.url+"?isInline=true","_blank")}):e("[id='"+t.id+"']").on("click",function(){var i=e(this).parents("div.rup-toolbar_menuButtonContainer");i.length>0&&(i.showMButton(),i.removeClass("rup-toolbar_menuButtonSlided"));var o={};if(void 0!==t.columns){var l=e(e.find("#"+t.columns.grid)[0]);o=jQuery.isFunction(n.fncGetGridParam)?jQuery.proxy(n.fncGetGridParam,l)():l.jqGrid("getGridParam","postData"),o.columns=e.toJSON(a._getColumns(l,t.columns))}var d=!0;if(void 0!==t.customDialog){var u=r[t.customDialog];void 0===u.waitDiv?s.wait=u.wait:(s.waitDiv=u.waitDiv,e("#"+s.waitDiv).addClass("rup_report")),void 0===u.errorDiv?s.error=u.error:(s.errorDiv=u.errorDiv,e("#"+s.errorDiv).addClass("rup_report")),s.successCallback=u.successCallback,s.failCallback=u.failCallback}var c=e("#"+s.waitDiv);if(c.rup_dialog({type:e.rup.dialog.TEXT,autoOpen:!1,modal:!0,resizable:!1,close:function(t,i){e.rup.browser.isIE?document.execCommand("Stop"):window.stop()}}),d){c.rup_dialog("setOption","title",s.wait.title);for(var h=c.html().split(c.text()),p="",f=0;f<h.length;f++)p+=""===h[f]?s.wait.msg:h[f];c.html(p)}return c.rup_dialog("open"),e.fileDownload(e.rup_utils.setNoPortalParam(t.url),{httpMethod:"POST",data:jQuery.rup_utils.unnestjson(o),successCallback:function(e){void 0!==s.successCallback&&s.successCallback(),c.rup_dialog("close")},failCallback:function(t,i){c.rup_dialog("close");var r=e("#"+s.errorDiv);r.rup_dialog({type:e.rup.dialog.TEXT,autoOpen:!1,modal:!0,resizable:!1}),d&&(r.rup_dialog("setOption","title",s.error.title),r.rup_dialog("setOption","message",s.error.msg)),r.rup_dialog("open"),void 0!==s.failCallback&&s.failCallback(t,i)}}),!1})},_getColumns:function(t,i){var r=t.jqGrid("getGridParam","colModel"),n=t.jqGrid("getGridParam","colNames"),a=n.length,s=[],o=i.customNames,l=i.hidden===!0;if(void 0===o){for(var d=0;d<a;d++)if(n[d].indexOf("type='checkbox'")===-1&&(l||!l&&r[d].hidden===!1)){var u=[];u.push(r[d].name),u.push(n[d]),s.push(u)}}else for(var d=0;d<a;d++)if(e.inArray(r[d].name,o)!==-1){var u=[];u.push(r[d].name),u.push(n[d]),s.push(u)}return s}}),e.rup_report.defaults={fncGetGridParam:null,dialog:{wait:{title:e.rup.i18nParse(e.rup.i18n.base,"rup_report.waitTitle"),msg:e.rup.i18nParse(e.rup.i18n.base,"rup_report.waitMsg")},error:{title:e.rup.i18nParse(e.rup.i18n.base,"rup_report.errorTitle"),msg:e.rup.i18nParse(e.rup.i18n.base,"rup_report.errorMsg")}}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","chartjs"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_chart",t)),e.fn.rup_chart("extend",{destroy:function(){var e=this.data("chart");e.destroy(),this.data("chart",""),this.data("settings","")},updateData:function(e){var t=this.data("settings"),i=this.data("chart");i.data.datasets=e.datasets,i.data.labels=e.labels,i.update(),t.data=e,this.data("settings",t)},updateLabels:function(e){var t=this.data("settings"),i=this.data("chart");i.data.labels=e,i.update(),t.data.labels=e},updateDatasets:function(e){var t=this.data("settings"),i=this.data("chart");i.data.datasets=e,i.update(),t.data.datasets=e},getDatasets:function(){return this.data("settings").data.datasets},getLabels:function(){return this.data("settings").data.labels},getData:function(){return this.data("settings").data},getChart:function(){return this.data("chart")},toBase64Image:function(){var e=this.data("chart");return e.toBase64Image()}}),e.fn.rup_chart("extend",{}),e.fn.rup_chart("extend",{_init:function(t){var i=e.extend({},e.fn.rup_chart.defaults,t[0]);i.id=e(this).attr("id"),$self=this;var r,n=document.getElementById(i.id).getContext("2d");t.length>1?e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id")):(r=void 0!==i.options?new Chart(n,{type:i.type,data:i.data,options:i.options}):new Chart(n,{type:i.type,data:i.data}),$self.attr("role","graphics-data"),$self.addClass("rup-chart"),$self.attr("ruptype","chart"),e("#"+i.id).data("settings",i),e("#"+i.id).data("chart",r))}}),e.fn.rup_chart.defaults={}}),function(e){var t={};t.plugins=[],jQuery.rup_table=jQuery.rup_table||{},jQuery.extend(jQuery.rup_table,{registerPlugin:function(e,i){jQuery.inArray(e,t.plugins)===-1&&(t.plugins.push(e),t.plugins[e]=i)}}),jQuery.extend(jQuery.rup.iniRup,jQuery.rup.rupSelectorObjectConstructor("rup_table",t)),e.fn.fmatter.rup_combo=function(t,i,r,n){var a,s,o=void 0!==e(this).data("rup.table.formatter")?e(this).data("rup.table.formatter"):{},l={};l.rup_combo={value:t};var d={};d[i.colModel.name]=l;var u={};if(u[i.rowId]=d,i.colModel.formatoptions&&i.colModel.formatoptions.labelName)a=i.colModel.formatoptions.labelName,s=e.rup_utils.getJson(r,a);else if("string"==typeof i.colModel.editoptions.source)a=i.colModel.name.indexOf(".")!==-1?i.colModel.name.substring(0,i.colModel.name.lastIndexOf("."))+"."+i.colModel.editoptions.sourceParam.label:i.colModel.editoptions.sourceParam.label,s=e.rup_utils.getJson(r,a);else{var c=e.grep(i.colModel.editoptions.source,function(e,i){if(e.value===t)return!0});1===c.length&&(s=c[0].i18nCaption?e.rup.i18nParse(e.rup.i18n.app[settings.i18nId],c[0].i18nCaption):c[0].label)}return l.rup_combo.label=s,e.extend(!0,o,u),e(this).data("rup.table.formatter",o),s||""},e.fn.fmatter.rup_combo.unformat=function(t,i){var r=e(this).data("rup.table.formatter")[i.rowId][i.colModel.name].rup_combo.value;return r||""},jQuery.extend(jQuery.jgrid,{createModal:function(t,i,r,n,a,s,o){var l=jQuery("<div/>").attr("id",t.themodal).append(e(i));l.find("#"+t.scrollelm);if(l.insertBefore(e(n)),l.rup_dialog({type:e.rup.dialog.DIV,autoOpen:!1,modal:!0,resizable:r.resize,title:r.caption,width:r.width,buttons:r.buttons}),jQuery.isFunction(r.onClose)&&jQuery(".ui-dialog-titlebar-close, a:has(#closeText_"+l.first()[0].id+")",l.parent()).off("click").on("click",function(e){r.onClose.call(e)}),jQuery("#"+t.scrollelm+"_2").addClass("botoneraModal"),jQuery(".fm-button","#"+t.scrollelm+"_2").on({focusin:function(){jQuery(this).addClass("ui-state-focus")},focusout:function(){jQuery(this).removeClass("ui-state-focus")}}),void 0!==r.linkStyleButtons)for(var d=0;d<r.linkStyleButtons.length;d++)jQuery(r.linkStyleButtons[0]).addClass("botonEnlace")},hideModal:function(e,t){jQuery(e).rup_dialog("close")},viewModal:function(e,t){jQuery(e).rup_dialog("open")}}),jQuery.extend(jQuery.rup_table,{proxyAjax:function(e,t){jQuery.rup_ajax(e)}}),jQuery.fn.rup_table("extend",{preConfigureCore:function(t){var i,r,n=this;t.baseUrl=t.url,jQuery.inArray("filter",t.usePlugins)===-1&&(t.url+="/filter"),t.id=n.attr("id"),n.attr("ruptype","table"),t.core.tableDiv=t.id+"_div",t.core.$tableDiv=jQuery("#"+t.core.tableDiv),jQuery(document).bind("click",function(e){var i=jQuery(e.target);i.parents().index(t.core.$tableDiv)===-1&&n.triggerHandler("rupTable_checkOutOfGrid",[e,i])}),t.pager!==!1&&(t.pager=e.rup_utils.getJQueryId(null!==t.pager?t.pager:t.id+"_pager"),t.$pager=jQuery(t.pager),0===t.$pager.length&&alert("El identificador "+t.pager+" especificado para el paginador no existe.")),i=t.colModel,t.loadOnStartUp!==!1&&void 0==t.multifilter||(n.data("tmp.loadOnStartUp.datatype",t.datatype),t.datatype="clientSide");for(var a=0;a<i.length;a++)r=i[a],void 0!==r.rupType&&null!==r.rupType&&(r.edittype="custom",jQuery.isFunction(r.editoptions.custom_element)||(r.editoptions.custom_element=function(t,i){return e("<input>").attr({type:"text",id:i.id,name:i.name,"class":"FormElement formulario_linea_input customelement",style:"width:98%",value:t})[0]}),jQuery.isFunction(r.editoptions.custom_value)||(r.editoptions.custom_value=function(e,t,i){var r=e.attr("ruptype");if(void 0!==r)if("set"===t)e["rup_"+r]("setRupValue",i);else if("get"===t)return e["rup_"+r]("getRupValue")}));if(t.showGridInfoCol&&(t.colNames=e.merge([""],t.colNames),t.colModel=e.merge([t.defaultGridInfoCol],t.colModel)),void 0!==t.primaryKey&&"string"==typeof t.primaryKey&&(t.primaryKey=[t.primaryKey]),void 0!==t.primaryKey&&"object"==typeof t.primaryKey){if(1===t.primaryKey.length){t.primaryKeyCol=t.primaryKey[0];for(var a=0;a<i.length;a++)if(i[a].name===t.primaryKeyCol){i[a].key=!0;break}}else if(t.primaryKey.length>1){t.colNames=e.merge([""],t.colNames);var s=e.extend({},t.defaultGridMultiplePkCol,{key:!0,formatter:function(t,i,r){for(var n=e(this),a=n.data("settings"),s="",o=0;o<a.primaryKey.length;o++)s+=e.rup_utils.unnestjson(r)[a.primaryKey[o]]+a.multiplePkToken;return s=s.substr(0,s.length-1)}});t.primaryKeyCol="pkCol",t.colModel=e.merge([s],t.colModel)}e.extend(t,{prmNames:{id:t.primaryKeyCol}})}for(var a=0;a<i.length;a++)r=i[a],r.editable===!0&&(void 0===r.editableOnAdd&&(r.editableOnAdd=!0),void 0===r.editableOnEdit&&(jQuery.inArray(i[a].name,t.primaryKey)!==-1?r.editableOnEdit=!1:r.editableOnEdit=!0));t.serializeGridData=function(i){var r,a=parseInt(i.page),s=parseInt(n.rup_table("getGridParam","lastpage"));return 0!==s&&a>s&&(i.page=s),null!==t.core.startOnPage&&(i.page=t.core.startOnPage,n.data("tmp.firstLoad",!0)),jQuery.extend(!0,i,{core:{pkToken:t.multiplePkToken,pkNames:t.primaryKey}}),r=e.extend({},{filter:{}},i),n.triggerHandler("rupTable_serializeGridData",[r]),n.removeData("tmp.firstLoad"),t.core.startOnPage=null,
jQuery.toJSON(r)},t.beforeProcessing=function(i,r,a){return!n.triggerHandler("rupTable_beforeProcessing",[i,r,a]===!1)&&(t.primaryKey.length>1&&e.each(i.rows,function(i,r){for(var n="",a=0;a<t.primaryKey.length;a++)n+=e.rup_utils.unnestjson(r)[t.primaryKey[a]]+t.multiplePkToken;n=n.substr(0,n.length-1),r.pkCol=n}),!0)};var o=t.loadError;t.loadError=function(t,i,r){var n,a=e(this);n=a.triggerHandler("rupTable_loadError",t,i,r),n!==!1&&jQuery.proxy(o,a)(t,i,r)},t.getActiveLineId=function(){var t=this,i=t.jqGrid("getDataIDs"),r=t.jqGrid("getGridParam","selrow");return e.inArray(r,i)},t.getActiveRowId=function(){var e=this;return e.rup_table("getGridParam","selrow")},t.getSelectedRows=function(){var e=this,t=e.rup_table("getGridParam","selrow");return null===t?[]:[t]},t.getSelectedLines=function(){var t=this,i=t.rup_table("getGridParam","selrow");return null===i?[]:[e.inArray(i,t.jqGrid("getDataIDs"))]},jQuery.each(t.core.operations,function(e,i){t.core.showOperations[e]=!0}),jQuery.extend(!0,t.core.defaultOperations,t.core.operations),n.on({jqGridBeforeRequest:function(){jQuery.set_uda_ajax_mode_on()},"jqGridLoadComplete.rup_table.tooltip":function(i,r){e(this);void 0!==r&&jQuery(".pagControls input.ui-pg-input",t.$pager).attr({size:r.total.length,maxlength:r.total.length})},jqGridResizeStart:function(t,i){e("#"+n[0].id+"_search_rowInputs select").each(function(){e(this).selectmenu("close")})},jqGridResizeStop:function(t,i){e("#"+n[0].id+"_search_rowInputs select").each(function(){e("[id='"+this.id+"-menu']").width(e("[id='"+this.id+"-button']").width())})},"jqGridGridComplete.rup_table.core":function(t){var i=e(this);if(0===i.rup_table("getGridParam","records")){i.prev().remove(),e(i.jqGrid("getGridParam","pager")).hide();var r='<tr class="ui-widget-content jqgrow ui-row-ltr" role="row" id="'+i[0].id+'_noRecords" aria-selected="false">';r+='<td aria-describedby="'+i[0].id+'_NO_REGISTROS" title="'+e.rup.i18nParse(e.rup.i18n.base,"rup_grid.noRecordsFound")+'" style="border:0;padding-left: 0.5em ! important;text-align: left;width:'+e("#gview_"+i.attr("id")).width()+'px;background:white;" role="gridcell">',r+=e.rup.i18nParse(e.rup.i18n.base,"rup_grid.noRecordsFound"),r+="</td></tr>",i.before(r),e('[aria-describedby="'+i[0].id+'_NO_REGISTROS"]').rup_tooltip({position:{my:"center",at:"center"}})}else jQuery("#"+i[0].id+"_noRecords").remove(),jQuery(i.jqGrid("getGridParam","pager")).show()},"jqGridGridComplete.rup_table.tooltip":function(t){var i,r=e(this);e("#"+e(this).attr("id")+" [title]").each(function(t,i){var r=e(i);r.attr("grid_tooltip",r.attr("title")).removeAttr("title")}),i=jQuery("tbody:first",r),i.on("mousestop",{delay:500},function(t,i){var r,n,a,s=e.rup_utils.elementFromPoint(i.clientX,i.clientY,!0),o=e(s);!o.attr("rup_tooltip")&&o.attr("grid_tooltip")&&(n=o.parent().attr("id")?o.parent().attr("id"):o.parents("tr[role='row']").attr("id"),a=o.attr("aria-describedby")?o.attr("aria-describedby"):o.parents("td[role='gridcell']").attr("aria-describedby"),o.attr("title",o.attr("grid_tooltip")),r=n+"_"+a,o.rup_tooltip({show:{delay:0},id:r,position:{viewport:e(window),adjust:{method:"flip"}}}),o.triggerHandler("mouseenter.qtip-"+r+"-create"),o.rup_tooltip("option","show.delay",500))})}})},postConfigureCore:function(t){var i=this;t.resizable!==!1&&i.rup_table("gridResize",jQuery.isPlainObject(t.resizable)?t.resizable:{}),t.pager!==!1&&i.rup_table("configurePager",t),e.each(e("#gview_table th:visible"),function(t,i){var r=e(i),n=r.find("div").text();""!==n&&r.attr("title",n).rup_tooltip({show:{delay:500},position:{viewport:e(window),adjust:{method:"flip"}}})}),jQuery(i.rup_table("getGridParam","colModel")).each(function(e,i){var r;"ui-ellipsis"===i.classes&&jQuery("[id='jqgh_"+t.id+"_"+i.name+"']").css("display","block").css("text-overflow","ellipsis"),r=jQuery("[id='jqgh_"+t.id+"_"+i.name+"']").children("div"),r.replaceWith(jQuery("<span>").text(r.text()).css("cursor","pointer"))}),t.showGridInfoCol&&jQuery("#gview_"+t.id+" table thead th#"+t.id+"_rupInfoCol").css("border-right","0px none"),t.loadOnStartUp!==!1&&void 0==t.multifilter||(t.datatype=i.data("tmp.loadOnStartUp.datatype"),i.rup_table("setGridParam",{datatype:i.data("tmp.loadOnStartUp.datatype")}),i.removeData("tmp.loadOnStartUp.datatype"))}}),jQuery.fn.rup_table("extend",{getColModel:function(){return e(this).jqGrid("getGridParam","colModel")},getGridParam:function(t){return e(this).jqGrid("getGridParam",t)},gridResize:function(t){return e(this).jqGrid("gridResize",t)},getSelectedRows:function(){var e=this,t=e.data("settings");return jQuery.proxy(t.getSelectedRows,e)()},getSelectedLines:function(){var e=this,t=e.data("settings");return jQuery.proxy(t.getSelectedLines,e)()},getPkUrl:function(e){var t,i=this,r=i.data("settings");return t=jQuery.isArray(e)?void 0!==e[0]?e[0]:"":e,t.split(r.multiplePkToken).join("/")},reloadGrid:function(e){var t=this,i=(t.data("settings"),t.rup_table("getGridParam","page"),t.jqGrid("getGridParam","ajaxGridOptions"));i.async;i.async=!1,t.jqGrid("setGridParam",{ajaxGridOptions:i}),t.jqGrid("setGridParam",{page:1}),t.trigger("reloadGrid"),i.async=!0,t.jqGrid("setGridParam",{ajaxGridOptions:i});var r=jQuery.proxy(jQuery.jgrid.getCurrPos,t[0])();t.jqGrid("setSelection",r[1][0])},resetForm:function(t){var i=this,r=i.data("settings");if(void 0!=t.data("validator")){var n=t.data("validator").settings.errorClass;e("."+n,t).removeClass(n)}return jQuery("input[type!='button'][type!='checkbox'][type!='radio'], textarea",t).val(""),jQuery("input[type='checkbox']",t).not("[name*='jqg_GRID_']",t).not("[disabled='disabled']",t).removeAttr("checked"),jQuery.each(e("select.rup_combo",t),function(e,t){r.filter&&"reset"===r.filter.clearSearchFormMode?jQuery(t).rup_combo("reset"):jQuery(t).rup_combo("clear")}),e("[ruptype='autocomplete']",t).each(function(t,i){e(i).val("")}),e("[ruptype='tree']",t).each(function(t,i){e(i).rup_tree("setRupValue","")}),r.filter&&"reset"===r.filter.clearSearchFormMode?t.resetForm():e("input[type='radio']",t).removeAttr("checked"),i},setGridParam:function(t){return e(this).jqGrid("setGridParam",t),e(this)},setSelection:function(e,t,i){var r,n=this;n.data("settings");r=n.triggerHandler("rupTable_setSelection",arguments),r!==!1&&n.jqGrid("setSelection",e,t,i)},showServerValidationFieldErrors:function(t,i){var r=e(this);void 0!==i.rupErrorFields||void 0!==i.rupFeedback?(t.validate().submitted=e.extend(!0,t.validate().submitted,i.rupErrorFields),t.validate().invalid=i.rupErrorFields,t.validate().showErrors(i.rupErrorFields)):void 0!==i.rupFeedback&&r.rup_table("showFeedback",t.validate().settings.feedback,e.rup_utils.printMsg(i.rupFeedback.message),void 0!==i.rupFeedback.imgClass?i.rupFeedback.imgClass:null)},clearHighlightedRowAsSelected:function(t){var i=this,r=i[0],n=r.p,a=t[0],s=n.frozenColumns===!0?n.id+"_frozen":"";t.hasClass("ui-subgrid")||t.hasClass("ui-state-disabled")||(e("#jqg_"+e.jgrid.jqID(n.id)+"_"+e.jgrid.jqID(a.id))[n.useProp?"prop":"attr"]("checked",!1),t.removeClass("ui-state-highlight").attr("aria-selected","false"),s&&(e("#jqg_"+e.jgrid.jqID(n.id)+"_"+e.jgrid.jqID(a.id),r.grid.fbDiv)[n.useProp?"prop":"attr"]("checked",!1),e("#"+e.jgrid.jqID(a.id),r.grid.fbDiv).removeClass("ui-state-highlight"))),i.trigger("rupTableClearHighlightedRowAsSelected",[t])},highlightRowAsSelected:function(t){var i=this,r=i[0],n=r.p,a=t[0],s=n.frozenColumns===!0?n.id+"_frozen":"";t.length>0&&!t.hasClass("ui-subgrid")&&!t.hasClass("jqgroup")&&!t.hasClass("ui-state-disabled")&&(e("#jqg_"+e.jgrid.jqID(n.id)+"_"+e.jgrid.jqID(a.id))[n.useProp?"prop":"attr"]("checked",!0),t.addClass("ui-state-highlight").attr("aria-selected","true"),n.selarrrow.push(a.id),n.selrow=a.id,s&&(e("#jqg_"+e.jgrid.jqID(n.id)+"_"+e.jgrid.jqID(a.id),r.grid.fbDiv)[n.useProp?"prop":"attr"]("checked",!0),e("#"+e.jgrid.jqID(a.id),r.grid.fbDiv).addClass("ui-state-highlight")),i.trigger("rupTableHighlightRowAsSelected",[t]))},updateDetailPagination:function(t,i){var r,n,a=this,s=a.data("settings"),o=s.id;r=void 0!==t?t:e.proxy(s.getDetailCurrentRowCount,a)(),n=void 0!==i?i:e.proxy(s.getDetailTotalRowCount,a)(),1===r?e("#first_"+o+", #back_"+o,s.$detailFormDiv).addClass("ui-state-disabled"):e("#first_"+o+", #back_"+o,s.$detailFormDiv).removeClass("ui-state-disabled"),r===n?e("#forward_"+o+", #last_"+o,s.$detailFormDiv).addClass("ui-state-disabled"):e("#forward_"+o+", #last_"+o,s.$detailFormDiv).removeClass("ui-state-disabled"),e("#rup_maint_selectedElements_"+a.attr("id")).text(jQuery.jgrid.format(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.defaults.detailForm_pager"),r,n))},updateSavedData:function(e){var t=this,i=t.data("settings");jQuery.isFunction(e)&&jQuery.proxy(e,t)(rp_ge[i.id]._savedData)}}),jQuery.fn.rup_table("extend",{configurePager:function(t){var i=this;return e.proxy(i[0]._ADAPTER.configurePager,i)(t)}}),jQuery.fn.rup_table("extend",{_init:function(i){if(i.length>1)jQuery.rup.errorGestor(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var r=this,n={},a=jQuery.isArray(i[0].defaultPlugins)?i[0].defaultPlugins:jQuery.fn.rup_table.defaults.defaultPlugins,s=jQuery.merge([],i[0].usePlugins),o=jQuery.merge(jQuery.merge([],a),s);jQuery.rup_utils.sortArray(o,function(e,i){return t.plugins[i].loadOrder-t.plugins[e].loadOrder}),n=e.extend(!0,{},n,jQuery.fn.rup_table.plugins.core.defaults),r[0]._ADAPTER=e.rup.adapter[n.adapter],e.each(o,function(i,r){void 0!==t.plugins[r]&&void 0!==jQuery.fn.rup_table.plugins[r]&&(n=e.extend(!0,{},n,jQuery.fn.rup_table.plugins[r].defaults))}),n=jQuery.extend(!0,{},jQuery.fn.rup_table.defaults,n,i[0]),r.rup_table("preConfigureCore",n),e.each(o,function(e,i){jQuery.isFunction(t.plugins[i].preConfiguration)&&jQuery.proxy(t.plugins[i].preConfiguration,r)(n)}),r.jqGrid(n),r.rup_table("postConfigureCore",n),e.each(o,function(e,i){jQuery.isFunction(t.plugins[i].postConfiguration)&&jQuery.proxy(t.plugins[i].postConfiguration,r)(n)}),r.data("settings",n),r.triggerHandler("rupTable_coreConfigFinished")}},_getLineIndex:function(e){var t,i,r=this,n=r.data("settings"),a=n.id+"ghead_",s=0;if(r.rup_table("getGridParam","grouping")!==!0)return r.jqGrid("getInd",e);for(var o=0;o<r[0].rows.length;o++)if(t=jQuery(r[0].rows[o]),i=t.attr("id"),void 0!==i&&i.indexOf(a)===-1&&(s++,i===e))return s}}),jQuery.fn.rup_table("extend",{addRowData:function(t,i,r,n){var a=e(this);return a.jqGrid("addRowData",t,i,r,n)},delRowData:function(t){var i=e(this);return i.jqGrid("delRowData",t),i},getActiveRowId:function(){var e=this,t=e.data("settings");return jQuery.proxy(t.getActiveRowId,e)()},getActiveLineId:function(){var e=this,t=e.data("settings");return jQuery.proxy(t.getActiveLineId,e)()},setRowData:function(t,i,r){var n=e(this);n.jqGrid("setRowData",t,i,r),jQuery("td[title]",n).each(function(e,t){var i=jQuery(t),r=i.prop("title");i.attr({grid_tooltip:r,oldtitle:r}).removeAttr("title")})},getRowData:function(t){var i=e(this);return i.jqGrid("getRowData",t)},getDataIDs:function(){var t=e(this);return t.jqGrid("getDataIDs")},clearGridData:function(t){var i=e(this);return i.jqGrid("clearGridData",t)},getColModel:function(){var t=e(this);return t.jqGrid("getGridParam","colModel")},getCol:function(t,i){var r=e(this);return r.jqGrid("getCell",t,i)},getSerializedForm:function(e,t,i){return form2object(e instanceof jQuery?e[0]:e,i?i:null,!!t&&t)}}),jQuery.fn.rup_table.plugins={},jQuery.fn.rup_table.plugins.core={},jQuery.fn.rup_table.plugins.core.defaults={adapter:"table_bootstrap",core:{operations:{},defaultOperations:{},showOperations:{},defaultLoadErrorTitle:e.rup.i18n.base.rup_ajax.errorTitle}},jQuery.fn.rup_table.defaults={altRows:!0,altclass:"rup-grid_oddRow",datatype:"json",editable:!1,height:"auto",jsonReader:{repeatitems:!1},pager:null,resizable:!1,rowNum:10,rowList:[10,20,30],sortable:!0,viewrecords:!0,mtype:"POST",loadError:function(t,i,r){var n=e(this),a=n.data("settings");jQuery.rup_messages("msgError",{title:a.core.defaultLoadErrorTitle,message:t.responseText})},loadOnStartUp:!0,loadBeforeSend:function(e,t){e.setRequestHeader("JQGridModel","true"),e.setRequestHeader("Content-Type","application/json")},loadui:"block",validate:{},defaultPlugins:[],dataProxy:jQuery.rup_table.proxyAjax,defaultGridInfoCol:{name:"rupInfoCol",index:"rupInfoCol",editable:!1,fixed:!0,sortable:!1,width:16,resizable:!1,classes:"rupInfoCol",search:!1,formatter:function(){return"<span class='ui-icon ui-icon-rupInfoCol'/>"}},defaultGridMultiplePkCol:{name:"pkCol",index:"pkCol",hidden:!0,editable:!1,fixed:!0,sortable:!1,width:25,resizable:!1,search:!1},multiplePkToken:"~",scrollOffset:0,showGridInfoCol:!1,tooltipDelay:500}}(jQuery),function(e){jQuery.rup_table.registerPlugin("contextMenu",{loadOrder:4,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureContextMenu",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureContextMenu",e)}}),jQuery.fn.rup_table("extend",{preConfigureContextMenu:function(e){var t=e.contextMenu;t.createDefaultRowOperations===!0&&(t.showOperations=jQuery.extend(!0,{},t.defaultRowOperations,e.core.showOperations,t.showOperations))},postConfigureContextMenu:function(t){function i(e,i){for(var r=0;r<e.length;r++)if(jQuery(e[r]).attr("id")===t.id+"_"+i)return r+1;return-1}var r=this,n=t.contextMenu;r.one({"jqGridLoadComplete.rupTable.contextMenu":function(a){var s,o,l=jQuery(t.contextMenu.tbodySelector,r),d={},u=!1,c=jQuery.isArray(t.contextMenu.colNames),h={};if(jQuery.each(t.contextMenu.showOperations,function(e,i){var n;i!==!1&&(n=t.core.operations[e],void 0!==n&&(d[e]={name:n.name,id:t.id+"_contextMenu_"+e,cssSprite:n.icon,disabled:function(){return!jQuery.proxy(n.enabled,r)()},callback:function(e,t){jQuery.proxy(n.callback,r)(e,t)},className:n.className},jQuery.isArray(i)===!0&&(u=!0,d[e].colNames=i)))}),jQuery.each(t.contextMenu.items,function(e,t){jQuery.isArray(t.colNames)&&(u=!0)}),jQuery.extend(!0,d,t.contextMenu.items),o=jQuery(t.contextMenu.theadThSelector,"#gview_"+t.id),e("ul.context-menu-list",l).remove(),c&&!u)for(var p=0;p<n.colNames.length;p++)jQuery(n.tbodyTdSelector+":nth-child("+i(o,n.colNames[p])+")",r).rup_contextMenu({items:d});else u?(jQuery.isArray(n.colNames)||(n.colNames=jQuery.map(t.colModel,function(e,t){if(e.hidden!==!0)return e.name})),jQuery.each(d,function(e,t){var i;i=jQuery.isArray(t.colNames)?t.colNames:n.colNames;for(var r=0;r<i.length;r++){s={},s[i[r]]={},jQuery.extend(!0,h,s);var a={};a[e]=t,jQuery.extend(!0,h[i[r]],a)}}),jQuery.each(h,function(e,t){jQuery(n.tbodyTdSelector+":nth-child("+i(o,e)+")",r).rup_contextMenu({items:t})})):l.rup_contextMenu({items:d})}})}}),jQuery.fn.rup_table.plugins.contextMenu={},jQuery.fn.rup_table.plugins.contextMenu.defaults={contextMenu:{colNames:null,createDefaultRowOperations:!0,defaultRowOperations:{},rowOperations:{},tbodySelector:"tbody:first tr[role='row'].jqgrow",tbodyTdSelector:"tbody:first tr.jqgrow td",theadThSelector:"thead:first th",items:{}}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("filter",{loadOrder:1,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureFilter",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureFilter",e)}}),jQuery.fn.rup_table("extend",{preConfigureFilter:function(t){var i,r,n,a,s,o,l,d,u=this,c=t.id,h=t.filter;if(h.id=void 0!==h.id?h.id:c+"_filter_form",h.filterToolbarId=void 0!==h.filterToolbar?h.filterToolbar:c+"_filter_toolbar",h.filterButtonId=void 0!==h.filterButtonId?h.filterButtonId:c+"_filter_filterButton",h.cleanLinkId=void 0!==h.cleanLinkId?h.cleanLinkId:c+"_filter_cleanLink",h.collapsableLayerId=void 0!==h.collapsableLayerId?h.collapsableLayerId:c+"_filter_fieldset",h.toggleIcon1Id=void 0!==h.toggleIcon1?h.toggleIcon1:c+"_filter_toggle_icon1",h.toggleLabelId=void 0!==h.toggleLabelId?h.toggleLabelId:c+"_filter_toggle_label",h.filterSummaryId=void 0!==h.filterSummaryId?h.filterSummaryId:c+"_filter_summary",h.toggleIcon2Id=void 0!==h.toggleIcon2?h.toggleIcon2:c+"_filter_toggle_icon2",h.$filterContainer=jQuery("#"+h.id),h.$filterToolbar=jQuery("#"+h.filterToolbarId),0===h.$filterContainer.length?alert("El identificador especificado para el fomulario de búsqueda no existe."):0===h.$filterToolbar.length?alert("El identificador especificado para la barra de controles del formulario de filtrado no existe."):(i=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.filter.toggleIcon1"),r=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.filter.toggleLabel"),n=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.filter.filterSummary"),a=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.filter.toggleIcon2"),s=e(jQuery.jgrid.format(i,h.toggleIcon1Id)),o=e(jQuery.jgrid.format(r,h.toggleLabelId,e.rup.i18n.base.rup_table.plugins.filter.filterCriteria)),l=e(jQuery.jgrid.format(n,h.filterSummaryId)),d=e(jQuery.jgrid.format(a,h.toggleIcon2Id)),h.$filterToolbar.append(s).append(o).append(l).append(d),h.$filterContainer=jQuery("#"+h.id),h.$filterButton=jQuery("#"+h.filterButtonId),h.$cleanLink=jQuery("#"+h.cleanLinkId),h.$collapsableLayer=jQuery("#"+h.collapsableLayerId),h.$toggleIcon1=s,h.$toggleLabel=o,h.$filterSummary=l,h.$toggleIcon2=d,"FORM"===h.$filterContainer.prop("tagName")&&h.$filterContainer.ajaxForm(),h.$filterContainer.parent().css("width",u.rup_table("getGridParam","width")),null===t.filter.url&&(t.filter.url=t.baseUrl+"/filter"),t.url=t.filter.url,t.searchURL=u.rup_table("getGridParam","url"),h.$filterContainer.bind("keydown",function(e){13==e.keyCode&&u.rup_table("filter")}),h.$filterButton.bind("click",function(){t.$firstStartUp&&(t.$firstStartUp=!1),u.rup_table("filter")}),h.$cleanLink.bind("click",function(){t.$firstStartUp&&(t.$firstStartUp=!1),u.rup_table("cleanFilterForm").rup_table("filter"),void 0!==h.validate&&jQuery(".rup-maint_validateIcon",h.$filterContainer).remove()}),h.$toggleIcon1.add(h.$toggleLabel).add(h.$toggleIcon2).attr("tabindex","0").on({keydown:function(e){13==e.keyCode&&u.rup_table("toggleFilterForm")}}),h.$filterToolbar.addClass("cursor_pointer").on({click:function(){u.rup_table("toggleFilterForm")}}),t.filter.showHidden===!0&&(h.$collapsableLayer.hide(),h.$toggleIcon1.removeClass("ui-icon-triangle-1-n").addClass("ui-icon-triangle-1-s"),h.$filterSummary.parent().addClass("rup-maint_searchCriteria")),void 0!==h.validate&&(h.$filterContainer.rup_validate(h.validate),u.on({"rupTable_beforeFilter.filter.validate":function(){return void 0!==p&&t.$firstStartUp?null:h.$filterContainer.valid()}}))),u.on({"rupTable_serializeGridData.filter":function(e,i){var r,n=form2object(t.filter.$filterContainer[0]),a=jQuery.param(n),s=u.data("tmp.lastFilterParams");if(1==t.$firstStartUp)var r=p.$filterDefaultValue;void 0==r?jQuery.extend(i,{filter:n}):jQuery.extend(i,{filter:r}),void 0!==s&&s===a||(jQuery.extend(i,{page:u.data("tmp.firstLoad")===!0&&null!==t.core.startOnPage?t.core.startOnPage:"1"}),u.data("tmp.lastFilterParams",a))}}),u.on("jqGridGridComplete",function(e){void 0!==u.data("settings")&&u.rup_table("showSearchCriteria")}),void 0!=t.multifilter&&null!=t.multifilter){var p=t.multifilter;t.filter.$filterForm=e("#"+t.id+"_filter_form");var f;t.$firstStartUp=!0,f=null!=p.idFilter?p.idFilter:t.id;var g;g=null!=p.userFilter?p.userFilter:LOGGED_USER;var m;m=null==p.getDefault||p.getDefault,m&&e.rup_ajax({url:t.baseUrl+"/multiFilter/getDefault?filterSelector="+f+"&user="+g,type:"GET",dataType:"json",showLoading:!1,contentType:"application/json",complete:function(e,i){t.loadOnStartUp&&u.rup_table("filter"),u.triggerHandler("rupTable_multifilter_fillForm",u.data.filterData)},success:function(t,i,r){if(null!=t){var n=e.parseJSON(t.filterValue);u._fillForm(n),p.$filterDefaultName=t.filterName,p.$filterDefaultValue=n,u.data.filterData=n}},error:function(e,t,i){}})}},postConfigureFilter:function(e){}}),jQuery.fn.rup_table("extend",{cleanFilterForm:function(){var e=this,t=e.data("settings");return e.triggerHandler("rupTable_filter_beforeCleanFilterForm"),e.rup_table("resetForm",t.filter.$filterContainer),e.triggerHandler("rupTable_filter_afterCleanFilterForm"),e},filter:function(t){var i=this,r=i.data("settings"),n=i.triggerHandler("rupTable_beforeFilter");n!==!1&&"stop"!==n&&(e.isFunction(r.filter.beforeFilter)&&(n=r.filter.beforeFilter.call(i),void 0===n&&(n=!0),n===!1)||(i.rup_table("setGridParam",{page:"1"}),i.trigger("reloadGrid")))},getFilterParams:function(){var e=this,t=e.data("settings");return form2object(t.filter.$filterContainer[0])},hideFilterForm:function(){var t=e(this),i=t.data("settings"),r=i.filter;r.$collapsableLayer.hide(i.filter.transitionConfig),r.$toggleIcon2.removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),r.$toggleIcon1.removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-e"),r.$filterSummary.parent().addClass("rup-maint_searchCriteria")},showFilterForm:function(){var t=e(this),i=t.data("settings"),r=i.filter;r.$collapsableLayer.show(e.extend({},i.filter.transitionConfig,{complete:function(){jQuery("input:first",r.$filterContainer).focus()}})),r.$toggleIcon2.removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),r.$toggleIcon1.removeClass("ui-icon-triangle-1-e").addClass("ui-icon-triangle-1-s"),r.$filterSummary.parent().removeClass("rup-maint_searchCriteria")},toggleFilterForm:function(t){var i=e(this),r=i.data("settings"),n=r.filter;return n.$collapsableLayer.is(":hidden")?i.rup_table("showFilterForm"):i.rup_table("hideFilterForm"),i},showSearchCriteria:function(){var t,i,r,n,a,s,o=this,l=o.data("settings"),d=" ",t=l.filter.$filterContainer.serializeArray();i=l.filter.$filterContainer,filterMulticombo=new Array;var u,c=(e(".jstree",l.filter.$filterContainer),e(".jstree",l.filter.$filterContainer));e.each(c,function(i,r){u=new Object,u.name=e(r).attr("name"),u.value=e(r).rup_tree("getRupValue").length,u.type="rup_tree",t.push(u)});for(var h=0;h<t.length;h++)if(""!==t[h].value&&0!=e.inArray(t[h].name,l.filter.excludeSummary)){if(r=e("[name='"+t[h].name+"']",i),e.inArray(r.attr("id"),l.filter.filterExclude)!==-1)continue;if(r.length>1&&(r=e("[name='"+t[h].name+"']:checked",i)),"hidden"===e(r).attr("type"))continue;if(n=e(r).attr("id"),"combo"===e(r).attr("ruptype")&&0==r.next(".ui-multiselect").length&&(n+="-button"),"autocomplete"===e(r).attr("ruptype")&&(n=n.substring(0,n.indexOf("_label"))),label=e("label[for^='"+n+"']",i),label.length>0)a=label.html();else if("combo"!==e(r).attr("ruptype"))a=e("[name='"+t[h].name+"']",i).prev("div").find("label").first().html();else{var p,f=e("[name='"+t[h].name+"']",i);p=jQuery("[for='"+f.attr("id")+"']"),a=p.length>0?p.first().text():e("[name='"+t[h].name+"']",i).parent().prev("div").find("label").first().html()}switch(null!==a&&void 0!==a||(a=""),s=" = ",e(r)[0].tagName){case"INPUT":s+=e(r).val(),"checkbox"!==e(r)[0].type&&"radio"!==e(r)[0].type||(s="");break;case"DIV":e.each(t,function(e,t){t.name==r.attr("id")?0!=t.value&&(s+=" = "+t.value):s=""}),""==s&&(a="");break;case"SELECT":0==r.next(".ui-multiselect").length?s+=e("option[value='"+t[h].value+"']",r).html():e.inArray(e(r).attr("id"),filterMulticombo)===-1?(numSelected=r.rup_combo("value").length,0!==numSelected?s+=numSelected:(a="",s=""),filterMulticombo.push(e(r).attr("id"))):(a="",s="")}for(var g=new Array(":","="),m=0;m<g.length;m++)if(""!==a&&a.indexOf(g[m])!==-1){a=a.substring(0,a.indexOf(g[m]));break}for(;s.indexOf("&amp;nbsp;")!==-1;)s=s.replace("&amp;nbsp;","");if(""===a&&s.indexOf(" = ")!==-1&&(s=s.substring(2,s.length)),""===a&&""===e.trim(s))continue;d=d+a+s+", "}jQuery.isFunction(l.filter.fncSearchCriteria)&&(d=jQuery.proxy(l.filter.fncSearchCriteria,o,d)()),e.trim(d).length-1==e.trim(d).lastIndexOf(",")&&(d=d.substr(0,d.lastIndexOf(","))+" "),l.multifilter&&jQuery.isFunction(l.multifilter.fncFilterName)&&(d=jQuery.proxy(l.multifilter.fncFilterName,o,d)());for(var v,b=e("#titleSearch_"+l.id.name).css("height"),_=d,y=!1;;){if(l.filter.$filterSummary.html(" <i>"+_+"</i>"),v=e("#titleSearch_"+l.id.name).css("height"),v===b)break;_=_.substring(0,_.lastIndexOf(","))+" <b>...</b>",y=!0}y&&l.filter.$filterSummary.rup_tooltip({content:{text:d.substring(1)},position:{my:"bottom center",at:"top center"}})}}),jQuery.fn.rup_table("extend",{_getSearchFormFieldLabel:function(t,i){var r,n=t.attr("id"),a="",s=t.attr("ruptype");return r="combo"!==s?jQuery("label[for='"+n+"']",i):jQuery("label[for='"+n+"-button']",i),a=r.length>0?r.html():"combo"!==t.attr("ruptype")?e("[name='"+name+"']",i).prev("div").find("label").first().html():e("[name='"+name+"']",i).parent().prev("div").find("label").first().html(),a=a.replace(/[:=]/g,"")},_getSearchFormFieldValue:function(t,i){var r,n=" = ",a=[];switch(t.prop("tagName")){case"INPUT":n+=t.val(),"checkbox"!==t.attr("type")&&"radio"!==t.attr("type")||(n="");break;case"SELECT":0==t.next(".ui-multiselect").length?n+=e("option[value='"+t.rup_combo("getRupValue")+"']",t).html():e.inArray(t.attr("id"),a)===-1?(r=t.rup_combo("value").length,0!==r?n+=r:(fieldName="",n=""),a.push(t.attr("id"))):(fieldName="",n="")}for(;n.indexOf("&amp;nbsp;")!==-1;)n=n.replace("&amp;nbsp;","");return n}}),jQuery.fn.rup_table.plugins.filter={},jQuery.fn.rup_table.plugins.filter.defaults={core:{startOnPage:null},filter:{url:null,showHidden:!1,transitionConfig:{duration:"slow",effect:"blind"}}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("search",{loadOrder:9,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureSearch",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureSearch",e)}}),jQuery.fn.rup_table("extend",{preConfigureSearch:function(e){null===e.search.url&&(e.search.url=e.baseUrl+"/search")},postConfigureSearch:function(t){var i=this;i.rup_table("createSearchRow",t),i._initializeSearchProps(t),i.on({"jqGridLoadComplete.rupTable.search":function(e){var t=parseInt(i.rup_table("getGridParam","page"),10);i._hasPageMatchedElements(t)&&i.rup_table("highlightMatchedRowsInPage",t),i.rup_table("updateSearchPagination")},"jqGridSelectRow.rupTable.search rupTable_setSelection.search":function(e,t,r,n){i.rup_table("updateSearchPagination",t)},"jqGridGridComplete.rup_table.search":function(t){var i=e(this),r=i.data("settings");0===i.rup_table("getGridParam","records")?r.search.$searchRow.hide():r.search.$searchRow.show()},rupTable_searchAfterCreateToolbar:function(t,r){var n,a,s,o,l=i[0].p,d=l.colModel;e("th[role='columnheader']",r).each(function(t){if(n=d[t],s=void 0!==n.searchoptions&&void 0!==n.searchoptions.rupType?n.searchoptions.rupType:n.rupType,colModelName=n.name,a=e("[name='"+colModelName+"']",r),a.attr({title:l.colNames[t],"class":"editable customelement"}).removeAttr("readOnly"),void 0!==s){switch(o=n.searchoptions||n.editoptions,s){case"combo":o=e.extend({},{menuWidth:a.width()},o,{width:"97%"})}switch(a["rup_"+s](o),s){case"date":a.css("width","86%")}}})}})}}),jQuery.fn.rup_table("extend",{toggleSearchForm:function(){var e,t,i=this,r=i.data("settings"),n=i[0].p;r.search.created?(e=jQuery("tr.ui-search-toolbar",i[0].grid.hDiv),t=n.frozenColumns===!0&&jQuery("tr.ui-search-toolbar",i[0].grid.fhDiv),jQuery("tr.ui-search-toolbar","#gview_"+r.id).is(":visible")?(e.hide(r.search.transitionConfig),t&&t.hide(r.search.transitionConfig),jQuery("#searchNavLayer_"+r.id).hide(r.search.transitionConfig),r.search.$collapseIcon.removeClass("ui-icon-triangle-1-s"),r.search.$collapseIcon.addClass("ui-icon-triangle-1-e")):(e.show(r.search.transitionConfig),t&&t.show(r.search.transitionConfig),jQuery("#searchNavLayer_"+r.id).show(r.search.transitionConfig),r.search.$collapseIcon.removeClass("ui-icon-triangle-1-e"),r.search.$collapseIcon.addClass("ui-icon-triangle-1-s"))):(i.rup_table("createSearchToolbar"),r.search.$collapseIcon.removeClass("ui-icon-triangle-1-e"),r.search.$collapseIcon.addClass("ui-icon-triangle-1-s"),jQuery("#searchNavLayer_"+r.id).show(),r.search.created=!0,jQuery("input","table thead tr.ui-search-toolbar").keypress(function(e){var t=e.charCode||e.keyCode||0;return 13==t?(i.rup_table("search"),!1):this}))},createSearchToolbar:function(){var t=this,i=t.data("settings"),r=t[0].p,n=jQuery("<tr>").attr({"class":"ui-search-toolbar",role:"rowheader"});0!==jQuery("table thead tr:first th[id='"+i.id+"_cb']",t[0].grid.hDiv).length&&n.append(jQuery("<th>").attr({role:"columnheader","class":"search_row_header ui-th-column ui-th-"+r.direction})),n.append(jQuery("<th>").attr({role:"columnheader","class":"search_row_header ui-th-column ui-th-"+r.direction})),e.each(r.colModel,function(a,s){var o,l,d=jQuery("<th>").attr({role:"columnheader","class":"search_row_header ui-th-column ui-th-"+r.direction});s.hidden===!0&&d.css("display","none"),s.search=s.search!==!1,void 0===s.stype&&(s.stype=void 0!==s.edittype?s.edittype:"text",void 0!==s.searchoptions&&"combo"===s.searchoptions.rupType&&(s.stype="text")),soptions=e.extend({},s.searchoptions||s.editoptions||{},{id:s.name,name:s.name}),s.search&&(o=e.jgrid.createEl.call(t[0],void 0!==s.stype?s.stype:s.edittype,soptions,"",!0,e.extend({},e.jgrid.ajaxOptions,soptions.ajaxSelectOptions||{})),l=jQuery(o),l.css("width","97%"),d.append(l)),s.name!==i.defaultGridInfoCol.name&&s.name!==i.defaultGridMultiplePkCol.name&&"cb"!==s.name&&n.append(d)}),e("table thead",t[0].grid.hDiv).append(n),i.search.$searchRowInputs=jQuery("table thead tr.ui-search-toolbar","#gview_"+i.id),i.search.$searchRowInputs.attr({id:i.id+"_search_rowInputs",form:i.id+"_search_rowInputs"}),void 0!==i.search.validate&&(i.search.$searchForm.rup_validate(i.search.validate),t.on({"rupTable_beforeSearch.search.validate":function(){return i.search.$searchForm.valid()}})),t.triggerHandler("rupTable_searchAfterCreateToolbar",[n]),t[0].ftoolbar=!0},createSearchRow:function(t){function i(e,t){e.hasClass("ui-state-disabled")||r.rup_table("navigateToMatchedRow",t)}var r=this,n=jQuery("table thead","#gview_"+t.id),a=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.searchRowHeader"),s=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.collapseLayer"),o=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.collapseIcon"),l=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.collapseLabel"),d=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.matchedLayer"),u=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.matchedLabel"),c=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.navLayer"),h=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.navLink"),p=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.navSearchButton"),f=jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.navClearLink"),g=e(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.templates.search.searchRow")),m=e(jQuery.jgrid.format(a,n.find("th").length)),v=e(jQuery.jgrid.format(s,"searchCollapseLayer_"+t.id)),b=e(jQuery.jgrid.format(o,"searchCollapseIcon_"+t.id)),_=e(jQuery.jgrid.format(l,"searchCollapsLabel_"+t.id,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.plugins.search.searchCriteria")));$matchedLayer=e(jQuery.jgrid.format(d,"matchedLayer_"+t.id)),$matchedLabel=e(jQuery.jgrid.format(u,"matchedLabel_"+t.id,jQuery.jgrid.format(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.plugins.search.matchedRecords"),0))),$navLayer=e(jQuery.jgrid.format(c,"searchNavLayer_"+t.id)),$firstNavLink=e(jQuery.jgrid.format(h,"search_nav_first_"+t.id,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.first"))),$backNavLink=e(jQuery.jgrid.format(h,"search_nav_back_"+t.id,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.previous"))),$forwardNavLink=e(jQuery.jgrid.format(h,"search_nav_forward_"+t.id,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.next"))),$lastNavLink=e(jQuery.jgrid.format(h,"search_nav_last_"+t.id,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.last"))),$navSearchButton=e(jQuery.jgrid.format(p,"search_nav_button_"+t.id,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.search.Find"))),
$navClearLink=e(jQuery.jgrid.format(f,"search_nav_clear_link"+t.id,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.search.Reset"))),v.append(b).append(_),$matchedLayer.append($matchedLabel),$navLayer.append($firstNavLink).append($backNavLink).append($forwardNavLink).append($lastNavLink).append($navSearchButton).append($navClearLink),m.append(v),m.append($matchedLayer),m.append($navLayer),g.append(m),n.append(g),t.search=t.search||{},t.search.created=!1,t.search.$collapseIcon=b,t.search.$searchRow=g,t.search.$matchedLabel=$matchedLabel,t.search.$firstNavLink=$firstNavLink,t.search.$backNavLink=$backNavLink,t.search.$forwardNavLink=$forwardNavLink,t.search.$lastNavLink=$lastNavLink,b.add(_).on("click",function(){r.rup_table("toggleSearchForm")}),$navSearchButton.on("click",function(){r.rup_table("search")}),$navClearLink.on("click",function(){r.rup_table("clearSearch")}),$navLayer.hide(),$firstNavLink.on("click",function(){i(jQuery(this),"first")}),$backNavLink.on("click",function(){i(jQuery(this),"prev")}),$forwardNavLink.on("click",function(){i(jQuery(this),"next")}),$lastNavLink.on("click",function(){i(jQuery(this),"last")}),$searchForm=jQuery("<form>").attr("id",t.id+"_search_searchForm"),t.search.$searchRow.parent().parent().wrap($searchForm),t.search.$searchForm=jQuery("#"+t.id+"_search_searchForm"),t.search.$searchRow.hide()},navigateToMatchedRow:function(e){var t=this,i=t.rup_table("fncGetSearchNavigationParams",e);t.rup_table("doSearchNavigation",i)},search:function(){var t=this,i=t.data("settings"),r=t.triggerHandler("rupTable_beforeSearch");r!==!1&&"stop"!==r&&(e.isFunction(i.search.beforeSearch)&&(r=i.search.beforeSearch.call(t),void 0===r&&(r=!0),r===!1)||t.rup_table("doSearch"))},doSearch:function(){var t,i=this,r=i.data("settings"),n={},a=parseInt(i.rup_table("getGridParam","page"),10),s=i.rup_table("getGridParam","postData");return n.filter=i.rup_table("getFilterParams"),n.search=form2object(r.search.$searchRowInputs[0]),i._initializeSearchProps(r),t=i.triggerHandler("rupTable_searchBeforeSubmit.rupTable.masterDetail",[s,n]),t!==!1&&void jQuery.rup_ajax({url:r.search.url,type:"POST",dataType:"json",data:jQuery.toJSON(e.extend(!0,{},s,n)),contentType:"application/json",success:function(e,t,n){rowsPerPage=parseInt(i.rup_table("getGridParam","rowNum"),10),0===e.length?(i._initializeSearchProps(r),i.rup_table("updateSearchPagination"),i.rup_table("clearHighlightedMatchedRows")):(jQuery.each(e,function(e,t){for(var n="",a=0;a<r.primaryKey.length;a++)n+=t.pk[r.primaryKey[a]]+r.multiplePkToken;t.id=n.substr(0,n.length-1),t.page=Math.ceil(t.tableLine/rowsPerPage),t.pageLine=t.tableLine-(t.page-1)*rowsPerPage,i._processMatchedRow(r,t)}),i.trigger("rupTableSearchSuccess"),i.rup_table("goToFirstMatched",a))}})},goToFirstMatched:function(e){var t=this,i=t.data("settings"),r="string"==typeof e?parseInt(e,10):e;t._hasPageMatchedElements(r)?(t.rup_table("setSelection",i.search.matchedRowsPerPage[r][0],!0),t.rup_table("highlightMatchedRowsInPage",r)):t.rup_table("navigateToMatchedRow","first")},fncGetSearchNavigationParams:function(t){var i,r,n,a,s=this,o=s.data("settings"),l=!1,d=!1,u=0,c=0,h=jQuery.proxy(jQuery.jgrid.getCurrPos,s[0])(),p=parseInt(s.rup_table("getGridParam","page"),10),f=p;switch(s.trigger("rupTableAfterSearchNav",[t]),h[0]=parseInt(h[0],10),i=s.rup_table("getActiveLineId"),e("#"+o.formEdit.feedbackId,o.$detailForm).hide(),t){case"first":l=!0,o.search.matchedPages[0]!==p&&(d=!0,f=o.search.matchedPages[0]),u=o.search.matchedLinesPerPage[f][0],c=u;break;case"prev":l=!0,n=o.search.matchedLinesPerPage[p]||[],r=e.inArray(i+1,n),r===-1&&(r=e.rup_utils.insertSorted(e.merge([],n),i+1)),0===r?(d=!0,a=e.inArray(p,o.search.matchedPages),a===-1&&(a=e.rup_utils.insertSorted(e.merge([],o.search.matchedPages),p)),f=o.search.matchedPages[a-1],n=o.search.matchedLinesPerPage[f],u=n[n.length-1]):u=n[r-1],c=u;break;case"next":l=!0,n=o.search.matchedLinesPerPage[p]||[],r=e.inArray(i+1,n),r===-1&&(r=e.rup_utils.insertSorted(e.merge([],n),i+1),r--),r===n.length-1?(d=!0,a=e.inArray(p,o.search.matchedPages),a===-1&&(a=e.rup_utils.insertSorted(e.merge([],o.search.matchedPages),p)-1),f=o.search.matchedPages[a+1],n=o.search.matchedLinesPerPage[f],u=n[0]):u=n[r+1],c=u;break;case"last":l=!0,o.search.matchedPages[o.search.matchedPages.length-1]!==p&&(d=!0,f=o.search.matchedPages[o.search.matchedPages.length-1]),u=o.search.matchedLinesPerPage[f][o.search.matchedLinesPerPage[f].length-1],c=u}return[t,l,d,u-1,h,f,c-1]},doSearchNavigation:function(t,i,r,n,a,s,o){var i,r,n,s,o,l,d,u,c=this,h=c.data("settings");e.isArray(t)&&(linkType=t[0],i=t[1],r=t[2],n=t[3],a=t[4],s=t[5],o=t[6],i&&(c.rup_table("hideFormErrors",h.$detailForm),pagePos=jQuery.proxy(jQuery.jgrid.getCurrPos,c[0])(),d=c.rup_table("getActiveRowId"),$row=jQuery(c.jqGrid("getInd",d,!0)),"true"!==$row.data("tmp.search.notToDeselect")&&(c.rup_table("setSelection",d,!1),void 0!==$row.data("tmp.search.notToDeselect")&&delete $row.data("tmp.search.notToDeselect")),r?(c.trigger("reloadGrid",[{page:s}]),c.on("jqGridAfterLoadComplete.rupTable.serach.pagination",function(e,t){l=jQuery.inArray(o+1,h.search.matchedLinesPerPage[s]),u=h.search.matchedRowsPerPage[parseInt(t.page,10)][l],$row=jQuery(c.jqGrid("getInd",u,!0)),"true"===$row.attr("aria-selected")&&$row.data("tmp.search.notToDeselect","true"),c.rup_table("setSelection",u,!0),c.off("jqGridAfterLoadComplete.rupTable.serach.pagination")})):(l=jQuery.inArray(n+1,h.search.matchedLinesPerPage[s]),u=h.search.matchedRowsPerPage[s][l],$row=jQuery(c.jqGrid("getInd",u,!0)),"true"===$row.attr("aria-selected")&&$row.data("tmp.search.notToDeselect","true"),c.rup_table("setSelection",u,!0))))},clearSearch:function(){var e=this,t=e.data("settings");e._initializeSearchProps(t),e.rup_table("updateSearchPagination"),e.rup_table("clearHighlightedMatchedRows"),jQuery("input,textarea","#gview_"+t.id+" table thead tr.ui-search-toolbar").val(""),jQuery("table thead tr.ui-search-toolbar [ruptype='combo']","#gview_"+t.id).rup_combo("clear")},clearHighlightedMatchedRows:function(){var e=this,t=e.data("settings");e.find("td[aria-describedby='"+t.id+"_rupInfoCol'] span.ui-icon.ui-icon-search").removeClass("ui-icon-search")},highlightMatchedRowsInPage:function(t){var i,r=this,n=r.data("settings");r[0].p;r.rup_table("clearHighlightedMatchedRows");for(var a=0;a<n.search.matchedRowsPerPage[t].length;a++)newIndexPos=n.search.matchedRowsPerPage[t][a],i=e(r.jqGrid("getInd",newIndexPos,!0)),r.rup_table("highlightMatchedRow",i)},highlightMatchedRow:function(e){var t=this,i=t.data("settings");e.find("td[aria-describedby='"+i.id+"_rupInfoCol'] span").addClass("ui-icon ui-icon-rupInfoCol ui-icon-search")},updateSearchPagination:function(t){var i,r,n,a,s=this,o=s.data("settings"),l=parseInt(s.rup_table("getGridParam","page"),10),d=e.jgrid.formatter.integer;void 0!==t?i=t:(r=jQuery.proxy(jQuery.jgrid.getCurrPos,s[0])(),i=r[0]!==-1?r[1][r[0]-1]:-1),0===o.search.numMatched?(o.search.$firstNavLink.add(o.search.$backNavLink).add(o.search.$forwardNavLink).add(o.search.$lastNavLink).addClass("ui-state-disabled"),o.search.$matchedLabel.html(jQuery.jgrid.format(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.plugins.search.matchedRecords"),"0"))):i!==-1&&(jQuery.inArray(i,o.search.matchedRowsPerPage[l])!==-1?(a=s.rup_table("getSearchCurrentRowCount",i),o.search&&o.search.numMatched&&o.search.$matchedLabel.html(jQuery.jgrid.format(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.plugins.search.matchedRecordsCount"),e.fmatter.util.NumberFormat(a,d),e.fmatter.util.NumberFormat(o.search.numMatched,d))),1===a?(o.search.$firstNavLink.addClass("ui-state-disabled"),o.search.$backNavLink.addClass("ui-state-disabled")):(o.search.$firstNavLink.removeClass("ui-state-disabled"),o.search.$backNavLink.removeClass("ui-state-disabled")),a===o.search.numMatched?(o.search.$lastNavLink.addClass("ui-state-disabled"),o.search.$forwardNavLink.addClass("ui-state-disabled")):(o.search.$lastNavLink.removeClass("ui-state-disabled"),o.search.$forwardNavLink.removeClass("ui-state-disabled"))):(o.search&&o.search.numMatched&&o.search.$matchedLabel.html(jQuery.jgrid.format(jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.plugins.search.matchedRecords"),e.fmatter.util.NumberFormat(o.search.numMatched,d))),o.search.$firstNavLink.removeClass("ui-state-disabled"),o.search.$backNavLink.removeClass("ui-state-disabled"),o.search.$forwardNavLink.removeClass("ui-state-disabled"),o.search.$lastNavLink.removeClass("ui-state-disabled"),jQuery.inArray(o.search.matchedPages,l)>0?o.search.$backNavLink.removeClass("ui-state-disabled"):jQuery.inArray(l,o.search.matchedPages)===-1&&0===e.rup_utils.insertSorted(e.merge([],o.search.matchedPages),l)?(o.search.$backNavLink.addClass("ui-state-disabled"),o.search.$firstNavLink.addClass("ui-state-disabled")):jQuery.inArray(l,o.search.matchedPages)===-1&&e.rup_utils.insertSorted(e.merge([],o.search.matchedPages),l)>=o.search.matchedPages.length?(o.search.$forwardNavLink.addClass("ui-state-disabled"),o.search.$lastNavLink.addClass("ui-state-disabled")):(r=s.rup_table("getActiveLineId"),n=e.rup_utils.insertSorted(e.merge([],o.search.matchedLinesPerPage[l]),r+1),0===n&&o.search.$backNavLink.addClass("ui-state-disabled"),n===o.search.matchedLinesPerPage[l].length&&o.search.$forwardNavLink.addClass("ui-state-disabled"))))},getSearchCurrentRowCount:function(t){var i,r=this,n=r.data("settings"),a=parseInt(r.rup_table("getGridParam","page"),10),s=jQuery.proxy(jQuery.jgrid.getCurrPos,r[0])(),o=r.rup_table("getSelectedRows"),l=jQuery.inArray(void 0!==t?t:o[0],s[1]),d=0;i=jQuery.inArray(a,n.search.matchedPages);for(var u=0;u<i;u++)d+=n.search.matchedLinesPerPage[n.search.matchedPages[u]].length;return d+=e.inArray(l+1,n.search.matchedLinesPerPage[n.search.matchedPages[i]])+1}}),jQuery.fn.rup_table("extend",{_hasPageMatchedElements:function(e){var t=this,i=t.data("settings"),r="string"==typeof e?parseInt(e,10):e;return jQuery.inArray(r,i.search.matchedPages)!==-1},_initializeSearchProps:function(e){void 0===e.search&&(e.search={}),e.search.numMatched=0,e.search.matchedRowsPerPage=[],e.search.matchedLinesPerPage=[],e.search.matchedRows=[],e.search.matchedIds=[],e.search.matchedPages=[]},_processMatchedRow:function(t,i){var r;void 0===t.search.matchedRowsPerPage[i.page]&&(t.search.matchedRowsPerPage[i.page]=[],t.search.matchedLinesPerPage[i.page]=[]),jQuery.inArray(i.id,t.search.matchedIds)===-1&&(t.search.matchedIds.push(i.id),t.search.matchedRows.push({id:i.id,page:i.page}),r=e.rup_utils.insertSorted(t.search.matchedLinesPerPage[i.page],i.pageLine),t.search.matchedRowsPerPage[i.page].splice(r,0,i.id),t.search.matchedRowsPerPage[i.page].length>0&&jQuery.inArray(parseInt(i.page,10),t.search.matchedPages)===-1&&e.rup_utils.insertSorted(t.search.matchedPages,parseInt(i.page,10)),t.search.numMatched++)}}),jQuery.fn.rup_table.plugins.search={},jQuery.fn.rup_table.plugins.search.defaults={showGridInfoCol:!0,search:{url:null,autosearch:!1,beforeSearch:function(){return!0},defaultSearchInfoCol:{name:"infoSearch",index:"infoSearch",editable:!1,width:"15em",search:!1},searchOnEnter:!1,transitionConfig:{duration:0}}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("toolbar",{loadOrder:3,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureToolbar",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureToolbar",e)}}),jQuery.fn.rup_table("extend",{preConfigureToolbar:function(t){var i=this,r=t.toolbar;r.id=null!==r.id?r.id:t.id+"_toolbar",jQuery("#"+r.id).length>0?(t.$toolbar=e("#"===r.id[0]?r.id:"#"+r.id),t.$toolbar.hasClass("rup-toolbar")||t.$toolbar.rup_toolbar({width:r.width})):(r={},r.id="rup-maint_toolbar-"+t.id,r.self=e("<div/>").attr("id",r.id),i.prepend(r.self),r.self.rup_toolbar({width:r.width})),r.$toolbar=t.$toolbar,r.autoAjustToolbar&&t.$toolbar.css("width",i.rup_table("getGridParam","width")-5),r.createDefaultToolButtons===!0&&(r.showOperations=jQuery.extend(!0,{},r.defaultButtons,t.core.showOperations,r.showOperations)),r.buttons=jQuery.extend(!0,{},r.newButtons,r.buttons)},postConfigureToolbar:function(t){var i=this,r=t.toolbar,n=1;jQuery.each(t.toolbar.showOperations,function(e,a){var s;a===!0&&(s=t.core.operations[e],void 0!==s&&(r["btn"+e.capitalize()]=t.$toolbar.addButton({id:"btn"+e.capitalize(),i18nCaption:s.name,css:s.icon,index:n++,dropdown:s.dropdown,right:s.right},jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table")).bind("click",function(e){jQuery.proxy(s.callback,i)(i,e)})))}),void 0!==r.buttons&&null!==r.buttons&&jQuery.each(r.buttons,function(i,r){if(void 0===r.json_i18n&&(r.json_i18n={}),void 0!==r.obj&&void 0!==r.click)t.$toolbar.addButton(r.obj,r.json_i18n).bind("click",r.click);else if(void 0!==r.buttons){var n=t.$toolbar.addMButton(r,r.json_i18n).bind("click",t.$toolbar.showMButton);t.$toolbar.addButtonsToMButton(r.buttons,n,r.json_i18n)}else e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_table.toolbarNewButtonError"))}),i.on({"jqGridSelectRow.rupTable.toolbar jqGridLoadComplete.rupTable.toolbar jqGridInlineEditRow.rupTable.toolbar jqGridInlineAfterRestoreRow.rupTable.toolbar rupTableHighlightRowAsSelected.rupTable.toolbar rupTableSelectedRowNumberUpdated jqGridInlineAfterSaveRow rupTable_toolbarButtonsStateRefresh rupTable_afterDeleteRow.rupTable.toolbar rupTable_coreConfigFinished.toolbar rupTable_deleteAfterComplete.rupTable.toolbar":function(e,t,i,r){function n(e,t){void 0!==e&&(t?e.button("enable"):e.button("disable"))}var a=jQuery(this),s=a.data("settings");jQuery.each(s.core.operations,function(e,t){s.toolbar.showOperations[e]===!0&&void 0!==t&&n(s.toolbar["btn"+e.capitalize()],jQuery.proxy(t.enabled,a)())})},rupTable_internalFeedbackClose:function(){var e=jQuery(this),t=e.data("settings");t.$internalFeedback.rup_feedback("close")}})}}),jQuery.fn.rup_table.plugins.toolbar={},jQuery.fn.rup_table.plugins.toolbar.defaults={toolbar:{id:null,autoAjustToolbar:!0,createDefaultToolButtons:!0,defaultAdd:!0,defaultEdit:!0,defaultSave:!0,defaultClone:!0,defaultCancel:!0,defaultDelete:!0,defaultFilter:!1,defaultButtons:{},showOperations:{},width:796}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("feedback",{loadOrder:2,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureFeedback",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureFeedback",e)}}),jQuery.fn.rup_table("extend",{preConfigureFeedback:function(e){var t,i,r=this,n=e.feedback;n.id=null!==n.id?n.id:e.id+"_feedback",t="#"===n.id[0]?n.id:"#"+n.id,i=jQuery(t),0===i.length?alert("El identificador especificado para el feedback no existe."):(e.$feedback=i,e.$feedback.rup_feedback(n.config).attr("ruptype","feedback")),jQuery.isFunction(e.loadError)||(e.loadError=function(t,i,n){r.rup_table("showFeedback",e.$feedback,t.responseText,"error")})},postConfigureFeedback:function(t){t.$internalFeedback=e("<div/>").attr("id","rup_feedback_"+t.id).insertBefore("#gbox_"+t.id),t.$internalFeedback.rup_feedback(t.feedback.internalFeedbackConfig)}}),jQuery.fn.rup_table("extend",{showFeedback:function(e,t,i,r){var n,a=this,s=a.data("settings");r===!1?e.rup_feedback("set",t,i):jQuery.isPlainObject(r)?(e.rup_feedback("option",r),e.rup_feedback("set",t,i)):(n=void 0!==s.feedback[i+"FeedbackConfig"]?s.feedback[i+"FeedbackConfig"]:s.feedback.okFeedbackConfig,e.rup_feedback("option",n),e.rup_feedback("set",t,i))}}),jQuery.fn.rup_table.plugins.feedback={},jQuery.fn.rup_table.plugins.feedback.defaults={loadError:function(t,i,r){var n=e(this),a=n.data("settings");n.rup_table("showFeedback",a.$feedback,t.responseText,"error")},feedback:{okFeedbackConfig:{closeLink:!0,gotoTop:!1,delay:1e3},errorFeedbackConfig:{closeLink:!0,gotoTop:!1,delay:null},alertFeedbackConfig:{closeLink:!0,gotoTop:!1,delay:null},id:null,config:{type:"ok",closeLink:!0,gotoTop:!1,block:!0},internalFeedbackConfig:{type:"ok",closeLink:!0,gotoTop:!1,block:!1}}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("fluid",{loadOrder:5,postConfiguration:function(e){var t=this;return t.rup_table("postConfigureFluid",e)}}),jQuery.fn.rup_table("extend",{postConfigureFluid:function(t){var i,r=this;return t.fluid.baseLayer=e.rup_utils.getJQueryId(null!==t.fluid.baseLayer?t.fluid.baseLayer:t.id+"_div"),t.fluid.$baseLayer=jQuery(t.fluid.baseLayer),0===t.fluid.$baseLayer.length?void alert("El identificador "+t.baseLayer+" especificado para la capa sobre la que se va a aplicar el diseño líquido no existe."):(i=t.fluid.fluidBaseLayer=t.fluid.$baseLayer,r.bind("fluidWidth.resize",function(e,n,a){if(r.is(":visible")){var s,o,l,d;r.setGridWidth(a),i.children().width(a),t.$feedback&&(s=parseInt(t.$feedback.css("padding-left")),o=parseInt(t.$feedback.css("padding-right")),t.$feedback.width(a-(s+o))),t.$toolbar&&(l=parseInt(t.$toolbar.css("padding-left")),d=parseInt(t.$toolbar.css("padding-right")),t.$toolbar.width(a-(l+d)),t.$toolbar.css("width",a-(l+d)))}}),r.fluidWidth(t.fluid),void r.on("rupTable_fluidUpdate",function(e){r.fluidWidth(t.fluid)}))}}),jQuery.fn.rup_table.plugins.fluid={},jQuery.fn.rup_table.plugins.fluid.defaults={fluid:{baseLayer:null,minWidth:100,maxWidth:2e3,fluidOffset:0}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("formEdit",{loadOrder:6,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureFormEdit",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureFormEdit",e)}}),jQuery.fn.rup_table("extend",{preConfigureFormEdit:function(t){var i=this,r=this[0],n=t.colModel;if(t.formEdit.navigationBarId=void 0!==t.formEdit.navigationBarId?t.formEdit.navigationBarId:t.id+"_detail_navigation",t.formEdit.saveButtonId=void 0!==t.formEdit.saveButtonId?t.formEdit.saveButtonId:t.id+"_detail_button_save",t.formEdit.saveRepeatButtonId=void 0!==t.formEdit.saveRepeatButtonId?t.formEdit.saveRepeatButtonId:t.id+"_detail_button_save_repeat",t.formEdit.cancelLinkId=void 0!==t.formEdit.cancelLinkId?t.formEdit.cancelLinkId:t.id+"_detail_link_cancel",t.formEdit.feedbackId=void 0!==t.formEdit.feedbackId?t.formEdit.feedbackId:t.id+"_detail_feedback",t.formEdit.$navigationBar=jQuery("#"+t.formEdit.navigationBarId),t.formEdit.$saveButton=jQuery("#"+t.formEdit.saveButtonId),t.formEdit.$saveRepeatButton=jQuery("#"+t.formEdit.saveRepeatButtonId),t.formEdit.$cancelLink=jQuery("#"+t.formEdit.cancelLinkId),t.formEdit.$feedback=jQuery("#"+t.formEdit.feedbackId),void 0===t.formEdit.editurl&&(t.formEdit.editurl=t.baseUrl,t.formEdit.editOptions.ajaxEditOptions.url=t.baseUrl,t.formEdit.addOptions.ajaxEditOptions.url=t.baseUrl),void 0===t.formEdit.detailOptions.ajaxDetailOptions.url&&(t.formEdit.detailOptions.ajaxDetailOptions.url=t.baseUrl),t.ondblClickRow=function(e,t,r,n){return i.rup_table("editElement",e),!1},t.formEdit.deleteOptions.ajaxDelOptions=jQuery.extend(!0,t.formEdit.deleteOptions.ajaxDelOptions,{success:function(r,n,a){i.triggerHandler("rupTableAfterDelete",[r,n,a]),i.rup_table("showFeedback",t.$feedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.deletedOK"),"ok")}}),void 0===t.formEdit.detailForm)for(var a=0;a<n.length;a++)colModelObj=n[a],colModelObj.id="detailForm_"+t.id+"_"+colModelObj.name.replace(/[.]/g,"_");t.core.defaultOperations={add:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.new"),icon:r._ADAPTER.CONST.core.operations.defaultOperations.add.icon,enabled:function(){return!0},callback:function(e,t){i.rup_table("newElement")}},edit:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.modify"),icon:r._ADAPTER.CONST.core.operations.defaultOperations.edit.icon,enabled:function(){var e=this,t=e.data("settings");return jQuery.proxy(t.fncHasSelectedElements,e)()},callback:function(e,t){i.rup_table("editElement")}},clone:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.clone"),icon:r._ADAPTER.CONST.core.operations.defaultOperations.clone.icon,enabled:function(){return jQuery.proxy(t.fncHasSelectedElements,i)()},callback:function(e,t){i.rup_table("cloneElement")}},"delete":{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.delete"),icon:r._ADAPTER.CONST.core.operations.defaultOperations["delete"].icon,enabled:function(){var e=this,t=e.data("settings");return jQuery.proxy(t.fncHasSelectedElements,e)()},callback:function(e,t){i.rup_table("deleteElement")}}},e.extend(!0,t.core.operations,t.core.defaultOperations),t.formEdit.addOptions=e.extend(!0,{},t.formEdit.addEditOptions,t.formEdit.addOptions),t.formEdit.editOptions=e.extend(!0,{},t.formEdit.addEditOptions,t.formEdit.editOptions)},postConfigureFormEdit:function(t){var i,r=this;if(t.formEdit.detailForm)if(0===jQuery(t.formEdit.detailForm).length)alert("El identificador especificado para el fomulario de detalle no existe.");else{if(i=e(t.formEdit.detailForm),i.is("form"))i.parent().is("div")?(t.formEdit.$detailFormDiv=i.parent(),t.formEdit.$detailForm=i):alert("El fomrmulario no está incluido dentro de un div");else if(i.is("div")){var n=i.find("form");1===n.length?(t.formEdit.$detailFormDiv=i,t.formEdit.$detailForm=n):alert("El div indicado no contiene un único formulario")}t.formEdit.$detailForm.rup_form(t.formEdit.editOptions),t.formEdit.ownFormEdit=!0}beforeSendUserEvent=t.beforeSend;var a=function(i,r){return r.beforeSend=beforeSendUserEvent,r.validate=t.formEdit.validate,r.feedback=t.$detailFeedback,delete r.contentType,jQuery.isPlainObject(r.data)&&(r.data=e.rup_utils.unnestjson(r.data)),r.beforeSubmit=function(t,i,r){var n=jQuery("input:file",i).length>0;(!e.rup.browser.xhrFileUploadSupport&&n||r.iframe===!0)&&(r.extraData={}),delete t},r.propperFormSerialization=!1,t.formEdit.$detailForm.rup_form("ajaxSubmit",r),rp_ge[t.id].processing=!1,!1};t.formEdit.editOptions.ajaxEditOptions.beforeSend=a,t.formEdit.addOptions.ajaxEditOptions.beforeSend=a,t.getDetailTotalRowCount=function(){var e=this;return e.rup_table("getGridParam","records")},t.getDetailCurrentRowCount=function(){var e,t,i,r=this;return e=parseInt(r.rup_table("getGridParam","page"),10),i=r.rup_table("getGridParam","selrow"),t=jQuery.inArray(i,jQuery.proxy(jQuery.jgrid.getCurrPos,r[0])()[1])+1,rowsPerPage=parseInt(r.rup_table("getGridParam","rowNum"),10),cont=e*rowsPerPage-rowsPerPage+t,cont},t.getRowForEditing=function(){var e=this,t=e.jqGrid("getGridParam","selrow");return null!==t&&t},t.fncHasSelectedElements=function(){var e=this;return jQuery.proxy(t.getRowForEditing,e)()!==!1},t.fncGetNavigationParams=function(e){var t=this,i=!1,r=!1,n=0,a=0,s=0,o=jQuery.proxy(jQuery.jgrid.getCurrPos,t[0])(),l=parseInt(t.rup_table("getGridParam","page"),10),d=parseInt(t.rup_table("getGridParam","rowNum"),10),u=parseInt(Math.ceil(t.rup_table("getGridParam","records")/t.rup_table("getGridParam","rowNum")),10);switch(o[0]=parseInt(o[0],10),e){case"first":1===l&&0===o[0]||(i=!0,n=0,l>1&&(r=!0,a=1,s=0));break;case"prev":1===l&&0===o[0]||(i=!0,n=o[0]-1,n<0&&(r=!0,a=l-1,s=d));break;case"next":l===u&&o[0]===o[1].length-1||(i=!0,n=o[0]+1,n>o[1].length-1&&(r=!0,a=l+1,s=0));break;case"last":l===u&&o[0]===o[1].length-1||(i=!0,n=o[1].length-1,l<u&&(r=!0,a=u,s=d))}return[e,i,r,n,o,a,s]},t.doNavigation=function(t,i,r,n,a,s,o){var l,i,r,n,a,s,o,d=this,u=d.data("settings"),c=rp_ge[d.attr("id")];e.isArray(t)&&(l=t[0],i=t[1],r=t[2],n=t[3],a=t[4],s=t[5],o=t[6],i&&(d.rup_table("hideFormErrors",u.formEdit.$detailForm),d.triggerHandler("jqGridAddEditClickPgButtons",[l,u.formEdit.$detailForm,a[1][a[n]]]),r?(d.trigger("reloadGrid",[{page:s}]),d.on("jqGridAfterLoadComplete.pagination",function(e,t){var i=jQuery.proxy(jQuery.jgrid.getCurrPos,d[0])(),r=o<i[1].length?o:i[1].length-1;d.jqGrid("setSelection",i[1][r]),jQuery.proxy(jQuery.jgrid.fillData,d[0])(i[1][r],d[0],u.formEdit.$detailForm.attr("id"),u.opermode),jQuery.proxy(jQuery.jgrid.updateNav,d[0])(i[1][r],a[1].length-1),d.off("jqGridAfterLoadComplete.pagination")})):(jQuery.proxy(jQuery.jgrid.fillData,d[0])(a[1][n],d[0],u.formEdit.$detailForm.attr("id"),u.opermode),d.jqGrid("setSelection",a[1][n]),jQuery.proxy(jQuery.jgrid.updateNav,d[0])(a[1][n],a[1].length-1)),d.triggerHandler("jqGridAddEditAfterClickPgButtons",[l,u.formEdit.$detailForm,a[1][a[n]]]),jQuery.isFunction(c.afterclickPgButtons)&&c.afterclickPgButtons.call(d,"next",u.formEdit.$detailForm,a[1][a[n]])))},r.on({"jqGridLoadComplete.rupTable.formEditing":function(t){var i,r=e(this),n=r.data("settings");n.formEdit.autoselectFirstRecord&&(i=jQuery.proxy(jQuery.jgrid.getCurrPos,r[0])(),r.jqGrid("setSelection",i[1][0],!1))},"jqGridAddEditInitializeForm.rupTable.formEditing":function(t,i,r){var n=e(this),a=n.data("settings"),s=a.colModel;a.formEdit.ownFormEdit===!1&&jQuery.each(s,function(t,r){r.rupType&&(r.editoptions&&void 0===r.editoptions.i18nId&&(r.editoptions.i18nId=n.attr("id")+"##"+this.name),e("#"+(null!==r.id?r.id:name),i)["rup_"+r.rupType](r.editoptions))}),a.$detailFeedback=a.formEdit.$feedback.rup_feedback({closeLink:!0,gotoTop:!1,block:!1,fadeSpeed:500}).attr("ruptype","feedback")},"jqGridAddEditAfterSubmit.rupTable.formEditing":function(t,i,n,a){var s,o,l=r.data("settings"),d=r.data("tmp.formEditSaveType"),u="",c=null;r.removeData("tmp.formEditSaveType"),jQuery.each(l.colModel,function(e,t){"combo"===t.rupType&&(o=jQuery("[name='"+t.name+"']",l.$detailForm),void 0!==t.editoptions.labelProperty?c=t.editoptions.labelProperty:void 0!==t.editoptions.sourceParam&&(c=t.name.substring(0,t.name.lastIndexOf(".")+1)+t.editoptions.sourceParam.label),null!==c&&(n[c]=o.rup_combo("label")))}),"SAVE"===d?("edit"===a?r.rup_table("showFeedback",l.$feedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.modifyOK"),"ok"):r.rup_table("showFeedback",l.$feedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.insertOK"),"ok"),l.formEdit.$detailFormDiv.rup_dialog("close")):"SAVE_REPEAT"===d&&("edit"===a?r.rup_table("showFeedback",l.$detailFeedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.modifyOK"),"ok"):r.rup_table("showFeedback",l.$detailFeedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.insertOK"),"ok"));try{responseJson=e.parseJSON(i.responseText)}catch(h){responseJson=n}if(l.primaryKey&&"object"==typeof l.primaryKey&&l.primaryKey.length>1){for(var p=0;p<l.primaryKey.length;p++)u+=responseJson[l.primaryKey[p]]+l.multiplePkToken;s=u.substr(0,u.length-1)}else s=responseJson[l.primaryKey?l.primaryKey:r[0].p.prmNames.id];return[!0,"",s]},"jqGridAddEditErrorTextFormat.rupTable.formEditing":function(e,i,n){var a;if(406===i.status&&""!==i.responseText)try{a=jQuery.parseJSON(i.responseText),a.rupErrorFields&&r.rup_table("showServerValidationFieldErrors",t.formEdit.$detailForm,a)}catch(s){r.rup_table("showFeedback",t.$detailFeedback,i.responseText,"error")}},"jqGridAddEditBeforeShowForm.rupTable.formEditing":function(t,i,r){var n=e(this),a=n.data("settings"),s=jQuery("#ui-dialog-title-"+a.formEdit.$detailFormDiv.attr("id"),a.formEdit.$detailFormDiv.parent());n[0].p.colModel;n.rup_table("hideFormErrors",a.formEdit.$detailForm),"add"===r||"clone"===r||"clone_clear"===r?(s.html(rp_ge[n[0].p.id].addCaption),e("#pagination_"+a.id+",#pag_"+a.id).hide()):(s.html(rp_ge[n[0].p.id].editCaption),e("#pagination_"+a.id+",#pag_"+a.id).show())},"jqGridAddEditBeforeShowForm.rupTable.formEditing.readOnlyPks":function(t,i,r){for(var n=e(this),a=n.data("settings"),s=n[0].p.colModel,o=0;o<s.length;o++)(a.formEdit.ownFormEdit!==!0||a.formEdit.ownFormEdit===!0&&jQuery.inArray(s[o].name,a.primaryKey)!==-1)&&("add"===r||"clone"===r||"clone_clear"===r?s[o].editableOnAdd===!1?jQuery("[name='"+s[o].name+"']",a.formEdit.$detailFormDiv).attr("readonly","readonly"):jQuery("[name='"+s[o].name+"']",a.formEdit.$detailFormDiv).removeAttr("readonly"):s[o].editableOnEdit===!1?jQuery("[name='"+s[o].name+"']",a.formEdit.$detailFormDiv).attr("readonly","readonly"):jQuery("[name='"+s[o].name+"']",a.formEdit.$detailFormDiv).removeAttr("readonly"))},"jqGridAddEditAfterShowForm.rupTable.formEditing":function(e,t,i){jQuery(":focusable:enabled:not([readonly]):first",t).focus()}})}}),jQuery.fn.rup_table("extend",{createDetailNavigation:function(){var t=e(this);return e.proxy(t[0]._ADAPTER.createDetailNavigation,t)()},deleteElement:function(e,t){var i=this,r=i.data("settings"),n=jQuery.extend(!0,{},r.formEdit.deleteOptions,t),a=void 0===e?i.rup_table("getSelectedRows"):e;return 1===a.length?"DELETE"===n.mtype&&(n.url=r.formEdit.editurl+"/"+i.rup_table("getPkUrl",a)):(n.mtype="POST",n.ajaxDelOptions.contentType="application/json",n.ajaxDelOptions.type="POST",n.ajaxDelOptions.dataType="json",n.url=r.formEdit.editurl+"/deleteAll",n.serializeDelData=function(e,t){return jQuery.toJSON({core:{pkToken:r.multiplePkToken,pkNames:r.primaryKey},multiselection:i.rup_table("getSelectedIds"),filter:i.rup_table("getFilterParams")})}),n.afterSubmit=function(){return i.triggerHandler("rupTable_deleteAfterSubmit"),!0},n.afterComplete=function(){i.triggerHandler("rupTable_afterDeleteRow")},i.triggerHandler("rupTable_beforeDeleteRow",[n,a])!==!1&&i.jqGrid("delGridRow",a,n),i},editElement:function(t,i){var r=this,n=r.data("settings"),a=void 0===t?e.proxy(n.getRowForEditing,r)():t,s=r[0].p.colModel;if(a!==!1){for(var o=0;o<s.length;o++)s[o].editable===!0&&s[o].editableOnEdit===!1?(void 0===s[o].editoptions&&(s[o].editoptions={}),s[o].editoptions.readonly="readonly"):void 0!==s[o].editoptions&&void 0!==s[o].editoptions.readonly&&delete s[o].editoptions.readonly;r.triggerHandler("rupTable_beforeEditRow",[n.formEdit.editOptions,a])!==!1&&r.jqGrid("editGridRow",a,n.formEdit.editOptions)}return r},newElement:function(e){for(var t=this,i=t.data("settings"),r=t[0].p.colModel,n=0;n<r.length;n++)r[n].editable===!0&&r[n].editableOnAdd!==!1&&(r[n].editable===!0&&r[n].editableOnAdd===!1?(void 0===r[n].editoptions&&(r[n].editoptions={}),r[n].editoptions.readonly="readonly"):void 0!==r[n].editoptions&&void 0!==r[n].editoptions.readonly&&delete r[n].editoptions.readonly);return(e===!1||e!==!1&&t.triggerHandler("rupTable_beforeAddRow",[i.formEdit.addOptions])!==!1)&&t.jqGrid("editGridRow","new",i.formEdit.addOptions),t},cloneElement:function(t,i,r){for(var n=this,a=n.data("settings"),s=n[0].p.colModel,o=void 0===t?e.proxy(a.getRowForEditing,n)():t,l=0;l<s.length;l++)s[l].editable===!0&&s[l].editableOnAdd!==!1&&(s[l].editable===!0&&s[l].editableOnAdd===!1?(void 0===s[l].editoptions&&(s[l].editoptions={}),s[l].editoptions.readonly="readonly"):void 0!==s[l].editoptions&&void 0!==s[l].editoptions.readonly&&delete s[l].editoptions.readonly);return(r===!1||r!==!1&&n.triggerHandler("rupTable_beforeCloneRow",[a,o])!==!1)&&(n.jqGrid("editGridRow","cloned",a.formEdit.addOptions),jQuery.proxy(jQuery.jgrid.fillData,n[0])(o,n[0],a.formEdit.$detailForm,"clone"),jQuery("#id_g",a.formEdit.$detailForm).val("_empty")),n},hideFormErrors:function(e){var t=this,i=t.data("settings");i.formEdit.$feedback.hide(),jQuery(".rup-maint_validateIcon",e).remove(),jQuery(".rup-maint_validateIcon",e).remove(),jQuery("input.error",e).removeClass("error")}}),e.extend(e.jgrid,{createData:function(t,i,r,n){var a,s,o,l,d,u,c,h,p=(r.parent(),this),f=e(p),g=(f.data("settings"),0),m=[],v=!1,b="<label class='CaptionTD'></label>";for(h=1;h<=n;h++)r.append(e("<div>").attr("id","col_"+parseInt(2*(parseInt(h,10)||1),10)).addClass("floating_left_pad_right").width(100/n*.95+"%"));if("_empty"!=t&&(v=e(i).jqGrid("getInd",t)),e(i.p.colModel).each(function(n){if(s=this.name,a=this.id,o=(!this.editrules||this.editrules.edithidden!==!0)&&this.hidden===!0,u=o?"style='display:none'":"","cb"!==s&&"subgrid"!==s&&this.editable===!0&&"rn"!==s){if(v===!1)d="";else if(s==i.p.ExpandColumn&&i.p.treeGrid===!0)d=e("td[role='gridcell']:eq("+n+")",i.rows[v]).text();else{try{d=e.unformat.call(i,e("td[role='gridcell']:eq("+n+")",i.rows[v]),{rowId:t,colModel:this},n)}catch(h){d=this.edittype&&"textarea"==this.edittype?e("td[role='gridcell']:eq("+n+")",i.rows[v]).text():e("td[role='gridcell']:eq("+n+")",i.rows[v]).html()}(!d||"&nbsp;"==d||"&#160;"==d||1==d.length&&160==d.charCodeAt(0))&&(d="")}var f=e.extend({},this.editoptions||{},{id:a,name:s}),_=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),y=parseInt(_.rowpos,10)||g+1,x=parseInt(2*(parseInt(_.colpos,10)||1),10);
if("_empty"==t&&f.defaultValue&&(d=e.isFunction(f.defaultValue)?f.defaultValue.call(p):f.defaultValue),this.edittype||(this.edittype="text"),p.p.autoencode&&(d=e.jgrid.htmlDecode(d)),c=e.jgrid.createEl.call(p,this.edittype,f,d,!1,e.extend({},e.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),""===d&&"checkbox"==this.edittype&&(d=e(c).attr("offval")),""===d&&"select"==this.edittype&&(d=e("option:eq(0)",c).text()),"custom"===this.edittype&&(c=e(c).children()[0]),e(c).addClass("FormElement"),l=e(r).find("tr[rowpos="+y+"]"),_.rowabove){var w=e("<div><span class='contentinfo'>"+_.rowcontent+"</span></div>");e(r).append(w),w[0].rp=y}0===l.length&&(l=e("<div "+u+" rowpos='"+y+"'></div>").addClass("FormData floating_left_pad_right one-column").attr("id","tr_"+s),e(l).append(b),e(r).find("#col_"+x).append(l),l[0].rp=y);var k=e("label",l[0]).attr("for",a).html("undefined"==typeof _.label?i.p.colNames[n]:_.label);k.parent().append(_.elmprefix).append(c).append(_.elmsuffix),m[g]=n,g++}}),g>0){var _=e("<div class='FormData' style='display:none'><span class='CaptionTD'></span><span class='DataTD '><input class='FormElement' id='id_g' type='text' name='"+i.p.id+"_id' value='"+t+"'/></span></div>");_[0].rp=g+999,e(r).append(_),(rp_ge[p.p.id].checkOnSubmit||rp_ge[p.p.id].checkOnUpdate)&&(rp_ge[p.p.id]._savedData[i.p.id+"_id"]=t)}return m},fillDataClientSide:function(t,i,r,n){var a,s,o,l,d,u,c,h=this,p=e(h),f=p.data("settings"),g=h.p.id,m=(e.fn.jqGrid.rup.edit.detail.detailFormId+g,e.fn.jqGrid.rup.edit.detail.detailBodyId+g),v="#"+e.jgrid.jqID(m),b=0;(rp_ge[h.p.id].checkOnSubmit||rp_ge[h.p.id].checkOnUpdate)&&(rp_ge[h.p.id]._savedData={},rp_ge[h.p.id]._savedData[i.p.id+"_id"]=t);var _=i.p.colModel;if("_empty"==t)return p.rup_table("resetForm",f.formEdit.$detailForm),e(_).each(function(){a=this.name,s=void 0!==this.id?this.id:a,d=e.extend({},this.editoptions||{}),l=e("#"+e.jgrid.jqID(s),f.formEdit.$detailForm),0===l.length&&(l=e("[name='"+s+"']",f.formEdit.$detailForm)),l&&l.length&&null!==l[0]&&(u="",d.defaultValue?(u=e.isFunction(d.defaultValue)?d.defaultValue.call(h):d.defaultValue,"checkbox"==l[0].type||"radio"==l[0].type?(c=u.toLowerCase(),c.search(/(false|0|no|off|undefined)/i)<0&&""!==c?(l[0].checked=!0,l[0].defaultChecked=!0,l[0].value=u):(l[0].checked=!1,l[0].defaultChecked=!1)):l.val(u)):"checkbox"==l[0].type||"radio"==l[0].type?(l[0].checked=!1,l[0].defaultChecked=!1,u=e(l).attr("offval")):l[0].type&&"select"==l[0].type.substr(0,6)?"combo"===l.attr("ruptype")?l.rup_combo("reset"):l[0].selectedIndex=0:l.val(u),(rp_ge[h.p.id].checkOnSubmit===!0||rp_ge[h.p.id].checkOnUpdate)&&(rp_ge[h.p.id]._savedData[a]=u))}),void e("#id_g",f.formEdit.$detailForm).val(t);var y=e(i).jqGrid("getInd",t,!0);y&&(e('td[role="gridcell"]',y).each(function(n){if(a=_[n].name,s=void 0!==this.id?this.id:a,"cb"!==a&&"subgrid"!==a&&"rn"!==a&&_[n].editable===!0){if(a==i.p.ExpandColumn&&i.p.treeGrid===!0)o=e(this).text();else try{o=e.unformat.call(i,e(this),{rowId:t,colModel:_[n]},n)}catch(l){o="textarea"==_[n].edittype?e(this).text():e(this).html()}switch(h.p.autoencode&&(o=e.jgrid.htmlDecode(o)),(rp_ge[h.p.id].checkOnSubmit===!0||rp_ge[h.p.id].checkOnUpdate)&&(rp_ge[h.p.id]._savedData[a]=o),a=e.jgrid.jqID(a),_[n].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"==o||"&#160;"==o||1==o.length&&160==o.charCodeAt(0))&&(o=""),e("#"+s,"#"+r).val(o);break;case"select":var d=o.split(",");d=e.map(d,function(t){return e.trim(t)}),e("#"+s+" option","#"+r).each(function(){_[n].editoptions.multiple||e.trim(o)!=e.trim(e(this).text())&&d[0]!=e.trim(e(this).text())&&d[0]!=e.trim(e(this).val())?_[n].editoptions.multiple&&(e.inArray(e.trim(e(this).text()),d)>-1||e.inArray(e.trim(e(this).val()),d)>-1)?this.selected=!0:this.selected=!1:this.selected=!0});break;case"checkbox":if(o=String(o),_[n].editoptions&&_[n].editoptions.value){var u=_[n].editoptions.value.split(":");u[0]==o?(e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("checked",!0),e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("checked",!1),e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("defaultChecked",!1))}else o=o.toLowerCase(),o.search(/(false|0|no|off|undefined)/i)<0&&""!==o?(e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("checked",!0),e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("checked",!1),e("#"+s,"#"+r)[h.p.useProp?"prop":"attr"]("defaultChecked",!1));break;case"custom":try{if(!_[n].editoptions||!e.isFunction(_[n].editoptions.custom_value))throw"e1";_[n].editoptions.custom_value.call(h,e("#"+s,"#"+r),"set",o)}catch(c){"e1"==c?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,c.message,e.jgrid.edit.bClose)}}b++}}),b>0&&e("#id_g",v).val(t))},fillDataServerSide:function(t,i,r){var n=this,a=e(n),s=a.data("settings"),o={},l=void 0!==i?i:s.formEdit.$detailForm;if("_empty"==t)return a.rup_table("resetForm",s.formEdit.$detailForm),e.proxy(e.jgrid.getFormData,n)(o,{}),rp_ge[n.p.id]._savedData=e.rup_utils.unnestjson(o),"clone_clear"!==r&&a.triggerHandler("jqGridAddEditAfterFillData",[i,r]),void e("#id_g",i).val(t);var d=e.extend({success:function(r,o){var d;r.id&&r.id instanceof Object&&r.id instanceof Object&&(r.JPA_ID=r.id,delete r.id),d=e.rup_utils.jsontoarray(r),e.rup_utils.populateForm(d,l),rp_ge[n.p.id]._savedData=e.rup_utils.unnestjson(r),rp_ge[n.p.id]._savedData[s.id+"_id"]=t,e("#id_g",i).val(t),a.triggerHandler("rupTable_afterFormFillDataServerSide",[r,l,o])},error:function(e,t,i){s.$feedback.rup_feedback("option","delay",null),s.$feedback.rup_feedback("set",e.responseText,"error"),s.$feedback.rup_feedback("option","delay",1e3)}},s.formEdit.detailOptions.ajaxDetailOptions);d.url+="/"+a.rup_table("getPkUrl",t),e.when(e.rup_ajax(d)).then(function(e,t,n){a.triggerHandler("jqGridAddEditAfterFillData",[i,r])})},fillData:function(t,i,r,n){var a=this,s=e(a),o=s.data("settings");switch(o.formEdit.editOptions.fillDataMethod){case"clientSide":e.proxy(e.jgrid.fillDataClientSide,a)(t,i,r,n);break;case"serverSide":default:e.proxy(e.jgrid.fillDataServerSide,a)(t,o.formEdit.$detailForm,n)}},getFormData:function(t,i){var r,n=e(this),a=n.data("settings");return r=form2object(a.formEdit.$detailForm[0],null,!1),jQuery.extend(!0,t,r),!0},postIt:function(t,i,r){var n,a,s,o,l,d,u=this,c=u,h=jQuery(c),p=h.data("settings"),f=u.p.id,g=e.fn.jqGrid.rup.edit.detail.detailFormId+f,m=e.fn.jqGrid.rup.edit.detail.detailBodyId+f,v="#"+e.jgrid.jqID(m),b=[!0,"",""],_={},y=u.p.prmNames,x=e(u).triggerHandler("jqGridAddEditBeforeCheckValues",[e("#"+g),r]);x&&"object"==typeof x&&(t=x),e.isFunction(rp_ge[u.p.id].beforeCheckValues)&&(x=rp_ge[u.p.id].beforeCheckValues.call(u,t,e("#"+g),"_empty"==t[u.p.id+"_id"]?y.addoper:y.editoper),x&&"object"==typeof x&&(t=x));for(o in t)if(t.hasOwnProperty(o)&&(b=e.jgrid.checkValues.call(u,t[o],o,u),b[0]===!1))break;if(e.proxy(e.jgrid.setNulls,u)(),b[0]&&(_=e(u).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[u.p.id],t,r]),void 0===_&&e.isFunction(rp_ge[u.p.id].onclickSubmit)&&(_=rp_ge[u.p.id].onclickSubmit.call(u,rp_ge[u.p.id],t)||{}),b=e(u).triggerHandler("jqGridAddEditBeforeSubmit",[t,e("#"+g),r]),void 0===b&&(b=[!0,"",""]),b[0]&&e.isFunction(rp_ge[u.p.id].beforeSubmit)&&(b=rp_ge[u.p.id].beforeSubmit.call(u,t,e("#"+g)))),b[0]){if(rp_ge[u.p.id].processing=!0,e("#sData",v+"_2").addClass("ui-state-active"),s=y.oper,a=y.id,t[s]="_empty"==e.trim(t[u.p.id+"_id"])?y.addoper:y.editoper,t[s]!=y.addoper?t[a]=t[u.p.id+"_id"]:void 0===t[a]&&(t[a]=t[u.p.id+"_id"]),delete t[u.p.id+"_id"],t=e.extend(t,rp_ge[u.p.id].editData,_),u.p.treeGrid===!0){if(t[s]==y.addoper){l=e(u).jqGrid("getGridParam","selrow");var w="adjacency"==u.p.treeGridModel?u.p.treeReader.parent_id_field:"parent_id";t[w]=l}for(d in u.p.treeReader)if(u.p.treeReader.hasOwnProperty(d)){var k=u.p.treeReader[d];if(t.hasOwnProperty(k)){if(t[s]==y.addoper&&"parent_id_field"===d)continue;delete t[k]}}}t[a]=e.jgrid.stripPref(u.p.idPrefix,t[a]);var j=e.extend({url:rp_ge[u.p.id].url||e(u).jqGrid("getGridParam","editurl"),type:rp_ge[u.p.id].mtype,data:e.isFunction(rp_ge[u.p.id].serializeEditData)?rp_ge[u.p.id].serializeEditData.call(u,t):t,complete:function(o,d){var c,h;if(t[a]=u.p.idPrefix+t[a],"success"!=d?(b[0]=!1,b[1]=e(u).triggerHandler("jqGridAddEditErrorTextFormat",[o,r]),e.isFunction(rp_ge[u.p.id].errorTextFormat)?b[1]=rp_ge[u.p.id].errorTextFormat.call(u,o):b[1]=d+" Status: '"+o.statusText+"'. Error code: "+o.status):(b=e(u).triggerHandler("jqGridAddEditAfterSubmit",[o,t,r]),void 0===b&&(b=[!0,"",""]),b[0]&&e.isFunction(rp_ge[u.p.id].afterSubmit)&&(b=rp_ge[u.p.id].afterSubmit.call(u,o,t))),b[0]===!1)e("#"+p.formEdit.feedbackId+">td",v).html(b[1]),e("#"+p.formEdit.feedbackId,v).show();else if(h=e.parseJSON(o.responseText),e.each(u.p.colModel,function(){if(i[this.name]&&this.formatter&&"select"==this.formatter)try{delete i[this.name]}catch(r){}"checkbox"==this.formatter&&void 0==t[this.name]&&(t[this.name]=null),this.formatter&&"checkbox"!==this.formatter&&"select"!==this.formatter&&void 0===t[this.name]&&(t[this.name]=this.formatter.call(e(u),b[2],void 0,h,t[s])),this.formatterOnUpdate&&(t[this.name]=this.formatterOnUpdate.call(e(u),e("#"+g))),this.updateFromDetail&&(t[this.name]=this.updateFromDetail.call(e(u),e("#"+g)))}),t=e.extend(t,i),u.p.autoencode&&e.each(t,function(i,r){t[i]=e.jgrid.htmlDecode(r)}),t[s]==y.addoper?(b[2]||(b[2]=e.jgrid.randId()),t[a]=b[2],rp_ge[u.p.id].closeAfterAdd?(rp_ge[u.p.id].reloadAfterSubmit?e(u).trigger("reloadGrid"):u.p.treeGrid===!0?e(u).jqGrid("addChildNode",b[2],l,t):(e(u).jqGrid("addRowData",b[2],t,rp_ge[u.p.id].addedrow),e(u).jqGrid("setSelection",b[2])),e.jgrid.hideModal("#"+e.jgrid.jqID(IDs.themodal),{gb:"#gbox_"+e.jgrid.jqID(f),jqm:rp_ge[u.p.id].jqModal,onClose:rp_ge[u.p.id].onClose})):rp_ge[u.p.id].clearAfterAdd?(rp_ge[u.p.id].reloadAfterSubmit?e(u).trigger("reloadGrid"):u.p.treeGrid===!0?e(u).jqGrid("addChildNode",b[2],l,t):(e(u).jqGrid("addRowData",b[2],t,rp_ge[u.p.id].addedrow),e(u).jqGrid("setSelection",b[2])),e.proxy(e.jgrid.fillData,u)("_empty",u,g)):rp_ge[u.p.id].reloadAfterSubmit?e(u).trigger("reloadGrid"):u.p.treeGrid===!0?e(u).jqGrid("addChildNode",b[2],l,t):e(u).jqGrid("addRowData",b[2],t,rp_ge[u.p.id].addedrow)):(rp_ge[u.p.id].reloadAfterSubmit?(e(u).trigger("reloadGrid"),rp_ge[u.p.id].closeAfterEdit||setTimeout(function(){e(u).jqGrid("setSelection",t[a])},1e3)):u.p.treeGrid===!0?e(u).jqGrid("setTreeRow",t[a],t):e(u).jqGrid("setRowData",t[a],t),rp_ge[u.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(IDs.themodal),{gb:"#gbox_"+e.jgrid.jqID(f),jqm:rp_ge[u.p.id].jqModal,onClose:rp_ge[u.p.id].onClose})),e.isFunction(rp_ge[u.p.id].afterComplete)&&(n=o,setTimeout(function(){e(u).triggerHandler("jqGridAddEditAfterComplete",[n,t,e("#"+g),r]),rp_ge[u.p.id].afterComplete.call(u,n,t,e("#"+g)),n=null},500)),(rp_ge[u.p.id].checkOnSubmit||rp_ge[u.p.id].checkOnUpdate)&&(e("#"+g).data("disabled",!1),"_empty"!=rp_ge[u.p.id]._savedData[u.p.id+"_id"]))for(c in rp_ge[u.p.id]._savedData)rp_ge[u.p.id]._savedData.hasOwnProperty(c)&&t[c]&&(rp_ge[u.p.id]._savedData[c]=t[c]);rp_ge[u.p.id].processing=!1,e("#sData",v+"_2").removeClass("ui-state-active");try{e(":input:visible","#"+g)[0].focus()}catch(m){}}},e.jgrid.ajaxOptions,rp_ge[u.p.id].ajaxEditOptions);if(j.url||rp_ge[u.p.id].useDataProxy||(e.isFunction(u.p.dataProxy)?rp_ge[u.p.id].useDataProxy=!0:(b[0]=!1,b[1]+=" "+e.jgrid.errors.nourl)),b[0])if(rp_ge[u.p.id].useDataProxy){var C=u.p.dataProxy.call(u,j,"set_"+u.p.id);void 0===C&&(C=[!0,""]),C[0]===!1?(b[0]=!1,b[1]=C[1]||"Error deleting the selected row!"):(j.data.oper==y.addoper&&rp_ge[u.p.id].closeAfterAdd&&e.jgrid.hideModal("#"+e.jgrid.jqID(IDs.themodal),{gb:"#gbox_"+e.jgrid.jqID(f),jqm:rp_ge[u.p.id].jqModal,onClose:rp_ge[u.p.id].onClose}),j.data.oper==y.editoper&&rp_ge[u.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(IDs.themodal),{gb:"#gbox_"+e.jgrid.jqID(f),jqm:rp_ge[u.p.id].jqModal,onClose:rp_ge[u.p.id].onClose}))}else e.ajax(j)}b[0]===!1&&(e("#"+p.formEdit.feedbackId+">td",v).html(b[1]),e("#"+p.formEdit.feedbackId,v).show())},setNulls:function(){var t=this;e.each(t.p.colModel,function(e,t){t.editoptions&&t.editoptions.NullIfEmpty===!0&&postdata.hasOwnProperty(t.name)&&""===postdata[t.name]&&(postdata[t.name]="null")})},compareData:function(e,t){var i,r=!1,n=jQuery.rup_utils.unnestjson(e),a=jQuery.rup_utils.unnestjson(t);for(i in n)if(n.hasOwnProperty(i)&&String(n[i])!==String(a[i])){r=!0;break}return r},checkUpdates:function(t,i){var r=e(this),n=r.data("settings"),a=this,s=a.p.id,o=(e.fn.jqGrid.rup.edit.detail.detailFormId+s,e.fn.jqGrid.rup.edit.detail.detailBodyId+s),l=("#"+e.jgrid.jqID(o),!0),d=!1;if(rp_ge[a.p.id].checkOnUpdate){postdata={},t={},e.proxy(e.jgrid.getFormData,a)(postdata,t),newData=e.extend({},postdata,t),n.formEdit.addEditOptions.defaultCompareData===!0&&(d=e.proxy(e.jgrid.compareData,a)(newData,rp_ge[a.p.id]._savedData));var u=jQuery.Event("rupTable_formEditCompareData");u.isDifferent=d,r.triggerHandler(u,[rp_ge[a.p.id]._savedData,newData]),u.isDifferent&&(e.rup_messages("msgConfirm",{message:e.rup.i18nParse(e.rup.i18n.base,"rup_table.saveAndContinue"),title:e.rup.i18nParse(e.rup.i18n.base,"rup_table.changes"),OKFunction:function(){e(this).dialog("destroy").remove(),jQuery.isFunction(i)&&jQuery.proxy(i,r)()}}),l=!1)}return l},restoreInline:function(t){var i,r=this;if("_empty"!==t&&"undefined"!=typeof r.p.savedRow&&r.p.savedRow.length>0&&e.isFunction(e.fn.jqGrid.restoreRow))for(i=0;i<r.p.savedRow.length;i++)if(r.p.savedRow[i].id==t){e(r).jqGrid("restoreRow",t);break}},getCurrPos:function(){var t=this,i=e(this),r=i.data("settings"),n=t.p.id,a=(e.fn.jqGrid.rup.edit.detail.detailFormId+n,e.fn.jqGrid.rup.edit.detail.detailBodyId+n),s=("#"+e.jgrid.jqID(a),e(t).jqGrid("getDataIDs")),o=e("#id_g",r.formEdit.$detailForm).val(),l=void 0!==o&&"_empty"!==o?o:i.jqGrid("getGridParam","selrow");return pos=e.inArray(l,s),[pos,s]},updateNav:function(t,i){var r,n=e(this);void 0!==i&&void 0!==i[1]&&(r=i[1].length-1,0===t?e("#pData",frmtb+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?e("#pData",frmtb+"_2").addClass("ui-state-disabled"):e("#pData",frmtb+"_2").removeClass("ui-state-disabled"),t==r?e("#nData",frmtb+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?e("#nData",frmtb+"_2").addClass("ui-state-disabled"):e("#nData",frmtb+"_2").removeClass("ui-state-disabled")),n.rup_table("updateDetailPagination")}}),e.jgrid.extend({editGridRow:function(t,i){return i=e.extend({top:0,left:0,width:300,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},e.jgrid.edit,i||{}),rp_ge[e(this)[0].p.id]=i,this.each(function(){function r(){return u={},c={},e("#"+d.formEdit.feedbackId,b).hide(),e.proxy(e.jgrid.getFormData,o)(u),"_empty"==u[o.p.id+"_id"]?e.proxy(e.jgrid.postIt,o)(u,c,d.opermode):i.checkOnSubmit===!0?(h=e.extend({},u,c),p=compareData(h,rp_ge[o.p.id]._savedData),p?(e("#"+m).data("disabled",!0),e(".confirm","#"+e.jgrid.jqID(_.themodal)).show()):e.proxy(e.jgrid.postIt,o)(u,c,d.opermode)):e.proxy(e.jgrid.postIt,o)(u,c,d.opermode),!1}function n(){if(l.data("tmp.formEditSaveType","SAVE"),!r())return!1}function a(){if(l.data("tmp.formEditSaveType","SAVE_REPEAT"),!r())return!1}function s(){return!!e.proxy(e.jgrid.checkUpdates,o)(c,function(){e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:i.jqModal,onClose:rp_ge[o.p.id].onClose})})&&(e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:i.jqModal,onClose:rp_ge[o.p.id].onClose}),!1)}var o=this,l=e(o),d=l.data("settings");if(o.grid&&t){var u,c,h,p,f,g=o.p.id,m=e.fn.jqGrid.rup.edit.detail.detailFormId+g,v=e.fn.jqGrid.rup.edit.detail.detailBodyId+g,b="#"+e.jgrid.jqID(v),_={themodal:e.fn.jqGrid.rup.edit.detail.detailDivId+g,modalhead:"edithd"+g,modalcontent:"editcnt"+g,scrollelm:m},y=!!e.isFunction(rp_ge[o.p.id].beforeShowForm)&&rp_ge[o.p.id].beforeShowForm,x=!!e.isFunction(rp_ge[o.p.id].afterShowForm)&&rp_ge[o.p.id].afterShowForm,w=!!e.isFunction(rp_ge[o.p.id].beforeInitData)&&rp_ge[o.p.id].beforeInitData,k=!!e.isFunction(rp_ge[o.p.id].onInitializeForm)&&rp_ge[o.p.id].onInitializeForm,j=!0,C=1,D=0;m=e.jgrid.jqID(m),"new"===t?(t="_empty",f="add",i.caption=rp_ge[o.p.id].addCaption):"cloned"===t?(i.caption=rp_ge[o.p.id].addCaption,t="_empty",f="clone_clear"):(i.caption=rp_ge[o.p.id].editCaption,f="edit"),d.opermode=f,i.recreateForm===!0&&d.formEdit.detailFormCreated===!0&&d.formEdit.$detailFormDiv.remove();var S=!0;if(i.checkOnUpdate&&i.jqModal&&!i.modal&&(S=!1),d.formEdit.detailFormCreated===!0){if(_.themodal=d.formEdit.$detailFormDiv.attr("id"),j=e(o).triggerHandler("jqGridAddEditBeforeInitData",[d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m),f]),void 0===j&&(j=!0),j&&w&&(j=w.call(o,d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m))),j===!1)return;e.proxy(e.jgrid.restoreInline,o)(t),e(".ui-jqdialog-title","#"+e.jgrid.jqID(_.modalhead)).html(i.caption),e("#"+d.formEdit.feedbackId,b).hide(),rp_ge[o.p.id].topinfo?(e(".topinfo",b).html(rp_ge[o.p.id].topinfo),e(".tinfo",b).show()):e(".tinfo",b).hide(),rp_ge[o.p.id].bottominfo?(e(".bottominfo",b+"_2").html(rp_ge[o.p.id].bottominfo),e(".binfo",b+"_2").show()):e(".binfo",b+"_2").hide(),e.proxy(e.jgrid.fillData,o)(t,o,m,f),"_empty"!=t&&rp_ge[o.p.id].viewPagerButtons?e("#pData, #nData",b+"_2").show():e("#pData, #nData",b+"_2").hide(),rp_ge[o.p.id].processing===!0&&(rp_ge[o.p.id].processing=!1,e("#sData",b+"_2").removeClass("ui-state-active")),(d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m)).data("disabled")===!0&&(e(".confirm","#"+e.jgrid.jqID(_.themodal)).hide(),(d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m)).data("disabled",!1)),e(o).triggerHandler("jqGridAddEditBeforeShowForm",[d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m),f]),y&&y.call(o,d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m)),e("#"+e.jgrid.jqID(_.themodal)).data("onClose",rp_ge[o.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(_.themodal),{gbox:"#gbox_"+e.jgrid.jqID(g),jqm:i.jqModal,jqM:!1,overlay:i.overlay,modal:i.modal}),S||e(".jqmOverlay").click(function(){return!!e.proxy(e.jgrid.checkUpdates,o)(c)&&(e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:i.jqModal,onClose:rp_ge[o.p.id].onClose}),!1)}),e(o).triggerHandler("jqGridAddEditAfterShowForm",[d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m),f]),x&&x.call(o,d.formEdit.$detailForm?d.formEdit.$detailForm:e("#"+m))}else{var T=isNaN(i.dataheight)?i.dataheight:i.dataheight+"px",I=(isNaN(i.datawidth)?i.datawidth:i.datawidth+"px",e(jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_table.templates.detailForm.form",m,T)).data("disabled",!1)),P=e(jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_table.templates.detailForm.body",v)),j=e(o).triggerHandler("jqGridAddEditBeforeInitData",[e("#"+m),f]);if("undefined"==typeof j&&(j=!0),j&&w&&(j=w.call(o,e("#"+m))),j===!1)return;e.proxy(e.jgrid.restoreInline,o)(t),e(o.p.colModel).each(function(){var e=this.formoptions;C=Math.max(C,e?e.colpos||0:0),D=Math.max(D,e?e.rowpos||0:0)}),e(I).append(P),flr=e(jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_table.templates.detailForm.errorFeedback",d.formEdit.feedbackId)),flr[0].rp=0,e(P).append(flr),flr=e("<div class='tinfo' style='display:none'><span class='topinfo'>"+rp_ge[o.p.id].topinfo+"</span></div>"),flr[0].rp=0,e(P).append(flr);var A="rtl"==o.p.direction,M=A?"nData":"pData",E=A?"pData":"nData";void 0===d.formEdit.$detailForm?(d.formEdit.$detailForm=P.parent(),e.proxy(e.jgrid.createData,o)(t,o,P,C)):d.formEdit.$detailForm.append(e("<div class='FormData' style='display:none'><span class='CaptionTD'></span><span class='DataTD '><input class='FormElement' id='id_g' type='text' name='"+o.p.id+"_id' value='"+t+"'/></span></div>")),I=d.formEdit.$detailForm[0],e.proxy(e.jgrid.fillData,o)(t,o,m,f);var $="<a href='javascript:void(0)' id='"+M+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",F="<a href='javascript:void(0)' id='"+E+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",O="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+i.bSubmit+"</a>",q="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+i.bCancel+"</a>",R="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+v+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(A?F+$:$+F)+"</td><td class='EditButton'>"+O+q+"</td></tr>";if(R+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+rp_ge[o.p.id].bottominfo+"</td></tr>",R+="</tbody></table>",d.formEdit.ownFormEdit===!1&&D>0)for(var N=1;N<=C;N++){var L=P.find("#col_"+parseInt(2*(parseInt(N,10)||1),10)),z=[];e.each(L.find("div"),function(e,t){z[e]=t}),z.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(z,function(e,t){L.append(t)})}i.gbox="#gbox_"+e.jgrid.jqID(g);var H=!1;i.closeOnEscape===!0&&(i.closeOnEscape=!1,H=!0);var G,B=l.rup_table("createDetailNavigation");if(d.formEdit.ownFormEdit===!0)d.formEdit.$detailFormDiv.is(":visible")||d.formEdit.$detailFormDiv.show(),d.formEdit.$detailFormDiv.rup_dialog(e.extend({},{type:e.rup.dialog.DIV,autoOpen:!1,modal:!0,resizable:i.resize,title:i.caption,width:i.width},d.formEdit.dialogOptions)),d.formEdit.detailFormCreated=!0,d.formEdit.$navigationBar.append(B),d.formEdit.$saveButton.length>0&&d.formEdit.$saveButton.button().click(function(){jQuery.proxy(n,l)()}),d.formEdit.$saveRepeatButton.length>0&&d.formEdit.$saveRepeatButton.button().click(function(){jQuery.proxy(a,l)()}),d.formEdit.$cancelLink.length>0&&d.formEdit.$cancelLink.on("click",function(){jQuery.proxy(s,l)()}),jQuery.isFunction(i.onClose)||(i.onClose=s),jQuery(".ui-dialog-titlebar-close, a:has(#closeText_"+d.formEdit.$detailFormDiv.first()[0].id+")",d.formEdit.$detailFormDiv.parent()).off("click").on("click",function(e){i.onClose.call(e)}),_.themodal=d.formEdit.$detailFormDiv.attr("id");else{var G=B.after(I),Q={text:e.rup.i18nParse(e.rup.i18n.base,"rup_global.save"),click:n},W={text:e.rup.i18nParse(e.rup.i18n.base,"rup_global.save_repeat"),click:a},U={text:e.rup.i18nParse(e.rup.i18n.base,"rup_global.cancel"),btnType:e.rup.dialog.LINK,click:s};i.buttons=[Q,W,U],i.onClose=s,e.jgrid.createModal(_,G,i,"#gview_"+e.jgrid.jqID(o.p.id),e("#gbox_"+e.jgrid.jqID(o.p.id))[0]),d.formEdit.detailFormCreated=!0}void 0===d.formEdit.$detailFormDiv&&(d.formEdit.$detailFormDiv=e("#"+e.jgrid.jqID(_.themodal))),A&&(e("#pData, #nData",b+"_2").css("float","right"),e(".EditButton",b+"_2").css("text-align","left")),rp_ge[o.p.id].topinfo&&e(".tinfo",b).show(),rp_ge[o.p.id].bottominfo&&e(".binfo",b+"_2").show(),G=null,R=null,e("#"+e.jgrid.jqID(_.themodal)).keydown(function(t){var r=t.target;if(e("#"+m).data("disabled")===!0)return!1;if(rp_ge[o.p.id].savekey[0]===!0&&t.which==rp_ge[o.p.id].savekey[1]&&"TEXTAREA"!=r.tagName)return e("#sData",b+"_2").trigger("click"),!1;if(27===t.which)return!!e.proxy(e.jgrid.checkUpdates,o)(c)&&(H&&e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:rp_ge[o.p.id].onClose}),!1);if(rp_ge[o.p.id].navkeys[0]===!0){if("_empty"==e("#id_g",b).val())return!0;if(t.which==rp_ge[o.p.id].navkeys[1])return e("#pData",b+"_2").trigger("click"),!1;if(t.which==rp_ge[o.p.id].navkeys[2])return e("#nData",b+"_2").trigger("click"),!1}}),i.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span","#"+e.jgrid.jqID(_.themodal)).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(_.themodal)).unbind("click").click(function(){return!!e.proxy(e.jgrid.checkUpdates,o)(c)&&(e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:i.jqModal,onClose:rp_ge[o.p.id].onClose}),!1)})),i.saveicon=e.extend([!0,"left","ui-icon-disk"],i.saveicon),i.closeicon=e.extend([!0,"left","ui-icon-close"],i.closeicon),i.saveicon[0]===!0&&e("#sData",b+"_2").addClass("right"==i.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.saveicon[2]+"'></span>"),i.closeicon[0]===!0&&e("#cData",b+"_2").addClass("right"==i.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.closeicon[2]+"'></span>"),e(o).triggerHandler("jqGridAddEditInitializeForm",[d.formEdit.$detailForm,f]),k&&k.call(o,d.formEdit.$detailForm),"_empty"!=t&&rp_ge[o.p.id].viewPagerButtons?e("#pData,#nData",b+"_2").show():e("#pData,#nData",b+"_2").hide(),e(o).triggerHandler("jqGridAddEditBeforeShowForm",[d.formEdit.$detailForm,f]),y&&y.call(o,d.formEdit.$detailForm),e("#"+e.jgrid.jqID(_.themodal)).data("onClose",rp_ge[o.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(_.themodal),{gbox:"#gbox_"+e.jgrid.jqID(g),jqm:i.jqModal,overlay:i.overlay,modal:i.modal}),S||e(".jqmOverlay").click(function(){return!!e.proxy(e.jgrid.checkUpdates,o)(c)&&(e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(g),jqm:i.jqModal,onClose:rp_ge[o.p.id].onClose}),!1)}),e(o).triggerHandler("jqGridAddEditAfterShowForm",[d.formEdit.$detailForm,f]),x&&x.call(o,d.formEdit.$detailForm),e(".fm-button","#"+e.jgrid.jqID(_.themodal)).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}var V=e.proxy(e.jgrid.getCurrPos,o)();l.rup_table("updateDetailPagination"),e.proxy(e.jgrid.updateNav,o)(V[0],V[1].length-1)}})}}),e.fn.jqGrid.rup={},e.fn.jqGrid.rup.edit={detail:{detailDivId:"detailDiv_",detailBodyId:"detailBody_",detailFormId:"detailForm_"},navigation:{forward:{id:"#nData"},back:{id:"#pData"}}},jQuery.fn.rup_table.plugins.formEdit={},jQuery.fn.rup_table.plugins.formEdit.defaults={toolbar:{defaultButtons:{add:!0,edit:!0,cancel:!1,save:!1,clone:!0,"delete":!0,filter:!1}},contextMenu:{defaultRowOperations:{add:!0,edit:!0,cancel:!1,save:!1,clone:!0,"delete":!0,filter:!1}},formEdit:{autoselectFirstRecord:!0,ownFormEdit:!1,detailFormCreated:!1,dialogOptions:{}}},jQuery.fn.rup_table.plugins.formEdit.defaults.formEdit.deleteOptions={bSubmit:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_message.aceptar"),cancelicon:[!0,"left","icono_cancelar"],delicon:[!1],linkStyleButtons:["#eData"],msg:'<div id="rup_msgDIV_msg_icon" class="rup-message_icon-confirm"></div><div id="rup_msgDIV_msg" class="rup-message_msg-confirm white-space-normal">'+jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.deleteAll")+"</div>",mtype:"DELETE",width:320,reloadAfterSubmit:!1,resize:!1,useDataProxy:!0},jQuery.fn.rup_table.plugins.formEdit.defaults.formEdit.addEditOptions={bSubmit:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_message.aceptar"),closeicon:[!1],checkOnUpdate:!0,defaultCompareData:!0,fillDataMethod:"serverSide",saveicon:[!1],linkStyleButtons:["#cData"],msg:'<div id="rup_msgDIV_msg_icon" class="rup-message_icon-confirm"></div><div id="rup_msgDIV_msg" class="rup-message_msg-confirm white-space-normal">'+jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.deleteAll")+"</div>",mtype:"PUT",reloadAfterSubmit:!1,resize:!1,viewPagerButtons:!1,width:569,ajaxEditOptions:{type:"PUT",dataType:"json",processData:!1}},jQuery.fn.rup_table.plugins.formEdit.defaults.formEdit.addOptions={mtype:"POST",ajaxEditOptions:{type:"POST"}},jQuery.fn.rup_table.plugins.formEdit.defaults.formEdit.editOptions={mtype:"PUT",ajaxEditOptions:{type:"PUT"}},jQuery.fn.rup_table.plugins.formEdit.defaults.formEdit.detailOptions={ajaxDetailOptions:{dataType:"json",type:"GET",async:!1,contentType:"application/json"}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("inlineEdit",{loadOrder:7,preConfiguration:function(e){var t=this;t.rup_table("preConfigureInlineEdit",e)},postConfiguration:function(e){var t=this;t.rup_table("postConfigureInlineEdit",e)}}),jQuery.fn.rup_table("extend",{preConfigureInlineEdit:function(t){var i,r=e(this),n=r[0];t.editable=!0,void 0===t.inlineEdit.addEditOptions.url&&(t.inlineEdit.addEditOptions.url=t.baseUrl),t.inlineEdit.deleteOptions.ajaxDelOptions=e.extend(!0,t.inlineEdit.deleteOptions.ajaxDelOptions,{success:function(i,n,a){r.triggerHandler("rupTableAfterDelete",[i,n,a]),r.rup_table("showFeedback",t.$feedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.deletedOK"),"ok")}}),i=t.inlineEdit.beforeSend,t.inlineEdit.addEditOptions.restoreAfterError=!1,t.inlineEdit.addEditOptions.errorfunc=function(e,i,n,a,s){var o;if(406===i.status&&""!==i.responseText)try{o=jQuery.parseJSON(i.responseText),o.rupErrorFields&&r.rup_table("showServerValidationFieldErrors",t.inlineEdit.$inlineForm,o)}catch(l){r.rup_table("showFeedback",t.$feedback,i.responseText,"error")}},t.inlineEdit.addEditOptions.ajaxRowOptions.beforeSend=function(n,a){return jQuery.extend(!0,a,{validate:t.validate,beforeSend:jQuery.isFunction(i)?i:null,feedback:t.$feedback}),t.inlineEdit.$inlineForm.on("rupValidate_formValidationError.inlineEditing",function(i,n){r.off("rupValidate_formValidationError.inlineEditing"),e("#lui_"+e.jgrid.jqID(t.id)).hide()}),t.inlineEdit.$inlineForm.rup_form("ajaxSubmit",a),!1},t.inlineEdit.addOptions=e.extend(!0,{},t.inlineEdit.addEditOptions,t.inlineEdit.addOptions),t.inlineEdit.editOptions=e.extend(!0,{},t.inlineEdit.addEditOptions,t.inlineEdit.editOptions),t.multiboxonly=!0,t.getRowForEditing=function(){var e=this,t=e.jqGrid("getGridParam","selrow");return null!==t&&t},t.core.operations={add:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.new"),icon:n._ADAPTER.CONST.core.operations.defaultOperations.add.icon,enabled:function(){var e=this;return 0===jQuery("tr[editable='1']",e).length},callback:function(e,t){var i=this;i.rup_table("addRow")}},edit:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.modify"),icon:n._ADAPTER.CONST.core.operations.defaultOperations.edit.icon,enabled:function(){var e,t=this,i=t.jqGrid("getGridParam","selrow");return i=null!==i&&i,i=i&&i.indexOf("jqg")===-1,e=0===jQuery("tr[editable='1'].jqgrid-new-row",t).length,i&&e},callback:function(e,i){r.rup_table("editRow",jQuery.proxy(t.getRowForEditing,r)())}},save:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.save"),icon:n._ADAPTER.CONST.core.operations.defaultOperations.save.icon,enabled:function(){var e=this;return jQuery("tr[editable='1']",e).length>0},callback:function(e,t){r.rup_table("saveRow")}},clone:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.clone"),icon:n._ADAPTER.CONST.core.operations.defaultOperations.clone.icon,enabled:function(){var e,t=this,i=t.jqGrid("getGridParam","selrow");return i=null!==i&&i,i=i&&i.indexOf("jqg")===-1,e=0===jQuery("tr[editable='1'].jqgrid-new-row",t).length,i&&e},callback:function(e,t){jQuery("tr[editable='1']",r).length>0&&r.rup_table("restoreRow"),r.rup_table("cloneRow")}},cancel:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.cancel"),icon:n._ADAPTER.CONST.core.operations.defaultOperations.cancel.icon,enabled:function(){var e=this;return jQuery("tr[editable='1']",e).length>0},callback:function(e,t){r.rup_table("restoreRow")}},"delete":{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.delete"),icon:n._ADAPTER.CONST.core.operations.defaultOperations["delete"].icon,enabled:function(){var e=this,t=e.jqGrid("getGridParam","selrow");
return t=null!==t&&t.indexOf("jqg")===-1&&t,jQuery("tr[editable='1']:not(.jqgrid-new-row)",e).length>0||t},callback:function(e,t){r.rup_table("deleteRow")}}},r.on({"jqGridInlineErrorSaveRow.rupTable.inlineEditing":function(e,i,n){jQuery(r.getInd(i,!0)).attr("id",t.inlineEditingRow),r.rup_table("setSelection",t.inlineEditingRow)},"jqGridInlineAfterSaveRow.rupTable.inlineEditing":function(i,n,a,s,o){jQuery("#"+jQuery.jgrid.jqID(n)+".jqgrid-new-row",r).removeClass("jqgrid-new-row"),"edit"===o.oper?r.rup_table("showFeedback",t.$feedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.modifyOK"),"ok"):r.rup_table("showFeedback",t.$feedback,e.rup.i18nParse(e.rup.i18n.base,"rup_table.insertOK"),"ok")},"jqGridInlineEditRow.rupTable.inlineEditing":function(t,i){function r(e,t){return c.on("jqGridInlineAfterSaveRow.inlineEditing.addNextRow",function(e){c.rup_table("addRow"),jQuery(c.getInd(c[0].p.selrow,!0)).find(":not([readonly]):focusable:first").focus(),c.off("jqGridInlineAfterSaveRow.inlineEditing.addNextRow")}),c.rup_table("saveRow",e),!0}function n(e,t){var i,r,n,a,s,o;return i=c.getDataIDs(),r=c.getInd(e)-1,n=parseInt(c.rup_table("getGridParam","rowNum"),10),r!==n-1?(c.on("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected",function(e,i){o=void 0===t||t===-1?jQuery(c.jqGrid("getInd",i,!0)).find("td :not([readonly]):focusable:first"):jQuery(c.jqGrid("getInd",i,!0)).find("td:eq("+t+") :not([readonly]):focusable:first"),o.trigger("focus"),c.off("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected")}),jQuery(c.getInd(i[r+1],!0)).trigger("click"),!1):(a=parseInt(c.rup_table("getGridParam","page"),10),s=parseInt(Math.ceil(c.rup_table("getGridParam","records")/c.rup_table("getGridParam","rowNum")),10),!(a<s)||(c.trigger("reloadGrid",[{page:a+1}]),c.on("jqGridAfterLoadComplete.rupTable.inlineEdit",function(e,r){i=c.getDataIDs(),c.on("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected",function(e,i){o=void 0===t||t===-1?jQuery(c.jqGrid("getInd",i,!0)).find("td :not([readonly]):focusable:first"):jQuery(c.jqGrid("getInd",i,!0)).find("td:eq("+t+") :not([readonly]):focusable:first"),o.trigger("focus"),c.off("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected")}),jQuery(c.getInd(i[0],!0)).trigger("click"),c.off("jqGridAfterLoadComplete.rupTable.inlineEdit")}),!1))}function a(e,t){var i,r,n,a;return i=c.getDataIDs(),r=c.getInd(e)-1,0!==r?(c.on("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected",function(e,i){a=void 0===t||t===-1?jQuery(c.jqGrid("getInd",i,!0)).find("td :not([readonly]):focusable:last"):jQuery(c.jqGrid("getInd",i,!0)).find("td:eq("+t+") :not([readonly]):focusable:last"),a.trigger("focus"),c.off("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected")}),jQuery(c.getInd(i[r-1],!0)).trigger("click"),!1):(n=parseInt(c.rup_table("getGridParam","page"),10),n>1?(c.trigger("reloadGrid",[{page:n-1}]),c.on("jqGridAfterLoadComplete.rupTable.inlineEdit",function(e,r){i=c.getDataIDs(),c.on("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected",function(e,i){a=void 0===t||t===-1?jQuery(c.jqGrid("getInd",i,!0)).find("td :not([readonly]):focusable:last"):jQuery(c.jqGrid("getInd",i,!0)).find("td:eq("+t+") :not([readonly]):focusable:last"),a.trigger("focus"),c.off("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected")}),jQuery(c.getInd(i[i.length-1],!0)).trigger("click"),c.off("jqGridAfterLoadComplete.rupTable.inlineEdit")}),!1):void 0)}var s,o,l,d,u=this,c=e(u),h=c.data("settings"),p=u.p.colModel,f=c.jqGrid("getInd",i,!0);e("td[role='gridcell']",f).each(function(t){if(s=p[t],s.editable===!0&&(o=s.name,d=e("[name='"+o+"']",f),d.attr({title:u.p.colNames[t],"class":"editable customelement"}),void 0!==s.rupType)){switch(l=s.editoptions,s.rupType){case"combo":l=e.extend({menuWidth:d.width()},l,{width:"100%"})}switch(d["rup_"+s.rupType](l),s.rupType){case"date":d.css("width","88%")}}}),h.inlineEditingRow=i,c.data("initialFormData",h.inlineEdit.$inlineForm.rup_form("formSerialize")),jQuery(f).on({keydown:function(t){if(27===t.keyCode)return c.rup_table("restoreRow",e(this).attr("id"),h.afterrestorefunc),!1;if(13===t.keyCode){var i=t.target;return"TEXTAREA"==i.tagName||(c.rup_table("saveRow"),!1)}}}),jQuery("td",jQuery(f)).on({keydown:function(t){var i,r;return 38===t.keyCode?(r=e.map(c.rup_table("getColModel"),function(e,t){return e.name}),i=jQuery.inArray(e(this).attr("aria-describedby").split(h.id+"_")[1],r),a(e(f).attr("id"),i),!1):40===t.keyCode?(r=e.map(c.rup_table("getColModel"),function(e,t){return e.name}),i=jQuery.inArray(e(this).attr("aria-describedby").split(h.id+"_")[1],r),n(e(f).attr("id"),i),!1):void 0}}),jQuery("input,select",jQuery(f)).on({focus:function(e){}}),jQuery("input, textarea, select,a.rup_combo",jQuery(f)).filter(".editable:visible:last").on({keydown:function(e){if(9==e.keyCode&&!e.shiftKey)if(jQuery(f).attr("id").indexOf("jqg")!==-1){if(r(jQuery(f).attr("id"))===!1)return!1}else if(n(jQuery(f).attr("id"))===!1)return!1}}),jQuery("input, textarea, select,a.rup_combo",jQuery(f)).filter(".editable:visible:first").on({keydown:function(e){var t,r,n;if(9==e.keyCode&&e.shiftKey){if(t=c.getDataIDs(),r=c.getInd(i)-1,0!==r)return c.on("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected",function(e,t){jQuery(c.jqGrid("getInd",t,!0)).find("td :focusable:last").trigger("focus"),c.off("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected")}),jQuery(c.getInd(t[r-1],!0)).trigger("click"),!1;if(n=parseInt(c.rup_table("getGridParam","page"),10),n>1)return c.trigger("reloadGrid",[{page:n-1}]),c.on("jqGridAfterLoadComplete.rupTable.inlineEdit",function(e,i){t=c.getDataIDs(),c.on("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected",function(e,t){jQuery(c.jqGrid("getInd",t,!0)).find("td :focusable:last").trigger("focus"),c.off("jqGridInlineEditRow.rupTable.inlineEditing.tabKeyNav.cellSelected")}),jQuery(c.getInd(t[t.length-1],!0)).trigger("click"),c.off("jqGridAfterLoadComplete.rupTable.inlineEdit")}),!1}}})},"jqGridDblClickRow.rupTable.inlineEdit":function(e,i,n,a){return!t.inlineEdit.autoEditRow&&void r.rup_table("editRow",i)},"jqGridInlineAfterRestoreRow.inlineEditing.processRupObjects":function(t,i){var r=this,n=e(this),a=r.p.savedRow[0];n.rup_table("restoreInlineRupFields",i,a)},"rupTable_beforeSaveRow.inlineEditing.processRupObjects":function(t,i,r){var n,a,s,o=this,l=e(this);e(o.p.colModel).each(function(t){n=e(o.rows.namedItem(i)),a=n.find("td:eq("+t+")"),s=a.find("[ruptype]"),"combo"===s.attr("ruptype")&&void 0!==l.data("rup.table.formatter")&&(l.data("rup.table.formatter")[i][this.name]["rup_"+s.attr("rupType")]={label:s.rup_combo("label"),value:s.rup_combo("getRupValue")})})},"jqGridInlineSuccessSaveRow.rupTable.inlineEditing.processRupObjects":function(t,i,r,n){var a=jQuery.parseJSON(i.responseText),s=this,o=e(s);return o.rup_table("restoreInlineRupFields",r,a),[!0,a,r]},"jqGridBeforeSelectRow.rupTable.inlineEditing":function(t,i,r){var n=e(this),a=n.data("settings"),s=e("tr[editable=1]",n);if(s.length>0&&void 0!==a.inlineEditingRow&&a.inlineEditingRow!==i&&n.data("initialFormData")!==a.inlineEdit.$inlineForm.rup_form("formSerialize")){n.on("jqGridInlineSuccessSaveRow.inlineEditing_beforeSelectRow",function(e){n.rup_table("setSelection",i),n.off("jqGridInlineSuccessSaveRow.inlineEditing_beforeSelectRow")});for(var o=0;o<s.length;o++)n.rup_table("saveRow",s[0].id);return!1}return!0},"jqGridSelectRow.rupTable.inlineEditing":function(i,r,n,a){var s,o=e(this);s=e("tr[editable=1]",o),s.length>0&&jQuery.each(e("tr[editable=1]",o),function(t,i){e(i).attr("id")!==r&&o.jqGrid("restoreRow",e(i).attr("id"))}),t.inlineEdit.autoEditRow&&o.rup_table("editRow",r)},"rupTable_checkOutOfGrid.rupTable.inlineEditing":function(t,i){var r=e(this),n=r.data("settings"),a=n.core.operations.save;jQuery.proxy(a.enabled,r)()&&jQuery.proxy(a.callback,r)(r,t)}}),t.inlineEdit.autoEditRow&&r.on({"jqGridCellSelect.rupTable.inlineEditing":function(t,i,r,n,a){var s=e(this);r!==-1&&s.on("jqGridInlineEditRow.rupTable.inlineEditing.cellSelected",function(e,t){jQuery(s.jqGrid("getInd",i,!0)).find("td:eq("+r+") :focusable:first").trigger("focus"),s.off("jqGridInlineEditRow.rupTable.inlineEditing.cellSelected")})}})},postConfigureInlineEdit:function(t){var i=this,r="inlineForm_"+t.id,n=e("<form>").attr({id:"inlineForm_"+t.id});i.wrap(n),t.inlineEdit.$inlineForm=e("#"+r),t.inlineEdit.$inlineForm.on("rupValidate_formValidationError.inlineEditing",function(e,r){var n=i.jqGrid("getGridParam","selrow");jQuery(i.getInd(n,!0)).attr("id",t.inlineEditingRow),i.rup_table("setSelection",t.inlineEditingRow)}),i.on({"jqGridLoadComplete.rupTable.formEditing":function(t){var i,r=e(this),n=r.data("settings");n.inlineEdit.autoselectFirstRecord&&(i=jQuery.proxy(jQuery.jgrid.getCurrPos,r[0])(),r.rup_table("highlightRowAsSelected",jQuery(r.jqGrid("getInd",i[1][0],!0))))}})}}),jQuery.fn.rup_table("extend",{addRow:function(t){for(var i=this,r=i.data("settings"),n=i[0].p.colModel,a={addRowParams:e.extend({},r.inlineEdit.addOptions,t)},s=0;s<n.length;s++)n[s].editable===!0&&n[s].editableOnAdd!==!1&&(n[s].editable===!0&&n[s].editableOnAdd===!1?(void 0===n[s].editoptions&&(n[s].editoptions={}),n[s].editoptions.readonly="readonly"):void 0!==n[s].editoptions&&void 0!==n[s].editoptions.readonly&&delete n[s].editoptions.readonly);return i.triggerHandler("rupTable_beforeAddRow",[a])!==!1&&i.jqGrid("addRow",e.extend({},a)),i},cloneRow:function(e,t){var i,r,n=this,a=n.data("settings"),s=void 0===e?n.jqGrid("getGridParam","selrow"):e,o=n[0].p.colModel;if(n.triggerHandler("rupTable_beforeCloneRow",[a,e])!==!1){i=n.jqGrid("getRowData",s),n.rup_table("addRow"),r=jQuery("tbody:first tr[id*='jqg']",n).attr("id"),n.jqGrid("setRowData",r,i),jQuery(n.jqGrid("getInd",r,!0)).attr("editable","0");for(var l=0;l<o.length;l++)o[l].editable===!0&&o[l].editableOnAdd!==!1&&(o[l].editable===!0&&o[l].editableOnAdd===!1?(void 0===o[l].editoptions&&(o[l].editoptions={}),o[l].editoptions.readonly="readonly"):void 0!==o[l].editoptions&&void 0!==o[l].editoptions.readonly&&delete o[l].editoptions.readonly);n.rup_table("editRow",r,{},!0)}},editRow:function(t,i,r){var n=this,a=n.data("settings"),s=void 0===t?n.jqGrid("getGridParam","selrow"):t,o=n[0].p.colModel;if(r!==!0)for(var l=0;l<o.length;l++)o[l].editable===!0&&o[l].editableOnEdit===!1?(void 0===o[l].editoptions&&(o[l].editoptions={}),o[l].editoptions.readonly="readonly"):void 0!==o[l].editoptions&&void 0!==o[l].editoptions.readonly&&delete o[l].editoptions.readonly;return n.triggerHandler("rupTable_beforeEditRow",[a.inlineEdit.editOptions,s])!==!1&&n.jqGrid("editRow",s,e.extend({},a.inlineEdit.editOptions,i)),n},deleteRow:function(e,t){var i=this,r=i.data("settings"),n=jQuery.extend(!0,{},r.inlineEdit.deleteOptions,t),a=void 0===e?i.rup_table("getSelectedRows"):e;return 1===a.length?"DELETE"===n.mtype&&(n.url=r.baseUrl+"/"+i.rup_table("getPkUrl",a)):(n.mtype="POST",n.ajaxDelOptions.contentType="application/json",n.ajaxDelOptions.type="POST",n.ajaxDelOptions.dataType="json",n.url=r.baseUrl+"/deleteAll",n.serializeDelData=function(e,t){return jQuery.toJSON({core:{pkToken:r.multiplePkToken,pkNames:r.primaryKey},multiselection:i.rup_table("getSelectedIds")})}),n.afterSubmit=function(e,t){return i.triggerHandler("rupTable_deleteAfterSubmit",[e,t]),[!0]},n.afterComplete=function(e,t){i.triggerHandler("rupTable_deleteAfterComplete",[e,t])},i.triggerHandler("rupTable_beforeDeleteRow",[n,a])!==!1&&i.jqGrid("delGridRow",a,n),i},saveRow:function(e,t){var i=this,r=i.data("settings"),n=void 0===e?i.jqGrid("getGridParam","selrow"):e;return i.triggerHandler("rupTable_beforeSaveRow",[n,t]),n.indexOf("jqg")!==-1?(i[0].p.ajaxRowOptions=r.inlineEdit.addOptions.ajaxRowOptions,i.jqGrid("saveRow",n,r.inlineEdit.addOptions)):(i[0].p.ajaxRowOptions=r.inlineEdit.editOptions.ajaxRowOptions,i.jqGrid("saveRow",n,r.inlineEdit.editOptions)),i},restoreRow:function(e,t){var i=this,r=void 0===e?i.jqGrid("getGridParam","selrow"):e;i.triggerHandler("rupTable_beforeRestoreRow",[e]),i.jqGrid("restoreRow",r,t)},restoreInlineRupFields:function(t,i){var r,n,a=this,s=this[0];e(s.p.colModel).each(function(i){if(r=e(s.rows.namedItem(t)),n=r.find("td:eq("+i+")"),this.rupType&&"combo"===this.rupType&&void 0!==a.data("rup.table.formatter")){var o=a.data("rup.table.formatter")[t][this.name]["rup_"+this.rupType].label;n.html(o)}})}}),jQuery.fn.rup_table.plugins.inlineEdit={},jQuery.fn.rup_table.plugins.inlineEdit.defaults={toolbar:{defaultButtons:{add:!0,edit:!0,cancel:!0,save:!0,clone:!0,"delete":!0,filter:!1}},contextMenu:{defaultRowOperations:{add:!0,edit:!0,cancel:!0,save:!0,clone:!0,"delete":!0,filter:!1}},inlineEdit:{autoselectFirstRecord:!0,autoEditRow:!1},formEdit:{}},jQuery.fn.rup_table.plugins.inlineEdit.defaults.inlineEdit.addEditOptions={contentType:"application/json",type:"PUT",dataType:"json",ajaxRowOptions:{contentType:"application/json",dataType:"json",processData:!1}},jQuery.fn.rup_table.plugins.inlineEdit.defaults.inlineEdit.addOptions={mtype:"POST",ajaxRowOptions:{type:"POST"}},jQuery.fn.rup_table.plugins.inlineEdit.defaults.inlineEdit.editOptions={mtype:"PUT",ajaxRowOptions:{type:"PUT"}},jQuery.fn.rup_table.plugins.inlineEdit.defaults.inlineEdit.deleteOptions={bSubmit:jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_message.aceptar"),cancelicon:[!0,"left","icono_cancelar"],delicon:[!1],linkStyleButtons:["#eData"],msg:'<div id="rup_msgDIV_msg_icon" class="rup-message_icon-confirm"></div><div id="rup_msgDIV_msg" class="rup-message_msg-confirm white-space-normal">'+jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_table.deleteAll")+"</div>",mtype:"DELETE",width:320,reloadAfterSubmit:!1,resize:!1},jQuery.jgrid.inlineEdit={keys:!1}}(jQuery),function(e){jQuery.rup_table.registerPlugin("multiselection",{loadOrder:8,preConfiguration:function(e){var t=this;t.rup_table("preConfigureMultiselection",e)},postConfiguration:function(e){var t=this;e.multiselect===!0&&t.rup_table("postConfigureMultiselection",e)}}),jQuery.fn.rup_table("extend",{preConfigureMultiselection:function(e){var t=this;e.multiselect=!0,e.multiselectWidth=40,e.core.operations.clone.enabled=function(){return 1===e.multiselection.numSelected},e.getActiveLineId=function(){var e=this,t=e.data("settings"),i=jQuery.proxy(jQuery.jgrid.getCurrPos,e[0])();return jQuery.inArray(t.multiselection.rowForEditing,i[1])},e.getActiveRowId=function(){var e=this,t=e.data("settings");return t.multiselection.rowForEditing},e.getSelectedRows=function(){var e=this,t=e.data("settings");return t.multiselection.selectedAll!==!0?t.multiselection.selectedIds:t.multiselection.deselectedIds},e.getSelectedLines=function(){var e=this,t=e.data("settings"),i=parseInt(e.rup_table("getGridParam","page"),10);return t.multiselection.selectedAll!==!0?t.multiselection.selectedLinesPerPage[i]:t.multiselection.deselectedLinesPerPage[i]},t.on({"rupTable_serializeGridData.multiselection":function(i,r){function n(e){return e.rows+e.sidx+e.sord+e.filter!==void 0?jQuery.param(jQuery.extend({},e.filter,{rows:e.rows,sidx:e.sidx,sord:e.sord})):""}var a,s={};a=t.data("tmp.lastSearch"),void 0!==a&&a!==n(r)&&e&&e.multiselection&&e.multiselection.numSelected>0&&(s=t.rup_table("getSelectedIds"),jQuery.extend(!0,r,{multiselection:s})),t.data("tmp.lastSearch",n(r))},"rupTable_setSelection.multiselection":function(i,r,n,a){parseInt(t.rup_table("getGridParam","page"),10);if(jQuery.isArray(r))for(var s=0;s<r.length;s++)t._processSelectedRow(e,r[s],n);else t._processSelectedRow(e,r,n);return a===!0&&t.on("rupTable_serializeGridData.multiselection.reorderSelection",function(e,i){t.off("rupTable_serializeGridData.multiselection.reorderSelection"),jQuery.extend(!0,i,{multiselection:t.rup_table("getSelectedIds")})}),t.triggerHandler("rupTable_multiselectionUpdated"),t.triggerHandler("jqGridSelectRow.rupTable.multiselection",[r,n]),!1}})},postConfigureMultiselection:function(t){var i=this;i._initializeMultiselectionProps(t),t.$selectAllCheck=jQuery("#cb_"+t.id),t.fncHasSelectedElements=function(){return t.multiselection.numSelected>0},t.getRowForEditing=function(){var e,t,i=this,r=i.data("settings"),n=parseInt(i.rup_table("getGridParam","page"),10),a=jQuery.proxy(jQuery.jgrid.getCurrPos,i[0])();return i._hasPageSelectedElements(n)?void 0!==r.multiselection.rowForEditing?r.multiselection.rowForEditing:(e=i._getSelectedLinesOfPage(n)[0],a[1][e-1]):(t=jQuery.proxy(r.fncGetNavigationParams,i)("first"),execute=t[1],newPage=t[5],newPageIndex=t[6],execute&&(i.trigger("reloadGrid",[{page:newPage}]),i.on("jqGridAfterLoadComplete.multiselection.editRow",function(e,t){var n=(jQuery.proxy(jQuery.jgrid.getCurrPos,i[0])(),i.getActiveRowId());i.jqGrid("editGridRow",n,r.editOptions),i.off("jqGridAfterLoadComplete.multiselection.editRow")})),!1)},t.getDetailTotalRowCount=function(){var e=this,t=e.data("settings");return t.multiselection.numSelected},t.getDetailCurrentRowCount=function(){var e,t,i=this,r=i.data("settings"),n=parseInt(i.rup_table("getGridParam","page"),10),a=jQuery.proxy(jQuery.jgrid.getCurrPos,i[0])(),s=parseInt(i.rup_table("getGridParam","rowNum"),10),o=0;if(r.multiselection.selectedAll){o=n>1?(n-1-r.multiselection.deselectedPages.length)*s:0;for(var l=0;l<r.multiselection.deselectedPages.length&&r.multiselection.deselectedPages[l]!==n;l++)o+=s-r.multiselection.deselectedLinesPerPage[r.multiselection.deselectedPages[l]].length;o+=jQuery.inArray(a[0]+1,i._getSelectedLinesOfPage(n))+1}else{e=jQuery.inArray(n,r.multiselection.selectedPages),t=r.multiselection.selectedPages[e];for(var l=1;l<t;l++)void 0!==r.multiselection.selectedLinesPerPage[l]&&(o+=r.multiselection.selectedLinesPerPage[l].length);o+=jQuery.inArray(a[0]+1,r.multiselection.selectedLinesPerPage[t])+1}return o},t.fncGetNavigationParams=function(t){var i,r,n=this,a=n.data("settings"),s=!1,o=!1,l=0,d=0,u=jQuery.proxy(jQuery.jgrid.getCurrPos,n[0])(),c=parseInt(n.rup_table("getGridParam","page"),10),h=c,p=parseInt(Math.ceil(n.rup_table("getGridParam","records")/n.rup_table("getGridParam","rowNum")),10);switch(u[0]=parseInt(u[0],10),e("#"+a.formEdit.feedbackId,a.formEdit.$detailForm).hide(),t){case"first":if(s=!0,a.multiselection.selectedAll){for(var f=1;f<=p;f++)if(n._hasPageSelectedElements(f)){f!==c&&(h=f,o=!0);break}}else a.multiselection.selectedPages[0]!==c&&(o=!0,h=a.multiselection.selectedPages[0]);l=n._getFirstSelectedElementOfPage(h),d=l;break;case"prev":if(s=!0,r=n._getSelectedLinesOfPage(c),i=jQuery.inArray(u[0]+1,r),0===i){o=!0;for(var f=c-1;f>=0;f--)if(n._hasPageSelectedElements(f)){h=f,r=n._getSelectedLinesOfPage(f),l=r[r.length-1];break}}else l=r[i-1];d=l;break;case"next":if(s=!0,r=n._getSelectedLinesOfPage(c),i=jQuery.inArray(u[0]+1,r),i===r.length-1){o=!0;for(var f=c+1;f<=p;f++)if(n._hasPageSelectedElements(f)){h=f,r=n._getSelectedLinesOfPage(f),l=r[0];break}}else l=r[i+1];d=l;break;case"last":if(s=!0,a.multiselection.selectedAll){for(var f=p;f>0;f--)if(n._hasPageSelectedElements(f)){f!==c&&(h=f,o=!0);break}}else a.multiselection.selectedPages[a.multiselection.selectedPages.length-1]!==c&&(o=!0,h=a.multiselection.selectedPages[a.multiselection.selectedPages.length-1]);r=n._getSelectedLinesOfPage(h),l=r[r.length-1],d=l}return[t,s,o,l-1,u,h,d-1]},t.doNavigation=function(e,t,i,r,n,a,s){var o,t,i,r,n,a,s,l,d=this,u=d.data("settings"),c=rp_ge[d.attr("id")];jQuery.isArray(e)&&(o=e[0],t=e[1],i=e[2],r=e[3],n=e[4],a=e[5],s=e[6],t&&(d.rup_table("hideFormErrors",u.formEdit.$detailForm),d.triggerHandler("jqGridAddEditClickPgButtons",[o,u.formEdit.$detailForm,n[1][n[r]]]),i?(d.trigger("reloadGrid",[{page:a}]),d.on("jqGridAfterLoadComplete.pagination",function(e,t){var i=jQuery.proxy(jQuery.jgrid.getCurrPos,d[0])(),r=i[1][s];jQuery.proxy(jQuery.jgrid.fillData,d[0])(r,d[0],u.formEdit.$detailForm.attr("id"),u.opermode),jQuery.proxy(jQuery.jgrid.updateNav,d[0])(),u.multiselection.rowForEditing=r,d.rup_table("clearHighlightedEditableRows"),d.rup_table("highlightEditableRow",d.jqGrid("getInd",r,!0)),d.off("jqGridAfterLoadComplete.pagination")})):(jQuery.proxy(jQuery.jgrid.fillData,d[0])(n[1][r],d[0],u.formEdit.$detailForm.attr("id"),u.opermode),jQuery.proxy(jQuery.jgrid.updateNav,d[0])(),u.multiselection.rowForEditing=n[1][r],d.rup_table("clearHighlightedEditableRows"),d.rup_table("highlightEditableRow",d.jqGrid("getInd",n[1][r],!0))),d.triggerHandler("jqGridAddEditAfterClickPgButtons",[o,u.formEdit.$detailForm,n[1][n[r]]]),l=void 0!==c?c.afterclickPgButtons:u.afterclickPgButtons,jQuery.isFunction(l)&&c.fncAfterclickPgButtons.call(d,o,u.formEdit.$detailForm,n[1][n[r]])))},i.on({"jqGridSelectRow.rupTable.multiselection":function(e,r,n,a){var s,o,l,d,u,c;if(a!==!1){if(void 0!==a&&jQuery(a.target).hasClass("treeclick"))return!1;if(jQuery.rup.isCtrlPressed()!==!0&&jQuery.rup.isShiftPressed()!==!0||window.getSelection().removeAllRanges(),jQuery.rup.isCtrlPressed()||jQuery.rup.isShiftPressed()||t.multiboxonly!==!0||void 0===a||void 0!==a.originalEvent&&jQuery(a.originalEvent.target).is(":checkbox")&&jQuery(a.originalEvent.target).attr("id").indexOf("jqg_")!==-1||i.rup_table("deselectRemainingRows"),jQuery.rup.isShiftPressed()===!0){l=i.jqGrid("getInd",r,!1),o=i.rup_table("getActiveLineId"),o<l?(d=l-1,u=o+1):(d=o,u=l),c=i.jqGrid("getDataIDs");for(var h=u;h<d;h++)i._processSelectedRow(t,c[h],n),i.rup_table("highlightRowAsSelected",jQuery(i.jqGrid("getInd",c[h],!0)))}i._processSelectedRow(t,r,n),i.rup_table("updateSelectedRowNumber"),t.$internalFeedback.rup_feedback("close"),i.rup_table("clearHighlightedEditableRows"),n?(t.multiselection.rowForEditing=r,i.rup_table("highlightEditableRow",i.jqGrid("getInd",r,!0))):(s=parseInt(i.rup_table("getGridParam","page"),10),i._hasPageSelectedElements(s)&&i.rup_table("highlightFirstEditableRow"))}},"jqGridDblClickRow.rupTable.multiselection":function(e,t,r,n,a){i.rup_table("setSelection",t,!0),i.rup_table("clearHighlightedEditableRows"),i.rup_table("highlightEditableRow",i.jqGrid("getInd",t,!0))},"jqGridGridComplete.rup_table.multiselection":function(t){var i=e(this),r=i.data("settings");0===i.rup_table("getGridParam","records")?jQuery(jQuery("#cb_"+i.attr("id"),r.core.$tableDiv)[0]).attr("disabled","disabled"):jQuery(jQuery("#cb_"+i.attr("id"),r.core.$tableDiv)[0]).removeAttr("disabled")},"jqGridLoadComplete.rupTable.multiselection":function(r,n){var a,s,o,l,d,u,c,h,p,f=i[0],g=(f.p,i.rup_table("getGridParam","page"));i.rup_table("getGridParam","rowNum"),t.multiselection.selectedRowsPerPage[g],t.multiselection.deselectedRowsPerPage[g]||[];if(void 0!==n.reorderedSelection&&null!==n.reorderedSelection){i._initializeMultiselectionProps(t),t.multiselection.selectedAll=n.selectedAll,t.multiselection.selectedAll===!0?(d=t.multiselection.deselectedRowsPerPage,u=t.multiselection.deselectedLinesPerPage,c=t.multiselection.deselectedIds,h=t.multiselection.deselectedRows,p=t.multiselection.deselectedPages,t.multiselection.numSelected=n.records-n.reorderedSelection.length):(d=t.multiselection.selectedRowsPerPage,u=t.multiselection.selectedLinesPerPage,c=t.multiselection.selectedIds,h=t.multiselection.selectedRows,p=t.multiselection.selectedPages,t.multiselection.numSelected=n.reorderedSelection.length);for(var m=0;m<n.reorderedSelection.length;m++){a=n.reorderedSelection[m],s=a.page,o=a.pageLine;for(var v="",b=0;b<t.primaryKey.length;b++)v+=a.pk[t.primaryKey[b]]+t.multiplePkToken;l=v.substr(0,v.length-1),void 0===d[s]&&(d[s]=[],u[s]=[]),jQuery.inArray(l,c)===-1&&(c.push(l),h.push({id:l,page:s}),d[s].push(l),u[s].push(o),d[s].length>0&&jQuery.inArray(s,p)===-1&&jQuery.rup_utils.insertSorted(p,s))}}i.triggerHandler("rupTable_multiselectionUpdated"),t.$internalFeedback.rup_feedback("close"),i._hasPageSelectedElements(g)&&(void 0!==t.multiselection.rowForEditing&&jQuery.inArray(t.multiselection.rowForEditing,i.jqGrid("getDataIDs"))!==-1?i.rup_table("highlightEditableRow",jQuery(i.jqGrid("getInd",t.multiselection.rowForEditing,!0)),!0):i.rup_table("highlightFirstEditableRow"));var _=jQuery("[id='"+t.id+"_cb']");if(t.multiselection.headerContextMenu_enabled&&0===_.find("a").length&&(_.find("input").css("margin-right","1em"),i._addArrow(_.find("input"))),i.find(".cbox").css("margin-right","1em"),t.multiselection.rowContextMenu_enabled){var y=void 0!==t.jerarquia,x=jQuery.isEmptyObject(t.multiselection.rowContextMenu.items);e.each(i.find(".cbox"),function(t,r){i._addArrow(jQuery(r)),y&&x&&e(r).parents("tr").find(".treeclick").hasClass("tree-leaf")&&jQuery(this).next("a").addClass("ui-state-disabled").off("click")})}},"jqGridSelectAll.rupTable.multiselection":function(r,n,a){var s,o,l,d,u,c,h,p=i.rup_table("getGridParam","page");i.triggerHandler("rupTable_internalFeedbackClose"),h=0;for(var f=0;f<n.length;f++)n[f].indexOf(t.id+"ghead_")===-1&&(i._processSelectedRow(t,n[f],a),h++);s=jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_grid.selectMsg","<b>"+h+"</b>","<b>"+p+"</b>"),o=jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_grid.deselectMsg","<b>"+h+"</b>","<b>"+p+"</b>"),a?(l=i._getRemainingRecordNum(t,n),0!==l?(d=jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_table.selectRestMsg",l),u=jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_table.templates.multiselection.selectRemainingRecords",i[0].id,d,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.selectAll")),i.rup_table("showFeedback",t.$internalFeedback,s+u,"alert")):i.rup_table("showFeedback",t.$internalFeedback,s,"alert"),e("#rup_grid_"+i[0].id+"_selectAll").on("click",function(e){i.rup_table("selectRemainingRows")}),i.rup_table("highlightFirstEditableRow")):(i.rup_table("clearHighlightedEditableRows"),t.multiselection.numSelected>0?(d=jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_table.deselectRestMsg",t.multiselection.numSelected),c=jQuery.rup.i18nTemplate(jQuery.rup.i18n.base,"rup_table.templates.multiselection.deselectRemainingRecords",i[0].id,d,jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.deSelectAll")),i.rup_table("showFeedback",t.$internalFeedback,o+c,"alert")):i.rup_table("showFeedback",t.$internalFeedback,o,"alert"),e("#rup_grid_"+i[0].id+"_deselectAll").on("click",function(e){i.rup_table("deselectRemainingRows")})),i.rup_table("updateSelectedRowNumber")},"rupTableAfterSearchNav.rupTable.multiselection rupTableSearchSuccess.rupTable.multiselection rupTableAfterDelete.rupTable.multiselection":function(){var t=e(this);t.rup_table("resetSelection")},"rupTable_multiselectionUpdated.multiselection":function(){var t,i=e(this),r=i[0],n=i.rup_table("getGridParam","page"),a=i.data("settings"),s=r.p,o=i.rup_table("getGridParam","rowNum"),l=a.multiselection.selectedRowsPerPage[n],d=a.multiselection.deselectedRowsPerPage[n]||[];if(i.triggerHandler("rupTable_internalFeedbackClose"),a.multiselection.selectedAll){s.selarrrow=[],t=r.rows;for(var u=0;u<t.length;u++)jQuery.inArray(t[u].id,d)===-1?i.rup_table("highlightRowAsSelected",e(t[u])):i.rup_table("clearHighlightedRowAsSelected",e(t[u]));0===d.length&&a.$selectAllCheck[s.useProp?"prop":"attr"]("checked",!0)}else if(l){t=r.rows,s.selarrrow=[];for(var u=0;u<t.length;u++)jQuery.inArray(t[u].id,l)!==-1?i.rup_table("highlightRowAsSelected",e(t[u])):i.rup_table("clearHighlightedRowAsSelected",e(t[u]));l.length===o&&a.$selectAllCheck[s.useProp?"prop":"attr"]("checked",!0)}i.rup_table("updateSelectedRowNumber")},"rupTable_beforeAddRow.multiselection":function(e,t){return i._checkSelectedElements(function(){i.jqGrid("editGridRow","new",t),i.rup_table("resetSelection"),i.rup_table("clearHighlightedEditableRows")}),!1},"jqGridAddEditAfterSubmit.rupTable.formEditing":function(e,t,r,n){"edit"!==n&&(i.rup_table("resetSelection"),i.rup_table("clearHighlightedEditableRows"))}}),t.multiboxonly===!0&&(t.multiselection.multiboxonly=!0),jQuery("body").on({"rup_ctrlKeyDown rup_shiftKeyDown":function(){return t.multiselection.multiboxonly===!0&&(i[0].p.multiboxonly=!1),!1},"rup_ctrlKeyUp rup_shiftKeyUp":function(){return t.multiselection.multiboxonly===!0&&(i[0].p.multiboxonly=!0),!1}}),jQuery.contextMenu("destroy","[id='"+t.id+"_cb']"),jQuery("[id='"+t.id+"_cb']").rup_contextMenu({trigger:"none",callback:t.multiselection.headerContextMenu.callback,items:i._headerContextMenuItems(t.multiselection.headerContextMenu,t),position:function(e,t,i){var r=this.offset();e.$menu.css({top:r.top+this.height(),left:r.left})}}),t.multiselection.rowContextMenu_enabled&&(jQuery.contextMenu("destroy","td[aria-describedby='"+t.id+"_cb']"),jQuery("td[aria-describedby='"+t.id+"_cb']").rup_contextMenu({trigger:"none",callback:t.multiselection.rowContextMenu.callback,items:i._rowContextMenuItems(t.multiselection.rowContextMenu,t),position:function(e,t,i){var r=this.offset();e.$menu.css({top:r.top+this.height(),left:r.left})}}))}}),jQuery.fn.rup_table("extend",{getSelectedIds:function(){var e=this,t=e.data("settings"),i={};return t.multiselection.selectedAll?(t.multiselection.deselectedIds.length>0&&jQuery.extend(!0,i,{selectedIds:t.multiselection.deselectedIds}),jQuery.extend(!0,i,{selectedAll:!0})):(void 0!=t.multiselection.selectedIds&&t.multiselection.selectedIds.length>0&&jQuery.extend(!0,i,{selectedIds:t.multiselection.selectedIds}),jQuery.extend(!0,i,{selectedAll:!1})),i},clearHighlightedEditableRows:function(){var e=this,t=e.data("settings");e.find("td[aria-describedby='"+t.id+"_rupInfoCol'] span.ui-icon.ui-icon-pencil").removeClass("ui-icon-pencil")},highlightFirstEditableRow:function(){var e,t,i=this,r=i.data("settings"),n=parseInt(i.rup_table("getGridParam","page"),10);i.rup_table("clearHighlightedEditableRows"),i._hasPageSelectedElements(n)&&(e=i._getFirstSelectedElementOfPage(n),t=i.jqGrid("getDataIDs")[e-1],r.multiselection.rowForEditing=t,i.rup_table("highlightEditableRow",i.jqGrid("getInd",t,!0)))},highlightEditableRow:function(e){var t=this,i=t.data("settings");e=jQuery(e),e.find("td[aria-describedby='"+i.id+"_rupInfoCol'] span").addClass("ui-icon ui-icon-rupInfoCol ui-icon-pencil")},refreshSelection:function(){var e=this;e.triggerHandler("rupTable_multiselectionUpdated")},resetSelection:function(){var e=this,t=e.data("settings");e.jqGrid("resetSelection"),e._initializeMultiselectionProps(t),e.triggerHandler("rupTable_multiselectionUpdated")},selectAllRows:function(e){var t,i,r=this,n=r.data("settings");r.rup_table("selectRemainingRows"),jQuery("#cb_"+n.id).attr("checked","checked"),t=r.jqGrid("getDataIDs");for(var a=0;a<t.length;a++)i=jQuery(r.jqGrid("getInd",t[a],!0)),r.rup_table("highlightRowAsSelected",i);r.rup_table("highlightFirstEditableRow")},selectRemainingRows:function(e){var t=this,i=t.data("settings");t._initializeMultiselectionProps(i),i.multiselection.selectedAll=!0,i.multiselection.numSelected=t.rup_table("getGridParam","records"),t.rup_table("updateSelectedRowNumber"),i.$internalFeedback.rup_feedback("close")},deselectAllRows:function(e){var t,i,r=this,n=r.data("settings"),a=r[0].p;r.rup_table("deselectRemainingRows"),r.rup_table("clearHighlightedEditableRows"),jQuery("#cb_"+n.id).removeAttr("checked"),t=r.jqGrid("getDataIDs"),a.selarrrow=[];for(var s=0;s<t.length;s++)i=jQuery(r.jqGrid("getInd",t[s],!0)),r.rup_table("clearHighlightedRowAsSelected",i)},deselectRemainingRows:function(e){var t=this,i=t.data("settings");t._initializeMultiselectionProps(i),t.rup_table("updateSelectedRowNumber"),i.$internalFeedback.rup_feedback("close")},updateSelectedRowNumber:function(){var t=e(this),i=t.data("settings");e("div .ui-paging-selected",i.$pager).html(i.multiselection.numSelected+" "+jQuery.rup.i18nParse(jQuery.rup.i18n.base,"rup_grid.pager.selected")),t.triggerHandler("rupTableSelectedRowNumberUpdated")}}),jQuery.fn.rup_table("extend",{_addArrow:function(t){jQuery(t).after(jQuery("<a />").attr("href","javascript:void(0)").addClass("ui-icon rup-jerarquia_checkmenu_arrow").on("click",function(t){e(this).parents("th, td").contextMenu()}))},_checkSelectedElements:function(t){var i=e(this),r=(i[0],i.rup_table("getGridParam","page"),i.data("settings"));r.multiselection.numSelected>0?e.rup_messages("msgConfirm",{message:e.rup.i18nParse(e.rup.i18n.base,"rup_maint.checkSelectedElems"),
title:e.rup.i18nParse(e.rup.i18n.base,"rup_maint.changes"),OKFunction:function(){t.call()}}):t.call()},_headerContextMenuItems:function(t,i){var r=this,n={};return t.selectAllPage&&jQuery.extend(n,{selectAllPage:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.multiselection.selectAllPage"),icon:"check",disabled:function(e,t){return r._getSelectedLinesOfPage(parseInt(r.rup_table("getGridParam","page"))).length===r.jqGrid("getGridParam","reccount")},callback:function(t,r){e("[id='cb_"+i.id+"']").attr("checked","checked").click().attr("checked","checked")}}}),t.deselectAllPage&&jQuery.extend(n,{deselectAllPage:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.multiselection.deselectAllPage"),icon:"uncheck",disabled:function(e,t){return 0===r._getSelectedLinesOfPage(parseInt(r.rup_table("getGridParam","page"))).length},callback:function(t,r){e("[id='cb_"+i.id+"']").removeAttr("checked").click().removeAttr("checked")}}}),t.separator&&jQuery.extend(n,{separator:""}),t.selectAll&&jQuery.extend(n,{selectAll:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.multiselection.selectAll"),icon:"check_all",disabled:function(e,t){return i.multiselection.numSelected===r.rup_table("getGridParam","records")},callback:function(e,t){r.rup_table("selectAllRows")}}}),t.deselectAll&&jQuery.extend(n,{deselectAll:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.multiselection.deselectAll"),icon:"uncheck_all",disabled:function(e,t){return 0===i.multiselection.numSelected},callback:function(e,t){r.rup_table("deselectAllRows")}}}),jQuery.isEmptyObject(t.items)||jQuery.extend(n,t.items),n},_rowContextMenuItems:function(t,i){var r=this,n={};return void 0!==i.jerarquia&&i.jerarquia.contextMenu&&(t.selectChild&&jQuery.extend(n,{selectChild:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.jerarquia.selectChild"),icon:"child",callback:function(e,t){r._getJerarquiaChildren(this,e,t)}}}),t.selectDescendent&&jQuery.extend(n,{selectDescendent:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.jerarquia.selectDescendent"),icon:"descendent",callback:function(e,t){r._getJerarquiaChildren(this,e,t)}}}),t.separator&&jQuery.extend(n,{separator:""}),t.deselectChild&&jQuery.extend(n,{deselectChild:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.jerarquia.deselectChild"),icon:"uncheck",callback:function(e,t){r._getJerarquiaChildren(this,e,t)}}}),t.deselectDescendent&&jQuery.extend(n,{deselectDescendent:{name:e.rup.i18nParse(e.rup.i18n.base,"rup_table.plugins.jerarquia.deselectDescendent"),icon:"uncheck",callback:function(e,t){r._getJerarquiaChildren(this,e,t)}}})),jQuery.isEmptyObject(t.items)||jQuery.extend(n,t.items),n},_refreshSelectedElements:function(e,t,i,r){var n,a,s,o,l;if(e.multiselection.selectedAll!==!0?(n=e.multiselection.selectedRowsPerPage,a=e.multiselection.selectedLinesPerPage,s=e.multiselection.selectedIds,o=e.multiselection.selectedRows,l=e.multiselection.selectedPages):(n=e.multiselection.deselectedRowsPerPage,a=e.multiselection.deselectedLinesPerPage,s=e.multiselection.deselectedIds,o=e.multiselection.deselectedRows,l=e.multiselection.deselectedPages,t=!t),t)jQuery.inArray(i,s)===-1&&(e.multiselection.selectedAll!==!0?e.multiselection.numSelected++:e.multiselection.numSelected--,void 0===n[r.page]&&(n[r.page]=[],a[r.page]=[]),s.push(i),jQuery.rup_utils.insertSorted(a[r.page],r.pageLine),o.push({id:i,page:r.page}),n[r.page].splice(r.pageLine,0,i),n[r.page].length>0&&jQuery.inArray(r.page,l)===-1&&jQuery.rup_utils.insertSorted(l,r.page));else if(jQuery.inArray(i,s)!==-1){e.multiselection.selectedAll!==!0?e.multiselection.numSelected--:e.multiselection.numSelected++,s.splice(jQuery.inArray(i,s),1),a[r.page].splice(jQuery.inArray(r.pageLine,a[r.page]),1);var d=JSON.stringify({id:i,page:r.page}),u=null;jQuery.grep(o,function(e,t){JSON.stringify(e)===d&&(u=t)}),o.splice(u,1),n[r.page].splice(jQuery.inArray(i,n[r.page]),1),0==n[r.page].length&&jQuery.inArray(r.page,l)!==-1&&l.splice(jQuery.inArray(r.page,l),1)}},_hasPageSelectedElements:function(e){var t,i=this,r=i.data("settings"),n="string"==typeof e?parseInt(e,10):e;return r.multiselection.selectedAll?(t=parseInt(i.rup_table("getGridParam","rowNum"),10),jQuery.inArray(n,r.multiselection.deselectedPages)===-1||r.multiselection.deselectedLinesPerPage[n].length!==t):jQuery.inArray(n,r.multiselection.selectedPages)!==-1},_initializeMultiselectionProps:function(e){void 0===e.multiselection&&(e.multiselection={}),e.multiselection.selectedAll=!1,e.multiselection.numSelected=0,e.multiselection.selectedRowsPerPage=[],e.multiselection.selectedLinesPerPage=[],e.multiselection.selectedRows=[],e.multiselection.selectedIds=[],e.multiselection.selectedPages=[],e.multiselection.deselectedRowsPerPage=[],e.multiselection.deselectedLinesPerPage=[],e.multiselection.deselectedRows=[],e.multiselection.deselectedIds=[],e.multiselection.deselectedPages=[]},_getFirstSelectedElementOfPage:function(e){var t,i=this,r=i.data("settings"),n="string"==typeof e?parseInt(e,10):e;if(!r.multiselection.selectedAll)return jQuery.inArray(n,r.multiselection.selectedPages)!==-1&&r.multiselection.selectedLinesPerPage[n][0];if(jQuery.inArray(n,r.multiselection.deselectedPages)===-1)return 1;if(t=parseInt(i.rup_table("getGridParam","rowNum"),10),r.multiselection.deselectedLinesPerPage[n].length===t)return!1;for(var a=1;a<=t;a++)if(jQuery.inArray(a,r.multiselection.deselectedLinesPerPage[n])===-1)return a},_getRemainingRecordNum:function(e,t){var i=this,r=i.rup_table("getGridParam","records"),n=i.rup_table("getGridParam","reccount"),a=t.length,s=e.multiselection.numSelected,o=r-n!==0?r-n-(s-a):0;return o},_getSelectedLinesOfPage:function(e){var t,i,r,n=this,a=n.data("settings"),s=[];if(a.multiselection.selectedAll){t=parseInt(n.rup_table("getGridParam","rowNum"),10),i=n.rup_table("getGridParam","records"),r=parseInt(Math.ceil(i/t,10)),e===r&&(t=i-(r-1)*t);for(var o=1;o<=t;o++)s[o-1]=o;return jQuery.inArray(e,a.multiselection.deselectedPages)===-1?s:a.multiselection.deselectedLinesPerPage[e].length===t?[]:jQuery.grep(s,function(t){return jQuery.inArray(t,a.multiselection.deselectedLinesPerPage[e])===-1})}return jQuery.inArray(e,a.multiselection.selectedPages)===-1?[]:a.multiselection.selectedLinesPerPage[e]},_processSelectedRow:function(e,t,i){var r,n,a,s,o=this,l=o.rup_table("getGridParam","page"),d=parseInt(l);i?e.multiselection.selectedAll?(n=jQuery.inArray(t,e.multiselection.deselectedIds),n!=-1&&(e.multiselection.deselectedIds.splice(n,1),e.multiselection.deselectedRows.splice(n,1),a=jQuery.inArray(t,e.multiselection.deselectedRowsPerPage[l]),e.multiselection.deselectedRowsPerPage[l].splice(a,1),e.multiselection.deselectedLinesPerPage[l].splice(a,1),0===e.multiselection.deselectedRowsPerPage[l].length&&(s=jQuery.inArray(d,e.multiselection.deselectedPages),s!==-1&&e.multiselection.deselectedPages.splice(s,1)),e.multiselection.numSelected++)):(void 0===e.multiselection.selectedRowsPerPage[l]&&(e.multiselection.selectedRowsPerPage[l]=[],e.multiselection.selectedLinesPerPage[l]=[]),jQuery.inArray(t,e.multiselection.selectedIds)===-1&&(e.multiselection.selectedIds.push(t),e.multiselection.selectedRows.push({id:t,page:l}),r=jQuery.rup_utils.insertSorted(e.multiselection.selectedLinesPerPage[l],o._getLineIndex(t)),e.multiselection.selectedRowsPerPage[l].splice(r,0,t),e.multiselection.selectedRowsPerPage[l].length>0&&jQuery.inArray(d,e.multiselection.selectedPages)===-1&&jQuery.rup_utils.insertSorted(e.multiselection.selectedPages,d),e.multiselection.numSelected++)):e.multiselection.selectedAll?(void 0===e.multiselection.deselectedRowsPerPage[l]&&(e.multiselection.deselectedRowsPerPage[l]=[],e.multiselection.deselectedLinesPerPage[l]=[]),jQuery.inArray(t,e.multiselection.deselectedIds)===-1&&(e.multiselection.deselectedIds.push(t),e.multiselection.deselectedRows.push({id:t,page:l}),r=jQuery.rup_utils.insertSorted(e.multiselection.deselectedLinesPerPage[l],o._getLineIndex(t)),e.multiselection.deselectedRowsPerPage[l].splice(r,0,t),e.multiselection.deselectedRowsPerPage[l].length>0&&jQuery.inArray(d,e.multiselection.deselectedPages)===-1&&jQuery.rup_utils.insertSorted(e.multiselection.deselectedPages,d),e.multiselection.numSelected--)):(index=jQuery.inArray(t,e.multiselection.selectedIds),index!=-1&&(e.multiselection.selectedIds.splice(index,1),e.multiselection.selectedRows.splice(index,1),a=jQuery.inArray(t,e.multiselection.selectedRowsPerPage[l]),e.multiselection.selectedRowsPerPage[l].splice(a,1),e.multiselection.selectedLinesPerPage[l].splice(a,1),0===e.multiselection.selectedRowsPerPage[l].length&&(s=jQuery.inArray(d,e.multiselection.selectedPages),s!==-1&&e.multiselection.selectedPages.splice(s,1)),e.multiselection.numSelected--)),o.rup_table("updateSelectedRowNumber")}}),jQuery.fn.rup_table.plugins.multiselection=jQuery.fn.rup_table.plugins.multiselection||{},jQuery.fn.rup_table.plugins.multiselection.defaults={showGridInfoCol:!0,formEdit:{autoselectFirstRecord:!1},inlineEdit:{autoselectFirstRecord:!1},multiselection:{defaultEditableInfoCol:{name:"infoEditable",index:"infoEditable",editable:!1,width:"15em",search:!1},headerContextMenu_enabled:!0,headerContextMenu:{selectAllPage:!0,deselectAllPage:!0,separator:!0,selectAll:!0,deselectAll:!0,items:{}},rowContextMenu_enabled:!1,rowContextMenu:{selectChild:!0,selectDescendent:!0,separator:!0,deselectChild:!0,deselectDescendent:!0,items:{}}}},jQuery.fn.rup_table.defaults.multiselection={loadBeforeSend:function(e,t){e.setRequestHeader("JQGridModel","true"),e.setRequestHeader("Content-Type","application/json")}}}(jQuery),function(e){e.rup_table.registerPlugin("jerarquia",{loadOrder:11,preConfiguration:function(e){var t=this;return t.rup_table("preConfigurejerarquia",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigurejerarquia",e)}}),e.fn.rup_table("extend",{preConfigurejerarquia:function(t){var i=this,r=t.jerarquia;i.jqGrid("setGridParam",{postData:{jerarquia:{}}}),t.treeGrid=!0,t.rowTotal=0,t.treeGridModel="adjacency",t.treeIcons=r.icons;var n=i.jqGrid.setTreeGrid;if(e.jgrid.extend({setTreeGrid:function(){n.call(i),i[0].p.altRows=!0,i[0].p.pgbuttons=!0,i[0].p.pginput=!0,i[0].p.rowList=t.rowList,t.multiselect&&(i[0].p.multiselect=!0)}}),null===t.filter.childrenUrl&&(t.filter.childrenUrl=t.baseUrl+"Children"),t.ExpandColumn=r.column,t.multiselect)for(key in t.colModel)if(t.colModel[key].name===t.ExpandColumn){key=parseInt(key)+1,void 0===t.colModel[key]&&(t.colNames[key]="jerarquia_multiselect",t.colModel[key]={name:"jerarquia_multiselect",hidden:!0}),t.ExpandColumn=t.colModel[key].name;break}t.colNames=e.merge(["level"],t.colNames),t.colModel=e.merge([{name:"level",hidden:!0}],t.colModel),t.colNames=e.merge(["isLeaf"],t.colNames),t.colModel=e.merge([{name:"isLeaf",hidden:!0}],t.colModel),t.colNames=e.merge(["parentNodes"],t.colNames),t.colModel=e.merge([{name:"parentNodes",hidden:!0}],t.colModel),t.colNames=e.merge(["filter"],t.colNames),t.colModel=e.merge([{name:"filter",hidden:!0}],t.colModel),e(i).data("tree",[]),i.on({"rupTable_serializeGridData.multiselection":function(t,i){e.extend(!0,i,{jerarquia:{token:r.token}}),e.isArray(i.jerarquia.tree)&&0===i.jerarquia.tree.length&&(i.jerarquia.tree="")},"jqGridAddEditAfterComplete.rupTable.jerarquia":function(){i[0].p.treeGrid=!1},"jqGridAddEditBeforeSubmit.rupTable.jerarquia jqGridBeforeRequest.rupTable.jerarquia":function(){i[0].p.treeGrid=!0},"jqGridLoadComplete.rupTable.jerarquia":function(n,a){for(var s=e(i).data("tree"),o=s.length,l=0;l<o;l++)e("[id='"+s[l]+"'] .tree-wrap > div").removeClass("tree-leaf "+t.treeIcons.leaf).addClass("tree-minus "+t.treeIcons.minus);for(var d=i.rup_table("getGridParam","data"),u=d.length,c=e("<div />").addClass("rup-jerarquia_filter ui-icon").addClass(r.icons.filter).text(e.rup.i18nParse(e.rup.i18n.base,"rup_grid_jerarquia.icons.filtered")),l=0;l<u;l++){var h=e.jgrid.getAccessor(d[l],i.rup_table("getGridParam","localReader").id),p=e("tr[id='"+h+"'] > td .tree-wrap");d[l].filter&&p.prepend(c.clone()),r.parentNodesTooltip&&p.parent().rup_tooltip({content:{text:i._parseParentNodes(d[l].parentNodes)}})}e(".tree-plus, .tree-minus").off("click"),e(".tree-plus, .tree-minus").on("click",function(r){var n=e(this),a=i.rup_table("getGridParam","_index")[n.closest("tr.jqgrow")[0].id],o=i.rup_table("getGridParam","data")[a],l=e.jgrid.getAccessor(o,i.rup_table("getGridParam","localReader").id);n.hasClass(t.treeIcons.plus)?s.push(l):s.splice(e.inArray(l,s),1),e(i).data("tree",s),i.jqGrid("setGridParam",{postData:{jerarquia:{tree:s.toString()}}}),i.trigger("reloadGrid")}),i[0].p.treeGrid=!1}}),e.each(r.resetEvents,function(t,r){var n=e.isFunction(r[0])?r.shift():null,a="[id='"+r.join("'], [id='")+"']";e(a).on(t,function(e){null!==n&&n.call(i,e)!==!1||i.reset()});for(var s=0;s<r.length;s++)e._data(e("#"+r[s])[0],"events")[t]=e._data(e("#"+r[s])[0],"events")[t].reverse()}),t.multiselection.rowContextMenu_enabled=t.jerarquia.contextMenu},postConfigurejerarquia:function(e){e.jerarquia}}),e.fn.rup_table("extend",{reset:function(){e(this).data("tree",[]),e(this).jqGrid("setGridParam",{postData:{jerarquia:{tree:[]}}})}}),e.fn.rup_table("extend",{_parseParentNodes:function(e){var t=this.data("settings").jerarquia.parentNodesTooltipFnc,i=e.split(this.data("settings").jerarquia.token).slice(1);if(null===t){for(var r="",n="&nbsp;&nbsp;",a=0;a<i.length;a++)a!==i.length-1?(r+=i[a]+"<br/>"+n+"└&nbsp;",n+="&nbsp;&nbsp;&nbsp;"):r+="<b>"+i[a]+"</b>";return r}return t.call(this,i)},_getJerarquiaChildren:function(t,i,r){var n=this,a=n.data("settings"),s=n.rup_table("getRowData",t.parent().attr("id")),o={jerarquia:{parentId:e.jgrid.getAccessor(s,a.primaryKeyCol),child:i.toLowerCase().indexOf("child")!=-1},filter:n.rup_table("getFilterParams")};e.extend(!0,o,n.rup_table("getGridParam","postData"));var l=e.isArray(a.primaryKey)?a.primaryKey[0]:a.primaryKey;e.rup_ajax({url:a.filter.childrenUrl,dataType:"json",data:e.toJSON(o),type:"POST",async:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("JQGridModel",!0),t.setRequestHeader("RUP",e.toJSON({primaryKey:l}))},success:function(e,t){for(var r=e.children,s=r.length,o=i.indexOf("deselect")==-1,d=0;d<s;d++){var u=r[d];rowPK=u.pk[l],n._refreshSelectedElements(a,o,rowPK,u)}n.triggerHandler("rupTable_multiselectionUpdated")},error:function(e,t,i){},complete:function(e,t){}})}}),e.fn.rup_table.plugins.jerarquia={},e.fn.rup_table.plugins.jerarquia.defaults={treedatatype:"json",formEdit:{addEditOptions:{reloadAfterSubmit:!0}},jerarquia:{token:"/",icons:{plus:"ui-icon-triangle-1-se",minus:"ui-icon-triangle-1-e",leaf:"ui-icon-none",filter:"ui-icon-star"},parentNodesTooltip:!0,parentNodesTooltipFnc:null,contextMenu:!0}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("masterDetail",{loadOrder:10,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureMasterDetail",e)}}),jQuery.fn.rup_table("extend",{preConfigureMasterDetail:function(e){var t,i=this;t=jQuery(e.masterDetail.master),e.masterDetail.$master=t,i.on({"rupTable_serializeGridData.rupTable.masterDetail":function(e,t){var r=i.rup_table("getMasterTablePkObject");null!==r&&(jsonParam={filter:r},jQuery.extend(!0,t,jsonParam))},"jqGridAddEditBeforeSubmit.rupTable.masterDetail":function(e,t,r){var n=i.rup_table("getMasterTablePkObject");null!==n&&jQuery.extend(t,n)},"rupTable_searchBeforeSubmit.rupTable.masterDetail":function(e,t,r){var n=i.rup_table("getMasterTablePkObject");null!==n&&(jsonParam={filter:n},jQuery.extend(!0,r,jsonParam))}}),t.on({"jqGridSelectRow.rupTable.masterDetail":function(t,r,n){var a=i.data("tmp.masterDetail.lastRowid");void 0!==a&&a===r||(jQuery.inArray("filter",e.usePlugins)!==-1?(i.data("tmp.masterDetail.lastRowid",r),i.rup_table("showSearchCriteria"),i.rup_table("filter")):i.rup_table("reloadGrid"))},"jqGridAfterLoadComplete.multiselection.editRow":function(e,t){0===t.rows.length&&(i.removeData("tmp.masterDetail.lastRowid"),i.jqGrid("clearGridData"))}})}}),jQuery.fn.rup_table("extend",{getMasterTablePkObject:function(){function t(e,i){var r={},n=e.split(".");return 1===n.length?(r[e]=i,r):(r[n[0]]=t(e.substr(e.indexOf(".")+1),i),r)}var i=this,r=i.data("settings"),n=r.masterDetail.$master,a=n.rup_table("getSelectedRows"),s=r.masterDetail.masterPrimaryKey;if(e.isArray(s)&&s.length>0&&1===a.length){var o=n.rup_table("getGridParam","multiplePkToken"),l=a[0].split(o),d={};return l.length===s.length&&e.each(s,function(e,i){jQuery.extend(!0,d,t(i,l[e]))}),d}return 1===a.length?t(s,a[0]):0===a.length?null:void 0}}),jQuery.fn.rup_table.plugins.masterDetail={},jQuery.fn.rup_table.plugins.masterDetail.defaults={}}(jQuery),function(e){jQuery.rup_table.registerPlugin("report",{loadOrder:11,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureReport",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureReport",e)}}),jQuery.fn.rup_table("extend",{preConfigureReport:function(e){},postConfigureReport:function(t){var i,r=this,n=r.rup_table("getColModel"),a=t.report;i=r._getReportColumns(n,t),void 0===a.appendTo&&(a.appendTo=t.toolbar.id),jQuery.each(a.buttons[0].buttons,function(r,n){n.columns=e.extend(!0,{},a.columns,n.columns),void 0===n.columns.grid&&(n.columns.grid=t.id),void 0===n.columns.customNames&&(n.columns.customNames=i),void 0===n.columns.click&&(n.columns.click=function(){})}),a.fncGetGridParam=function(){var t=this,i=t.data("settings"),r={},n={};return jQuery.each(t.jqGrid("getGridParam","postData"),function(e,t){jQuery.inArray(e,i.report.sendPostDataParams)!==-1&&(r[e]=t)}),void 0!==i.filter&&void 0!==i.filter.$filterContainer&&(n=t.rup_table("getFilterParams")),jQuery.extend(!0,r,n),t.triggerHandler("rupTable_serializeReportData",[r]),e.rup_utils.unnestjson(r)},jQuery.rup_report(a)}}),jQuery.fn.rup_table("extend",{_getReportColumns:function(e,t){return jQuery.map(e,function(e,i){return jQuery.inArray(e.name,t.report.excludeColumns)===-1?e.name:null})}}),jQuery.fn.rup_table.plugins.report={},jQuery.fn.rup_table.plugins.report.defaults={report:{columns:{},excludeColumns:["rupInfoCol","cb"],sendPostDataParams:["_search","core","nd","page","rows","sidx","sord"]}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("multifilter",{loadOrder:15,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureMultifilter",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureMultifilter",e)}}),jQuery.fn.rup_table("extend",{preConfigureMultifilter:function(t){var i,r=this,n=(t.id,t.multifilter);n.$dropdownDialog=e("#"+t.id+"_multifilter_dropdownDialog"),n.dropdownDialogId=t.id+"_multifilter_dropdownDialog",i=r.rup_table("getMultifilterDialogTemplate",t),t.filter.$filterContainer.after(i),r.rup_table("configureMultifilter",t),t.multifilter.fncFilterName=function(e){return void 0==n.$comboLabel?void 0!==n.$filterDefaultName&&(e=n.$filterDefaultName+"  {"+e+"}   "):void 0!=n.$comboLabel&&t.$firstStartUp?""==n.$comboLabel.val()&&void 0!=n.$filterDefaultName&&void 0!==n.$filterDefaultName&&(e=n.$filterDefaultName+"  {"+e+"}   "):""!=n.$comboLabel.val()&&n.$filterWithName&&(n.$filterWithName=!1,e=n.$comboLabel.val()+"  {"+e+"}   "),e}},postConfigureMultifilter:function(t){var i=this,r=t.multifilter;t.filter.$filterButton.rup_button({dropdown:{dropdownIcon:"ui-icon-gear",dropdownDialog:r.dropdownDialogId,dropdownDialogConfig:{title:'<span class="rup-icon rup-icon-filter"></span>'+e.rup.i18n.base.rup_table.plugins.multifilter.tittle,width:"450px",buttons:[{id:t.id+"_multifilter_BtnSave",text:e.rup.i18n.base.rup_table.plugins.multifilter.save,click:function(){if(i._checkLabel(t)){var n=i._createFilterFromForm(t),a=i.triggerHandler("rupTable_beforeAdd");if(a===!1||"stop"===a)return void r.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.errorValidate,"error");i.rup_table("addFilter",n)}}},{id:t.id+"_multifilter_BtnApply",text:e.rup.i18n.base.rup_table.plugins.multifilter.apply,click:function(){if(t.$firstStartUp&&(t.$firstStartUp=!1),i._checkLabel(t)){r.$filterWithName=!0;var n=i._searchFilterInCombo(t);void 0!=n?(i.rup_table("cleanFilterForm"),i.triggerHandler("rupTable_multifilter_fillForm",n),i._fillForm(n),i.rup_table("filter"),r.$closeDialog.click()):r.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.errorNoexiste,"error")}}},{id:t.id+"_multifilter_BtnRemove",text:e.rup.i18n.base.rup_table.plugins.multifilter.remove,click:function(){if(i._checkLabel(t)){var e=i._createFilterFromForm(t);i.rup_table("deleteFilter",e)}}},{text:e.rup.i18n.base.rup_table.plugins.multifilter.cancel,click:function(){var e=i.data("filtroAnterior");null!=e&&(i.rup_table("cleanFilterForm"),i.triggerHandler("rupTable_multifilter_fillForm",e),i._fillForm(e)),r.$comboLabel.val(""),r.$closeDialog.click()},btnType:e.rup.dialog.LINK}]}}}),i.on("rupTable_beforeFilter",function(e){}),r.$dropdownButton=e("#"+t.id+"_filter_filterButton_dropdown"),r.$combo=e("#"+t.id+"_multifilter_combo"),r.$comboLabel=e("#"+t.id+"_multifilter_combo_label"),r.$comboButton=e("#"+t.id+"_multifilter_dropdownDialog .rup-combobox-toggle"),r.$defaultCheck=e("#"+t.id+"_multifilter_defaultFilter"),r.$feedback=e("#"+t.id+"_multifilter_dropdownDialog_feedback"),r.$closeDialog=e("#closeText_"+t.id+"_multifilter_dropdownDialog"),e("#"+r.dropdownDialogId).rup_dialog("setOption","modal",!0),e("#"+r.dropdownDialogId).rup_dialog("setOption","draggable",!1),e("#"+r.dropdownDialogId).rup_dialog("setOption","resizable",!1),e("#"+r.dropdownDialogId).parent().css("width","500px"),r.$dropdownButton.on("click",function(){var n=form2object(t.filter.$filterContainer[0]);e.rup_utils.jsontoarray(n);i.data("filtroAnterior",n),r.$comboLabel.focus()}),i._configCombo(t),r.$feedback.rup_feedback({block:!1}),e(".rup-dropdown-dialog").on("dialogclose",function(){r.$comboLabel.autocomplete("widget").hide()});var n=form2object(t.filter.$filterContainer[0]);xhrArray=e.rup_utils.jsontoarray(n),i.data("filtroAnterior",n),i.on({"rupTable_beforeAdd.multifilter.validate":function(){return void 0!==r&&t.$firstStartUp?null:t.filter.$filterContainer.valid()}})}}),jQuery.fn.rup_table("extend",{getMultifilterDialogTemplate:function(t){var i=t.multifilter,r=jQuery('<div id="'+i.dropdownDialogId+'" style="display:none" class="rup_multifilter_dropdown"><div id="'+i.dropdownDialogId+'_feedback"></div><form><fieldset class="dropdownButton-inputs"><div id="'+i.dropdownDialogId+'_columna_cnt" class="formulario_columna_cnt"><div  id="'+i.dropdownDialogId+'_lineaCombo"  class="formulario_linea_izda_float"><label for="'+t.id+'_multifilter_combo">'+e.rup.i18n.base.rup_table.plugins.multifilter.filters+'</label><input id="'+t.id+'_multifilter_combo" class="rup_multifilter_selector" /></div><div  id="'+i.dropdownDialogId+'_lineaDefault" class="formulario_linea_izda_float"><input type="checkbox" id="'+t.id+'_multifilter_defaultFilter"/><label for="'+t.id+'_multifilter_defaultFilter">'+e.rup.i18n.base.rup_table.plugins.multifilter.defaultFilter+"</label></div></div></fieldset></form></div>");return r},configureMultifilter:function(t){var i=this,r=t.multifilter;i.data("settings",t),t.filter.$filterForm=e("#"+t.id+"_filter_form");var n;n=null!=r.idFilter?r.idFilter:t.id;var a;a=null!=r.userFilter?r.userFilter:LOGGED_USER;var s;s=null==r.getDefault||r.getDefault,jQuery("#"+t.id+"_multifilter_combo").rup_autocomplete({source:t.baseUrl+"/multiFilter/getAll?filterSelector="+n+"&user="+a,sourceParam:{label:"filterName",value:"filterDefault",data:"filterValue"},method:"GET",contains:!1,combobox:!0,menuAppendTo:e("#"+r.dropdownDialogId).parent(),select:function(){var e=i._searchFilterInCombo(t);i.rup_table("cleanFilterForm"),i.triggerHandler("rupTable_multifilter_fillForm",e),i._fillForm(e)}}),e(".jstree").on("rup_filter_treeLoaded",function(t,i){e(this).rup_tree("setRupValue",i)}),t.filter.$cleanLink.on("click",function(){r.$combo.rup_autocomplete("set","",""),t.filter.$filterSummary.html("<i></i>")})},addFilter:function(t){var i=this,r=i.data("settings"),n=r.multifilter;null!=n.idFilter&&(t.filtro.filterSelector=n.idFilter),e.rup_ajax({url:r.baseUrl+"/multiFilter/add",type:"POST",data:e.toJSON(t),dataType:"json",showLoading:!1,contentType:"application/json",async:!1,beforeSend:function(e,t){return i.triggerHandler("rupTable_multifilter_beforeAdd",[e,t])},success:function(t,i,r){n.$savedFilterName=t.filterName,n.$savedFilterValue=t.filterValue,n.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.ok,"ok"),n.$comboLabel.data("tmp.loadObjects.term",null),n.$comboLabel.data("loadObjects",{}),n.$comboLabel.data("tmp.data",{}),n.$comboLabel.autocomplete("widget").is(":visible")&&n.$comboLabel.autocomplete("widget").hide()},error:function(t,i,r){n.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.error,"error")}})},deleteFilter:function(t){var i=this,r=i.data("settings"),n=r.multifilter;n.$savedFilterName=void 0,n.$savedFilterValue=void 0,null!=n.idFilter&&(t.filtro.filterSelector=n.idFilter),e.rup_ajax({url:r.baseUrl+"/multiFilter/delete",type:"POST",data:e.toJSON(t),dataType:"json",showLoading:!1,contentType:"application/json",async:!1,success:function(t,i,r){n.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.ok,"ok"),n.$combo.rup_autocomplete("set","",""),n.$comboLabel.data("tmp.loadObjects.term",null),n.$comboLabel.data("loadObjects",{}),n.$comboLabel.data("tmp.data",{}),n.$comboLabel.autocomplete("widget").is(":visible")&&n.$comboLabel.autocomplete("widget").hide(),"no_records"==t.filterFeedback&&n.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.noRecords,"error")},error:function(t,i,r){n.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.error,"error")}})}}),jQuery.fn.rup_table("extend",{_createFilterFromForm:function(t){var i,r=t.multifilter,n=form2object(t.filter.$filterContainer[0]);e.each(e("[ruptype='date']",t.filter.$filterContainer),function(t,r){i=e(r).datepicker("getDate"),null!=i&&(n[r.name]=i.getTime().toString())});var a,s=e.toJSON(n);a=null!=r.userFilter?r.userFilter:LOGGED_USER;var o={filtro:{filterSelector:t.id,filterName:r.$comboLabel.val(),filterValue:s,filterDefault:r.$defaultCheck.is(":checked"),filterUser:a}};return o},_configCombo:function(t){var i=t.multifilter;i.$comboLabel.on("change",function(){t.filter.$filterSummary.html("<i></i>")}),i.$comboLabel.data("uiAutocomplete")._renderItem=function(t,i){return i.value?e("<li></li>").data("item.autocomplete",i).append("<a><b>"+i.label+"</b></a>").appendTo(t):e("<li></li>").data("item.autocomplete",i).append("<a>"+i.label+"</a>").appendTo(t)},i.$comboLabel.off("blur click"),i.$comboLabel.attr("placeholder",e.rup.i18n.base.rup_table.plugins.multifilter.input),i.$comboLabel.on("blur",function(r){var n=i.$combo.data("selected"),a=e(".ui-autocomplete:visible").length>0;if(i.$combo.data("selected",!1),"keydown"===r.type&&13!==r.keyCode)return!0;if(a===!0&&"keydown"===r.type)return i.$combo.focus(),r.stopPropagation(),!0;var s=e(r.currentTarget),o=i.$comboLabel.data("loadObjects");return 1==t.getText?void 0!==o[s.val()]?(i.$combo.val(s.val()),i.$combo.attr("rup_autocomplete_label",s.val())):(i.$combo.val(s.val()),i.$combo.attr("rup_autocomplete_label",s.val())):void 0!==o[s.val()]?(i.$combo.val(o[s.val()]),i.$combo.attr("rup_autocomplete_label",o[s.val()])):s.autocomplete("close"),("keydown"!==r.type||13!==r.keyCode||!n&&!a)&&void 0}),i.$comboButton.off("click mousedown"),i.$comboButton.on("blur",function(){i.$comboLabel.autocomplete("widget").is(":visible")&&i.$comboLabel.autocomplete("widget").hide()}),i.$comboButton.on("click",function(){i.$comboLabel.autocomplete("widget").is(":visible")?i.$comboLabel.autocomplete("widget").hide():(i.$comboLabel.autocomplete("search",""),i.$comboLabel.autocomplete("widget").show(),i.$comboLabel.autocomplete("widget").trigger("focus"))})},_checkLabel:function(t){var i=t.multifilter;return""==e.trim(i.$comboLabel.val())?(i.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.emptyName,"error"),!1):!(i.$comboLabel.val().length>t.multifilter.labelSize)||(i.$feedback.rup_feedback("set",e.rup.i18n.base.rup_table.plugins.multifilter.tooLong,"error"),!1)},_searchFilterInCombo:function(t){var i=t.multifilter,r=e("#"+t.id+"_multifilter_combo_label").val(),n=e("#"+t.id+"_multifilter_combo_label").data("tmp.data"),a=e.grep(n,function(e,t){if(e.label==r)return e});if(0!=a.length){i.$defaultCheck.attr("checked",a[0].value);var s=e.parseJSON(a[0].data),o=[];o=e.rup_utils.jsontoarray(s)}if(void 0==s&&void 0!=i.$savedFilterName&&i.$savedFilterName===r)var s=e.parseJSON(i.$savedFilterValue);return s},_fillForm:function(t){var i=this,r=i.data("settings");e("[ruptype='date']",r.filter.$filterContainer).each(function(i,r){var n,a=jQuery(r),s=t[r.name];if(void 0!=s&&s.search("/")==-1){var o=new Date(parseInt(s)),l=a.data("datepicker").settings.dateFormat;if(a.data("datepicker").settings.datetimepicker){var d={hour:o.getHours(),minute:o.getMinutes(),second:o.getSeconds()};n=e.datepicker.formatDate(l,o)+" "+e.timepicker._formatTime(d,"hh:mm:ss")}else n=e.datepicker.formatDate(l,o);t[r.name]=n}});var n=e.rup_utils.jsontoarray(t);e.rup_utils.populateForm(n,e(this.selector+"_filter_form"))}}),jQuery.fn.rup_table.plugins.multifilter={},jQuery.fn.rup_table.plugins.multifilter.defaults={multifilter:{}}}(jQuery),function(e){jQuery.rup_table.registerPlugin("responsive",{loadOrder:20,preConfiguration:function(e){var t=this;return t.rup_table("preConfigureResponsive",e)},postConfiguration:function(e){var t=this;return t.rup_table("postConfigureResponsive",e)}}),e.extend(e.rup,{table:{responsive:{SCREEN_SM:768,SCREEN_MD:992,SCREEN_LG:1200}}}),e.extend(e.jgrid,{}),jQuery.fn.rup_table("extend",{preConfigureResponsive:function(e){},postConfigureResponsive:function(t){function i(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e}function r(){for(var t=this,i=t[0].p.colModel.map(function(e,t){return e.width}),r=0;r<i.length;r++)e(".ui-jqgrid-labels > th:eq("+r+")").css("width",i[r]),t.find("tr").find("td:eq("+r+")").each(function(){e(this).css("width",i[r])})}function n(){console.log("entra");var t,r,n,a,s=0,o=this[0],l=this[0],d=e.jgrid.cell_width?0:i(o.p.cellLayout,0),u=0,c=i(o.p.scrollOffset,0),h=!1,p=0,f=0;e.each(o.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),o.p.grouping&&o.p.autowidth){var t=e.inArray(this.name,o.p.groupingView.groupField);t!==-1&&(this.hidden=!o.p.groupingView.groupColumnShow[t])}this.widthOrg=r=i(this.width,0),this.hidden===!1&&(s+=r+d,this.fixed?p+=r+d:u++,f++)}),isNaN(o.p.width)&&(o.p.width=s+(o.p.shrinkToFit!==!1||isNaN(o.p.height)?0:c)),l.width=o.p.width,o.p.tblwidth=s,o.p.shrinkToFit===!1&&o.p.forceFit===!0&&(o.p.forceFit=!1),o.p.shrinkToFit===!0&&u>0&&(n=l.width-d*u-p,isNaN(o.p.height)||(n-=c,h=!0),s=0,e.each(o.p.colModel,function(e){this.hidden===!1&&this.fixed!==!0&&(console.log("->"+this.name+" - hidden:"+this.hidden+" - fixed: "+this.fixed+" -  tblwidth: "+o.p.tblwidth+" - width: "+this.width),r=Math.round(n*this.width/(o.p.tblwidth-d*u-p)),this.width=r,s+=r,t=e)}),a=0,h?l.width-p-(s+d*u)!==c&&(a=l.width-p-(s+d*u)-c):h||1===Math.abs(l.width-p-(s+d*u))||(a=l.width-p-(s+d*u)),o.p.colModel[t].width+=a,o.p.tblwidth=s+a+d*u+p,o.p.tblwidth>o.p.width&&(o.p.colModel[t].width-=o.p.tblwidth-parseInt(o.p.width,10),o.p.tblwidth=o.p.width))}function a(){l.css("width","100%"),l.parents(".ui-jqgrid-bdiv").css("width","100%"),l.parents(".ui-jqgrid-view").css("width","100%"),l.parents(".ui-jqgrid").css("width","100%"),l.parents(".ui-jqgrid").find(".ui-jqgrid-htable").css("width","100%"),l.parents(".ui-jqgrid").find(".ui-jqgrid-hdiv").css("width","100%"),l.parents(".ui-jqgrid").find(".ui-jqgrid-pager").css("width","100%"),l.data("settings").$toolbar.css("width","100%"),e.proxy(n,l)(),e.proxy(r,l)()}var s,o,l=this;return t.fluid.baseLayer=e.rup_utils.getJQueryId(null!==t.fluid.baseLayer?t.fluid.baseLayer:t.id+"_div"),t.fluid.$baseLayer=jQuery(t.fluid.baseLayer),
0===t.fluid.$baseLayer.length?void alert("El identificador "+t.baseLayer+" especificado para la capa sobre la que se va a aplicar el diseño líquido no existe."):(s=t.fluid.fluidBaseLayer=t.fluid.$baseLayer,e(window).on("resize",function(t,i,r){if(l.is(":visible")){var n,a;n=e(window).width(),o=n>e.rup.table.responsive.SCREEN_LG?"lg":n>e.rup.table.responsive.SCREEN_MD?"md":n>e.rup.table.responsive.SCREEN_SM?"sm":"xs",a=l.rup_table("getRwdColConfig"),e.each(a,function(e,t){t[o]===!0?l.rup_table("showCol",t.name):l.rup_table("hideCol",t.name)})}}),l.on("jqGridAfterLoadComplete",function(){e.proxy(a,l)()}),void e(window).on("resize",function(){e.proxy(a,l)()}))}}),jQuery.fn.rup_table("extend",{getRwdColConfig:function(){var t,i,r,n,a=this,s=[],o={};return t=e.grep(a.rup_table("getColModel"),function(e,t){return e.rwdClasses}),e.each(t,function(e,t){i=t.rwdClasses,o={name:t.name,xs:!0,sm:!0,md:!0,lg:!0},r=i.split(" "),console.log("name:"+t.name);for(var e=0;e<r.length;e++)n=r[e].split("-"),console.log("splitAux2:"+n[0]),console.log("splitAux2:"+n[1]),"hidden"===n[0]&&(o[n[1]]=!1);s.push(o)}),console.log(s),s}}),jQuery.fn.rup_table.plugins.responsive={},jQuery.fn.rup_table.plugins.responsive.defaults={fluid:{baseLayer:null,minWidth:100,maxWidth:2e3,fluidOffset:0},toolbar:{autoAjustToolbar:!1,width:"87.6%"}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","./templates","jquery.scrollTo","./rup.base"],e):e(jQuery,Rup)}(function(e,t){var i={};$.extend($.rup.iniRup,$.rup.rupSelectorObjectConstructor("rup_tabs",i)),$.fn.rup_tabs("extend",{disableTabs:function(e){var t;if("number"==typeof e.position)$("#"+e.idTab).tabs("disable",e.position),this.trigger("disable",null,t,$("#"+e.idTab));else if("object"==typeof e.position)for(var i in e.position)$("#"+e.idTab).tabs("disable",e.position[i]),this.trigger("disable",null,t,$("#"+e.idTab));else if("undefined"==typeof e.position){$("#"+e.idTab).tabs("disable");for(var r=$("#"+e.idTab).find(".ui-tabs-nav li").size(),n=1;n<=r;n++)t=$("#"+e.idTab).find(".ui-tabs-nav li:eq("+n+")"),this.trigger("disable",null,t,$("#"+e.idTab))}},enableTabs:function(e){var t;if("number"==typeof e.position)t=$("#"+e.idTab).find(".ui-tabs-nav li:eq("+e.position+")"),$("#"+e.idTab).tabs("enable",e.position),this.trigger("enable",null,t,$("#"+e.idTab));else if("object"==typeof e.position)for(var i in e.position)t=$("#"+e.idTab).find(".ui-tabs-nav li:eq("+e.position[i]+")"),$("#"+e.idTab).tabs("enable",e.position[i]),this.trigger("enable",null,t,$("#"+e.idTab));else if("undefined"==typeof e.position){$("#"+e.idTab).tabs("enable");for(var r=$("#"+e.idTab).find(".ui-tabs-nav li").size(),n=1;n<=r;n++)t=$("#"+e.idTab).find(".ui-tabs-nav li:eq("+n+")"),this.trigger("enable",null,t,$("#"+e.idTab))}},loadTab:function(e){$("#"+e.idTab).tabs("load",e.position)},changeUrlTab:function(e){this._changeUrlTab({idTab:e.idTab,position:e.position,url:$.rup_utils.setNoPortalParam(e.url)})},changeLayerTab:function(e){this._includeLayer($("#"+e.idTab+" ul:first-child"),e.layer,$($("#"+e.idTab+" ul li a").get(e.position)))},selectTab:function(e){$("#"+e.idTab).tabs("option","active",e.position)},addTab:function(e){var t,i,r="rup-tabs-",n=0,a="";if(void 0!==e.maxNumberTabs){var s=$("#"+e.idTab+" li").size();if(s+1>e.maxNumberTabs)return $("#"+e.idTab).trigger("limitTabs"),!1}if(void 0!==e.lengthLiteral&&(a=e.label,e.label.length>e.lengthLiteral&&(e.label=e.label.substr(0,e.lengthLiteral).concat("..."))),void 0!==e.tabs){if(void 0===e.idNewTab||0!==$("#"+e.idNewTab).length)return $.rup.errorGestor($.rup.i18nParse($.rup.i18n.base,"rup_global.parameterError")),!1;t=$("<div>").attr("id",e.idNewTab),t.appendTo("body"),i=this._includeLayer($("#"+e.idTab+" > ul:first-child"),"#"+e.idNewTab,null),t.rup_tabs(e),this._addTab({idTab:e.idTab,url:e.idNewTab,label:e.label,position:e.position}),$(i).remove()}else void 0!==e.layer?(e.layer=this._includeLayer($("#"+e.idTab+" > ul:first-child"),e.layer,null),this._addTab({idTab:e.idTab,url:e.layer,label:e.label,position:e.position}),$.each($("#"+e.idTab+" div[id*='"+r+"']"),function(e,t){n<parseFloat(t.id.split(r)[1])&&(n=t.id.split(r)[1])})):(this._addTab({idTab:e.idTab,url:$.rup_utils.setNoPortalParam(e.url),label:e.label,position:e.position}),$.each($("#"+e.idTab+" div[id*='"+r+"']"),function(e,t){n<parseFloat(t.id.split(r)[1])&&(n=t.id.split(r)[1])}),$("#"+e.idTab+" div[id='rup-tabs-"+n+"']").addClass("ui-tabs-hide"),void 0!==e.fixedHeight&&$("#"+e.idTab+" div[id='rup-tabs-"+n+"']").css("height",e.fixedHeight));$("#"+e.idTab+" ul:first li:nth-child("+(e.position+1)+") a").attr("title",a).rup_tooltip({}),e.tabsAtBottom&&(loadLi=$("#"+e.idTab+" ul li:last").not(".rup-tabs_loading"),loadLi.removeClass("ui-corner-top").addClass("ui-corner-botttom")),loadSpan=$("#"+e.idTab+" ul li a span:last").not(".rup-tabs_loading"),e.close===!0?(loadSpan.parent().append($("<div>").addClass("rup-tabs_title").text($.rup.i18nParse($.rup.i18n.app[$(this).attr("id")],e.label))).append($("<span>").addClass("rup-tabs_loading")).append('<span class="ui-icon ui-icon-close" role="presentation">Remove Tab</span>'),$("span.ui-icon-close").on("click",function(){var e=$(this).parent().attr("href");$(this).parent().parent().remove(),$(e).remove(),tabs.parent().tabs("refresh")}),$("span.ui-icon-close").addClass("rup-tabs-close"),$("span.ui-icon-close").on({mouseenter:function(){$(this).addClass("rup-tabs-close-hover")},mouseleave:function(){$(this).removeClass("rup-tabs-close-hover")}})):loadSpan.parent().append($("<div>").addClass("rup-tabs_title").text($.rup.i18nParse($.rup.i18n.app[$(this).attr("id")],e.label))).append($("<span>").addClass("rup-tabs_loading")),loadSpan.remove()},removeTab:function(e){this._removeTab({idTab:e.idTab,position:e.position})},selected:0}),$.fn.rup_tabs("extend",{_init:function(e){if(e.length>1)$.rup.errorGestor($.rup.i18nParse($.rup.i18n.base,"rup_global.initError")+$(this).attr("id"));else{var t=$.extend({},$.fn.rup_tabs.defaults,e[0]);t.id=$(this).attr("id"),t.iniLoad=!1,void 0!==t.width&&$("#"+t.id).css("width",t.width).addClass("rup-tabs_overflow"),void 0!==t.height&&$("#"+t.id).css("height",t.height).addClass("rup-tabs_overflow");for(var i=t.tabs,r=0;void 0!==i;)r+=1,i=i[0].tabs;if(t.profun=r,this._parseJSON(t.tabs,$.rup.i18n.app[t.id],$("#"+t.id),"",1,t),t.iniLoad=!0,this._tabify($("#"+t.id),t),void 0!==t.fixedHeight&&$("#"+t.id+">.ui-tabs-panel").css("height",t.fixedHeight),$("#"+t.id).on("limitTabs",function(){alert("limite de pestañas alcanzado")}),void 0!==t.disabled)for(var n in t.disabled)$("#"+t.id).rup_tabs("disableTabs",{idTab:n,position:t.disabled[n]})}},_tabify:function(e,t){e.addClass("rup-tabs_container"),e.data("settings",t);var i=function(e,i){void 0!==$(i.panel).data("cargado")&&$(i.panel).data("cargado")===!1&&$(i.panel).length>0&&($(i.panel).tabs("load",t.selected),$(i.panel).data("cargado",!0)),void 0!==t.select&&null!==t.select&&"function"==typeof t.select&&t.select(e,i)},r=$.extend({},t.ajaxOptions);r.beforeSend=function(i,r){if(void 0!==t.ajaxOptions.beforeSend&&null!==t.ajaxOptions.beforeSend&&"function"==typeof t.ajaxOptions.beforeSend&&t.ajaxOptions.beforeSend.call(),!t.iniLoad)return e.data("cargado",!1),!1},r.complete=function(i,r){e.find("span.rup-tabs_loading_img").remove(),void 0!==t.ajaxOptions.complete&&null!==t.ajaxOptions.complete&&"function"==typeof t.ajaxOptions.complete&&t.ajaxOptions.complete(i,r)},r.success=function(e,i,r){void 0!==t.ajaxOptions.success&&null!==t.ajaxOptions.success&&"function"==typeof t.ajaxOptions.success&&t.ajaxOptions.success(e,i,r)},r.error=function(e,i,r){var n;void 0!==t.ajaxOptions.error&&null!==t.ajaxOptions.error&&"function"==typeof t.ajaxOptions.error&&(n=function(){t.ajaxOptions.error(e,i,r)}),$.rup_messages("msgError",{title:$.rup.i18nParse($.rup.i18n.base,"rup_global.developerError"),message:"<p>"+$.rup.i18nParse($.rup.i18n.base,"rup_tabs.serverError")+"<b> "+i+":  "+e.status+" - "+e.statusText+".</b></p>",width:"40%",beforeClose:n})},$(e).tabs({ajaxOptions:t.cache===!1?$.extend(r,{cache:!1}):r,cache:t.cache,cookie:null,show:t.fx?t.fx[0]:null,hide:t.fx?t.fx[1]:null,idPrefix:"rup-tabs-",panelTemplate:t.panelTemplate,active:t.selected,spinner:"<span class='rup-tabs_loading_img' />",create:t.create,beforeActivate:i,load:t.load,activate:t.show,add:t.add,remove:t.remove}),t.scrollable===!0&&this._scrollable(t),t.tabsAtBottom===!0&&($(e).addClass("tabs-bottom"),$(e).find(".tabs-spacer").css("float","left").css("height","200px"),$(".ui-tabs-nav, .ui-tabs-nav > *",$(e)).removeClass("ui-corner-all ui-corner-top").addClass("ui-corner-bottom"),$(".ui-tabs-panel.ui-widget-content.ui-corner-bottom",$(e)).removeClass("ui-corner-bottom").addClass("ui-corner-top"),$(".ui-tabs-nav",$(e)).appendTo(".tabs-bottom"))},_parseJSON:function(i,r,n,a,s,o){var l,d,u,c="",h=$(t.Templates.rup.tabs.container());n.append(h),n=$(n).children("ul");for(var p=0;p<i.length;p++)if(d=a+p,l=i[p],0===p&&s===o.profun?o.iniLoad=!0:o.iniLoad=!1,u=$.rup.i18nParse(r,l.i18nCaption),void 0!==o.lengthLiteral&&(c=u,u.length>o.lengthLiteral&&(u=u.substr(0,o.lengthLiteral).concat("..."))),void 0!==l.layer)l.layer=this._includeLayer(n,l.layer,null),h.append(t.Templates.rup.tabs.tab({id:l.i18nCaption,href:l.layer,rupLevel:d,title:c,"aria-controls":c,alt:c,label:u,btnClose:o.close})),$("span.ui-icon-close").on("click",function(){var e=$(this).parent().attr("href");$(this).parent().parent().remove(),$(e).remove(),n.parent().tabs("refresh")}),$("span.ui-icon-close").addClass("rup-tabs-close"),$("span.ui-icon-close").on({mouseenter:function(){$(this).addClass("rup-tabs-close-hover")},mouseleave:function(){$(this).removeClass("rup-tabs-close-hover")}});else if(void 0!==l.url)h.append(t.Templates.rup.tabs.tab({id:"#"+l.i18nCaption,href:$.rup_utils.setNoPortalParam(l.url),rupLevel:d,title:c,"aria-controls":c,alt:c,label:u,btnClose:o.close}));else if(void 0!==l.tabs){h.append(t.Templates.rup.tabs.tab({id:"#"+l.i18nCaption,href:"#"+l.i18nCaption,rupLevel:d,title:c,"aria-controls":c,alt:c,label:u,btnClose:o.close,tabs:l.tabs})),n=$(n).parent();var f="rupRandomLayerId-"+$.rup_utils.autoGenerateIdNum++,g=$(t.Templates.rup.tabs.subtab({rupRandomLayerId:f,id:l.i18nCaption,actualTab:!0}));n.append(g);$("[id='"+l.i18nCaption+"']",g);n=$(n).children("#"+f),n.prepend($("<div>").attr("id",l.i18nCaption).attr("actualTab",!0)),n=$(n).children("div:first-child");var m=e.extend(!0,{},o);m.selected=l.selected,n.append(this._parseJSON(l.tabs,r,n,d,s+1,m)),this._tabify(n,m)}},_includeLayer:function(e,t,i){var r,n;return $(t).length>0?(n=1===$(t).length?$(t).css("display",""):$("<div>").append($(t).css("display","")),null===i?(r=$("<div>").append(n),e.parent().append(r),t="#"+$.rup_utils.randomIdGenerator(r)):(t=i.attr("href"),r=$(i.attr("href")),r.children().remove(),r.append(n))):(t="#load-tab-error",null===i?e.parent().append($("<div>").attr("id","load-tab-error").append($("<div>").addClass("rup-loading_tab_error").append($.rup.i18nParse($.rup.i18n.base,"rup_global.selectorError")))):(t=i.attr("href"),r=$(i.attr("href")),r.children().remove(),r.append($("<div>").attr("id","load-tab-error").append($("<div>").addClass("rup-loading_tab_error").append($.rup.i18nParse($.rup.i18n.base,"rup_global.selectorError")))))),t},_scrollable:function(e){var t,i=$.extend({},e),r=$(this),n=r.find(".ui-tabs-nav");r.css({padding:2,position:"relative"}),r.wrap('<div id="stTabswrapper" class="stTabsMainWrapper" style="position:relative"/>').find(".ui-tabs-nav").css("overflow","hidden").wrapInner('<div class="stTabsInnerWrapper" style="width:30000px"><span class="stWidthChecker"/></div>');var a=(r.find(".stWidthChecker"),r.find(".stTabsInnerWrapper"),r.parents("#stTabswrapper").width(r.outerWidth(!0)));$.browser.safari&&a.width(r.width()+6),i.resizable&&($.fn.resizable?a.resizable({minWidth:a.width(),maxWidth:2*a.width(),minHeight:a.height(),maxHeight:2*a.height(),handles:i.resizeHandles,alsoResize:r,resize:function(){r.trigger("resized")}}):alert('Error:\nCannot be resizable because "jQuery.resizable" plugin is not available.'));var s=parseInt(parseInt(n.innerHeight()/2)-8),o={cursor:"pointer","z-index":1e3,position:"absolute",top:3,height:n.outerHeight()-($.browser.safari?2:1)};a.prepend(t=$("<div/>").disableSelection().css({position:"relative","z-index":3e3,display:"block"}).append($("<span/>").disableSelection().attr("title","Previous tab").css(o).addClass("ui-state-active ui-corner-tl ui-corner-bl stPrev stNav").css("left",3).append($("<span/>").disableSelection().addClass("ui-icon ui-icon-carat-1-w").html("Previous tab").css("margin-top",s)).click(function(){if(!$(this).hasClass("ui-state-disabled"))return prevIndex=n.find("li.ui-tabs-active").prevAll().length-1,n.find("li").eq(prevIndex).find("a").trigger("click"),!1}),$("<span/>").disableSelection().attr("title","Next tab").css(o).addClass("ui-state-active ui-corner-tr ui-corner-br stNext stNav").css({right:3}).append($("<span/>").addClass("ui-icon ui-icon-carat-1-e").html("Next tab").css("margin-top",s)).click(function(){return nextIndex=n.find("li.ui-tabs-active").prevAll().length+1,n.find("li").eq(nextIndex).find("a").trigger("click"),!1}))),r.on("navEnabler",function(){setTimeout(function(){var e=n.find(".ui-tabs-active").is(":last-child"),t=n.find(".ui-tabs-active").is(":first-child"),i=a.find(".stNext"),r=a.find(".stPrev");e?(r.removeClass("ui-state-disabled"),i.addClass("ui-state-disabled")):t?(i.removeClass("ui-state-disabled"),r.addClass("ui-state-disabled")):(i.removeClass("ui-state-disabled"),r.removeClass("ui-state-disabled"))},i.animationSpeed)}).on("navHandler",function(){$(".stWidthChecker").children().length>5?(t.show(),n.find("li:first").css("margin-left",t.find(".stPrev").outerWidth(!0))):(t.hide(),n.find("li:first").css("margin-left",0))}).on("scrollToTab",function(e,a,s,o){a="undefined"!=typeof a?$(a):n.find("li.ui-tabs-active");var l=t.is(":visible")?t.find(".stPrev").outerWidth(!0):0;offsetLeft=-(r.width()-(a.outerWidth(!0)+l+parseInt(n.find("li:last").css("margin-right"),10))),offsetLeft="tabClicked"==s&&"left"==o?-l:offsetLeft,offsetLeft="tabClicked"==s&&"right"==o?offsetLeft:offsetLeft;var d={axis:"x",margin:!0,offset:{left:offsetLeft},easing:i.easing||""};n.scrollTo(a,i.animationSpeed,d)}).on("bindTabClick",function(){n.find("a").click(function(){var e=$(this).parents("li"),i=t.find(".stPrev").outerWidth(!0);return e.position().left-i<0?r.trigger("scrollToTab",[e,"tabClicked","left"]):e.outerWidth()+e.position().left>r.width()-i&&r.trigger("scrollToTab",[e,"tabClicked","right"]),r.trigger("navEnabler"),!1})}).on("resized",function(){r.trigger("navHandler"),r.trigger("scrollToTab",n.find("li.ui-tabs-active"))}).trigger("navHandler").trigger("navEnabler").trigger("bindTabClick")},_addTab:function(e){var t=$("#"+e.idTab).find(".ui-tabs-nav li:eq("+(e.position-1)+")");$("<li><a href='"+e.url+"'>"+e.label+"</a></li>").insertBefore(t),$("#"+e.idTab).tabs("refresh")},_removeTab:function(e){$("#"+e.idTab).find(".ui-tabs-nav li:eq("+(e.position-1)+")").remove();$("#"+e.idTab).tabs("refresh")},_changeUrlTab:function(e){var t=$("#"+e.idTab).find(".ui-tabs-nav li:eq("+e.position+")");$(t).attr("href",e.url)}}),$.fn.rup_tabs.defaults={ajaxOptions:{},cache:!0,cookie:null,show:null,hide:null,panelTemplate:"<div></div>",profun:0,active:0,create:null,beforeActivate:null,load:null,activate:null,add:null,remove:null,enable:null,disable:null,tabsAtBottom:!1}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","jquery-ui-timepicker"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_time",t)),e.fn.rup_time("extend",{getRupValue:function(){var t,i;return t=e(this).data("datepicker").settings.timeFormat,i=e.datepicker.parseTime(t,e(this).rup_time("getTime")),i?e.timepicker._formatTime(i,"hh:mm:ss"):""},setRupValue:function(t){var i,r,n;i=e(this).data("datepicker").settings.timeFormat,r=e.datepicker.parseTime("hh:mm:ss",t),n=r?e.timepicker._formatTime(r,i):"",e(this).val(n)},destroy:function(){var t=e(this).data("datepicker").settings.labelMaskId;t&&e("#"+t).text(""),delete t,e(this).next("img").remove(),e(this).timepicker("destroy")},disable:function(){e(this).timepicker("disable")},enable:function(){e(this).timepicker("enable")},isDisabled:function(){return e(this).timepicker("isDisabled")},hide:function(){e(this).timepicker("hide")},show:function(){e(this).timepicker("show")},getTime:function(){return e(this).val()},setTime:function(t){e(this).timepicker("refresh"),e.datepicker._setTime(e.datepicker._getInst(e("#"+e(this).data("datepicker").settings.id)[0]),t)},refresh:function(){e(this).timepicker("refresh")},option:function(t,i){e(this).timepicker("option",t,i)}}),e.fn.rup_time("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var i=e(this),r=i[0],n=e.extend({},e.fn.rup_time.defaults,t[0]);r._ADAPTER=e.rup.adapter[n.adapter],n.id=i.attr("id"),i.attr("ruptype","time");var a=e.rup.i18n.base.rup_time;for(var s in a)e.timepicker._defaults[s]=a[s];n.labelMaskId&&e("#"+n.labelMaskId).text(e.rup.i18nParse(e.rup.i18n.base,"rup_time.mask")+" "),n.placeholderMask&&i.attr("placeholder",e.rup.i18nParse(e.rup.i18n.base,"rup_time.mask")),n.buttonImage=e.rup.STATICS+(n.buttonImage?n.buttonImage:"/rup/basic-theme/images/clock.png"),i.timepicker(n),e.proxy(r._ADAPTER.initIconTrigger,i)(n),e.rup_utils.aplicatioInPortal()&&!i.is("div")&&e(".r01gContainer").append(e(".ui-datepicker:not(.r01gContainer .ui-datepicker)")),n.disabled&&i.rup_time("disable"),i.parent().find("[title]").rup_tooltip({applyToPortal:!0})}}}),e.fn.rup_time.defaults={adapter:"time_bootstrap",placeholderMask:!1,stepHour:1,stepMinute:1,stepSecond:1,showButtonPanel:!1,timeOnly:!0},e.datepicker._timepicker_doKeyPress=e.datepicker._doKeyPress,e.datepicker._doKeyPress=function(t){var i=e.datepicker._get(e.datepicker._getInst(t.target),"timepicker");switch(t.keyCode){case 37:!t.ctrlKey||t.altKey||t.shiftKey?t.ctrlKey&&t.shiftKey&&!t.altKey?i.minute_slider.slider("option","value",i.minute_slider.slider("option","value")-i._defaults.stepMinute):t.ctrlKey&&t.shiftKey&&t.altKey&&i.second_slider.slider("option","value",i.second_slider.slider("option","value")-i._defaults.stepSecond):i.hour_slider.slider("option","value",i.hour_slider.slider("option","value")-i._defaults.stepHour);break;case 39:!t.ctrlKey||t.altKey||t.shiftKey?t.ctrlKey&&t.shiftKey&&!t.altKey?i.minute_slider.slider("option","value",i.minute_slider.slider("option","value")+i._defaults.stepMinute):t.ctrlKey&&t.shiftKey&&t.altKey&&i.second_slider.slider("option","value",i.second_slider.slider("option","value")+i._defaults.stepSecond):i.hour_slider.slider("option","value",i.hour_slider.slider("option","value")+i._defaults.stepHour)}return i&&i._onTimeChange(),e.datepicker._timepicker_doKeyPress(t)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","blockUI"],e):e(jQuery)}(function(e){e.rup_toolbar=e.rup_toolbar||{},e.extend(e.rup_toolbar,{extend:function(t){e.fn.extend(t)}}),e.rup_toolbar.showingMB=null,e.rup_toolbar.extend({addButton:function(t,i){return e.proxy(this[0]._ADAPTER.addButton,this)(t,i)},addMButton:function(t,i){return e.proxy(this[0]._ADAPTER.addMButton,this)(t,i)},addButtonsToMButton:function(t,i,r){return e.proxy(this[0]._ADAPTER.addButtonsToMButton,this)(t,i,r)},showMButton:function(){var t=e(this),i=t.offset().top+t.getTotalHeight(),r=e.rup_toolbar.showingMB,n=this.id;return r===n?(e("[id='mbutton_"+n+"']").slideUp("fast"),t.removeClass("rup-toolbar_menuButtonSlided"),r=null):(e("[id='mbutton_"+r+"']").slideUp("fast"),e("[id='mbutton_"+n+"']").css("position","absolute").css("top",i).css("left",t.offset().left).slideDown("fast"),e("[id='"+r+"']").removeClass("rup-toolbar_menuButtonSlided"),t.addClass("rup-toolbar_menuButtonSlided"),r=n),e.rup_toolbar.showingMB=r,delete n,delete r,delete i,delete t,!1},disableButton:function(t){t.indexOf(this.attr("id"))===-1&&(t=this.attr("id")+"##"+t),e("[id='"+t+"']").button("disable")},enableButton:function(t){t.indexOf(this.attr("id"))===-1&&(t=this.attr("id")+"##"+t),e("[id='"+t+"']").button("enable")},pressButton:function(t,i){t.indexOf(this.attr("id"))===-1&&(t=this.attr("id")+"##"+t),e("[id='"+t+"']").addClass(i)},unpressButton:function(t,i){t.indexOf(this.attr("id"))===-1&&(t=this.attr("id")+"##"+t),e("[id='"+t+"']").removeClass(i)},tooglePressButton:function(t,i){t.indexOf(this.attr("id"))===-1&&(t=this.attr("id")+"##"+t),e("[id='"+t+"']").toggleClass(i)},refreshButton:function(t){t.indexOf(this.attr("id"))===-1&&(t=this.attr("id")+"##"+t),e("[id='"+t+"']").button("refresh")},_setKeyDown:function(t){t.bind("keydown",function(t){var i,r=e(t.currentTarget),n=r.parent();switch(t.keyCode){case e.ui.keyCode.TAB:if(!t.shiftKey&&(i=r.next().attr("id")!==n.attr("id")+"-rightButtons"?r.next(":focusable"):r.next().children(":focusable:first"),1===i.size()))return i.focus(),e.rup_toolbar.focusedExternally[n.attr("id")]=!0,!1}})}}),e.rup_toolbar.hideMButtons=function(){var t=e.rup_toolbar.showingMB;e("[id='mbutton_"+t+"']").slideUp("fast"),e("[id='"+t+"']").removeClass("rup-toolbar_menuButtonSlided"),t=null,e.rup_toolbar.showingMB=t,delete t},e.fn.getTotalHeight=function(){return e(this).height()+parseInt(e(this).css("paddingTop"))+parseInt(e(this).css("paddingBottom"))+parseInt(e(this).css("borderTopWidth"))+parseInt(e(this).css("borderBottomWidth"))},e.fn.rup_toolbar=function(t){return this.each(function(){var i,r=e.extend({},e.fn.rup_toolbar.defaults,t),n=e(this),a=[];this._ADAPTER=e.rup.adapter[r.adapter],void 0===e.rup_toolbar.focusedExternally&&(e.rup_toolbar.focusedExternally={}),e.rup_toolbar.focusedExternally[this.id]=!1,r.id=this.id,i=e.rup.i18n.app[r.id],n.addClass("rup-toolbar ui-widget-header ui-widget ui-widget-content"),null!=r.width&&n.width(r.width),e(document).click(e.rup_toolbar.hideMButtons);for(var s=0;s<r.buttons.length;s+=1){var o=r.buttons[s];void 0===o.right||o.right!==!0?o.buttons?(mbutton=n.addMButton(e.extend({id:o.id,i18nCaption:o.i18nCaption,css:o.css,click:n.showMButton},o),i),null!==mbutton&&n.addButtonsToMButton(o.buttons,mbutton,i)):n.addButton(o,i):a.push(o)}for(var s=0;s<a.length;s+=1){var l=a[s];l.buttons?(mbutton=n.addMButton({id:l.id,i18nCaption:l.i18nCaption,css:l.css,click:n.showMButton,right:l.right},i),null!==mbutton&&n.addButtonsToMButton(l.buttons,mbutton,i)):n.addButton(l,i)}})},e.fn.rup_toolbar.defaults={width:null,buttons:[],mbuttons:null,adapter:"toolbar_bootstrap"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","qtip2"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_tooltip",t)),e.fn.rup_tooltip("extend",{open:function(){e(this).qtip("show",!0)},close:function(){e(this).qtip("hide",!0)},enable:function(){e(this).qtip("enable",!0)},disable:function(){e(this).rup_tooltip("close"),e(this).qtip("disable",!0)},destroy:function(){e(this).rup_tooltip("disable"),e(this).qtip("destroy")},option:function(t,i){return e(this).qtip("option",t,i)}}),e.fn.rup_tooltip("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else if(e(this).length>0){var i=e.extend({},e.fn.rup_tooltip.defaults,t[0]),r=this[0].className.indexOf("rup-grid")!==-1;if(void 0===i.id&&(i.id=e(this).attr("id")),r){e(this).each(function(t,i){e.attr(this,"rup_tooltip",e.attr(this,"title")),"img"===i.localName&&e(i).parents("td").attr("rup_tooltip",e(i).attr("rup_tooltip"))}).removeAttr("title");i={content:" ",position:{target:"event",effect:!1},show:{delay:i.show.delay},hide:{delay:0},events:{show:function(t,i){var r=e(t.originalEvent.target);if(r.length){for(;void 0===r.attr("rup_tooltip")&&"TD"!==r[0].nodeName;)r=e(r).parent();i.set("content.text",""===r.attr("rup_tooltip")?" ":r.attr("rup_tooltip")),""!==r.attr("rup_tooltip")&&" "!==r.attr("rup_tooltip")||r.qtip("destroy"),"TD"!==r[0].nodeName&&(r=e(r).parents("td")),0==r.nextAll("td:visible").length?i.set("position.my.x","right"):i.set("position.my.x","left"),i.set("position.target",r)}},render:function(t,i){e.rup_utils.aplicatioInPortal()&&(e("div.r01gContainer").append(e(this)),0!==e("#qtip-overlay").size()&&e("div.r01gContainer").append(e("#qtip-overlay")))}}},e(this).qtip(i)}else{var n;n=e.rup_utils.aplicatioInPortal()&&!i.applyToPortal?e("div.r01gContainer "+e(this).selector):this,void 0!==i.open&&(i.events.show=i.open),void 0!==i.close&&(i.events.hide=i.close),i.events.render=function(t,i){e.rup_utils.aplicatioInPortal()&&(e("div.r01gContainer").append(e(this)),0!==e("#qtip-overlay").size()&&e("div.r01gContainer").append(e("#qtip-overlay")))},e(n).qtip(i),i.disabled&&e(n).qtip("disable")}}}}),e.fn.rup_tooltip.defaults={disabled:!1,applyToPortal:!1,show:{delay:0},position:{my:"top left",at:"bottom right",target:"event",effect:!1},events:{}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","jquery.fileupload-ui","jquery.fileupload-jquery-ui","jquery.fileupload-process","jquery.fileupload-image","jquery.fileupload-audio","jquery.fileupload-process","jquery.fileupload-video","jquery.fileupload-validate","jquery.fileupload"],e):e(jQuery)}(function(e){e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{errorMessages:{maxFileSize:e.rup.i18nParse(e.rup.i18n.base,"rup_upload.maxFileSizeError"),minFileSize:e.rup.i18nParse(e.rup.i18n.base,"rup_upload.minFileSizeError"),acceptFileTypes:e.rup.i18nParse(e.rup.i18n.base,"rup_upload.acceptFileTypesError"),maxNumberOfFiles:e.rup.i18nParse(e.rup.i18n.base,"rup_upload.maxNumberOfFilesError")},processdone:function(t,i){return e.proxy(i.self._ADAPTER.processdone,this)(t,i)},getFilesFromResponse:function(t){return t.result&&e.isArray(t.result)?t.result.map(function(t,i){return e.extend(t,{deleteType:t.delete_type,deleteUrl:t.delete_url})}):[]}},_renderUploadTemplate:function(t){var i=this,r=e(),n=e.data(this.element[0],"settings");return e.each(t,function(t,a){var s=e('<tr class="template-upload"><td><div class="formulario_columna_cnt"><span class="izq_float file_icon">&nbsp;</span><div class="izq_float name"><b></b></div><div class="formulario_columna_cnt"><div class="izq_float type"></div><div class="izq_float size"></div>'+(n.submitInForm?'<div class="izq_float cancel" style><button>'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.cancelUpload")+"</button></div>":"")+"</div>"+(n.submitInForm?'<div class="izq_float start fileupload-buttonbar ui-button" style="display:none"><button>'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.startUpload")+"</button></div>":'<div class="formulario_columna_cnt">'+(a.error?'<div class="izq_float error" ></div>':'<button><div class="izq_float progress"><div></div></div><div class="izq_float start fileupload-buttonbar ui-button">'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.startUpload")+"</button></div>")+'<div class="izq_float cancel"><button>'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.cancelUpload")+"</button></div></div>")+"</td></tr>");s.find(".name b").text(a.name),s.find(".size").text(a.sizef),s.find(".type").text(a.type),a.error&&(s.addClass("ui-state-error"),s.find(".error").text(i.options.errorMessages[a.error]||a.error)),r=r.add(s)}),r},_renderDownloadTemplate:function(t){var i=this,r=e();return e.each(t,function(t,n){var a=e('<tr class="template-download"><td>'+(n.error?'<td class="file_icon"></td><td class="name"></td><td class="size"></td><td class="error" colspan="2"></td>':'<div class="formulario_columna_cnt"><span class="izq_float file_icon">&nbsp;</span><div class="izq_float name"><a></a></div></div><div class="formulario_columna_cnt"><div class="izq_float type"></div><div class="izq_float size"></div></div><div class="formulario_columna_cnt"><a><div class="izq_float"><div class="file_download" ><span class="file_download_icon">&nbsp;</span><span class="file_download_text">'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.openUploaded")+'</span></div></div></a><div class="izq_float delete"><button>'+e.rup.i18nParse(e.rup.i18n.base,"rup_upload.deleteUploaded")+"</button></div></div>")+"</td></tr>");a.find(".size").text(n.sizef),a.find(".type").text(n.type),n.error?(a.find(".name").text(n.name),a.addClass("ui-state-error"),a.find(".error").text(i.options.errorMessages[n.error]||n.error)):(a.find(".name a").text(n.name),n.thumbnail_url&&(a.find(".preview").append("<a><img></a>").find("img").prop("src",n.thumbnail_url),a.find("a").prop("target","_blank")),a.find("a").prop("href",e.rup_utils.setNoPortalParam(n.url)),a.find(".delete button").attr("data-type",n.delete_type).attr("data-url",e.rup_utils.setNoPortalParam(n.delete_url))),r=r.add(a)}),r},_initFileUploadButtonBar:function(){var t=this.element.find(".fileupload-buttonbar"),i=this.element.find(".files"),r=this.options.namespace;t.find(".start button").button({icons:{primary:"ui-icon-circle-arrow-e"}}).bind("click."+r,function(e){e.preventDefault(),i.find(".start button").click()}),t.find(".cancel").button({icons:{primary:"ui-icon-cancel"}}).bind("click."+r,function(e){e.preventDefault(),i.find(".cancel button").click()}),t.find(".delete").button({icons:{primary:"ui-icon-trash"}}).bind("click."+r,function(e){e.preventDefault(),i.find(".delete button").click()}),t.find(".toggle").bind("change."+r,function(t){i.find(".delete input").prop("checked",e(this).is(":checked"))})},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i}});var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_upload",t)),e.fn.rup_upload("extend",{option:function(t){e(this).fileupload("option",t)},destroy:function(){e(this).fileupload("destroy")},enable:function(){e(this).fileupload("enable")},disable:function(){e(this).fileupload("disable")},add:function(t){e(this).fileupload("add",t)},send:function(t){e(this).fileupload("send",t)}}),e.fn.rup_upload("extend",{_init:function(t){var i=e.extend({},e.fn.rup_upload.defaults,t[0]),r=this;if(r._ADAPTER=e.rup.adapter[i.adapter],i.self=r,null!==i.pif){var n=jQuery.extend(!0,e.fn.rup_upload.pif.defaults,i.pif);if(n.userFolder!==!0&&void 0===n.folderPath)return alert("RUP_UPLOAD - No se ha especificado el valor del parámetro folderPath para el uso del PIF."),-1;jQuery.extend(!0,i,{formData:{base_url:i.url,hadoop_folder_path:n.folderPath,hadoop_preserve_name:n.preserveName,y31_ttl:n.fileTtl,securityToken:n.securityToken}})}e.data(this[0],"settings",i),e(this).fileupload(i),i.submitInForm&&e(this).rup_upload("option",{singleFileUploads:!1,maxNumberOfFiles:1,replaceFileInput:!1}),e(this).bind("fileuploadadd",function(t,r){i.submitInForm&&(e(this).find(".template-upload").hide(),e(this).find(".template-upload .cancel button").unbind("click"),e(this).find(".template-upload .cancel button").click())}),e(this).bind("fileuploadsend",function(t,i){i.url=e.rup_utils.setNoPortalParam(i.url)})},_private:function(e){}}),e.fn.rup_upload.defaults={adapter:"upload_bootstrap",submitInForm:!1,submitFormButton:void 0,pif:null,uploadTemplateId:!1,downloadTemplateId:!1,uploadTemplate:function(t){return e.proxy(t.options.self._ADAPTER.uploadTemplate,this)(t)},downloadTemplate:function(t){return e.proxy(t.options.self._ADAPTER.downloadTemplate,this)(t)}},e.fn.rup_upload.pif={},e.fn.rup_upload.pif.defaults={fileTtl:129600,preserveName:!1,_JANO_PUT_SERVLET:"/y31ApiJSWAR/Y31JanoServicePutServlet",securityToken:"app"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","jquery.validate","jquery.validate.additional"],e):e(jQuery)}(function(e){function t(e){if(9===e.length){var t=e.substr(0,8);typeof e.substr(e.length-1,e.length);t%=23;var i="TRWAGMYFPDXBNJZSQVHLCKET";return i=i.substring(t,t+1),i==e.substr(e.length-1,e.length).toUpperCase()}return!1}function i(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,"");
}var r={};$.rup_validate={},$.extend($.rup.iniRup,$.rup.rupSelectorObjectConstructor("rup_validate",r));var n={},a=new RegExp("\\{\\d\\}");$.each($.rup.i18n.base.rup_validate.messages,function(t,i){null!==i.match(a)?n[t]=e.validator.format(i):n[t]=i});new RegExp($.rup.i18n.base.rup_validate.regexp.decimal);$.extend($.validator.messages,n),e.validator.addMethod("dni",function(e,t){return this.optional(t)||euroNif(e)}),e.validator.addMethod("dni",function(e,i){return this.optional(i)||t(e)}),e.validator.addMethod("maxWords",function(e,t,r){return this.optional(t)||i(e).match(/\b\w+\b/g).length<r}),e.validator.addMethod("minWords",function(e,t,r){return this.optional(t)||i(e).match(/\b\w+\b/g).length>=r}),e.validator.addMethod("rangeWords",function(e,t,r){return this.optional(t)||i(e).match(/\b\w+\b/g).length>=r[0]&&e.match(/bw+b/g).length<r[1]}),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z-.,()'\"\s]+$/i.test(e)}),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)}),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)}),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)}),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)}),e.validator.addMethod("pattern",function(e,t,i){return this.optional(t)||i.test(e)}),e.validator.addMethod("number",function(e,t){var i=new RegExp($.rup.i18n.base.rup_validate.regexp.decimal);return this.optional(t)||i.test(e)}),e.validator.addMethod("date",function(e,t,i){var r;if("boolean"==typeof i){if(i!==!0)return!0;r=$.rup.i18n.base.rup_validate.format.date}else r=i;return this.optional(t)||$.rup_validate.checkDate(r,e)}),$.extend($.rup_validate,{checkDate:function(e,t){var i,r=function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},n=function(e){for(var t=1;t<=e;t++)this[t]=31,4!=t&&6!=t&&9!=t&&11!=t||(this[t]=30),2==t&&(this[t]=29);return this},a={};if(e=e.toLowerCase(),i=e.indexOf("/")!=-1?"/":e.indexOf("-")!=-1?"-":e.indexOf(".")!=-1?".":"/",e=e.split(i),t=t.split(i),3!=t.length)return!1;for(var s,o=-1,l=-1,d=-1,u=0;u<e.length;u++){var c=null===t[u]||""===t[u]||isNaN(t[u])?0:parseInt(t[u],10);a[e[u]]=c,s=e[u],s.indexOf("y")!=-1&&(o=u),s.indexOf("m")!=-1&&(d=u),s.indexOf("d")!=-1&&(l=u)}s="y"==e[o]||"yyyy"==e[o]?4:"yy"==e[o]?2:-1;var h,p=n(12);return o!==-1&&(h=a[e[o]].toString(),2==s&&1==h.length&&(s=1),h.length==s&&(0!==a[e[o]]||"00"==t[o])&&(d!==-1&&(h=a[e[d]].toString(),!(h.length<1||a[e[d]]<1||a[e[d]]>12)&&(l!==-1&&(h=a[e[l]].toString(),!(h.length<1||a[e[l]]<1||a[e[l]]>31||2==a[e[d]]&&a[e[l]]>r(a[e[o]])||a[e[l]]>p[a[e[d]]]))))))}}),$.fn.rup_validate("extend",{destroy:function(){var e=this;e.rup_validate("resetForm"),$.removeData(e[0]),e.unbind()},resetForm:function(){var e=this,t=e.data("settings");null!=t&&void 0!==t.feedback&&t.showErrorsInFeedback&&t.feedback.rup_feedback("hide"),e.validate().resetForm()}}),$.fn.rup_validate("extend",{});var s={defaultPresetSettings:{showErrors:function(t){var i,r,n,a,s,o,l,d,u=this;if(1===u.currentElements.length&&$.isEmptyObject(t)&&delete u.invalid[u.currentElements.attr("name")],r=u.settings.feedback,u.settings.showErrorsInFeedback&&void 0!==r&&null!==r&&(i=$("<ul>").addClass("rup-maint_feedbackUL").prepend(u.settings.feedbackErrorConfig.errorMsg),e.isEmptyObject(u.invalid)?r.rup_feedback("close"):(u.settings.showFieldErrorsInFeedback&&$.each(e.isEmptyObject(u.submitted)?u.invalid:u.submitted,function(e,t){void 0!==u.invalid[e]&&(n=u.settings.feedbackErrorConfig.getField(u,u.currentForm,e),a=u.settings.feedbackErrorConfig.getFieldName(u,u.currentForm,n),s=u.settings.feedbackErrorConfig.getFieldErrorLabel(u,u.currentForm,n,a),o=u.settings.feedbackErrorConfig.getFieldErrorMsg(u,u.currentForm,n,t),s.append(o),i.append(s))}),r.rup_feedback("option",u.settings.feedbackOptions),r.rup_feedback("set",i,"error"))),u.settings.showFieldErrorAsDefault)for(var c=0;u.errorList[c];c++)l=u.errorList[c],void 0!==l.element&&(d=u.errorsFor(l.element),d.length&&d.remove());for(var c=0;c<u.errorList.length;c++)if(void 0===u.errorList[c].element&&alert("El campo validado no existe en el formulario"),$.isArray(u.errorList[c].message)){for(var h="",p=0;p<u.errorList[c].message.length;p++)h+=u.errorList[c].message[p],p!==u.errorList[c].message.length-1&&(h+=", ");u.errorList[c].message=h}$("."+u.settings.errorClass+":not(.rup-maint_validateIcon)",u.currentForm).removeClass(u.settings.errorClass),u.defaultShowErrors()},showErrorsInFeedback:function(e){},errorPlacement:function(e,t){if("combo"===t.attr("ruptype")){var i=$("#"+t.attr("id")+"-button");i&&e.insertAfter(i)}else e.insertAfter(t)}},showFieldErrorAsDefault:{errorElement:"img",errorPlacement:function(e,t){var i=e.attr("src",this.errorImage).addClass("rup-maint_validateIcon").html("").rup_tooltip({applyToPortal:!0});if("combo"===t.attr("ruptype")){var r=$("#"+t.attr("id")+"-button");r&&i.insertAfter(r)}else i.insertAfter(t)}}};$.fn.rup_validate("extend",{_init:function(e){var t,i,r,n=this;t=$.extend(!0,{},{adapter:$.fn.rup_validate.defaults.adapter},{adapter:s.defaultPresetSettings.adapter},{adapter:e[0].adapter}),n[0]._ADAPTER=$.rup.adapter[t.adapter],i=$.extend(!0,{},s.defaultPresetSettings,{showFieldErrorAsDefault:{errorElement:n[0]._ADAPTER.errorElement,errorPlacement:n[0]._ADAPTER.errorPlacement}}),r=$.extend(!0,{},$.fn.rup_validate.defaults,i,e[0]),n.addClass("rup_validate"),n.attr("ruptype","validate"),r.showFieldErrorAsDefault&&(r=$.extend(!0,r,i.showFieldErrorAsDefault)),r=$.extend(!0,{},r,e[0]),n.validate(r),r.showFieldErrorAsDefault&&(n.validate().showLabel=n[0]._ADAPTER.showLabel),r.liveCheckingErrors||n.unbind("click").unbind("focusin").unbind("focusout").unbind("keyup"),n.on("invalid-form.rupValidate_formValidationError",function(e){n.off("invalid-form.rupValidate_formValidationError"),n.triggerHandler("rupValidate_formValidationError",[this])}),n.data("settings",r)}}),$.fn.rup_validate.defaults={adapter:"validate_bootstrap",ignore:":hidden[ruptype!='autocomplete'][ruptype!='combo']",feedbackOptions:{gotoTop:!1,fadeSpeed:null,delay:null},feedbackErrorConfig:{errorMsg:$.rup.i18nParse($.rup.i18n.base,"rup_maint.validateError"),getField:function(e,t,i){return $("[name='"+i+"']",t)},getFieldName:function(t,i,r){var n,a,s,n,o,l=r.attr("ruptype");return s=e(r.length>1?r[0]:r),n=s.attr("name"),o=s.attr("id"),void 0!==l&&("combo"===l&&(o+="-button"),"autocomplete"===l&&(o+="_label")),a=s.parent().find("label[for='"+n+"']"),a.length>0?a.text():(a=s.parent().find("label[for='"+o+"']"),a.length>0?a.text():s.attr("title"))},getFieldErrorLabel:function(e,t,i,r){return $("<li>").append("<b>"+r+":</b>")},getFieldErrorMsg:function(e,t,i,r){if($.isArray(r)){for(var n=$("<ul>"),a=0;a<r.length;a++)n.append($("<li>").append(r[a]));return n}return $("<ul>").append($("<li>").append(r))}},liveCheckingErrors:!1,showErrorsInFeedback:!0,showFieldErrorAsDefault:!0,showFieldErrorsInFeedback:!0,errorImage:$.rup.STATICS+"/rup/basic-theme/images/exclamation.png"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}(function(e){var t={};e.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_wizard",t)),e.fn.rup_wizard("extend",{step:function(t){if(e("#stepDesc"+t).hasClass("disabled"))return!1;var i=e("#steps li.current").attr("id");e("#steps li").removeClass("current"),e("#stepDesc"+t).addClass("current"),e("#steps li").removeClass("visited"),0!=t&&e("#stepDesc"+(t-1)).addClass("visited"),e("#step"+i.substring(8)).hide(),e("#step"+t).show(),this.rup_wizard("isCurrentStepLast")?(e(".rup-wizard_submitButton").show(),this.rup_wizard("isCurrentStepSummary")||e("#step"+t).find("p[id$='commands']").append(e(".rup-wizard_submitButton"))):e(".rup-wizard_submitButton").hide()},first:function(){this.rup_wizard("step",0)},last:function(){this.rup_wizard("step",e("#steps").children().size()-1)},getCurrentStep:function(){return parseInt(e("#steps li.current").attr("id").substring(8))},isCurrentStep:function(e){return this.rup_wizard("getCurrentStep")===e},isCurrentStepFirst:function(){return this.rup_wizard("isCurrentStep",0)},isCurrentStepLast:function(){return e("#steps").children().size()-1===this.rup_wizard("getCurrentStep")},isCurrentStepSummary:function(){return e("#stepDesc"+this.rup_wizard("getCurrentStep")).hasClass("rup-wizard_summary")},enableStep:function(t){e("#stepDesc"+t).removeClass("disabled")},disableStep:function(t){e("#stepDesc"+t).addClass("disabled")},isStepDisabled:function(t){return e("#stepDesc"+t).hasClass("disabled")}}),e.fn.rup_wizard("extend",{_init:function(t){if(t.length>1)e.rup.errorGestor(e.rup.i18nParse(e.rup.i18n.base,"rup_global.initError")+e(this).attr("id"));else{var i=e.extend({},e.fn.rup_wizard.defaults,t[0]),r=this;if(this.addClass("rup-wizard"),this._formToWizard(i),e("#steps").addClass("rup-wizard_stepsDescContainer"),e("#steps").children().each(function(t,n){e(n).addClass("rup-wizard_stepDesc").click(function(t){var n=e(this).attr("id").substring(8);if(!r.isStepDisabled(n)){if(void 0!==i.stepFnc[n]&&i.stepFnc[n].call()===!1)return t.stopImmediatePropagation(),!1;e(this).rup_wizard("step",n)}});var a=e(n).children();e(a).text(t+1+". "+e(a).text()),e(n).text("").append(a)}),e("p[id$='commands'] .prev").removeClass("prev").addClass("rup-wizard_prev").text(e.rup.i18nParse(e.rup.i18n.base,"rup_wizard.prev")).unbind("click").click(function(e){r._gotoPrevStep(r,i,e)}),e("p[id$='commands'] .next").removeClass("next").addClass("rup-wizard_next").text(e.rup.i18nParse(e.rup.i18n.base,"rup_wizard.next")).unbind("click").click(function(e){r._gotoNextStep(r,i,e)}),e("#"+i.submitButton).addClass("rup-wizard_submitButton"),i.submitFnc&&e("#"+i.submitButton).click(i.submitFnc),e("#steps li:first").addClass("rup-wizard_firstStepDesc"),e("#steps li:last").addClass("rup-wizard_lastStepDesc"),i.summary){e("#steps li:last").removeClass("rup-wizard_lastStepDesc");var n=e("#steps").children().size(),a=e("<li>").attr("id","stepDesc"+n).addClass("rup-wizard_stepDesc rup-wizard_summary rup-wizard_lastStepDesc").append("<a>"+(n+1)+". "+e.rup.i18nParse(e.rup.i18n.base,"rup_wizard.summary")+"</a>").click(function(t){e(this).rup_wizard("step",e(this).attr("id").substring(8)),r._generateSummary(n,r,i),t.preventDefault()});if(e("#steps").append(a),n>1){e("div[id='step"+(n-1)+"']").after("<div id='step"+n+"' style='display: none;'/>");var s=e("<a>").attr("id","step"+(n-1)+"Next").html(e.rup.i18nParse(e.rup.i18n.base,"rup_wizard.next")).addClass("rup-wizard_next").unbind("click").click(function(e){r._gotoNextStep(r,i,e),r._generateSummary(n,r,i),e.preventDefault()});e("#step"+(n-1)+"commands").append(s)}}void 0!==i.disabled&&e.each(i.disabled,function(t,i){if("number"==typeof i)e(this).rup_wizard("disableStep",i);else if("string"==typeof i)for(var r=parseInt(i.substring(0,i.indexOf("-"))),n=parseInt(i.substring(i.indexOf("-")+1,i.length)),a=r;a<=n;a++)e(this).rup_wizard("disableStep",a)})}this.rup_wizard("step",0)},_gotoNextStep:function(t,i,r){var n=parseInt(e("#steps li.current").attr("id").substring(8))+1;if(t.isStepDisabled(n)){if(n=e("#stepDesc"+(n-1)).nextAll("li:not(.disabled)").first().attr("id"),void 0===n)return!1;n=parseInt(n.substring(8)),jQuery("#steps").children().size()-1===n&&t._generateSummary(n,t,i)}return void 0!==i.stepFnc[n]&&e("#stepDesc"+n).not(".rup-wizard_summary").length>0&&i.stepFnc[n].call()===!1?(r.stopImmediatePropagation(),!1):void e("#stepDesc"+n).rup_wizard("step",n)},_gotoPrevStep:function(t,i,r){var n=parseInt(e("#steps li.current").attr("id").substring(8))-1;if(t.isStepDisabled(n)){if(n=e("#stepDesc"+(n+1)).prevAll("li:not(.disabled)").first().attr("id"),void 0===n)return!1;n=parseInt(n.substring(8))}return void 0!==i.stepFnc[n]&&i.stepFnc[n].call()===!1?(r.stopImmediatePropagation(),!1):void e("#stepDesc"+n).rup_wizard("step",n)},_generateSummary:function(t,i,r){if(e("#stepDesc"+t).hasClass("disabled"))return!1;if(e("#step"+t).parent().append(e(".rup-wizard_submitButton")),r.summaryFnc_PRE&&r.summaryFnc_PRE.call()===!1)return!1;e("#step"+t).remove(),e("div[id='step"+(t-1)+"']").after("<div id='step"+t+"' style='display: none;'/>");for(var n=0;n<t;n++)i.isStepDisabled(n)||e("#step"+t).append(e("#step"+n).children().clone());e("#step"+t+" p[id$='commands']").remove(),e("div[id='step"+t+"'] fieldset:last").append("<p id='step"+t+"commands'></p>");var a=e("<a>").attr("id","step"+t+"Prev").html(e.rup.i18nParse(e.rup.i18n.base,"rup_wizard.prev")).addClass("rup-wizard_prev").unbind("click").click(function(e){i._gotoPrevStep(i,r,e)});if(e("#step"+t+"commands").append(a),r.summaryFnc_INTER&&r.summaryFnc_INTER.call()===!1)return!1;e("#step"+t+" .ui-multiselect").each(function(){var t=e("#"+e(this).prev().attr("id"));if(void 0!==t.data("settings")){var i=t.rup_combo("label");if(i.length>0)if(void 0==t.data("settings").summaryInline)for(var n=e("<div />").addClass("rup-wizard_summaryMultivalue").insertAfter(this),a=0;a<i.length;a++)e(r.labelElement,{text:"- "+i[a],"class":"rup-wizard_summaryValue"}).appendTo(n),e("<br/>").appendTo(n);else e(r.labelElement,{text:i.toString().replace(/,/g,", "),"class":"rup-wizard_summaryValue"}).insertAfter(this);else e(r.labelElement,{html:"&nbsp;","class":"rup-wizard_summaryValue"}).insertAfter(this);e(this).prev().remove(),e(this).remove()}}),e("#step"+t+" input").each(function(){"text"===this.type?e(r.labelElement,{text:this.value,"class":"rup-wizard_summaryValue"}).insertAfter(this):"password"===this.type?e(r.labelElement,{text:i._hidePassword(this.value),"class":"rup-wizard_summaryValue"}).insertAfter(this):"radio"===this.type?(this.checked&&(e(r.labelElement,{text:e("#step"+t+" label[for='"+this.id+"']").text(),"class":"rup-wizard_summaryValue"}).insertAfter(this),e("#"+this.id).attr("checked","checked")),e("#step"+t+" label[for='"+this.id+"']").remove()):"checkbox"===this.type&&(this.checked?e(r.labelElement,{text:"[X] "+e("#step"+t+" label[for='"+this.id+"']").text(),"class":"rup-wizard_summaryValue"}).insertAfter(this):e(r.labelElement,{text:"[ ] "+e("#step"+t+" label[for='"+this.id+"']").text(),"class":"rup-wizard_summaryValue"}).insertAfter(this),e("#step"+t+" label[for='"+this.id+"']").remove()),e(this).remove()}),e("#step"+t+" textarea").each(function(){e(r.textareaElement,{text:e("#"+e(this).attr("id")).val(),"class":"rup-wizard_summaryParagraph"}).insertAfter(this),e(this).remove()}),e("#step"+t+" select:not('.ui-pg-selbox')").each(function(){e(r.labelElement,{text:"&nbsp;"!==e("#"+this.id+" option:selected").text()?e("#"+this.id+" option:selected").text():"","class":"rup-wizard_summaryValue"}).insertAfter(this),e(this).remove()}),e("#step"+t+" label").each(function(){e(r.labelSeparatorElement,{html:r.labelSeparatorText,"class":"rup-wizard_separator"}).insertAfter(this),e(r.labelElement,{text:this.innerHTML,"class":"rup-wizard_summaryLabel"}).insertAfter(this),e(this).remove()}),e("#step"+t+" .ui-accordion").each(function(){e(this).attr("id",e(this).attr("id")+"_summary"),e(this).removeAttr("class"),e(this).children("h1").removeAttr("class"),e(this).children("div").removeAttr("class"),e.isEmptyObject(r.rupAccordion)?e(this).rup_accordion(r.accordion):e(this).rup_accordion(r.rupAccordion)}),e("#step"+t+" .rup_combo").each(function(){e(this).remove()}),e("#step"+t+" img.ui-datepicker-trigger").each(function(){e(this).remove()}),e("#step"+t+" img.ui-timepicker-trigger").each(function(){e(this).remove()});var s=0;if(r.summaryTabs2Accordion&&(r.rupTabsElement="<a />"),e("#step"+t+" > fieldset").children(".rup-tabs_container").each(function(){var n=new Array,a=new Array,o=e(this).parent().attr("accordionable",!0),l=new Array;i._getRupTabs(i,e(this),n,a);for(var d=null,u=e(o),c=0;c<n.length;c++)if(d=e(r.rupTabsElement).text(n[c]),a[c].indexOf("rupRandomLayerId")!==-1){if(d=e(d).wrap("<div class='IE8_fix'>"),d=e(d).parent().append(e(this).find(a[c]).html()),e(d).children("div").addClass("rup-wizard_tabLevel-"+l.length),d=e(d).children().unwrap(),0===e("#"+l[l.length-1]).find(a[c]).length){u=e(o);do{if(l.pop(),e("#"+l[l.length-1]).find(a[c]).length>0){u=e("#subtab_"+l[l.length-1]);break}e(e(d).get(1)).removeAttr("class").addClass("rup-wizard_tabLevel-"+l.length)}while(l.length>0)}e(u).append(d)}else d=e(d).attr("tabContainer",!0),d=e(d).wrap("<div class='IE8_fix'>"),d=e(d).parent().append(e("<div>").attr("id","subtab_"+n[c]).attr("accordionable",!0).addClass("rup-wizard_tabContainerLevel-"+l.length)),d=e(d).children().unwrap(),l.push(n[c]),s++,e(u).append(d),u=e("#subtab_"+n[c]);e("#step"+t+" .rup-table-container").each(function(){var t=e(this);t.fluidWidth({fluidBaseLayer:"#"+t.parent().attr("id")})}),r.summaryTabs2Accordion&&e(o).find("a").each(function(){e(this).hasClass("rup-wizard_prev")||e(this).hasClass("rup-wizard_next")||e(this).wrap("<h1>")}),e(this).remove()}),r.summaryWithAccordion&&(e("#step"+t).find("legend").each(function(t,i){e("<a />").text(i.innerHTML).insertBefore(e(i).parent()).wrap("<h1 />"),e(i).parent().replaceWith(e("<div />").attr("accordionable",void 0!==e(i).parent().attr("accordionable")).append(e(i).parent().children())),e(i).remove()}),e.isEmptyObject(r.summaryAccordion)?e("#step"+t).rup_accordion(r.accordion):e("#step"+t).rup_accordion(r.summaryAccordion),e("<fieldset />").attr("id","commands_fieldset").addClass("commands-fieldset").append(e("#step"+t).find("p[id='step"+t+"commands']")).appendTo(e("#step"+t)),r.summaryWithAccordionSpaceBefore&&e("#step"+t).prepend("</br>"),r.summaryWithAccordionSpaceAfter&&e("#commands_fieldset").prepend("</br>")),r.summaryTabs2Accordion){for(var n=0;n<=s;n++)e(".rup-wizard_tabLevel-"+n).removeClass("rup-wizard_tabLevel-"+n),e(".rup-wizard_tabContainerLevel-"+n).removeClass("rup-wizard_tabContainerLevel-"+n);e("[accordionable=true]").each(function(i,n){if("FIELDSET"===n.nodeName){var a=e(n).find("legend")[0],s=e(n).find("p[id='step"+t+"commands']"),o=e("<div />").attr("accordionable",void 0!==e(n).attr("accordionable")).append(e(n).children());e(n).replaceWith(o),e(a).remove(),e(s).remove(),e.isEmptyObject(r.tabAccordion)?e(o).rup_accordion(r.accordion):e(o).rup_accordion(r.tabAccordion),e(o).prepend(a),e(o).append(e("<fieldset />").append(s))}else e.isEmptyObject(r.tabAccordion)?e(n).rup_accordion(r.accordion):e(n).rup_accordion(r.tabAccordion)})}e("[accordionable]").removeAttr("accordionable"),e("#step"+t).find("p[id$='commands']").append(e(".rup-wizard_submitButton")),e("#step"+t).show(),r.summaryFnc_POST&&r.summaryFnc_POST.call()},_getRupTabs:function(t,i,r,n){e(i).find(".rup-tabs_title").each(function(i,a){e.inArray(a.innerHTML,r)===-1&&(n.push(e(a).parent().attr("href")),r.push(a.innerHTML),n[n.length-1].substring(1)===r[r.length-1]&&t._getRupTabs(t,e("#"+r[r.length-1]),r,n))})},_hidePassword:function(e){for(var t="",i=0;i<e.length;i++)t+="*";return t},_formToWizard:function(t){function i(t){var i="step"+t;e("#"+i+"commands").append("<a id='"+i+"Prev' class='prev'>< Back</a>"),e("#"+i+"Prev").bind("click",function(r){e("#"+i).hide(),e("#step"+(t-1)).show(),e(l).hide(),n(t-1),r.preventDefault()})}function r(t){var i="step"+t;e("#"+i+"commands").append("<a id='"+i+"Next' class='next'>Next ></a>"),e("#"+i+"Next").bind("click",function(r){e("#"+i).hide(),e("#step"+(t+1)).show(),t+2==o&&e(l).show(),n(t+1),r.preventDefault()})}function n(t){e("#steps li").removeClass("current"),e("#stepDesc"+t).addClass("current")}t=e.extend({submitButton:""},t);var a=this,s=e(a).find("fieldset"),o=s.size(),l="#"+t.submitButton;e(l).hide(),e(a).before("<ul id='steps'></ul>"),s.each(function(t){e(this).wrap("<div id='step"+t+"'></div>"),e(this).append("<p id='step"+t+"commands'></p>");var a=e(this).find("legend").html();e("#steps").append("<li id='stepDesc"+t+"'>Step "+(t+1)+"<a>"+a+"</a></li>"),0==t?(r(t),n(t)):t==o-1?(e("#step"+t).hide(),i(t)):(e("#step"+t).hide(),i(t),r(t))})}}),e.fn.rup_wizard.defaults={summary:!0,summaryWithAccordion:!1,summaryWithAccordionSpaceBefore:!0,summaryWithAccordionSpaceAfter:!0,summaryTabs2Accordion:!1,stepFnc:{},accordion:{animated:"bounceslide",active:!1,autoHeight:!1,collapsible:!0},rupAccordion:{},summaryAccordion:{},tabAccordion:{},rupTabsElement:"<h4 />",labelElement:"<span />",labelSeparatorElement:"<span />",labelSeparatorText:"&nbsp;&nbsp;&nbsp;",textareaElement:"<p />"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","handlebars","./templates","jquery-ui/widget","./rup.base","./rup.utils","./rup.message","./rup.dialog"],e):e(jQuery,Handlebars)}(function($,Handlebars){$.widget("rup.widget",{options:{minWidth:4,minHeight:4,defaultWidth:4,defaultHeight:6,title:"Título Widget",buttons:{btnClose:!0,btnReload:!0,btnConfig:!0,btnResizeFull:!0,btnShow:!0,btnInfo:!0},ui:{widgetBody:".widget-body",btnClose:"#widgetClose",btnReload:"#widgetReload",btnConfig:"#widgetConfig",btnResizeFull:"#widgetResizeFull",btnResizeSmall:"#widgetResizeSmall",btnShowHide:"#widgetShow",btnInfo:"#widgetInfo"},configure:{title:"Configuración",requiredByUser:!0,template:null,templateData:{},data:null,script:null,_configuredByUser:!1,_configurationData:null},_hidden:!1},_create:function(){this._preInitializeContainer(),this._initializeContainer(),this._initializeBody()},_preInitializeContainer:function(){},_initializeContainer:function(){var $self=this,$el=$(this.element),options=this.options,ui=options.ui,$ui={},uuid=$self.uuid,template=Rup.Templates.rup.widget.base,infoText="";null!=options&&null!=options.infoText&&(infoText=eval("$.rup.i18n.app."+options.infoText)),$el.append(template($.extend({},options,{uuid:uuid,infoTextNew:infoText}))),$ui={$widgetBody:$el.find(ui.widgetBody),$btnClose:$el.find(ui.btnClose+"-"+uuid),$btnReload:$el.find(ui.btnReload+"-"+uuid),$btnConfig:$el.find(ui.btnConfig+"-"+uuid),$btnResizeFull:$el.find(ui.btnResizeFull+"-"+uuid),$btnResizeSmall:$el.find(ui.btnResizeSmall+"-"+uuid),$btnShowHide:$el.find(ui.btnShowHide+"-"+uuid),$btnInfo:$el.find(ui.btnInfo+"-"+uuid)},$ui.$btnClose.on("click",$.proxy($self.fncBtnCloseClick,$self)),$ui.$btnReload.on("click",$.proxy($self.fncBtnReloadClick,$self)),$ui.$btnResizeFull.on("click",$.proxy($self.fncBtnResizeFullClick,$self)),$ui.$btnResizeSmall.on("click",$.proxy($self.fncBtnResizeSmallClick,$self)),$ui.$btnConfig.on("click",$.proxy($self.fncBtnConfigClick,$self)),$ui.$btnShowHide.on("click",$.proxy($self.fncbtnShowHideClick,$self)),$self.$ui=$ui,$self._configure=$self._configure||{},options.buttons.btnConfig===!0&&null!==$self._configure.template&&($ui.configure=$ui.configure||{},$self._createConfigureDialog()),$ui.$btnInfo.tooltip({html:!0})},_initializeBody:function(){},_createConfigureDialog:function(){var e,t,i,r,n,a=this,s=a.options,o=a.element;a.ui,a.$ui;if(t=a.widgetName+"_"+a.uuid,e=$("<div>").attr("id",t),s.configure.requiredByUser===!0&&s.configure._configuredByUser!==!0&&(a._createConfigRequiredLayer(),a.showConfigRequired()),o.parent().append(e),i=s.configure.template,r=s.configure.templateData,"string"==typeof i){var n=$(i);if(n.length>0){var l=n.html(),d=Handlebars.compile(l);e.append(d(r))}}else"function"==typeof template&&e.append(i(r));e.rup_dialog({type:$.rup.dialog.DIV,autoOpen:!1,modal:!0,resizable:!0,title:"Configuración",buttons:[{text:"Aceptar",click:function(){$view.ui.dialog.dialog("close")}},{text:"Enviar",click:function(){$view.ui.dialog.dialog("close")}},{text:"Cancelar",click:function(){$view.ui.dialog.dialog("close")},btnType:$.rup.dialog.LINK}]}),a.$configDialog=e,a.$ui.configure.$dialog=e,a.$ui.configure.$form=e.find("form"),a.$ui.configure.$form.rup_form({}),null!==a._configure.script&&void 0!==a._configure.script&&a._getScript(a._configure.script).done(function(){$.proxy(callback)(o,a.$configDialog,a._configure.data),delete callback,null!==s.configure._configurationData&&(a.$ui.configure.$form.rup_form("populate",s.configure._configurationData),setTimeout(function(){a.serializeFilter()},2e3)),"undefined"!=typeof a._configure.script.serialize&&$.isFunction(a._configure.script.serialize)&&(a._configure.fncSerializeConfig=a._configure.script.serialize)}),$("#configOk",a.$configDialog).on("click",function(e){function t(){a.options.configure._configurationData=a.serializeConfig(),a.options.configure.requiredByUser===!0&&a.options.configure._configuredByUser!==!0&&(a.hideConfigRequired(),a.options.configure._configuredByUser=!0),o.triggerHandler("widgetConfigured.widget.rup",a.options.configure._configurationData),a.$configDialog.rup_dialog("close")}if(a.$ui.configure.$form.is(".rup-validate")){var i=a.$ui.configure.$form.valid();i===!0&&($.proxy(t,a)(),recalculaTitulo(o,!0),a.serializeFilter())}else $.proxy(t,a)(),recalculaTitulo(o,!0),a.serializeFilter()})},_createConfigRequiredLayer:function(){var $self=this,$el=$(this.element),template=Rup.Templates.rup.widget.configRequired,titulo=$self.options.title,urlConsulta=$self.options.urlConsulta,$html,textoTitle="";null!==titulo&&void 0!==titulo&&""!==titulo&&(textoTitle=$.rup.i18n.app.title.necesario,textoTitle=textoTitle.replace("{0}",titulo));var textoUrlConsulta="";if(null!==urlConsulta&&void 0!==urlConsulta&&""!==urlConsulta){var url=eval("$.rup.i18n.app."+urlConsulta);textoUrlConsulta=$.rup.i18n.app.comons.rupWidget.urlConsulta,textoUrlConsulta=textoUrlConsulta.replace("{0}",url)}$html=$(template({titulo:textoTitle,urlConsulta:textoUrlConsulta})),$el.parent().append($html),$("#btnConfigRequired",$html).on("click",function(){$self.showConfig()}),$("#btnDelete",$html).on("click",function(){$self.close()}),$self._configure.$configRequiredLayer=$html},serializeConfig:function(){var e=this,t=e.$ui.configure.$form;return $.isFunction(e._configure.fncSerializeConfig)?$.proxy(e._configure.fncSerializeConfig,e)(e,e.$ui.configure.$dialog,t):t.rup_form("serialize")},destroy:function(){$.Widget.prototype.destroy.call(this)},minHeight:function(e){this.element.triggerHandler("rup.widget.minHeight",[e])},resize:function(e,t){this.element.triggerHandler("rup.widget.resize",[e,t])},remove:function(){this.destroy(),this.element.triggerHandler("rup.widget.removed")},getOptions:function(){return this.options},getConfigData:function(){return this.options.configure._configurationData},close:function(){var e=this;$.rup_messages("msgConfirm",{title:$.rup.i18n.app.comons.rupWidget.confirmaAccion,message:$.rup.i18n.app.comons.rupWidget.deseaEliminar,OKFunction:function(){e.element.triggerHandler("rup.widget.closed")}})},reload:function(){var e=this,t=$(this.element);t.triggerHandler("widgetConfigured.widget.rup",e.options.configure._configurationData)},showConfig:function(){var e=this,t=$(this.element);this.options;e.$ui.configure.$dialog.rup_dialog("open"),t.triggerHandler("printConfig")},showConfigRequired:function(){var e=this;e._configure.$configRequiredLayer.show(),e.element.addClass("blurred-widget-content")},hideConfigRequired:function(){var e=this;e.element.removeClass("blurred-widget-content"),e._configure.$configRequiredLayer.hide()},showLoading:function(){void 0===this.element.parent().data("rupLoading")?this.element.parent().rup_loading({}):this.element.parent().rup_loading("show")},hideLoading:function(){this.element.parent().rup_loading("hide")},_getScript:function(e,t){this.options;if(void 0!==e)return $.getScript(e).done($.isFunction(t)?t:function(){}).fail(function(e,t,i){})},_setOption:function(e,t){switch(e){case"someValue":}$.Widget.prototype._setOption.apply(this,arguments)},fncBtnCloseClick:function(){this.close()},fncBtnReloadClick:function(){this.reload()},fncBtnResizeFullClick:function(){this.element.parent().addClass("widget-resize-full"),this.element.parent().hasClass("displayNone")&&this.element.parent().removeClass("displayNone").addClass("displayNoneFake"),this.$ui.$btnShowHide.attr("style","display:none;"),this.$ui.$btnClose.attr("style","display:none;")},fncBtnResizeSmallClick:function(){this.element.parent().removeClass("widget-resize-full"),this.element.parent().hasClass("displayNoneFake")&&this.element.parent().removeClass("displayNoneFake").addClass("displayNone"),this.$ui.$btnShowHide.removeAttr("style"),this.$ui.$btnClose.removeAttr("style")},fncBtnConfigClick:function(){this.showConfig()},execDashboard:function(arguments){this.element.triggerHandler("rup.widget.execFunction",arguments)},getDashboardWidgetOptions:function(){return this.element.triggerHandler("rup.widget.getDashboardWidgetOptions")},fncbtnShowHideClick:function(e,t){var i;this.element.parent();this.element.parent().addClass("hidden-content"),this.options._hidden===!1?(i=this.getDashboardWidgetOptions(),this.element.parent().addClass("hidden-content"),this.options._previousMinHeight=i.minHeight,this.options._previousHeight=i.height,this.minHeight(1),this.resize(null,1),this.options._hidden=!0):(this.element.parent().removeClass("hidden-content"),this.minHeight(this.options._previousMinHeight),this.resize(null,this.options._previousHeight),this.options._hidden=!1)},serializeFilter:function(){var e=this,t=e.serializeConfig(),i=e.$ui.configure.$form,r="";for(var n in t){var a="";if(!$('[name="'+n+'"]',i).hasClass("noFeedback")){var s=$('[name="'+n+'"]',i).attr("id"),o=$('[name="'+n+'"]',i).attr("name"),l=$('[for="'+o+'"]',i).html();void 0==l&&(l=$('[for="'+s+'"]',i).html());null!==$('[name="'+n+'"]',i)&&null!==$('[name="'+n+'"]',i).attr("multiple")&&void 0!==$('[name="'+n+'"]',i).attr("multiple")?null!=$('[name="'+n+'"]',i)&&null!=$('[name="'+n+'"]',i).val()&&void 0!=$('[name="'+n+'"]',i).val()&&[]!=$('[name="'+n+'"]',i).val()&&0<$('[name="'+n+'"]',i).val().length&&(valor=$('[name="'+n+'"]',i).val().length,valor=valor+" "+$.rup.i18n.app.comons.rup_combo.seleccionados,a=l+": "+valor):$('[name="'+n+'"]',i).is(":radio")?$('[name="'+n+'"]',i).each(function(){t[n]==$(this).val()&&(valor=$(this).parent().html(),void 0!=valor&&null!=valor&&""!=valor&&(valor=valor.substr(valor.lastIndexOf(">")+1,valor.length).trim()),a=l+": "+valor)}):$('[name="'+n+'"]',i).is(":checkbox")?"on"==t[n]&&(valor=$('[for="'+n+'"]',i).html(),a=valor):"combo"==$('[name="'+n+'"]',i).attr("data-rup-type")?($('[name="'+n+'"]',i).find("option").each(function(){$(this).val()==t[n]&&(valor=$(this).html())}),a=l+": "+valor):null!=$('[name="'+n+'"]',i)&&null!=$('[name="'+n+'"]',i).val()&&void 0!=$('[name="'+n+'"]',i).val()&&""!=$('[name="'+n+'"]',i).val().trim()&&(valor=$('[name="'+n+'"]',i).val(),a=l+": "+valor),""!==a&&(r=r+a+"; ")}}$(".widget-feedback",$($(e.$ui.$widgetBody)[0]).parent()).html("<i>"+r+"</i>")}}),$.widget.bridge("rup_widget",$.rup.widget)}),function(e){"function"==typeof define&&define.amd?define(["jquery","handlebars","jquery-ui/widget","./rup.widget"],e):e(jQuery,Handlebars)}(function(e,t){e.widget("rup.widget_xhr",e.rup.widget,{options:{url:null,ajaxOptions:{}},_initializeBody:function(){var t=this.options,i=(t.template,this);e.ajax(t.url,t.ajaxOptions).done(function(e,t,r){i.$ui.$widgetBody.append(e),console.log("done")}).fail(function(e,t,i){console.log("fail")}).always(function(e,t,i){console.log("always")}).then(function(e,t,i){console.log("then")})}}),e.widget.bridge("rup_widget_xhr",e.rup.widget_xhr)}),function(e){"function"==typeof define&&define.amd?define(["jquery","handlebars","jquery-ui/widget","./rup.widget"],e):e(jQuery,Handlebars)}(function(e,t){e.widget("rup.widget_template",e.rup.widget,{options:{template:null,templateData:null},_initializeBody:function(){var i=this.options,r=i.template;if("string"==typeof r){var n=e(r),a=1===n.length?n.html():r,s=t.compile(a);this.$ui.$widgetBody.append(s(i.templateData))}else"function"==typeof r&&this.$ui.$widgetBody.append(r(i.templateData))}}),e.widget.bridge("rup_widget_template",e.rup.widget_template)}),function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base","jquery-jstree","jquery-hotkeys"],e):e(jQuery)}(function(e){var t={};jQuery.extend(e.rup.iniRup,e.rup.rupSelectorObjectConstructor("rup_tree",t)),jQuery.fn.rup_tree("extend",{getRupValue:function(){var e,t,i=this,r=i.data("settings"),n=i.attr("name");e=jQuery.inArray("checkbox",r.plugins)!==-1?i.rup_tree("get_checked",null,!0):i.rup_tree("get_selected");
var a=jQuery.map(e,function(e,n){var a=jQuery(e);return jQuery.isFunction(r.core.getValue)?jQuery.proxy(r.core.getValue,i)(a,a.data()):(t=a.attr("id"),t?t:a.text())});return r.core.submitAsJSON?jQuery.rup_utils.getRupValueAsJson(n,a):r.core.submitAsString?jQuery.rup_utils.getRupValueWrapped(n,a.toString()):jQuery.rup_utils.getRupValueWrapped(n,a)},setRupValue:function(e){var t,i,r,n,a,s=this,o=s.data("settings");s.rup_tree("uncheck_all"),t=s.get_container_ul().find("li"),a=o.core.readAsString===!0?e.split(","):e,jQuery.each(t,function(e,t){i=jQuery(t),jQuery.isFunction(o.core.getValue)?r=jQuery.proxy(o.core.getValue,s)(i,i.data()):(n=i.attr("id"),r=n?n:i.text()),jQuery.inArray(r,a)!==-1&&s.rup_tree("check_node",t)})},rollback:function(e){jQuery.jstree.rollback(e)},get_container:function(){return e(this).jstree("get_container")},get_container_ul:function(){return e(this).jstree("get_container_ul")},destroy:function(){e(this).jstree("destroy")},refresh:function(t){e(this).jstree("refresh",t)},set_focus:function(){e(this).jstree("set_focus")},unset_focus:function(){e(this).jstree("unset_focus")},is_focused:function(){return e(this).jstree("is_focused")},lock:function(){e(this).jstree("lock")},unlock:function(){e(this).jstree("unlock")},is_locked:function(){return e(this).jstree("is_locked")},get_path:function(t,i){return e(this).jstree("get_path",t,i)},open_node:function(t,i,r){e(this).jstree("open_node",t,i,r)},close_node:function(t,i){e(this).jstree("close_node",t,i)},toggle_node:function(t){return e(this).jstree("toggle_node",t)},open_all:function(t,i){e(this).jstree("open_all",t,i)},close_all:function(t,i){e(this).jstree("close_all",t,i)},is_open:function(t){return e(this).jstree("is_open",t)},is_closed:function(t){return e(this).jstree("is_closed",t)},is_leaf:function(t){return e(this).jstree("is_leaf",t)},get_rollback:function(){return e(this).jstree("get_rollback")},create_node:function(t,i,r,n){return e(this).jstree("create_node",t,i,r,n)},get_text:function(t){return e(this).jstree("get_text",t)},rename_node:function(t,i){e(this).jstree("rename_node",t,i)},delete_node:function(t){e(this).jstree("delete_node",t)},check_move:function(){return e(this).jstree("check_move")},move_node:function(t,i,r,n,a,s){return e(this).jstree("move_node",t,i,r,n,a,s)},get_theme:function(){var t=e(this).jstree("get_theme");return"string"!=typeof t?"rup-default":t},set_theme:function(t,i){if("rup-default"!==t){"rup-default"===e(this).rup_tree("get_theme")&&e(this).removeClass("jstree-rup-default");var r=this.data("settings");r.actualThemeUrl=i,this.data("settings",r),e(this).jstree("set_theme",t,i)}else e(this).jstree("set_theme","rup-default",this.data("settings").actualThemeUrl)},show_dots:function(){e(this).jstree("show_dots")},hide_dots:function(){e(this).jstree("hide_dots")},toggle_dots:function(){e(this).jstree("toggle_dots")},show_icons:function(){e(this).jstree("show_icons")},hide_icons:function(){e(this).jstree("hide_icons")},toggle_icons:function(){e(this).jstree("toggle_icons")},save_selected:function(){e(this).jstree("save_selected")},reselect:function(){e(this).jstree("reselect")},hover_node:function(t){e(this).jstree("hover_node",t)},dehover_node:function(){e(this).jstree("dehover_node")},select_node:function(t,i,r){e(this).jstree("select_node",t,i,r)},deselect_node:function(t){e(this).jstree("deselect_node",t)},toggle_select:function(t){e(this).jstree("toggle_select",t)},deselect_all:function(t){e(this).jstree("deselect_all",t)},get_selected:function(t){return e(this).jstree("get_selected",t)},is_selected:function(t){return e(this).jstree("is_selected",t)},enable_hotkeys:function(){e(this).jstree("enable_hotkeys")},disable_hotkeys:function(){e(this).jstree("disable_hotkeys")},change_state:function(t,i){e(this).jstree("change_state",t,i)},check_node:function(t){e(this).jstree("check_node",t)},uncheck_node:function(t){e(this).jstree("uncheck_node",t)},check_all:function(){e(this).jstree("check_all")},uncheck_all:function(){e(this).jstree("uncheck_all")},is_checked:function(t){return e(this).jstree("is_checked",t)},get_checked:function(t,i){return e(this).jstree("get_checked",t,i)},get_unchecked:function(t,i){return e(this).jstree("is_checked",t,i)},show_checkboxes:function(){e(this).jstree("show_checkboxes")},hide_checkboxes:function(){e(this).jstree("hide_checkboxes")},rename:function(t){e(this).jstree("rename",t)},create:function(t,i,r,n,a){return e(this).jstree("create",t,i,r,n,a)},remove:function(t){e(this).jstree("remove",t)},cut:function(t){e(this).jstree("cut",t)},copy:function(t){e(this).jstree("copy",t)},paste:function(t){e(this).jstree("paste",t)},show_contextmenu:function(t,i,r){e(this).jstree("show_contextmenu",t,i,r)},set_type:function(t,i){e(this).jstree("set_type",t,i)}}),jQuery.fn.rup_tree("extend",{_init:function(t){if(t.length>1)jQuery.rup.errorGestor(jQuery.rup.i18n.base.rup_global.initError+jQuery(this).attr("id"));else{t.length>0&&(t[0].select&&(t[0].ui=t[0].select,delete t[0].select),t[0].jQueryUIStyles&&(t[0].themeroller=t[0].jQueryUIStyles,delete t[0].jQueryUIStyles));var i=jQuery.extend(!0,{},jQuery.fn.rup_tree.defaults,t[0]),r=(this[0],this);if(i.$self=e(this),i.$self.attr("ruptype","tree"),void 0!==i.ui&&i.ui.enable===!1||(i.plugins[i.plugins.length]="ui"),void 0!==i.crrm&&i.crrm.enable===!1||(i.plugins[i.plugins.length]="crrm",r.bind("cut.jstree",e.proxy(function(t,i){e(this).find(".rup_tree_cutNode.ui-state-disabled").removeClass("rup_tree_cutNode ui-state-disabled"),i.args[0].children("a").addClass("rup_tree_cutNode ui-state-disabled")},this)),r.bind("copy.jstree",e.proxy(function(t,i){e(this).find(".rup_tree_cutNode.ui-state-disabled").removeClass("rup_tree_cutNode ui-state-disabled")},this)),r.bind("paste.jstree",e.proxy(function(t,i){e(this).find(".rup_tree_cutNode.ui-state-disabled").removeClass("rup_tree_cutNode ui-state-disabled")},this))),void 0!==i.hotkeys&&i.hotkeys.enable===!1||(i.plugins[i.plugins.length]="hotkeys",void 0!==i.crrm&&i.crrm.enable===!1||(jQuery.jstree.defaults.hotkeys.esc=e.proxy(function(t){"BODY"===t.target.tagName&&(e(this).jstree("cleanCut"),e(this).find(".rup_tree_cutNode.ui-state-disabled").removeClass("rup_tree_cutNode ui-state-disabled"))},this))),r._eventRecollector(i,r),r.addClass("rup_tree"),void 0!==i.xml_data?i.plugins[i.plugins.length]="xml_data":void 0!==i.json_data?i.plugins[i.plugins.length]="json_data":i.plugins[i.plugins.length]="html_data",void 0!==i.contextmenu&&i.contextmenu.enable===!0?i.plugins[i.plugins.length]="contextmenu":delete i.contextmenu,void 0!==i.sort&&(i.sort.enable===!0?(i.plugins[i.plugins.length]="sort",void 0!==i.sort.sortFunction?i.sort=i.sort.sortFunction:delete i.sort):delete i.sort),void 0!==i.checkbox&&i.checkbox.enable===!0?(i.plugins[i.plugins.length]="checkbox",delete i.checkbox.enable):delete i.checkbox,void 0!==i.wholerow&&i.wholerow===!0&&(i.plugins[i.plugins.length]="wholerow"),void 0!==i.unique&&i.unique.enable===!0?(i.plugins[i.plugins.length]="unique",delete i.unique.enable):delete i.unique,void 0!==i.types&&(i.plugins[i.plugins.length]="types",e.rup_utils.aplicatioInPortal()&&this.get_container().bind("loaded.jstree",e.proxy(function(){e(this).jstree("types_portal_css")},this))),void 0!==i.dnd&&i.dnd.enable===!0?(i.plugins[i.plugins.length]="dnd",delete i.dnd.enable):delete i.dnd,void 0!==i.themeroller?i.themeroller.enable===!0?(i.plugins[i.plugins.length]="themeroller",delete i.themeroller.enable):(i.plugins[i.plugins.length]="themes",delete i.themeroller):i.plugins[i.plugins.length]="themes",r.data("settings",i),r.jstree(i),r.bind("loaded.jstree",e.proxy(function(){this.removeClass("rup_tree")},this)),void 0!==i.themeroller||i.themes.theme||(r.addClass("jstree-rup-default"),e(this).jstree("set_theme_data","rup-default")),void 0!==i.contextmenu&&i.contextmenu.enable===!0){if(delete i.contextmenu.enable,void 0!==i.contextmenu.defaultOptions){var n=this.jstree("get_settings").contextmenu.items,a=i.contextmenu.defaultOptions;for(option in a)if(a[option]===!1)n[option]=null;else if("ccp"===option){var s=a.ccp;for(ccpOption in s)s[ccpOption]===!1&&(n.ccp.submenu[ccpOption]=null)}e(this).jstree("set_contextmenu_items",n),delete i.contextmenu.defaultOptions}}else delete i.contextmenu}},_eventRecollector:function(e,t){var i;for(var r in e)i=r.split("_event"),i.length>1&&this.bind(i[0]+".jstree",e[r])}}),jQuery.fn.rup_tree.defaults={plugins:["rup_extend"],actualThemeUrl:"",core:{strings:{loading:e.rup.i18nParse(e.rup.i18n.base,"rup_tree.loading"),new_node:e.rup.i18nParse(e.rup.i18n.base,"rup_tree.new_node")},getValue:void 0,submitAsJSON:!1,submitAsString:!1,readAsString:!1},themes:{theme:""},checkbox:{override_ui:!0},crrm:{input_width_limit:200}},jQuery.jstree.defaults.contextmenu.items.create.label=e.rup.i18nParse(e.rup.i18n.base,"rup_tree.create"),jQuery.jstree.defaults.contextmenu.items.rename.label=e.rup.i18nParse(e.rup.i18n.base,"rup_tree.rename"),jQuery.jstree.defaults.contextmenu.items.remove.label=e.rup.i18nParse(e.rup.i18n.base,"rup_tree.remove"),jQuery.jstree.defaults.contextmenu.items.ccp.label=e.rup.i18nParse(e.rup.i18n.base,"rup_tree.ccp.label"),jQuery.jstree.defaults.contextmenu.items.ccp.submenu.cut.label=e.rup.i18nParse(e.rup.i18n.base,"rup_tree.ccp.cut"),jQuery.jstree.defaults.contextmenu.items.ccp.submenu.copy.label=e.rup.i18nParse(e.rup.i18n.base,"rup_tree.ccp.copy"),jQuery.jstree.defaults.contextmenu.items.ccp.submenu.paste.label=e.rup.i18nParse(e.rup.i18n.base,"rup_tree.ccp.paste"),e.compatibility={hotkeys:{"ctrl+space":function(e){return delete e.target,e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},"shift+space":function(e){return delete e.target,e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1}},rup_extend:{_fn:{cleanCut:function(){this.data.crrm.ct_nodes=!1},set_contextmenu_items:function(e){var t=this.get_settings();t.contextmenu.items=e,this._set_settings(t)},set_theme_data:function(e){this.data.themes.theme=e},types_portal_css:function(){var t=this._get_settings().types,i=t.types,r=t.type_attr,n="",a=this;e.each(i,function(t,i){return e.each(i,function(e,t){/^(max_depth|max_children|icon|valid_children)$/.test(e)||a.data.types.attach_to.push(e)}),!i.icon||void((i.icon.image||i.icon.position)&&(n+="div.r01gContainer ",n+="default"==t?".jstree-"+a.get_index()+" a > .jstree-icon { ":".jstree-"+a.get_index()+" li["+r+'="'+t+'"] > a > .jstree-icon { ',i.icon.image&&(n+=" background-image:url("+i.icon.image+"); "),n+=i.icon.position?" background-position:"+i.icon.position+"; ":" background-position:0 0; ",n+="} "))});var s=e("#jstree-types-stylesheet");void 0!==s&&s.remove(),""!==n&&e.vakata.css.add_sheet({str:n,title:"jstree-porta-types"})}}}},jQuery.extend(jQuery.jstree.defaults.hotkeys,e.compatibility.hotkeys),e.jstree.plugin("rup_extend",e.compatibility.rup_extend)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t){return!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}function i(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var r=e.scrollTo=function(t,i,r){return e(window).scrollTo(t,i,r)};return r.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(n,a,s){"object"==typeof a&&(s=a,a=0),"function"==typeof s&&(s={onAfter:s}),"max"===n&&(n=9e9),s=e.extend({},r.defaults,s),a=a||s.duration;var o=s.queue&&s.axis.length>1;return o&&(a/=2),s.offset=i(s.offset),s.over=i(s.over),this.each(function(){function l(t){var i=e.extend({},s,{queue:!0,duration:a,complete:t&&function(){t.call(c,p,s)}});h.animate(f,i)}if(null!==n){var d,u=t(this),c=u?this.contentWindow||window:this,h=e(c),p=n,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=i(p);break}p=u?e(p):e(p,c);case"object":if(0===p.length)return;(p.is||p.style)&&(d=(p=e(p)).offset())}var g=e.isFunction(s.offset)&&s.offset(c,p)||s.offset;e.each(s.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",n=i.toLowerCase(),a="scroll"+i,m=h[a](),v=r.max(c,t);if(d)f[a]=d[n]+(u?0:m-h.offset()[n]),s.margin&&(f[a]-=parseInt(p.css("margin"+i),10)||0,f[a]-=parseInt(p.css("border"+i+"Width"),10)||0),f[a]+=g[n]||0,s.over[n]&&(f[a]+=p["x"===t?"width":"height"]()*s.over[n]);else{var b=p[n];f[a]=b.slice&&"%"===b.slice(-1)?parseFloat(b)/100*v:b}s.limit&&/^\d+$/.test(f[a])&&(f[a]=f[a]<=0?0:Math.min(f[a],v)),!e&&s.axis.length>1&&(m===f[a]?f={}:o&&(l(s.onAfterFirst),f={}))}),l(s.onAfter)}})},r.max=function(i,r){var n="x"===r?"Width":"Height",a="scroll"+n;if(!t(i))return i[a]-e(i)[n.toLowerCase()]();var s="client"+n,o=i.ownerDocument||i.document,l=o.documentElement,d=o.body;return Math.max(l[a],d[a])-Math.min(l[s],d[s])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var i=this.get(t);if(t.options.interrupt&&t._last&&t._last!==i)return e(t.elem).stop();var r=Math.round(t.now);i!==r&&(e(t.elem)[t.prop](r),t._last=this.get(t))}},r});