<?xml version="1.0" encoding="UTF-8"?>

<configuration>

	<!-- ContextName of aplication -->
	<contextName>xxx</contextName>
	
	<!-- Loaded of the properties file of the application -->
	<property resource="${CONTEXT_NAME}/${CONTEXT_NAME}.properties" />
	
	<!-- Definition of the default appenders -->
 	<!-- appender name="defaultOut" class="ch.qos.logback.core.ConsoleAppender"-->
  	<appender name="defaultOutAppender" class="ch.qos.logback.core.rolling.RollingFileAppender">
    	<File>${log.path}/salidaEstandar_${CONTEXT_NAME}_${weblogic.Name}.log</File>
    	<encoder class="ch.qos.logback.core.encoder.LayoutWrappingEncoder">
    		<layout class="com.ejie.x38.log.LogLayout">
    			<appCode>${CONTEXT_NAME}</appCode>
        		<instance>${weblogic.Name}</instance>	
    		</layout>
    	</encoder>
    	<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
      		<!-- rollover daily -->
     		<fileNamePattern>${log.path}/salidaEstandar_${CONTEXT_NAME}_${weblogic.Name}.%d{yyyy-MM-dd}.%i.log.gz</fileNamePattern>
      		<timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
				<maxFileSize>100MB</maxFileSize>
			</timeBasedFileNamingAndTriggeringPolicy>
      		<!-- 7-day history -->
      		<maxHistory>6</maxHistory>
		</rollingPolicy>
  	</appender>
		
	<!-- Root logger -->
  	<root level="${log.level.salidaEstandar}">
		<appender-ref ref="defaultOutAppender"/>
	</root>
	
</configuration>
